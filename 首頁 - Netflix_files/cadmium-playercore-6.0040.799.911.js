R7xOY[186158]=(function(){var F77=2;for(;F77 !== 9;){switch(F77){case 1:return globalThis;break;case 2:F77=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var q71;try{var w56=2;for(;w56 !== 6;){switch(w56){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x41\u007a\u0064\u0033\u0064',{'\x67\x65\x74':function(){var m_M=2;for(;m_M !== 1;){switch(m_M){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});q71=Azd3d;q71['\x64\x56\x75\x45\x47']=q71;w56=4;break;case 4:w56=typeof dVuEG === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";w56=9;break;case 9:delete q71['\x64\x56\x75\x45\x47'];var H7P=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete H7P['\u0041\x7a\u0064\x33\x64'];w56=6;break;}}}catch(i85){q71=window;}return q71;break;}}})();R7xOY.n0y=function(){return typeof R7xOY[2019].j0d3p1f === 'function'?R7xOY[2019].j0d3p1f.apply(R7xOY[2019],arguments):R7xOY[2019].j0d3p1f;};function R7xOY(){}R7xOY.G5G=function(){return typeof R7xOY[2019].L$q3dyn === 'function'?R7xOY[2019].L$q3dyn.apply(R7xOY[2019],arguments):R7xOY[2019].L$q3dyn;};R7xOY.v$C=function(){return typeof R7xOY[2019].j0d3p1f === 'function'?R7xOY[2019].j0d3p1f.apply(R7xOY[2019],arguments):R7xOY[2019].j0d3p1f;};R7xOY[145003]="NBc";R7xOY[567576]=R7xOY[186158];R7xOY[549545]=R7xOY[186158];R7xOY[208687]=436;R7xOY[2019]=(function(n_t){return {L$q3dyn:function(){var Z76,D8s=arguments;switch(n_t){case 6:Z76=D8s[0] + D8s[1] - D8s[2];break;case 1:Z76=D8s[1] + D8s[2] + D8s[0];break;case 20:Z76=(D8s[1] + D8s[0]) * D8s[2] - D8s[3];break;case 21:Z76=D8s[0] - D8s[1] + D8s[2];break;case 19:Z76=(D8s[1] + D8s[2]) / D8s[4] / D8s[3] - D8s[0];break;case 8:Z76=D8s[0] + D8s[1] - D8s[2] - D8s[3];break;case 16:Z76=D8s[2] * D8s[0] / D8s[1] - D8s[3];break;case 22:Z76=D8s[0] + D8s[3] / D8s[2] * D8s[1];break;case 24:Z76=(D8s[2] / D8s[0] | D8s[1]) * D8s[3];break;case 13:Z76=D8s[1] / D8s[0] - D8s[2];break;case 10:Z76=D8s[0] != D8s[1];break;case 2:Z76=D8s[0] + D8s[1];break;case 7:Z76=D8s[0] + D8s[1] + D8s[2] - D8s[3];break;case 5:Z76=D8s[1] - D8s[0];break;case 23:Z76=D8s[1] / D8s[0] | D8s[2];break;case 25:Z76=(D8s[1] - D8s[3]) / D8s[4] * D8s[0] + D8s[2];break;case 26:Z76=(D8s[0] + D8s[4]) * D8s[2] * D8s[1] - D8s[3];break;case 9:Z76=D8s[0] === D8s[1];break;case 3:Z76=D8s[1] / D8s[0];break;case 18:Z76=D8s[0] + D8s[3] - D8s[1] + D8s[2];break;case 15:Z76=D8s[0] * D8s[1];break;case 11:Z76=(D8s[1] - D8s[0]) * D8s[2];break;case 17:Z76=D8s[1] < D8s[0];break;case 0:Z76=D8s[2] + D8s[3] + D8s[0] + D8s[4] + D8s[1];break;case 12:Z76=(-D8s[0] / D8s[2] - D8s[3]) * D8s[4] + D8s[1];break;case 14:Z76=D8s[4] + D8s[3] - D8s[0] + D8s[1] + D8s[2];break;case 4:Z76=D8s[2] * D8s[1] / D8s[0];break;}return Z76;},j0d3p1f:function(g1D){n_t=g1D;}};})();R7xOY[307992]="K5A";R7xOY[639010]=R7xOY[2019];R7xOY.g6M=function(){return typeof R7xOY[2019].L$q3dyn === 'function'?R7xOY[2019].L$q3dyn.apply(R7xOY[2019],arguments):R7xOY[2019].L$q3dyn;};R7xOY[186158].B7oo=R7xOY;R7xOY[123444]="vwX";R7xOY[355921]="fLC";(function(){(function(pb,Cb){var qc,Bc,Vb,jd,Kb,Mb,$b,ke,le,Tb,Qb,Kc,me,kd,ne,oe,Dd,Ea,Eb,Yc,pe,Ed,fb,vb,Gb,rc,jc,Xb,xb,ac,Ub,$c,Nb,Cc,Pb,dc,ld,sc,oc,pc,md,Fd,qe,Dc,Ec,Mc,Gd,ad,tc,nd,Jc,Hd,re,Rc,Id,Jd,Kd,Ld,uc,Md,Nd,Od,Tc,vc,wc,Uc,od,pd,qd,lc,rf,Wb,Lc,se,rd,xc,te,sf,yc,ue,tf,sd,ve,uf,Xc,we,qf,vf,Pd,td,wf,xf,he,yf,ie,xe,kc,bd,ye,cd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Cd,Fe,zf,Ge,Qd,He,Ie,Je,Rd,Ic,Le,Ke,Bf,ed,Me,Td,fd,Ne,Sd,Oe,Pe,Ud,Re,Se,xd,Nc,Vc,Oc,Te,Ue,Ve,We,Xe,Ye,yd,Cf,Ze,$e,Wd,af,ic,dd,Sc,ud,Fc,zc,vd,Gc,Zc,Qe,bf,gd,cf,Df,hd,df,Ef,Ff,ef,Vd,wd,ff,Hf,Gf,Wc,id,If,ge,Jf,Kf;function ec(ib,gb){if(!gb || "utf-8" === gb)return zd(ib);throw Error("unsupported encoding");}function fc(ib,gb){if(!gb || "utf-8" === gb)return Ad(ib);throw Error("unsupported encoding");}function zd(ib){for(var gb=0,eb,$a=ib.length,mb="";gb < $a;){eb=ib[gb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (ib[gb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((ib[gb++] & 63) << 6) + (ib[gb++] & 63);else throw Error("unsupported character");mb+=String.fromCharCode(eb);}return mb;}function Ad(ib){var gb,eb,$a,mb,ub;gb=ib.length;eb=0;mb=0;for($a=gb;$a--;){ub=ib.charCodeAt($a);128 > ub?eb++:eb=2048 > ub?eb + 2:eb + 3;}eb=new Uint8Array(eb);for($a=0;$a < gb;$a++){ub=ib.charCodeAt($a);128 > ub?eb[mb++]=ub:(2048 > ub?eb[mb++]=192 | ub >>> 6:(eb[mb++]=224 | ub >>> 12,eb[mb++]=128 | ub >>> 6 & 63),eb[mb++]=128 | ub & 63);}return eb;}function gc(ib,gb){if(ib === gb)return !0;if(!ib || !gb || ib.length != gb.length)return !1;for(var eb=0;eb < ib.length;++eb){if(ib[eb] != gb[eb])return !1;}return !0;}function hc(ib){var $a;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var gb=1,eb=0;eb < ib.length;++eb){$a=ib[eb];if("number" !== typeof $a)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + $a);gb=31 * gb + $a & 4294967295;}return gb;}function be(ib,gb){var jb;if(ib === gb)return !0;if(!ib || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var eb=0;eb < gb.length;++eb){for(var $a=gb[eb],mb=!1,ub=0;ub < ib.length;++ub){jb=ib[ub];if($a.equals && "function" === typeof $a.equals && $a.equals(jb) || $a == jb){mb=!0;break;}}if(!mb)return !1;}return !0;}function ce(ib,gb){return be(ib,gb) && (ib.length == gb.length || be(gb,ib));}function Ma(ib,gb,eb){var $a,mb;eb && ($a=eb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{mb=gb.call($a,ib);mb !== Cb && ib.result(mb);}catch(ub){try{ib.error(ub);}catch(jb){}}}function bb(ib,gb,eb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ma(ib,gb,eb);}function S(ib,gb,eb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Bd(ib){switch(ib){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(ib){switch(ib){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(ib){return ib.toJSON();}function ee(ib,gb){id?gb.result(id):Promise.resolve().then(function(){return Pb.getKeyByName(ib);}).catch(function(){return Pb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(eb){id=eb;gb.result(id);}).catch(function(eb){gb.error(new fb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(ib,gb){var eb,$a;eb=gb.masterToken;$a=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:$a && $a.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:gb && gb.length};}function nf(ib){return ib.uniqueKey();}function of(ib,gb,eb,$a,mb){var Oa;function ub(va,na){va.errorCode === Ea.ENTITY_REAUTH || va.errorCode === Ea.ENTITYDATA_REAUTH?($a.clearCryptoContexts(),Ka()):va.errorCode !== Ea.USER_REAUTH && va.errorCode !== Ea.USERDATA_REAUTH || jb(na);}function jb(va){if(va=$a.getUserIdToken(va))($a.removeUserIdToken(va),Ka());}function Aa(va,na,ha){var X;X=[];(function U(){va.read(-1,na,{result:function(ba){Ma(ha,function(){var V,ja,wa,ua,la;if(ba)(X.push(ba),U());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(wa=X.length,ua=0);for(ja=V=0;ja < wa;ja++){V+=X[ja].length;}V=new Uint8Array(V);for(ja=0;ja < wa;ja++){la=X[ja];V.set(la,ua);ua+=la.length;}return V;}});},timeout:function(){ha.timeout();},error:function(ba){ha.error(ba);}});})();}function Ka(){$a.getStoreState({result:function(va){for(var na=Oa.slice(),ha=0;ha < na.length;ha++){na[ha]({storeState:va});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(va){ib.error("Error getting store state","" + va);}});}Oa=[];this.addEventHandler=function(va,na){switch(va){case "shouldpersist":Oa.push(na);}};this.send=function(va){return new Promise(function(na,ha){var X,T,U;X=va.timeout;T=new ge(ib,eb,va,$a.getKeyRequestData());U=new he(va.url);ib.trace("Sending MSL request");gb.request(eb,T,U,X,{result:function(ba){var V;ib.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && Ka();V=ba.getErrorHeader();V?(ub(V,va.profileGuid || va.userId),ha({success:!1,error:V})):Aa(ba,X,{result:function(ja){na({success:!0,body:ec(ja)});},timeout:function(){ha({success:!1,subCode:mb.MSL_READ_TIMEOUT});},error:function(ja){ha({success:!1,error:ja});}});}else ha({success:!1,error:new fb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:mb.MSL_REQUEST_TIMEOUT});},error:function(ba){ha({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!$a.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return $a.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){$a.clearUserIdTokens();Ka();};this.isErrorReauth=function(va){return va && va.errorCode == Ea.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var na,ha;na=$a.getMasterToken();va=$a.getUserIdToken(va);ha=$a.getCryptoContext(na);return {masterToken:na,userIdToken:va,cryptoContext:ha};};this.buildPlayDataRequest=function(va,na){var ha;ha=new ie();gb.request(eb,new ge(ib,eb,va),ha,va.timeout,{result:function(){na.result(ha.getRequest());},error:function(){na.result(ha.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(va,na){$a.rekeyUserIdToken(va,na);Ka();};this.getServiceTokens=function(va){var na;na=$a.getMasterToken();(va=$a.getUserIdToken(va)) && !va.isBoundTo(na) && (va=Cb);return $a.getServiceTokens(na,va);};this.removeServiceToken=function(va){var na;na=$a.getMasterToken();$a.getServiceTokens(na).find(function(ha){return ha.name === va;}) && ($a.removeServiceTokens(va,na),Ka());};}function pf(ib,gb,eb){var ub;function $a(){return Promise.resolve().then(function(){return Pb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return mb(jb.publicKey,jb.privateKey);});}function mb(jb,Aa){return Promise.all([new Promise(function(Ka,Oa){Jc(jb,{result:Ka,error:function(va){Oa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(Ka,Oa){Rc(Aa,{result:Ka,error:function(va){Oa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(Ka){Ka=new Cd("rsaKeypairId",eb,Ka[0],Ka[1]);ub && (Ka.storeData={keyxPublicKey:jb,keyxPrivateKey:Aa});return Ka;});}ub=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Aa;jb=ib.storeState;Aa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return ub && Aa && jb?mb(Aa,jb):$a();}).then(function(jb){var Aa,Ka,Oa;Aa={};Aa[Wb.NONE]=new qf();Ka=new Xc(ib.esn);Oa=[new je()];return {entityAuthFactories:Aa,entityAuthData:Ka,keyExchangeFactories:Oa,keyRequestData:jb,createKeyRequestData:ub?$a:Cb};});}Bc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);jd=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(ib){var gb,eb;gb=(function(){function $a(mb,ub){mb instanceof gb?(this.abv=mb.abv,this.position=mb.position):(this.abv=mb,this.position=ub || 0);}$a.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(mb){this.abv[this.position++]=mb;},peekByte:function(mb){return this.abv[mb];},copyBytes:function(mb,ub,jb){var Aa;Aa=new Uint8Array(this.abv.buffer,this.position,jb);mb=new Uint8Array(mb.buffer,ub,jb);Aa.set(mb);this.position+=jb;},seek:function(mb){this.position=mb;},skip:function(mb){this.position+=mb;},getPosition:function(){return this.position;},setPosition:function(mb){this.position=mb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return $a;})();eb={};(function(){var ba,V,ja,wa,ua,la,sa,za,ma;function $a(Z,da){var ia;da.writeByte(Z.tagClass << 6 | Z.constructed << 5 | Z.tag);ia=Z.payloadLen;if(128 > ia)da.writeByte(ia);else {for(var xa=ia,Ta=0;xa;){++Ta;xa>>=8;}da.writeByte(128 | Ta);for(xa=0;xa < Ta;++xa){da.writeByte(ia >> 8 * (Ta - xa - 1) & 255);}}if(Z.child)for((Z.tag == ba.BIT_STRING && da.writeByte(0),Z=Z._child);Z;){if(!$a(Z,da))return !1;Z=Z.next;}else switch(Z.tag){case ba.INTEGER:Z.backingStore[Z.dataIdx] >> 7 && da.writeByte(0);da.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.BIT_STRING:da.writeByte(0);da.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OCTET_STRING:da.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OBJECT_IDENTIFIER:da.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);}return !0;}function mb(Z){var da,ia;da=Z.readByte();ia=da & 127;if(ia == da)return ia;if(3 < ia || 0 === ia)return -1;for(var xa=da=0;xa < ia;++xa){da=da << 8 | Z.readByte();}return da;}function ub(Z,da,ia){var xa,Ta,La,Sa,Va,qa,ya;xa=Z.backingStore;Ta=new gb(xa,da);da+=ia;ia=Z;if(8 < ua++)return Cb;for(;Ta.getPosition() < da;){Ta.getPosition();Sa=Ta.readByte();if(31 == (Sa & 31)){for(La=0;Sa & 128;){La<<=8;La|=Sa & 127;}Sa=La;}Va=Sa;La=Va & 31;if(0 > La || 30 < La)return Cb;Sa=mb(Ta);if(0 > Sa || Sa > Ta.getRemaining())return Cb;ia.constructed=Va & 32;ia.tagClass=(Va & 192) >> 6;ia.tag=La;ia.dataLen=Sa;ia.dataIdx=Ta.getPosition();La=Ta;qa=Va;Va=Sa;if(qa & 32)La=!0;else if(qa < ba.BIT_STRING || qa > ba.OCTET_STRING)La=!1;else {ya=new gb(La);qa == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?La=!1:(qa=mb(ya),La=ya.getPosition() - La.getPosition() + qa == Va);}La && (La=Ta.getPosition(),Va=Sa,ia.tag == ba.BIT_STRING && (ia.dataIdx++,ia.dataLen--,La++,Va--),ia.child=new V(xa,ia),ub(ia.child,La,Va));ia.tag == ba.INTEGER && (La=Ta.getPosition(),0 == Ta.peekByte(La) && Ta.peekByte(La + 1) >> 7 && (ia.dataIdx++,ia.dataLen--));Ta.skip(Sa);Ta.getPosition() < da && (ia.next=new V(xa,ia.parent),ia=ia.next);}ua--;return Z;}function jb(Z,da,ia){if(9 != ia)return !1;for(ia=0;9 > ia;++ia){if(Z[da++] != la[ia])return !1;}return !0;}function Aa(Z){var da;if(!(Z && Z.child && Z.child.next && Z.child.child && Z.child.next.child))return !1;da=Z.child.child;return jb(da.backingStore,da.dataIdx,da.dataLen) && 2 == Z.nChildren && 2 == Z.child.nChildren && 2 == Z.child.next.child.nChildren?!0:!1;}function Ka(Z){var da;if(!(Z && Z.child && Z.child.next && Z.child.next.child && Z.child.next.next && Z.child.next.next.child))return !1;da=Z.child.next.child;return jb(da.backingStore,da.dataIdx,da.dataLen) && 3 == Z.nChildren && 2 == Z.child.next.nChildren && 9 == Z.child.next.next.child.nChildren?!0:!1;}function Oa(Z){var da,ia;da=ja.createSequenceNode();ia=new wa(da);ia.addChild(ja.createSequenceNode());ia.addChild(ja.createOidNode(la));ia.addSibling(ja.createNullNode());ia.addToParent(da,ja.createBitStringNode(null));ia.addChild(ja.createSequenceNode());ia.addChild(ja.createIntegerNode(Z.n));ia.addSibling(ja.createIntegerNode(Z.e));return da;}function va(Z){var da;Z=Z.child.next.child.child;da=Z.data;Z=Z.next;return new sa(da,Z.data,null,null);}function na(Z){var da,ia;da=ja.createSequenceNode();ia=new wa(da);ia.addChild(ja.createIntegerNode(new Uint8Array([0])));ia.addSibling(ja.createSequenceNode());ia.addChild(ja.createOidNode(la));ia.addSibling(ja.createNullNode());ia.addToParent(da,ja.createOctetStringNode(null));ia.addChild(ja.createSequenceNode());ia.addChild(ja.createIntegerNode(new Uint8Array([0])));ia.addSibling(ja.createIntegerNode(Z.n));ia.addSibling(ja.createIntegerNode(Z.e));ia.addSibling(ja.createIntegerNode(Z.d));ia.addSibling(ja.createIntegerNode(Z.p));ia.addSibling(ja.createIntegerNode(Z.q));ia.addSibling(ja.createIntegerNode(Z.dp));ia.addSibling(ja.createIntegerNode(Z.dq));ia.addSibling(ja.createIntegerNode(Z.qi));return da;}function ha(Z){var da;da=[];Z=Z.child.next.next.child.child.next;for(var ia=0;8 > ia;ia++){da.push(Z.data);Z=Z.next;}return new za(da[0],da[1],da[2],da[3],da[4],da[5],da[6],da[7]);}function X(Z,da,ia,xa){if(!(Z instanceof sa || Z instanceof za))return Cb;if(ia)for(var Ta=0;Ta < ia.length;++Ta){if(-1 == ma.indexOf(ia[Ta]))return Cb;}da={kty:"RSA",alg:da,key_ops:ia || [],ext:xa == Cb?!1:xa,n:Kb(Z.n,!0),e:Kb(Z.e,!0)};Z instanceof za && (da.d=Kb(Z.d,!0),da.p=Kb(Z.p,!0),da.q=Kb(Z.q,!0),da.dp=Kb(Z.dp,!0),da.dq=Kb(Z.dq,!0),da.qi=Kb(Z.qi,!0));return da;}function T(Z){var da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca;if(!Z.kty || "RSA" != Z.kty || !Z.n || !Z.e)return Cb;da=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Z.alg && -1 == da.indexOf(Z.alg))return Cb;da=[];Z.use?"enc" == Z.use?da=["encrypt","decrypt","wrap","unwrap"]:"sig" == Z.use && (da=["sign","verify"]):da=Z.key_ops;ia=Z.ext;xa=Mb(Z.n,!0);Ta=Mb(Z.e,!0);if(Z.d){La=Mb(Z.d,!0);Sa=Mb(Z.p,!0);Va=Mb(Z.q,!0);qa=Mb(Z.dp,!0);ya=Mb(Z.dq,!0);Ca=Mb(Z.qi,!0);return new za(xa,Ta,La,Sa,Va,qa,ya,Ca,Z.alg,da,ia);}return new sa(xa,Ta,ia,da);}function U(Z,da,ia,xa){this.der=Z;this.type=da;this.keyOps=ia;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(Z,da,ia,xa,Ta,La){this._data=Z;this._parent=da || Cb;this._constructed=ia || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Ta || 0;this._dataLen=La || 0;};V.prototype={_child:Cb,_next:Cb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Z) {this._constructed=0 != Z?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Z) {this._tagClass=Z;},get tag() {return this._tag;},set tag(Z) {this._tag=Z;},get dataIdx() {return this._dataIdx;},set dataIdx(Z) {this._dataIdx=Z;},get dataLen() {return this._dataLen;},set dataLen(Z) {this._dataLen=Z;},get child() {return this._child;},set child(Z) {this._child=Z;this._child.parent=this;},get next() {return this._next;},set next(Z) {this._next=Z;},get parent() {return this._parent;},set parent(Z) {this._parent=Z;},get payloadLen() {var Z;Z=0;if(this._child){for(var da=this._child;da;){Z+=da.length;da=da.next;}this._tag == ba.BIT_STRING && Z++;}else switch(this._tag){case ba.INTEGER:Z=this._dataLen;this._data[this._dataIdx] >> 7 && Z++;break;case ba.BIT_STRING:Z=this._dataLen + 1;break;case ba.OCTET_STRING:Z=this._dataLen;break;case ba.NULL:Z=0;break;case ba.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (Z=9);}return Z;},get length() {var Z,da;Z=this.payloadLen;if(127 < Z)for(da=Z;da;){da>>=8;++Z;}return Z + 2;},get der() {var Z,da;Z=this.length;if(!Z)return Cb;Z=new Uint8Array(Z);da=new gb(Z);return $a(this,da)?Z:Cb;},get nChildren() {for(var Z=0,da=this._child;da;){Z++;da=da.next;}return Z;}};ja={createSequenceNode:function(){return new V(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(Z){return new V(Z,null,!1,ba.OBJECT_IDENTIFIER,0,Z?Z.length:0);},createNullNode:function(){return new V(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(Z){return new V(Z,null,!1,ba.BIT_STRING,0,Z?Z.length:0);},createIntegerNode:function(Z){return new V(Z,null,!1,ba.INTEGER,0,Z?Z.length:0);},createOctetStringNode:function(Z){return new V(Z,null,!1,ba.OCTET_STRING,0,Z?Z.length:0);}};wa=function(Z){this._currentNode=this._rootNode=Z;};wa.prototype={addChild:function(Z){this.addTo(this._currentNode,Z);},addSibling:function(Z){this.addTo(this._currentNode.parent,Z);},addTo:function(Z,da){this._currentNode=da;this._currentNode.parent=Z;if(Z.child){for(Z=Z.child;Z.next;){Z=Z.next;}Z.next=da;}else Z.child=da;},addToParent:function(Z,da){this.findNode(Z) && this.addTo(Z,da);},findNode:function(Z){for(var da=this._currentNode;da;){if(Z == da)return !0;da=da.parent;}return !1;}};ua=0;la=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(Z,da,ia,xa){this.n=Z;this.e=da;this.ext=ia;this.keyOps=xa;};za=function(Z,da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca){this.n=Z;this.e=da;this.d=ia;this.p=xa;this.q=Ta;this.dp=La;this.dq=Sa;this.qi=Va;this.alg=qa;this.keyOps=ya;this.ext=Ca;};ma=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");U.prototype.getDer=function(){return this.der;};U.prototype.getType=function(){return this.type;};U.prototype.getKeyOps=function(){return this.keyOps;};U.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(Z){ua=0;return ub(new V(Z),0,Z.length);};eb.show=function(Z,da){};eb.isRsaSpki=Aa;eb.isRsaPkcs8=Ka;eb.NodeFactory=ja;eb.Builder=wa;eb.tagVal=ba;eb.RsaPublicKey=sa;eb.RsaPrivateKey=za;eb.buildRsaSpki=Oa;eb.parseRsaSpki=function(Z){Z=eb.parse(Z);return Aa?va(Z):Cb;};eb.buildRsaPkcs8=na;eb.parseRsaPkcs8=function(Z){Z=eb.parse(Z);return Ka(Z)?ha(Z):Cb;};eb.buildRsaJwk=X;eb.parseRsaJwk=T;eb.RsaDer=U;eb.rsaDerToJwk=function(Z,da,ia,xa){Z=eb.parse(Z);if(!Z)return Cb;if(Aa(Z))Z=va(Z);else if(Ka(Z))Z=ha(Z);else return Cb;return X(Z,da,ia,xa);};eb.jwkToRsaDer=function(Z){var da,ia;Z=T(Z);if(!Z)return Cb;if(Z instanceof sa){da="spki";ia=Oa(Z).der;}else if(Z instanceof za)(da="pkcs8",ia=na(Z).der);else return Cb;return new U(ia,da,Z.keyOps,Z.ext);};eb.webCryptoAlgorithmToJwkAlg=function(Z){return "RSAES-PKCS1-v1_5" == Z.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Z.name?"SHA-256" == Z.hash.name?"RS256":"SHA-384" == Z.hash.name?"RS384":"SHA-512" == Z.hash.name?"RS512":Cb:Cb;};eb.webCryptoUsageToJwkKeyOps=function(Z){return Z.map(function(da){return "wrapKey" == da?"wrap":"unwrapKey" == da?"unwrap":da;});};})();ib.ASN1=eb;})(pb);(function(){for(var ib={},gb={},eb={"=":0,".":0},$a={"=":0,".":0},mb=/\s+/g,ub=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Kb=function(Aa,Ka){for(var Oa="",va=0,na=Aa.length,ha=na - 2,X=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Ka?"":"=";va < ha;){Ka=65536 * Aa[va++] + 256 * Aa[va++] + Aa[va++];Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + X[Ka & 63];}va == ha?(Ka=65536 * Aa[va++] + 256 * Aa[va++],Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + T):va == na - 1 && (Ka=65536 * Aa[va++],Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + T + T);return Oa;};Mb=function(Aa,Ka){Aa=Aa.replace(mb,"");if(Ka && (Ka=Aa.length % 4)){Ka=4 - Ka;for(var Oa=0;Oa < Ka;++Oa){Aa+="=";}}Ka=Aa.length;if(0 != Ka % 4 || !ub.test(Aa))throw Error("bad base64: " + Aa);for(var va=Ka / 4 * 3 - ("=" == Aa[Ka - 1]?1:0) - ("=" == Aa[Ka - 2]?1:0),na=new Uint8Array(va),ha=0,X=0;ha < Ka;){Oa=ib[Aa[ha++]] + gb[Aa[ha++]] + eb[Aa[ha++]] + $a[Aa[ha++]];na[X++]=Oa >>> 16;X < va && (na[X++]=Oa >>> 8 & 255,X < va && (na[X++]=Oa & 255));}return na;};})();$b={};(function(){var ub,jb,Aa,Oa;function ib(va){if(!(this instanceof ib))return new ib(va);for(var na=0,ha=jb.length;na < ha;na++){this[jb[na]]="";}this.bufferCheckPosition=$b.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Aa.BEGIN;this.stack=new ub();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(va,na,ha){if(va[na])va[na](ha);}function eb(va,na){var ha,X;ha=va.opt;X=va.textNode;ha.trim && (X=X.trim());ha.normalize && (X=X.replace(/\s+/g," "));va.textNode=X;va.textNode && gb(va,na?na:"onvalue",va.textNode);va.textNode="";}function $a(va,na){eb(va);na+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;na=Error(na);va.error=na;gb(va,"onerror",na);return va;}function mb(va){va.state !== Aa.VALUE && $a(va,"Unexpected end");eb(va);va.c="";va.closed=!0;gb(va,"onend");ib.call(va,va.opt);return va;}ub=Array;$b.parser=function(va){return new ib(va);};$b.CParser=ib;$b.MAX_BUFFER_LENGTH=65536;$b.DEBUG=!1;$b.INFO=!1;$b.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];$b.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Aa=0;$b.STATE={BEGIN:Aa++,VALUE:Aa++,OPEN_OBJECT:Aa++,CLOSE_OBJECT:Aa++,OPEN_ARRAY:Aa++,CLOSE_ARRAY:Aa++,TEXT_ESCAPE:Aa++,STRING:Aa++,BACKSLASH:Aa++,END:Aa++,OPEN_KEY:Aa++,CLOSE_KEY:Aa++,TRUE:Aa++,TRUE2:Aa++,TRUE3:Aa++,FALSE:Aa++,FALSE2:Aa++,FALSE3:Aa++,FALSE4:Aa++,NULL:Aa++,NULL2:Aa++,NULL3:Aa++,NUMBER_DECIMAL_POINT:Aa++,NUMBER_DIGIT:Aa++};for(var Ka in $b.STATE){$b.STATE[$b.STATE[Ka]]=Ka;}Aa=$b.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Oa=/[\\"\n]/g;ib.prototype={end:function(){mb(this);},write:function(va){var X,T,U;if(this.error)throw this.error;if(this.closed)return $a(this,"Cannot write after close. Assign an onready handler.");if(null === va)return mb(this);for(var na=va[0],ha;na;){ha=na;this.c=na=va.charAt(this.index++);ha !== na?this.p=ha:ha=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Aa.BEGIN:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && $a(this,"Non-whitespace before {[.");continue;case Aa.OPEN_KEY:case Aa.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_KEY)this.stack.push(Aa.CLOSE_KEY);else if("}" === na){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_OBJECT);'"' === na?this.state=Aa.STRING:$a(this,'Malformed object key should start with "');continue;case Aa.CLOSE_KEY:case Aa.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Aa.CLOSE_OBJECT?(this.stack.push(Aa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Aa.VALUE):"}" === na?(eb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Aa.VALUE):"," === na?(this.state === Aa.CLOSE_OBJECT && this.stack.push(Aa.CLOSE_OBJECT),eb(this),this.state=Aa.OPEN_KEY):$a(this,"Bad object");continue;case Aa.OPEN_ARRAY:case Aa.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Aa.VALUE,"]" === na)){gb(this,"onclosearray");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_ARRAY);'"' === na?this.state=Aa.STRING:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"t" === na?this.state=Aa.TRUE:"f" === na?this.state=Aa.FALSE:"n" === na?this.state=Aa.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):$a(this,"Bad value");continue;case Aa.CLOSE_ARRAY:if("," === na)(this.stack.push(Aa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Aa.VALUE);else if("]" === na)(eb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Aa.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else $a(this,"Bad array");continue;case Aa.STRING:ha=this.index - 1;(X=this.slashed,T=this.unicodeI);a:for(;;){if($b.DEBUG)for(;0 < T;){if((this.unicodeS+=na,na=va.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,ha=this.index - 1):T++,!na))break a;}if('"' === na && !X){this.state=this.stack.pop() || Aa.VALUE;(this.textNode+=va.substring(ha,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === na && !X && (X=!0,this.textNode+=va.substring(ha,this.index - 1),na=va.charAt(this.index++),!na))break;if(X)if((X=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(T=1,this.unicodeS=""):this.textNode+=na,na=va.charAt(this.index++),ha=this.index - 1,na))continue;else break;Oa.lastIndex=this.index;U=Oa.exec(va);if(null === U){this.index=va.length + 1;this.textNode+=va.substring(ha,this.index - 1);break;}this.index=U.index + 1;na=va.charAt(U.index);if(!na){this.textNode+=va.substring(ha,this.index - 1);break;}}this.slashed=X;this.unicodeI=T;continue;case Aa.TRUE:if("" === na)continue;"r" === na?this.state=Aa.TRUE2:$a(this,"Invalid true started with t" + na);continue;case Aa.TRUE2:if("" === na)continue;"u" === na?this.state=Aa.TRUE3:$a(this,"Invalid true started with tr" + na);continue;case Aa.TRUE3:if("" === na)continue;"e" === na?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid true started with tru" + na);continue;case Aa.FALSE:if("" === na)continue;"a" === na?this.state=Aa.FALSE2:$a(this,"Invalid false started with f" + na);continue;case Aa.FALSE2:if("" === na)continue;"l" === na?this.state=Aa.FALSE3:$a(this,"Invalid false started with fa" + na);continue;case Aa.FALSE3:if("" === na)continue;"s" === na?this.state=Aa.FALSE4:$a(this,"Invalid false started with fal" + na);continue;case Aa.FALSE4:if("" === na)continue;"e" === na?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid false started with fals" + na);continue;case Aa.NULL:if("" === na)continue;"u" === na?this.state=Aa.NULL2:$a(this,"Invalid null started with n" + na);continue;case Aa.NULL2:if("" === na)continue;"l" === na?this.state=Aa.NULL3:$a(this,"Invalid null started with nu" + na);continue;case Aa.NULL3:if("" === na)continue;"l" === na?(gb(this,"onvalue",null),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid null started with nul" + na);continue;case Aa.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):$a(this,"Leading zero not followed by .");continue;case Aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && $a(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || $a(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== ha && "E" !== ha && $a(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Aa.VALUE);continue;default:$a(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max($b.MAX_BUFFER_LENGTH,10);ha=na=0;for(X=jb.length;ha < X;ha++){T=this[jb[ha]].length;if(T > va)switch(jb[ha]){case "text":break;default:$a(this,"Max buffer length exceeded: " + jb[ha]);}na=Math.max(na,T);}this.bufferCheckPosition=$b.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var $a,mb,ub;function ib(jb,Aa){Aa || (Aa=jb.length);return jb.reduce(function(Ka,Oa,va){return va < Aa?Ka + String.fromCharCode(Oa):Ka;},"");}for(var gb={},eb=0;256 > eb;++eb){$a=ib([eb]);gb[$a]=eb;}mb=Object.keys(gb).length;ub=[];for(eb=0;256 > eb;++eb){ub[eb]=[eb];}ke=function(jb,Aa){var V,ja;function Ka(wa,ua){var la;for(;0 < ua;){if(T >= X.length)return !1;if(ua > U){la=wa;la>>>=ua - U;X[T]|=la & 255;ua-=U;U=8;++T;}else ua <= U && (la=wa,la<<=U - ua,la&=255,la>>>=8 - U,X[T]|=la & 255,U-=ua,ua=0,0 == U && (U=8,++T));}return !0;}for(var Oa in gb){Aa[Oa]=gb[Oa];}for(var va=mb,na=[],ha=8,X=new Uint8Array(jb.length),T=0,U=8,ba=0;ba < jb.length;++ba){V=jb[ba];na.push(V);Oa=ib(na);ja=Aa[Oa];if(!ja){na=ib(na,na.length - 1);if(!Ka(Aa[na],ha))return null;0 != va >> ha && ++ha;Aa[Oa]=va++;na=[V];}}return 0 < na.length && (Oa=ib(na),ja=Aa[Oa],!Ka(ja,ha))?null:X.subarray(0,8 > U?T + 1:T);};le=function(jb){var ba,V;for(var Aa=ub.slice(),Ka=0,Oa=0,va=8,na=new Uint8Array(Math.ceil(1.5 * jb.length)),ha=0,X,T=[];Ka < jb.length && !(8 * (jb.length - Ka) - Oa < va);){for(var U=X=0;U < va;){ba=Math.min(va - U,8 - Oa);V=jb[Ka];V<<=Oa;V&=255;V>>>=8 - ba;U+=ba;Oa+=ba;8 == Oa && (Oa=0,++Ka);X|=(V & 255) << va - U;}U=Aa[X];0 == T.length?++va:(U?T.push(U[0]):T.push(T[0]),Aa[Aa.length]=T,T=[],Aa.length == 1 << va && ++va,U || (U=Aa[X]));X=ha + U.length;X >= na.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(na),na=ba);na.set(U,ha);ha=X;T=T.concat(U);}return na.subarray(0,ha);};})();(function(){var ib,gb,eb;Tb="utf-8";Qb=9007199254740992;ib=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function($a){for(var mb=[ib.GZIP,ib.LZW],ub=0;ub < mb.length && 0 < $a.length;++ub){for(var jb=mb[ub],Aa=0;Aa < $a.length;++Aa){if($a[Aa] == jb)return jb;}}return null;};gb=kd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(kd);ne=function($a){return gb.AES_CBC_PKCS5Padding == $a?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == $a?gb.RSA_ECB_PKCS1Padding:gb[$a];};eb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Dd=function($a){return eb[$a];};Ea={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ea);})();Eb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,gb,eb,$a,mb,ub,jb,Aa;ib=arguments[0];gb=1;eb=arguments.length;$a=!1;"boolean" === typeof ib && ($a=ib,ib=arguments[1],gb=2);for(;gb < eb;gb++){if(null != (mb=arguments[gb]))for(ub in mb){if(!($a && (ub in ib))){jb=mb[ub];if(ib !== jb && jb !== Cb){Aa=ib[ub];ib[ub]=null !== Aa && null !== jb && "object" === typeof Aa && "object" === typeof jb?Eb.extendDeep($a,{},Aa,jb):jb;}}}}return ib;}};(function(){var jb,Aa;function ib(Ka,Oa){return function(){var va,na;va=Ka.base;Ka.base=Oa;na=Ka.apply(this,arguments);Ka.base=va;return na;};}function gb(Ka,Oa,va){var na,ha,X,T;va=va || Aa;ha=!!va.extendAll;for(na in Oa){X=Oa.__lookupGetter__(na);T=Oa.__lookupSetter__(na);X || T?(X && Ka.__defineGetter__(na,X),T && Ka.__defineSetter__(na,T)):(X=Oa[na],T=Ka[na],"function" === typeof X && "function" === typeof T && X !== T?(X.base !== Function.prototype.base && (X=ib(X,T)),X.base=T):(ha || va[na]) && Eb.isObjectLiteral(X) && Eb.isObjectLiteral(T) && (X=Eb.extendDeep({},T,X)),Ka[na]=X);}}function eb(){var Ka,Oa;Ka=Array.prototype.slice;Oa=Ka.call(arguments,1);return this.extend({init:function na(){var ha;ha=Ka.call(arguments,0);na.base.apply(this,Oa.concat(ha));}});}function $a(Ka,Oa){var va;va=new this(jb);gb(va,Ka,Oa);return ub(va);}function mb(Ka,Oa){gb(this.prototype,Ka,Oa);return this;}function ub(Ka){var Oa;Oa=function(){var va;va=this.init;va && arguments[0] !== jb && va.apply(this,arguments);};Ka && (Oa.prototype=Ka);Oa.prototype.constructor=Oa;Oa.extend=$a;Oa.bind=eb;Oa.mixin=mb;return Oa;}jb={};Aa={actions:!0};Function.prototype.base=function(){};Eb.Class={create:ub,mixin:gb,extend:function(Ka,Oa){var va;va=ub();va.prototype=new Ka();return va.extend(Oa);}};Eb.mixin=function(){Eb.log && Eb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var jb,Aa,Ka;function ib(Oa,va){return function(){var na,ha;na=Oa.base;Oa.base=va;ha=Oa.apply(this,arguments);Oa.base=na;return ha;};}function gb(Oa,va,na){var ha,X,T,U;na=na || Aa;X=!!na.extendAll;for(ha in va){T=va.__lookupGetter__(ha);U=va.__lookupSetter__(ha);T || U?(T && Oa.__defineGetter__(ha,T),U && Oa.__defineSetter__(ha,U)):(T=va[ha],U=Oa[ha],"function" === typeof T && "function" === typeof U && T !== U?(T.base !== Ka && (T=ib(T,U)),T.base=U):(X || na[ha]) && Eb.isObjectLiteral(T) && Eb.isObjectLiteral(U) && (T=Eb.extendDeep({},U,T)),Oa[ha]=T);}}function eb(){var Oa,va;Oa=Array.prototype.slice;va=Oa.call(arguments,1);return this.extend({init:function ha(){var X;X=Oa.call(arguments,0);ha.base.apply(this,va.concat(X));}});}function $a(Oa,va){var na;na=new this(jb);gb(na,Oa,va);return ub(na);}function mb(Oa,va){gb(this.prototype,Oa,va);return this;}function ub(Oa){var va;va=function(){var na;na=this.init;na && arguments[0] !== jb && na.apply(this,arguments);};Oa && (va.prototype=Oa);va.prototype.constructor=va;va.extend=$a;va.bind=eb;va.mixin=mb;return va;}jb={};Aa={actions:!0};Ka=function(){};Function.prototype.base=Ka;Eb.Class={create:ub,mixin:gb,extend:function(Oa,va){var na;na=ub();na.prototype=new Oa();return na.extend(va);}};Eb.mixin=function(){Eb.log && Eb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function ib(eb){return eb == Qb?1:eb + 1;}function gb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var $a=ib(eb._nextWaiter);!eb._waiters[$a];){$a=ib($a);}return $a;}Yc=Eb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var $a;if(this._waiters[eb]){$a=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=gb(this));$a.call(this,Cb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,$a){var mb,ub;mb=this;ub=ib(this._lastWaiter);this._lastWaiter=ub;bb($a,function(){var jb,Aa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){$a.result(jb);},0);}else {-1 != eb && (Aa=setTimeout(function(){delete mb._waiters[ub];ub == mb._nextWaiter && (mb._nextWaiter=gb(mb));$a.timeout();},eb));this._waiters[ub]=function(Ka){clearTimeout(Aa);setTimeout(function(){$a.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=ub);}},mb);return ub;},add:function(eb){var $a;if(this._nextWaiter){$a=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);$a.call(this,eb);}else this._queue.push(eb);}});})();(function(){var ib;ib=0 - Qb;pe=Eb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Bc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var eb;if(null !== gb && gb !== Cb){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;eb=new Uint8Array(4);Bc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Bc.getRandomValues(gb);eb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var gb=ib;gb == ib;){gb=new Uint8Array(7);Bc.getRandomValues(gb);eb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-eb - 1:eb;}return gb;},nextBytes:function(gb){Bc.getRandomValues(gb);}});})();(function(){function ib($a){return $a == Qb?1:$a + 1;}function gb($a){if(0 === Object.keys($a._waitingReaders).length)return 0;for(var mb=ib($a._nextReader);!$a._waitingReaders[mb];){mb=ib(mb);}return mb;}function eb($a){if(0 === Object.keys($a._waitingWriters).length)return 0;for(var mb=ib($a._nextWriter);!$a._waitingWriters[mb];){mb=ib(mb);}return mb;}Ed=Eb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function($a){var mb;if(this._waitingReaders[$a]){mb=this._waitingReaders[$a];delete this._waitingReaders[$a];$a == this._nextReader && (this._nextReader=gb(this));mb.call(this,!0);}this._waitingWriters[$a] && (mb=this._waitingWriters[$a],delete this._waitingWriters[$a],$a == this._nextWriter && (this._nextWriter=eb(this)),mb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function($a,mb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;bb(mb,function(){var Aa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != $a && (Aa=setTimeout(function(){delete ub._waitingReaders[jb];jb == ub._nextReader && (ub._nextReader=gb(ub));mb.timeout();},$a));this._waitingReaders[jb]=function(Ka){clearTimeout(Aa);Ka?setTimeout(function(){mb.result(Cb);},0):(ub._readers[jb]=!0,setTimeout(function(){mb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},ub);return jb;},writeLock:function($a,mb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;bb(mb,function(){var Aa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != $a && (Aa=setTimeout(function(){delete ub._waitingWriters[jb];jb == ub._nextWriter && (ub._nextWriter=eb(ub));mb.timeout();},$a));this._waitingWriters[jb]=function(Ka){clearTimeout(Aa);Ka?setTimeout(function(){mb.result(Cb);},0):(ub._writer=jb,setTimeout(function(){mb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},ub);return jb;},unlock:function($a){if($a == this._writer)this._writer=null;else {if(!this._readers[$a])throw new xb("There is no reader or writer with ticket number " + $a + ".");delete this._readers[$a];}if(this._nextWriter)0 < Object.keys(this._readers).length || ($a=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),$a.call(this,!1));else {for(var mb=this._nextReader;0 < Object.keys(this._waitingReaders).length;mb=ib(mb)){this._waitingReaders[mb] && ($a=this._waitingReaders[mb],delete this._waitingReaders[mb],$a.call(this,!1));}this._nextReader=0;}}});})();Eb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ea.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ea.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ea.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ea.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ea.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ea.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ea.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ea.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ea.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ea.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ea.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ea.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ea.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ea.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ea.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ea.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ea.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ea.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ea.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ea.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ea.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ea.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ea.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ea.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ea.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ea.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ea.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ea.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ea.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ea.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ea.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ea.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ea.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ea.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ea.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ea.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ea.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ea.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ea.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ea.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ea.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ea.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ea.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ea.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ea.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ea.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ea.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ea.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ea.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ea.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ea.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ea.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ea.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ea.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ea.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ea.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ea.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ea.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ea.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ea.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ea.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ea.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ea.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ea.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ea.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ea.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ea.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ea.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ea.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ea.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ea.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ea.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ea.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ea.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ea.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ea.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ea.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ea.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ea.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ea.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ea.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ea.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ea.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ea.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ea.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ea.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ea.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ea.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ea.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ea.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ea.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ea.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ea.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ea.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ea.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ea.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ea.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ea.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ea.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ea.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ea.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ea.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ea.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ea.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ea.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ea.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ea.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ea.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ea.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ea.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ea.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ea.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ea.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ea.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ea.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ea.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ea.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ea.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ea.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ea.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ea.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ea.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ea.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ea.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ea.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ea.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ea.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ea.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ea.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ea.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ea.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ea.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ea.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ea.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ea.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ea.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ea.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ea.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ea.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ea.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ea.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ea.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ea.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ea.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ea.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ea.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ea.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ea.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ea.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ea.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ea.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ea.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ea.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ea.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ea.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ea.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ea.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ea.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ea.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ea.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ea.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ea.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ea.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ea.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ea.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ea.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ea.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ea.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ea.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ea.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ea.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ea.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ea.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ea.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ea.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ea.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ea.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ea.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ea.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ea.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ea.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ea.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ea.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ea.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ea.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ea.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ea.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ea.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ea.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ea.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ea.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ea.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ea.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ea.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ea.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ea.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ea.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ea.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ea.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ea.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ea.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ea.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ea.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ea.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ea.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ea.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ea.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ea.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ea.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ea.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ea.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ea.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ea.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ea.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ea.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ea.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ea.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ea.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ea.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ea.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ea.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ea.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ea.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ea.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ea.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ea.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ea.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ea.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ea.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ea.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ea.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ea.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ea.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ea.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ea.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ea.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ea.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ea.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ea.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ea.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ea.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ea.FAIL,"Special unit test error.")});Object.freeze(S);(function(){fb=Eb.Class.create(Error());fb.mixin({init:function(ib,gb,eb){var mb,ub,jb;function $a(){return ub?ub:this.cause && this.cause instanceof fb?this.cause.messageId:Cb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);mb=ib.message;gb && (mb+=" [" + gb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:mb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:$a,set:function(Aa){if(0 > Aa || Aa > Qb)throw new RangeError("Message ID " + Aa + " is outside the valid range.");$a() || (ub=Aa);},configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);eb && eb.stack && (Aa+="\nCaused by " + eb.stack);return Aa;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof ic?this.masterToken=ib:ib instanceof Lc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof Sc?this.userIdToken=ib:ib instanceof Zc && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();vb=fb.extend({init:function mb(gb,eb,$a){mb.base.call(this,gb,eb,$a);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Gb=fb.extend({init:function ub(eb,$a,mb){ub.base.call(this,eb,$a,mb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=fb.extend({init:function jb($a,mb,ub){jb.base.call(this,$a,mb,ub);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Eb.Class.create(Error());jc.mixin({init:function($a,mb,ub){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},requestCause:{value:ub,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);mb && mb.stack && (Aa+="\nCaused by " + mb.stack);return Aa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Xb=Eb.Class.create(Error());Xb.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){xb=Eb.Class.create(Error());xb.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ac=Eb.Class.create(Error());ac.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=fb.extend({init:function Aa(mb,ub,jb){Aa.base.call(this,mb,ub,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});$c=fb.extend({init:function Aa(ub,jb){Aa.base.call(this,ub);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Nb=fb.extend({init:function Oa(jb,Aa,Ka){Oa.base.call(this,jb,Aa,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=fb.extend({init:function va(Aa,Ka,Oa){va.base.call(this,Aa,Ka,Oa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Aa(ha){return "undefined" === typeof ha?!1:ha;}function Ka(ha){return ha && ha.length?(dc === na.V2014_02 && (ha=ha.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),ha):dc === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Oa(ha,X,T,U,ba){return Promise.resolve().then(function(){return Vb.importKey(ha,X,T,U,ba);}).catch(function(V){var ja;if("spki" !== ha && "pkcs8" !== ha)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(T);ja=ASN1.webCryptoUsageToJwkKeyOps(ba);V=ASN1.rsaDerToJwk(X,V,ja,U);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Vb.importKey("jwk",Ad(V),T,U,ba);});}function va(ha,X){return Promise.resolve().then(function(){return Vb.exportKey(ha,X);}).catch(function(T){if("spki" !== ha && "pkcs8" !== ha)throw T;return Vb.exportKey("jwk",X).then(function(U){U=JSON.parse(zd(new Uint8Array(U)));U=ASN1.jwkToRsaDer(U);if(!U)throw Error("Could not make valid DER from JWK input");return U.getDer().buffer;});});}na=ld={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ld);dc=na.LATEST;Pb={encrypt:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.encrypt(ha,X,T);V.oncomplete=function(ja){U(ja.target.result);};V.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.encrypt(ha,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.decrypt(ha,X,T);V.oncomplete=function(ja){U(ja.target.result);};V.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.decrypt(ha,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.sign(ha,X,T);V.oncomplete=function(ja){U(ja.target.result);};V.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.sign(ha,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,X,T,U){switch(dc){case na.LEGACY:return new Promise(function(ba,V){var ja;ja=Vb.verify(ha,X,T,U);ja.oncomplete=function(wa){ba(wa.target.result);};ja.onerror=function(wa){V(wa);};});case na.V2014_01:case na.V2014_02:return Vb.verify(ha,X,T,U);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,X){switch(dc){case na.LEGACY:return new Promise(function(T,U){var ba;ba=Vb.digest(ha,X);ba.oncomplete=function(V){T(V.target.result);};ba.onerror=function(V){U(V);};});case na.V2014_01:case na.V2014_02:return Vb.digest(ha,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,X,T){var U,ba;U=Aa(X);ba=Ka(T);switch(dc){case na.LEGACY:return new Promise(function(V,ja){var wa;wa=Vb.generateKey(ha,U,ba);wa.oncomplete=function(ua){V(ua.target.result);};wa.onerror=function(ua){ja(ua);};});case na.V2014_01:case na.V2014_02:return Vb.generateKey(ha,U,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,X,T,U,ba){var V,ja;V=Aa(U);ja=Ka(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var la;la=Vb.deriveKey(ha,X,T,V,ja);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Vb.deriveKey(ha,X,T,V,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,X,T,U,ba){var V,ja;V=Aa(U);ja=Ka(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var la;la=Vb.importKey(ha,X,T,V,ja);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Oa(ha,X,T,V,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,X){switch(dc){case na.LEGACY:return new Promise(function(T,U){var ba;ba=Vb.exportKey(ha,X);ba.oncomplete=function(V){T(V.target.result);};ba.onerror=function(V){U(V);};});case na.V2014_01:case na.V2014_02:return va(ha,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,X,T,U){switch(dc){case na.LEGACY:return new Promise(function(ba,V){var ja;ja=Vb.wrapKey(X,T,U);ja.oncomplete=function(wa){ba(wa.target.result);};ja.onerror=function(wa){V(wa);};});case na.V2014_01:case na.V2014_02:return Vb.wrapKey(ha,X,T,U).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,X,T,U,ba,V,ja){switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var la;la=Vb.unwrapKey(X,ba,T);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Vb.unwrapKey(ha,X,T,U,ba,Aa(V),Ka(ja));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};jd && jd.getKeyByName && (Pb.getKeyByName=function(ha){switch(dc){case na.LEGACY:return new Promise(function(X,T){var U;U=jd.getKeyByName(ha);U.oncomplete=function(ba){X(ba.target.result);};U.onerror=function(ba){T(ba);};});case na.V2014_01:case na.V2014_02:return jd.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Pb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};md={name:"RSA-OAEP",hash:{name:"SHA-1"}};Fd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Gd=Eb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){var X;X=ha?Kb(ha):Cb;Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa)throw new vb(S.INVALID_SYMMETRIC_KEY);!Oa && Aa.extractable?Pb.exportKey("raw",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"raw"));}):va(Oa);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});ad=function(Aa,Ka){new Gd(Aa,Ka);};tc=function(Aa,Ka,Oa,va){Ma(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + Aa,na);}Pb.importKey("raw",Aa,Ka,!0,Oa).then(function(na){new Gd(na,va,Aa);},function(na){va.error(new vb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){nd=Eb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa || "public" != Aa.type)throw new TypeError("Only original public crypto keys are supported.");!Oa && Aa.extractable?Pb.exportKey("spki",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"spki"));}):va(Oa);});},getEncoded:function(){return this.encoded;}});Jc=function(Aa,Ka){new nd(Aa,Ka);};Hd=function(Aa,Ka,Oa,va){Ma(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new vb(S.INVALID_PUBLIC_KEY,"spki " + Aa,na);}Pb.importKey("spki",Aa,Ka,!0,Oa).then(function(na){new nd(na,va,Aa);},function(na){va.error(new vb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Eb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa || "private" != Aa.type)throw new TypeError("Only original private crypto keys are supported.");!Oa && Aa.extractable?Pb.exportKey("pkcs8",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"pkcs8"));}):va(Oa);});},getEncoded:function(){return this.encoded;}});Rc=function(Aa,Ka){new re(Aa,Ka);};})();(function(){var Aa;Aa=Ld={V1:1,V2:2};Id=Eb.Class.create({init:function(Ka,Oa,va,na){Ma(na,function(){var ha,X,T,U;ha=Aa.V1;X=Ka;T=null;for(U in kd){if(kd[U] == Ka){ha=Aa.V2;X=null;T=Ka;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Oa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Aa.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);Ka.sha256="AA==";break;case Aa.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);break;default:throw new xb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Jd=function(Ka,Oa,va,na){new Id(Ka,Oa,va,na);};Kd=function(Ka,Oa,va){Ma(va,function(){var na,ha,X,T,U,ba,V;na=Ka.keyid;ha=Ka.cipherspec;X=Ka.iv;T=Ka.ciphertext;U=Ka.sha256;if(!Oa)if((Oa=Ka.version) && "number" === typeof Oa && Oa === Oa){ba=!1;for(V in Aa){if(Aa[V] == Oa){ba=!0;break;}}if(!ba)throw new vb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Oa=Aa.V1;switch(Oa){case Aa.V1:if("string" !== typeof na || X && "string" !== typeof X || "string" !== typeof T || "string" !== typeof U)throw new Gb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Aa.V2:V=Ka.version;if(V != Aa.V2)throw new vb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ha || X && "string" !== typeof X || "string" !== typeof T)throw new Gb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ha=ne(ha);if(!ha)throw new vb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));na=ha;break;default:throw new vb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{X && (X=Mb(X));T=Mb(T);}catch(ja){throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ja);}new Id(na,X,T,va);});};})();(function(){var Aa;Aa=Od={V1:1,V2:2};uc=Eb.Class.create({init:function(Ka,Oa,va){var na;switch(Ka){case Aa.V1:na=va;break;case Aa.V2:na={};na.version=Ka;na.algorithm=Oa;na.signature=Kb(va);na=fc(JSON.stringify(na),Tb);break;default:throw new xb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Oa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Md=function(){var Ka,Oa,va,na;if(2 == arguments.length){Ka=Aa.V1;Oa=arguments[0];va=null;na=arguments[1];}else 3 == arguments.length && (Ka=Aa.V2,va=arguments[0],Oa=arguments[1],na=arguments[2]);Ma(na,function(){return new uc(Ka,va,Oa);});};Nd=function(Ka,Oa,va){Ma(va,function(){var na,ha,X,T,U,ba,V;if(Oa)switch(Oa){case Aa.V1:return new uc(Aa.V1,null,Ka);case Aa.V2:try{na=ec(Ka,Tb);ha=JSON.parse(na);X=parseInt(ha.version);T=ha.algorithm;U=ha.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof T || "string" !== typeof U)throw new Gb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka));if(Aa.V2 != X)throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));ba=Dd(T);if(!ba)throw new vb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Kb(Ka));V=Mb(U);if(!V)throw new vb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Aa.V2,ba,V);}catch(ja){if(ja instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka),ja);throw ja;}default:throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));}try{na=ec(Ka,Tb);ha=JSON.parse(na);}catch(ja){ha=null;}if(ha && ha.version){if((na=ha.version,"number" !== typeof na || na !== na))na=Aa.V1;}else na=Aa.V1;switch(na){case Aa.V1:return new uc(na,null,Ka);case Aa.V2:ba=ha.algorithm;U=ha.signature;if("string" !== typeof ba || "string" !== typeof U)return new uc(Aa.V1,null,Ka);ba=Dd(ba);if(!ba)return new uc(Aa.V1,null,Ka);try{V=Mb(U);}catch(ja){return new uc(Aa.V1,null,Ka);}return new uc(na,ba,V);default:throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Tc=Eb.Class.create({encrypt:function(Aa,Ka){},decrypt:function(Aa,Ka){},wrap:function(Aa,Ka){},unwrap:function(Aa,Ka,Oa,va){},sign:function(Aa,Ka){},verify:function(Aa,Ka,Oa){}});(function(){var Aa;Aa=wc={RSA_OAEP:md.name,A128KW:sc.name};qc="A128GCM";vc=Eb.Class.create({init:function(Ka,Oa,va,na,ha){switch(Oa){case Aa.RSA_OAEP:ha=ha && (ha.rawKey || ha);na=na && (na.rawKey || na);break;case Aa.A128KW:ha=na=na && (na.rawKey || na);break;default:throw new xb("Unsupported algorithm: " + Oa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Oa){Oa.error(new vb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Oa){Oa.error(new vb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Oa){Ma(Oa,function(){Pb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Oa.result(va);},function(va){Oa.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Oa,va,na){function ha(X){Ma(na,function(){switch(X.type){case "secret":ad(X,na);break;case "public":Jc(X,na);break;case "private":Rc(X,na);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Ma(na,function(){Pb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Oa,!1,va).then(function(X){ha(X);},function(){na.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Oa){Oa.error(new vb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Oa,va){va.error(new vb(S.VERIFY_NOT_SUPPORTED));}});})();Uc=Tc.extend({encrypt:function(Aa,Ka){Ka.result(Aa);},decrypt:function(Aa,Ka){Ka.result(Aa);},wrap:function(Aa,Ka){Ka.result(Aa);},unwrap:function(Aa,Ka,Oa,va){va.result(Aa);},sign:function(Aa,Ka){Ka.result(new Uint8Array(0));},verify:function(Aa,Ka,Oa){Oa.result(!0);}});(function(){var Aa;Aa=pd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};od=Tc.extend({init:function T(Oa,va,na,ha,X){T.base.call(this);na && (na=na.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Aa.ENCRYPT_DECRYPT_PKCS1?Fd:X == Aa.ENCRYPT_DECRYPT_OAEP?md:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Aa.WRAP_UNWRAP_PKCS1?Fd:X == Aa.WRAP_UNWRAP_OAEP?md:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Aa.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,va){var na;na=this;Ma(va,function(){if("nullOp" == this.transform)return Oa;if(!this.publicKey)throw new vb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Oa.length)return Oa;Pb.encrypt(na.transform,na.publicKey,Oa).then(function(ha){Jd(na.id,null,ha,{result:function(X){var T;try{T=JSON.stringify(X);va.result(fc(T,Tb));}catch(U){va.error(new vb(S.ENCRYPT_ERROR,null,U));}},error:function(X){X instanceof fb || (X=new vb(S.ENCRYPT_ERROR,null,X));va.error(X);}});},function(ha){va.error(new vb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Oa,va){var na;na=this;Ma(va,function(){var ha,X;if("nullOp" == this.transform)return Oa;if(!this.privateKey)throw new vb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Oa.length)return Oa;try{ha=ec(Oa,Tb);X=JSON.parse(ha);}catch(T){if(T instanceof SyntaxError)throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new vb(S.DECRYPT_ERROR,null,T);}Kd(X,Ld.V1,{result:function(T){var U;try{if(T.keyId != na.id)throw new vb(S.ENVELOPE_KEY_ID_MISMATCH);U=va.result;Pb.decrypt(na.transform,na.privateKey,T.ciphertext).then(U,function(ba){va.error(new vb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof fb?va.error(ba):va.error(new vb(S.DECRYPT_ERROR,null,ba));}},error:function(T){T instanceof Gb && (T=new vb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof fb || (T=new vb(S.DECRYPT_ERROR,null,T));va.error(T);}});},this);},wrap:function(Oa,va){Ma(va,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new vb(S.WRAP_NOT_SUPPORTED,"no public key");na=va.result;Pb.wrapKey("jwk",Oa.rawKey,this.publicKey,this.wrapTransform).then(na,function(ha){va.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Oa,va,na,ha){function X(T){Ma(ha,function(){switch(T.type){case "secret":ad(T,ha);break;case "public":Jc(T,ha);break;case "private":Rc(T,ha);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Ma(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new vb(S.UNWRAP_NOT_SUPPORTED,"no private key");Pb.unwrapKey("jwk",Oa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,na).then(X,function(T){ha.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Oa,va){Ma(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new vb(S.SIGN_NOT_SUPPORTED,"no private key");Pb.sign(this.algo,this.privateKey,Oa).then(function(na){Md(na,{result:function(ha){va.result(ha.bytes);},error:va.error});},function(na){va.error(new vb(S.SIGNATURE_ERROR));});},this);},verify:function(Oa,va,na){var ha;ha=this;Ma(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new vb(S.VERIFY_NOT_SUPPORTED,"no public key");Nd(va,Od.V1,{result:function(X){Ma(na,function(){var T;T=na.result;Pb.verify(this.algo,this.publicKey,X.signature,Oa).then(T,function(U){na.error(new vb(S.SIGNATURE_ERROR));});},ha);},error:na.error});},this);}});})();(function(){qd=Tc.extend({init:function X(Ka,Oa,va,na,ha){X.base.call(this);va=va && va.rawKey;na=na && na.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Oa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Oa){var va;va=this;Ma(Oa,function(){var na;if(!this.encryptionKey)throw new vb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Pb.encrypt({name:oc.name,iv:na},va.encryptionKey,Ka).then(function(ha){ha=new Uint8Array(ha);Jd(va.id,na,ha,{result:function(X){var T;try{T=JSON.stringify(X);Oa.result(fc(T,Tb));}catch(U){Oa.error(new vb(S.ENCRYPT_ERROR,null,U));}},error:function(X){X instanceof fb || (X=new vb(S.ENCRYPT_ERROR,null,X));Oa.error(X);}});},function(ha){Oa.error(new vb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Oa){var va;va=this;Ma(Oa,function(){var na,ha;if(!this.encryptionKey)throw new vb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{na=ec(Ka,Tb);ha=JSON.parse(na);}catch(X){if(X instanceof SyntaxError)throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new vb(S.DECRYPT_ERROR,null,X);}Kd(ha,Ld.V1,{result:function(X){try{if(X.keyId != va.id)throw new vb(S.ENVELOPE_KEY_ID_MISMATCH);Pb.decrypt({name:oc.name,iv:X.iv},va.encryptionKey,X.ciphertext).then(function(T){T=new Uint8Array(T);Oa.result(T);},function(){Oa.error(new vb(S.DECRYPT_ERROR));});}catch(T){T instanceof fb?Oa.error(T):Oa.error(new vb(S.DECRYPT_ERROR,null,T));}},error:function(X){X instanceof Gb && (X=new vb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof fb || (X=new vb(S.DECRYPT_ERROR,null,X));Oa.error(X);}});},this);},wrap:function(Ka,Oa){Ma(Oa,function(){if(!this.wrapKey)throw new vb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Pb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Oa.result(va);},function(va){Oa.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Oa,va,na){function ha(X){Ma(na,function(){switch(X.type){case "secret":ad(X,na);break;case "public":Jc(X,na);break;case "private":Rc(X,na);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Ma(na,function(){if(!this.wrapKey)throw new vb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Pb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Oa,!1,va).then(function(X){ha(X);},function(X){na.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Oa){var va;va=this;Ma(Oa,function(){if(!this.hmacKey)throw new vb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Pb.sign(pc,this.hmacKey,Ka).then(function(na){Ma(Oa,function(){var ha;ha=new Uint8Array(na);Md(ha,{result:function(X){Oa.result(X.bytes);},error:Oa.error});},va);},function(){Oa.error(new vb(S.HMAC_ERROR));});},this);},verify:function(Ka,Oa,va){var na;na=this;Ma(va,function(){if(!this.hmacKey)throw new vb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Nd(Oa,Od.V1,{result:function(ha){Ma(va,function(){Pb.verify(pc,this.hmacKey,ha.signature,Ka).then(function(X){va.result(X);},function(X){va.error(new vb(S.HMAC_ERROR));});},na);},error:va.error});},this);}});})();lc=qd.extend({init:function X(Ka,Oa,va,na,ha){if(va || na || ha)X.base.call(this,Ka,va + "_" + Oa.sequenceNumber,na,ha,null);else {if(!Oa.isDecrypted())throw new $c(S.MASTERTOKEN_UNTRUSTED,Oa);X.base.call(this,Ka,Oa.identity + "_" + Oa.sequenceNumber,Oa.encryptionKey,Oa.hmacKey,null);}}});rf=Tc.extend({encrypt:function(Ka,Oa){Oa.result(Ka);},decrypt:function(Ka,Oa){Oa.result(Ka);},wrap:function(Ka,Oa){Oa.error(new xb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Oa,va,na){na.error(new xb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Oa){Oa.result(new Uint8Array(0));},verify:function(Ka,Oa,va){va.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Eb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Oa){var va,na;va=Oa.scheme;na=Oa.authdata;if(!va || !na)throw new Gb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Oa));if(!Wb[va])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Oa=Ka.getEntityAuthenticationFactory(va);if(!Oa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Oa.createData(Ka,na);};})();rd=Eb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Oa){},getCryptoContext:function(Ka,Oa){}});(function(){xc=Lc.extend({init:function va(Oa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Oa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Oa;Oa={};Oa.identity=this.identity;return Oa;},equals:function na(va){return this === va?!0:va instanceof xc?na.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var na;na=va.identity;if(!na)throw new Gb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(na);};})();sf=rd.extend({init:function va(Oa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Oa,va){return te(va);},getCryptoContext:function(Oa,va){if(!(va instanceof xc))throw new xb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Uc();}});(function(){yc=Lc.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function ha(na){return this === na?!0:na instanceof yc?ha.base.call(this,this,na) && this.identity == na.identity:!1;}});ue=function(na){var ha;ha=na.identity;if(!ha)throw new Gb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new yc(ha);};})();tf=rd.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,na){return ue(na);},getCryptoContext:function(va,na){if(!(na instanceof yc))throw new xb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Uc();}});(function(){sd=Lc.extend({init:function X(na,ha){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function X(ha){return this === ha?!0:ha instanceof sd?X.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});ve=function(ha){var X,T;X=ha.identity;T=ha.pubkeyid;if(!X || "string" !== typeof X || !T || "string" !== typeof T)throw new Gb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new sd(X,T);};})();uf=rd.extend({init:function ha(na){ha.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,ha){return ve(ha);},getCryptoContext:function(na,ha){var X,T,U;if(!(ha instanceof sd))throw new xb("Incorrect authentication data type " + ha + ".");X=ha.identity;T=ha.publicKeyId;U=this.store.getPublicKey(T);if(!U)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(ha);return new od(na,X,null,U,pd.SIGN_VERIFY);}});(function(){Xc=Lc.extend({init:function X(ha){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function T(X){return this === X?!0:X instanceof Xc?T.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var T;T=X.identity;if(!T)throw new Gb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Xc(T);};})();qf=rd.extend({init:function ha(){ha.base.call(this,Wb.NONE);},createData:function(ha,X){return we(X);},getCryptoContext:function(ha,X){if(!(X instanceof Xc))throw new xb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Uc();}});vf=Eb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,X){if(!(X instanceof nd))throw new xb("Incorrect key data type " + X + ".");this.rsaKeys[ha]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});Pd=Eb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,X,T){}});td=Eb.Class.create({abort:function(){},close:function(ha,X){},write:function(ha,X,T,U,ba){},flush:function(ha,X){}});wf=Eb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Xb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,X,T){bb(T,function(){var U;if(this._closed)throw new Xb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);U=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=U.length;return U;},this);}});xf=Eb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,X){this._closed=!0;X.result(!0);},write:function(ha,X,T,U,ba){bb(ba,function(){var V;if(this._closed)throw new Xb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ha.subarray(X,T);this._buffered.push(V);return V.length;},this);},flush:function(ha,X){var T;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + ha.length);T.set(this._result);T.set(ha,this._result.length);this._result=T;}else this._result=new Uint8Array(ha);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Eb.Class.create({getResponse:function(ha,X,T){}});(function(){var ha,X;ha=td.extend({init:function(T,U){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Yc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,U){var ba;ba=this;this._responseQueue.poll(T,{result:function(V){bb(U,function(){V && this._responseQueue.add(V);return V;},ba);},timeout:function(){bb(U,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();U.timeout();},ba);},error:function(V){bb(U,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,U){var ba;ba=this;bb(U,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(ja){ba._response={response:ja};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(ja){ba._response={isError:!0,error:ja};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(T,U,ba,V,ja){bb(ja,function(){if(this._response)throw new Xb("HttpOutputStream already closed.");this._buffer.write(T,U,ba,V,ja);},this);},flush:function(T,U){bb(U,function(){if(this._response)return !0;this._buffer.flush(T,U);},this);}});X=Pd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,U,ba){var ja;function V(wa){bb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(U,{result:function(ua){bb(ba,function(){var la;if(ua.isTimeout)(this._timedout=!0,ba.timeout());else {if(ua.isError)throw (this._exception=ua.error || new Xb("Unknown HTTP exception."),this._exception);if(!ua.response)throw (this._exception=new Xb("Missing HTTP response."),this._exception);ua.response.json !== Cb && (this._json=ua.response.json,this.getJSON=function(){return ja._json;});la=ua.response.content || Ad("string" === typeof ua.response.body?ua.response.body:JSON.stringify(this._json));this._buffer=new wf(la);this._buffer.read(T,U,ba);}},ja);},timeout:function(){ba.timeout();},error:function(ua){ba.error(ua);}});},ja);}ja=this;bb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,U,ba):this._out.close(U,{result:function(wa){V(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},ja);}});he=Eb.Class.create({init:function(T,U){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new ha(this._httpLocation,this._timeout);return {input:new X(T),output:T};}});})();(function(){var ha,X;ha=td.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,U){U.result({success:!1,content:null,errorHttpCode:Cb,errorSubCode:Cb});},abort:function(){},close:function(T,U){U.result(!0);},write:function(T,U,ba,V,ja){var wa,ua;try{if(0 > U)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(U + ba > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(U,ba);ua=new Uint8Array(this._buffer.length + wa.length);ua.set(this._buffer);ua.set(wa,this._buffer.length);this._buffer=ua;ja.result(wa.length);}catch(la){ja.error(la);}},flush:function(T,U){U.result(!0);},request:function(){return this._buffer;}});X=Pd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,U,ba){ba.result(new Uint8Array(16));}});ie=Eb.Class.create({init:function(){var T;T={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return zd(this.output.request());}});})();xe=function(ha,X,T){(function(U,ba,V){U.read(-1,ba,{result:function(ja){ja && ja.length?V(null,ja):V(null,null);},timeout:function(){T.timeout();},error:function(ja){V(ja,null);}});})(ha,X,function(U,ba){var V,ja;if(U)T.error(U);else if(ba){if(ha.getJSON !== Cb && "function" === typeof ha.getJSON)T.result(ha.getJSON());else {U=T.result;ba=new zf(ec(ba,"utf-8"));V=[];for(ja=ba.nextValue();ja !== Cb;){V.push(ja);ja=ba.nextValue();}U.call(T,V);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){bd=Eb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof bd?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(ha,X,T){Ma(T,function(){var U,ba,V;U=X.scheme;ba=X.keydata;if(!U || !ba || "object" !== typeof ba)throw new Gb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[U])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,U);V=ha.getKeyExchangeFactory(U);if(!V)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,U);V.createRequestData(ha,ba,T);});};})();(function(){cd=Eb.Class.create({init:function(ha,X){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof cd?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(ha,X,T){Ma(T,function(){var U,ba,V;U=X.mastertoken;ba=X.scheme;V=X.keydata;if(!ba || !U || "object" !== typeof U || !V || "object" !== typeof V)throw new Gb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);dd(ha,U,{result:function(ja){Ma(T,function(){var wa;wa=ha.getKeyExchangeFactory(ba);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(ha,ja,V);});},error:function(ja){T.error(ja);}});});};})();(function(){var ha;ha=Eb.Class.create({init:function(X,T){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Eb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,T,U){},createResponseData:function(X,T,U){},generateResponse:function(X,T,U,ba){},getCryptoContext:function(X,T,U,ba,V){},generateSessionKeys:function(X,T){Ma(T,function(){var U,ba;U=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(U);X.getRandom().nextBytes(ba);tc(U,oc,Dc,{result:function(V){tc(ba,pc,Mc,{result:function(ja){T.result({encryptionKey:V,hmacKey:ja});},error:function(ja){T.error(new vb(S.SESSION_KEY_CREATION_FAILURE,null,ja));}});},error:function(V){T.error(new vb(S.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(X,T,U){tc(X,oc,Dc,{result:function(ba){tc(T,pc,Mc,{result:function(V){U.result({encryptionKey:ba,hmacKey:V});},error:function(V){U.error(V);}});},error:function(ba){U.error(ba);}});}});mc.KeyExchangeData=ha;})();(function(){var X,T,U;function ha(ba,V,ja,wa,ua){Ma(ua,function(){var la,sa;switch(V){case X.PSK:(la=new yc(wa),sa=ba.getEntityAuthenticationFactory(Wb.PSK));if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);la=sa.getCryptoContext(ba,la);return new vc(ba,wc.A128KW,qc,Cb);case X.MGK:la=new xc(wa);sa=ba.getEntityAuthenticationFactory(Wb.MGK);if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);la=sa.getCryptoContext(ba,la);return new vc(ba,wc.A128KW,qc,Cb);case X.WRAP:la=ba.getMslCryptoContext();la.unwrap(ja,sc,Ec,{result:function(za){Ma(ua,function(){return new vc(ba,wc.A128KW,qc,za);});},error:ua.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=bd.extend({init:function wa(V,ja){wa.base.call(this,kc.JWE_LADDER);switch(V){case X.WRAP:if(!ja)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ja=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Kb(this.wrapdata));return V;},equals:function wa(ja){return ja === this?!0:ja instanceof Ae?wa.base.call(this,ja) && this.mechanism == ja.mechanism && gc(this.wrapdata,ja.wrapdata):!1;},uniqueKey:function wa(){var ua;ua=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ua+=":" + hc(this.wrapdata));return ua;}});U=Be=cd.extend({init:function Z(ua,la,sa,za,ma){Z.base.call(this,ua,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:la,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ua;ua={};ua.wrapkey=Kb(this.wrapKey);ua.wrapdata=Kb(this.wrapdata);ua.encryptionkey=Kb(this.encryptionKey);ua.hmackey=Kb(this.hmacKey);return ua;},equals:function sa(la){return this === la?!0:la instanceof Be?sa.base.call(this,la) && gc(this.wrapKey,la.wrapKey) && gc(this.wrapdata,la.wrapdata) && gc(this.encryptionKey,la.encryptionKey) && gc(this.hmacKey,la.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function ma(za){ma.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(za,ma,Z){Ma(Z,function(){var da,ia,xa;da=ma.mechanism;ia=ma.wrapdata;if(!da || da == X.WRAP && (!ia || "string" !== typeof ia))throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ma));if(!X[da])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,da);switch(da){case X.WRAP:try{xa=Mb(ia);}catch(Ta){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());break;default:xa=null;}return new T(da,xa);});},createResponseData:function(za,ma,Z){var da,ia,xa,Ta,La,Sa,Va;za=Z.wrapkey;da=Z.wrapdata;ia=Z.encryptionkey;xa=Z.hmackey;if(!(za && "string" === typeof za && da && "string" === typeof da && ia && "string" === typeof ia && xa) || "string" !== typeof xa)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Ta=Mb(za);La=Mb(da);}catch(qa){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),qa);}try{Sa=Mb(ia);}catch(qa){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),qa);}try{Va=Mb(xa);}catch(qa){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),qa);}return new U(ma,Ta,La,Sa,Va);},generateResponse:function(za,ma,Z,da){var Sa,Va;function ia(qa,ya,Ca){Sa.generateSessionKeys(za,{result:function(Ia){Ma(da,function(){xa(qa,ya,Ca,Ia.encryptionKey,Ia.hmacKey);},Sa);},error:function(Ia){Ma(da,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;});}});}function xa(qa,ya,Ca,Ia,Ba){Ma(da,function(){ha(za,ma.mechanism,ma.wrapdata,qa,{result:function(Ua){Ua.wrap(ya,{result:function(Ha){Ta(ya,Ca,Ia,Ba,Ha);},error:function(Ha){Ma(da,function(){Ha instanceof fb && Ha.setEntity(Va);throw Ha;});}});},error:function(Ua){Ma(da,function(){Ua instanceof fb && Ua.setEntity(Va);throw Ua;});}});},Sa);}function Ta(qa,ya,Ca,Ia,Ba){Ma(da,function(){var Ua;Ua=new vc(za,wc.A128KW,qc,qa);Ua.wrap(Ca,{result:function(Ha){Ua.wrap(Ia,{result:function(Ya){La(ya,Ba,Ca,Ha,Ia,Ya);},error:function(Ya){Ma(da,function(){Ya instanceof fb && Ya.setEntity(Va);throw Ya;});}});},error:function(Ha){Ma(da,function(){Ha instanceof fb && Ha.setEntity(Va);throw Ha;});}});},Sa);}function La(qa,ya,Ca,Ia,Ba,Ua){Ma(da,function(){var Ha;Ha=za.getTokenFactory();Va?Ha.renewMasterToken(za,Va,Ca,Ba,{result:function(Ya){Ma(da,function(){var ab,Wa;ab=new lc(za,Ya);Wa=new U(Ya,ya,qa,Ia,Ua);return new mc.KeyExchangeData(Wa,ab,da);},Sa);},error:function(Ya){Ma(da,function(){Ya instanceof fb && Ya.setEntity(Va);throw Ya;});}}):Ha.createMasterToken(za,Z,Ca,Ba,{result:function(Ya){Ma(da,function(){var ab,Wa;ab=new lc(za,Ya);Wa=new U(Ya,ya,qa,Ia,Ua);return new mc.KeyExchangeData(Wa,ab,da);},Sa);},error:da.error});},Sa);}Sa=this;Ma(da,function(){var qa,ya;if(!(ma instanceof T))throw new xb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");qa=Z;if(Z instanceof ic){if(!Z.isVerified())throw new $c(S.MASTERTOKEN_UNTRUSTED,Z);Va=Z;qa=Z.identity;}ya=new Uint8Array(16);za.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ca){Ma(da,function(){za.getMslCryptoContext().wrap(Ca,{result:function(Ia){ia(qa,Ca,Ia);},error:function(Ia){Ma(da,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;},Sa);}});},Sa);},error:function(Ca){Ma(da,function(){throw new vb(S.WRAP_KEY_CREATION_FAILURE,null,Ca).setEntity(Va);},Sa);}});},Sa);},getCryptoContext:function(za,ma,Z,da,ia){var Ta;function xa(La,Sa,Va,qa,ya){Ma(ia,function(){var Ca;Ca=new vc(za,wc.A128KW,qc,ya);Ca.unwrap(Sa.encryptionKey,oc,Dc,{result:function(Ia){Ca.unwrap(Sa.hmacKey,pc,Mc,{result:function(Ba){Ma(ia,function(){this.repository.addCryptoContext(Sa.wrapdata,Ca);this.repository.removeCryptoContext(Va);return new lc(za,Sa.masterToken,qa,Ia,Ba);},Ta);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(La);throw Ba;});}});},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(La);throw Ia;});}});},Ta);}Ta=this;Ma(ia,function(){var La,Sa;if(!(ma instanceof T))throw new xb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");if(!(Z instanceof U))throw new xb("Key response data " + JSON.stringify(Z) + " was not created by this factory.");La=ma.mechanism;Sa=ma.wrapdata;za.getEntityAuthenticationData(null,{result:function(Va){Ma(ia,function(){var qa,ya,Ca;qa=Va.getIdentity();switch(La){case X.PSK:ya=new yc(qa);Ca=za.getEntityAuthenticationFactory(Wb.PSK);if(!Ca)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);ya=Ca.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,Cb);break;case X.MGK:ya=new xc(qa);Ca=za.getEntityAuthenticationFactory(Wb.MGK);if(!Ca)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);ya=Ca.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Sa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Sa)).setEntity(Va);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);}ya.unwrap(Z.wrapKey,sc,Ec,{result:function(Ia){xa(Va,Z,Sa,qa,Ia);},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;});}});},Ta);},error:ia.error});},Ta);}});})();(function(){var X,T,U,ba;function ha(V,ja,wa,ua,la){Ma(la,function(){var sa,za;switch(ja){case X.PSK:(sa=new yc(ua),za=V.getEntityAuthenticationFactory(Wb.PSK));if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);sa=za.getCryptoContext(V,sa);return new ba(Cb);case X.MGK:sa=new xc(ua);za=V.getEntityAuthenticationFactory(Wb.MGK);if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);sa=za.getCryptoContext(V,sa);return new ba(Cb);case X.WRAP:sa=V.getMslCryptoContext();sa.unwrap(wa,sc,Ec,{result:function(ma){Ma(la,function(){return new ba(ma);});},error:la.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=bd.extend({init:function ua(ja,wa){ua.base.call(this,kc.JWK_LADDER);switch(ja){case X.WRAP:if(!wa)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:ja,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.mechanism=this.mechanism;this.wrapdata && (ja.wrapdata=Kb(this.wrapdata));return ja;},equals:function ua(wa){return wa === this?!0:wa instanceof Ce?ua.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function ua(){var la;la=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (la+=":" + hc(this.wrapdata));return la;}});U=De=cd.extend({init:function da(la,sa,za,ma,Z){da.base.call(this,la,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:sa,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.wrapkey=Kb(this.wrapKey);la.wrapdata=Kb(this.wrapdata);la.encryptionkey=Kb(this.encryptionKey);la.hmackey=Kb(this.hmacKey);return la;},equals:function za(sa){return this === sa?!0:sa instanceof De?za.base.call(this,sa) && gc(this.wrapKey,sa.wrapKey) && gc(this.wrapdata,sa.wrapdata) && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Tc.extend({init:function(za){za && za.rawKey && (za=za.rawKey);Object.defineProperties(this,{_wrapKey:{value:za,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(za,ma){ma.error(new vb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(za,ma){ma.error(new vb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(za,ma){Ma(ma,function(){Pb.wrapKey("jwk",za.rawKey,this._wrapKey,sc).then(function(Z){ma.result(Z);},function(Z){ma.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(za,ma,Z,da){function ia(xa){Ma(da,function(){switch(xa.type){case "secret":ad(xa,da);break;case "public":Jc(xa,da);break;case "private":Rc(xa,da);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Ma(da,function(){Pb.unwrapKey("jwk",za,this._wrapKey,sc,ma,!1,Z).then(function(xa){ia(xa);},function(xa){da.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(za,ma){ma.error(new vb(S.SIGN_NOT_SUPPORTED));},verify:function(za,ma,Z){Z.error(new vb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function Z(ma){Z.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ma,Z,da){Ma(da,function(){var ia,xa,Ta;ia=Z.mechanism;xa=Z.wrapdata;if(!ia || ia == X.WRAP && (!xa || "string" !== typeof xa))throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));if(!X[ia])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case X.WRAP:try{Ta=Mb(xa);}catch(La){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());}if(null == Ta || 0 == Ta.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());break;default:Ta=null;}return new T(ia,Ta);});},createResponseData:function(ma,Z,da){var ia,xa,Ta,La,Sa,Va,qa;ma=da.wrapkey;ia=da.wrapdata;xa=da.encryptionkey;Ta=da.hmackey;if(!(ma && "string" === typeof ma && ia && "string" === typeof ia && xa && "string" === typeof xa && Ta) || "string" !== typeof Ta)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{La=Mb(ma);Sa=Mb(ia);}catch(ya){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),ya);}try{Va=Mb(xa);}catch(ya){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),ya);}try{qa=Mb(Ta);}catch(ya){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),ya);}return new U(Z,La,Sa,Va,qa);},generateResponse:function(ma,Z,da,ia){var Va,qa;function xa(ya,Ca,Ia){Va.generateSessionKeys(ma,{result:function(Ba){Ma(ia,function(){Ta(ya,Ca,Ia,Ba.encryptionKey,Ba.hmacKey);},Va);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;});}});}function Ta(ya,Ca,Ia,Ba,Ua){Ma(ia,function(){ha(ma,Z.mechanism,Z.wrapdata,ya,{result:function(Ha){Ha.wrap(Ca,{result:function(Ya){La(Ca,Ia,Ba,Ua,Ya);},error:function(Ya){Ma(ia,function(){Ya instanceof fb && Ya.setEntity(qa);throw Ya;});}});},error:function(Ha){Ma(ia,function(){Ha instanceof fb && Ha.setEntity(qa);throw Ha;});}});},Va);}function La(ya,Ca,Ia,Ba,Ua){Ma(ia,function(){var Ha;Ha=new ba(ya);Ha.wrap(Ia,{result:function(Ya){Ha.wrap(Ba,{result:function(ab){Sa(Ca,Ua,Ia,Ya,Ba,ab);},error:function(ab){Ma(ia,function(){ab instanceof fb && ab.setEntity(qa);throw ab;});}});},error:function(Ya){Ma(ia,function(){Ya instanceof fb && Ya.setEntity(qa);throw Ya;});}});},Va);}function Sa(ya,Ca,Ia,Ba,Ua,Ha){Ma(ia,function(){var Ya;Ya=ma.getTokenFactory();qa?Ya.renewMasterToken(ma,qa,Ia,Ua,{result:function(ab){Ma(ia,function(){var Wa,kb;Wa=new lc(ma,ab);kb=new U(ab,Ca,ya,Ba,Ha);return new mc.KeyExchangeData(kb,Wa,ia);},Va);},error:function(ab){Ma(ia,function(){ab instanceof fb && ab.setEntity(qa);throw ab;});}}):Ya.createMasterToken(ma,da,Ia,Ua,{result:function(ab){Ma(ia,function(){var Wa,kb;Wa=new lc(ma,ab);kb=new U(ab,Ca,ya,Ba,Ha);return new mc.KeyExchangeData(kb,Wa,ia);},Va);},error:ia.error});},Va);}Va=this;Ma(ia,function(){var ya,Ca;if(!(Z instanceof T))throw new xb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");ya=da;if(da instanceof ic){if(!da.isVerified())throw new $c(S.MASTERTOKEN_UNTRUSTED,da);qa=da;ya=da.identity;}Ca=new Uint8Array(16);ma.getRandom().nextBytes(Ca);tc(Ca,sc,Ec,{result:function(Ia){Ma(ia,function(){ma.getMslCryptoContext().wrap(Ia,{result:function(Ba){xa(ya,Ia,Ba);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;},Va);}});},Va);},error:function(Ia){Ma(ia,function(){throw new vb(S.WRAP_KEY_CREATION_FAILURE,null,Ia).setEntity(qa);},Va);}});},Va);},getCryptoContext:function(ma,Z,da,ia,xa){var La;function Ta(Sa,Va,qa,ya,Ca){Ma(xa,function(){var Ia;Ia=new ba(Ca);Ia.unwrap(Va.encryptionKey,oc,Dc,{result:function(Ba){Ia.unwrap(Va.hmacKey,pc,Mc,{result:function(Ua){Ma(xa,function(){this.repository.addCryptoContext(Va.wrapdata,Ia);this.repository.removeCryptoContext(qa);return new lc(ma,Va.masterToken,ya,Ba,Ua);},La);},error:function(Ua){Ma(xa,function(){Ua instanceof fb && Ua.setEntity(Sa);throw Ua;});}});},error:function(Ba){Ma(xa,function(){Ba instanceof fb && Ba.setEntity(Sa);throw Ba;});}});},La);}La=this;Ma(xa,function(){var Sa,Va;if(!(Z instanceof T))throw new xb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(da instanceof U))throw new xb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Sa=Z.mechanism;Va=Z.wrapdata;ma.getEntityAuthenticationData(null,{result:function(qa){Ma(xa,function(){var ya,Ca,Ia;ya=qa.getIdentity();switch(Sa){case X.PSK:Ca=new yc(ya);Ia=ma.getEntityAuthenticationFactory(Wb.PSK);if(!Ia)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);Ca=Ia.getCryptoContext(ma,Ca);Ca=new ba(Ca.wrapKey);break;case X.MGK:Ca=new xc(ya);Ia=ma.getEntityAuthenticationFactory(Wb.MGK);if(!Ia)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);Ca=Ia.getCryptoContext(ma,Ca);Ca=new ba(Ca.wrapKey);break;case X.WRAP:Ca=this.repository.getCryptoContext(Va);if(!Ca)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Va)).setEntity(qa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);}Ca.unwrap(da.wrapKey,sc,Ec,{result:function(Ba){Ta(qa,da,Va,ya,Ba);},error:function(Ba){Ma(xa,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;});}});},La);},error:xa.error});},La);}});})();Af=Eb.Class.create({addCryptoContext:function(ha,X){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var X,T,U,ba;function ha(V,ja,wa,ua,la){switch(wa){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(V,wc.RSA_OAEP,qc,ua,la);case X.JWK_RSA:return new od(V,ja,ua,la,pd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new od(V,ja,ua,la,pd.WRAP_UNWRAP_PKCS1);default:throw new vb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Cd=bd.extend({init:function sa(ja,wa,ua,la){sa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ja,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:ua,writable:!1,configurable:!1},privateKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.mechanism=this.mechanism;ja.publickey=Kb(this.publicKey.getEncoded());return ja;},equals:function ua(wa){var la;if(wa === this)return !0;if(!(wa instanceof Cd))return !1;la=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return ua.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && la;},uniqueKey:function ua(){var la,sa;la=this.publicKey.getEncoded();sa=this.privateKey && this.privateKey.getEncoded();la=ua.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(la);sa && (la+=":" + hc(sa));return la;}});U=function(ua,la){Ma(la,function(){var sa,za,ma,Z;sa=ua.keypairid;za=ua.mechanism;ma=ua.publickey;if(!sa || "string" !== typeof sa || !za || !ma || "string" !== typeof ma)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ua));if(!X[za])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,za);try{Z=Mb(ma);switch(za){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Hd(Z,md,Ec,{result:function(da){la.result(new T(sa,za,da,null));},error:function(da){la.error(da);}});break;case X.JWK_RSAES:Hd(Z,Fd,Ec,{result:function(da){la.result(new T(sa,za,da,null));},error:function(da){la.error(da);}});break;default:throw new vb(S.UNSUPPORTED_KEYX_MECHANISM,za);}}catch(da){if(!(da instanceof fb))throw new vb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ua),da);throw da;}});};ba=Fe=cd.extend({init:function Z(la,sa,za,ma){Z.base.call(this,la,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.keypairid=this.keyPairId;la.encryptionkey=Kb(this.encryptionKey);la.hmackey=Kb(this.hmacKey);return la;},equals:function za(sa){return this === sa?!0:sa instanceof Fe?za.base.call(this,sa) && this.keyPairId == sa.keyPairId && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function ma(){ma.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(ma,Z,da){U(Z,da);},createResponseData:function(ma,Z,da){var ia,xa,Ta,La;ma=da.keypairid;ia=da.encryptionkey;xa=da.hmackey;if(!ma || "string" !== typeof ma || !ia || "string" !== typeof ia || !xa || "string" !== typeof xa)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Ta=Mb(ia);}catch(Sa){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),Sa);}try{La=Mb(xa);}catch(Sa){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),Sa);}return new ba(Z,ma,Ta,La);},generateResponse:function(ma,Z,da,ia){var La;function xa(Sa,Va){Ma(ia,function(){var qa;qa=ha(ma,Z.keyPairId,Z.mechanism,null,Z.publicKey);qa.wrap(Sa,{result:function(ya){Ma(ia,function(){qa.wrap(Va,{result:function(Ca){Ta(Sa,ya,Va,Ca);},error:function(Ca){Ma(ia,function(){Ca instanceof fb && da instanceof ic && Ca.setEntity(da);throw Ca;},La);}});},La);},error:function(ya){Ma(ia,function(){ya instanceof fb && da instanceof ic && ya.setEntity(da);throw ya;},La);}});},La);}function Ta(Sa,Va,qa,ya){Ma(ia,function(){var Ca;Ca=ma.getTokenFactory();da instanceof ic?Ca.renewMasterToken(ma,da,Sa,qa,{result:function(Ia){Ma(ia,function(){var Ba,Ua;Ba=new lc(ma,Ia);Ua=new ba(Ia,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ua,Ba,ia);},La);},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(da);throw Ia;},La);}}):Ca.createMasterToken(ma,da,Sa,qa,{result:function(Ia){Ma(ia,function(){var Ba,Ua;Ba=new lc(ma,Ia);Ua=new ba(Ia,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ua,Ba,ia);},La);},error:ia.error});},La);}La=this;Ma(ia,function(){if(!(Z instanceof T))throw new xb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");this.generateSessionKeys(ma,{result:function(Sa){xa(Sa.encryptionKey,Sa.hmacKey);},error:function(Sa){Ma(ia,function(){Sa instanceof fb && da instanceof ic && Sa.setEntity(da);throw Sa;},La);}});},La);},getCryptoContext:function(ma,Z,da,ia,xa){var Ta;Ta=this;Ma(xa,function(){var La,Sa,Va;if(!(Z instanceof T))throw new xb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(da instanceof ba))throw new xb("Key response data " + JSON.stringify(da) + " was not created by this factory.");La=Z.keyPairId;Sa=da.keyPairId;if(La != Sa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + La + "; response " + Sa).setEntity(ia);Sa=Z.privateKey;if(!Sa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ia);Va=ha(ma,La,Z.mechanism,Sa,null);Va.unwrap(da.encryptionKey,oc,Dc,{result:function(qa){Va.unwrap(da.hmacKey,pc,Mc,{result:function(ya){ma.getEntityAuthenticationData(null,{result:function(Ca){Ma(xa,function(){var Ia;Ia=Ca.getIdentity();return new lc(ma,da.masterToken,Ia,qa,ya);},Ta);},error:function(Ca){Ma(xa,function(){Ca instanceof fb && Ca.setEntity(ia);throw Ca;},Ta);}});},error:function(ya){Ma(xa,function(){ya instanceof fb && ya.setEntity(ia);throw ya;},Ta);}});},error:function(qa){Ma(xa,function(){qa instanceof fb && qa.setEntity(ia);throw qa;},Ta);}});},Ta);}});})();zf=Eb.Class.create({init:function(ha){var X,T,U,ba,V,ja,wa,ua;X=$b.parser();T=[];U=[];wa=0;ua=!1;X.onerror=function(la){ua || (ua=!0,X.end());};X.onopenobject=function(la){var sa;if(ba)(ba[ja]={},U.push(ba),ba=ba[ja]);else if(V){sa={};U.push(V);V.push(sa);ba=sa;V=Cb;}else ba={};ja=la;};X.oncloseobject=function(){var la;la=U.pop();la?"object" === typeof la?ba=la:(ba=Cb,V=la):(T.push(ba),wa=X.index,ba=Cb);};X.onopenarray=function(){var la;if(ba)(ba[ja]=[],U.push(ba),V=ba[ja],ba=Cb);else if(V){la=[];U.push(V);V.push(la);V=la;}else V=[];};X.onclosearray=function(){var la;la=U.pop();la?"object" === typeof la?(ba=la,V=Cb):V=la:(T.push(V),wa=X.index,V=Cb);};X.onkey=function(la){ja=la;};X.onvalue=function(la){ba?ba[ja]=la:V?V.push(la):(T.push(la),wa=X.index);};X.write(ha).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Cb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,X,T,U,ba;ha=Qd="entityauthdata";X=He="mastertoken";T=Ie="headerdata";U=Je="errordata";ba=Rd="signature";Ge=function(V,ja,wa,ua){Ma(ua,function(){var la,sa,za,ma,Z,da;la=ja[ha];sa=ja[X];za=ja[ba];if(la && "object" !== typeof la || sa && "object" !== typeof sa || "string" !== typeof za)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));try{ma=Mb(za);}catch(ia){throw new Nb(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ja),ia);}Z=null;la && (Z=se(V,la));da=ja[T];if(da != Cb && null != da){if("string" !== typeof da)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));sa?dd(V,sa,{result:function(ia){Sd(V,da,Z,ia,ma,wa,ua);},error:function(ia){ua.error(ia);}}):Sd(V,da,Z,null,ma,wa,ua);}else if((la=ja[U],la != Cb && null != la)){if("string" !== typeof la)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));Ke(V,la,Z,ma,ua);}else throw new Gb(S.JSON_PARSE_ERROR,JSON.stringify(ja));});};})();(function(){function ha(X,T){this.errordata=X;this.signature=T;}Ic=Eb.Class.create({init:function(X,T,U,ba,V,ja,wa,ua,la,sa){var za;za=this;Ma(sa,function(){var ma,Z;0 > ja && (ja=-1);if(0 > ba || ba > Qb)throw new xb("Message ID " + ba + " is out of range.");if(!T)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);if(la)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:la.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:la.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ma={};U && (ma.recipient=U);ma.messageid=ba;ma.errorcode=V;0 < ja && (ma.internalcode=ja);wa && (ma.errormsg=wa);ua && (ma.usermsg=ua);try{Z=X.getEntityAuthenticationFactory(T.scheme).getCryptoContext(X,T);}catch(da){throw (da instanceof fb && (da.setEntity(T),da.setMessageId(ba)),da);}ma=fc(JSON.stringify(ma),Tb);Z.encrypt(ma,{result:function(da){Ma(sa,function(){Z.sign(da,{result:function(ia){Ma(sa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},za);},error:function(ia){Ma(sa,function(){ia instanceof fb && (ia.setEntity(T),ia.setMessageId(ba));throw ia;},za);}});},za);},error:function(da){Ma(sa,function(){da instanceof fb && (da.setEntity(T),da.setMessageId(ba));throw da;},za);}});},za);},toJSON:function(){var X;X={};X[Qd]=this.entityAuthenticationData;X[Je]=Kb(this.errordata);X[Rd]=Kb(this.signature);return X;}});Le=function(X,T,U,ba,V,ja,wa,ua,la){new Ic(X,T,U,ba,V,ja,wa,ua,null,la);};Ke=function(X,T,U,ba,V){Ma(V,function(){var ja,wa,ua;if(!U)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);try{ja=U.scheme;wa=X.getEntityAuthenticationFactory(ja);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ja);ua=wa.getCryptoContext(X,U);}catch(la){throw (la instanceof fb && la.setEntity(U),la);}try{T=Mb(T);}catch(la){throw new Nb(S.HEADER_DATA_INVALID,T,la).setEntity(U);}if(!T || 0 == T.length)throw new Nb(S.HEADER_DATA_MISSING,T).setEntity(U);ua.verify(T,ba,{result:function(la){Ma(V,function(){if(!la)throw new vb(S.MESSAGE_VERIFICATION_FAILED).setEntity(U);ua.decrypt(T,{result:function(sa){Ma(V,function(){var za,ma,Z,da,ia,xa,Ta,La;za=ec(sa,Tb);try{ma=JSON.parse(za);}catch(Va){if(Va instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"errordata " + za,Va).setEntity(U);throw Va;}Z=ma.recipient !== Cb?ma.recipient:null;da=parseInt(ma.messageid);ia=parseInt(ma.errorcode);xa=parseInt(ma.internalcode);Ta=ma.errormsg;La=ma.usermsg;if(Z && "string" !== typeof Z || !da || da != da || !ia || ia != ia || ma.internalcode && xa != xa || Ta && "string" !== typeof Ta || La && "string" !== typeof La)throw new Gb(S.JSON_PARSE_ERROR,"errordata " + za).setEntity(U);if(0 > da || da > Qb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + za).setEntity(U);ma=!1;for(var Sa in Ea){if(Ea[Sa] == ia){ma=!0;break;}}ma || (ia=Ea.FAIL);if(xa){if(0 > xa)throw new Nb(S.INTERNAL_CODE_NEGATIVE,"errordata " + za).setEntity(U).setMessageId(da);}else xa=-1;za=new ha(T,ba);new Ic(X,U,Z,da,ia,xa,Ta,La,za,V);});},error:function(sa){Ma(V,function(){sa instanceof fb && sa.setEntity(U);throw sa;});}});});},error:function(la){Ma(V,function(){la instanceof fb && la.setEntity(U);throw la;});}});});};})();Bf=Eb.Class.create({getUserMessage:function(ha,X){}});(function(){Td=function(ha,X){var T;if(!ha || !X)return null;T=ha.compressionAlgorithms.filter(function(U){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(U == X.compressionAlgorithms[ba])return !0;}return !1;});ha=ha.languages.filter(function(U){for(var ba=0;ba < X.languages.length;++ba){if(U == X.languages[ba])return !0;}return !1;});return new ed(T,ha);};ed=Eb.Class.create({init:function(ha,X){ha || (ha=[]);X || (X=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof ed?ce(this.compressionAlgorithms,ha.compressionAlgorithms) && ce(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(ha){var X,T,ba;X=ha.compressionalgos;T=ha.languages;if(X && !(X instanceof Array) || T && !(T instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var U=0;X && U < X.length;++U){ba=X[U];Kc[ba] && ha.push(ba);}return new ed(ha,T);};})();(function(){var sa,za;function ha(ma,Z,da,ia,xa){this.customer=ma;this.sender=Z;this.messageCryptoContext=da;this.headerdata=ia;this.signature=xa;}function X(ma,Z,da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab,Wa,kb){return {cryptoContext:{value:Z,writable:!1,configurable:!1},customer:{value:da,writable:!1,configurable:!1},entityAuthenticationData:{value:ia,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Ta,writable:!1,configurable:!1},messageId:{value:La,writable:!1,configurable:!1},nonReplayableId:{value:Ha,writable:!1,configurable:!1},keyRequestData:{value:Sa,writable:!1,configurable:!1},keyResponseData:{value:Va,writable:!1,configurable:!1},userAuthenticationData:{value:qa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ca,writable:!1,configurable:!1},peerMasterToken:{value:Ia,writable:!1,configurable:!1},peerUserIdToken:{value:Ba,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Ya,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:kb,writable:!1,enumerable:!1,configurable:!1}};}function T(ma,Z,da){var ia;if(da){if(Z=ma.getMslStore().getCryptoContext(da))return Z;if(!da.isVerified() || !da.isDecrypted())throw new $c(S.MASTERTOKEN_UNTRUSTED,da);return new lc(ma,da);}da=Z.scheme;ia=ma.getEntityAuthenticationFactory(da);if(!ia)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,da);return ia.getCryptoContext(ma,Z);}function U(ma,Z,da,ia,xa){Ma(xa,function(){Z.verify(da,ia,{result:function(Ta){Ma(xa,function(){if(!Ta)throw new vb(S.MESSAGE_VERIFICATION_FAILED);Z.decrypt(da,{result:function(La){Ma(xa,function(){return ec(La,Tb);});},error:function(La){xa.error(La);}});});},error:function(Ta){xa.error(Ta);}});});}function ba(ma,Z,da){Ma(da,function(){if(Z)ze(ma,Z,da);else return null;});}function V(ma,Z,da,ia){Ma(ia,function(){if(Z)ud(ma,Z,da,ia);else return null;});}function ja(ma,Z,da,ia){Ma(ia,function(){if(da)Qe(ma,Z,da,ia);else return null;});}function wa(ma,Z,da,ia,xa,Ta,La){var Va;function Sa(qa,ya,Ca){var Ia,Ba;if(ya >= qa.length){Ia=[];for(Ba in Va){Ia.push(Va[Ba]);}Ca.result(Ia);}else {Ia=qa[ya];if("object" !== typeof Ia)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + Ta);vd(ma,Ia,da,ia,xa,{result:function(Ua){Ma(Ca,function(){Va[Ua.uniqueKey()]=Ua;Sa(qa,ya + 1,Ca);});},error:function(Ua){Ca.error(Ua);}});}}Va={};Ma(La,function(){if(Z){if(!(Z instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + Ta);Sa(Z,0,La);}else return [];});}function ua(ma,Z,da,ia,xa,Ta){function La(Va,qa,ya){Ma(ya,function(){var Ca;Ca=qa.peermastertoken;if(Ca && "object" !== typeof Ca)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ca)return null;dd(Va,Ca,ya);});}function Sa(Va,qa,ya,Ca){Ma(Ca,function(){var Ia;Ia=qa.peeruseridtoken;if(Ia && "object" !== typeof Ia)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ia)return null;ud(Va,Ia,ya,Ca);});}Ma(Ta,function(){if(!ma.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};La(ma,Z,{result:function(Va){Ma(Ta,function(){var qa;qa=da?da.masterToken:Va;Sa(ma,Z,qa,{result:function(ya){Ma(Ta,function(){wa(ma,Z.peerservicetokens,qa,ya,ia,xa,{result:function(Ca){Ma(Ta,function(){return {peerMasterToken:Va,peerUserIdToken:ya,peerServiceTokens:Ca};});},error:function(Ca){Ma(Ta,function(){Ca instanceof fb && (Ca.setEntity(qa),Ca.setUser(ya));throw Ca;});}});});},error:function(ya){Ma(Ta,function(){ya instanceof fb && ya.setEntity(qa);throw ya;});}});});},error:Ta.error});});}function la(ma,Z,da,ia){var Ta;function xa(La,Sa){Ma(ia,function(){if(Sa >= La.length)return Ta;ye(ma,La[Sa],{result:function(Va){Ma(ia,function(){Ta.push(Va);xa(La,Sa + 1);});},error:function(Va){ia.error(Va);}});});}Ta=[];Ma(ia,function(){var La;La=Z.keyrequestdata;if(!La)return Ta;if(!(La instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + da);xa(La,0);});}sa=Oe=Eb.Class.create({init:function(ma,Z,da,ia,xa,Ta,La,Sa,Va){Object.defineProperties(this,{messageId:{value:ma,writable:!1,configurable:!1},nonReplayableId:{value:Z,writable:!1,configurable:!1},renewable:{value:da,writable:!1,configurable:!1},capabilities:{value:ia,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthData:{value:La,writable:!1,configurable:!1},userIdToken:{value:Sa,writable:!1,configurable:!1},serviceTokens:{value:Va,writable:!1,configurable:!1}});}});za=Pe=Eb.Class.create({init:function(ma,Z,da){Object.defineProperties(this,{peerMasterToken:{value:ma,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:da,writable:!1,configurable:!1}});}});fd=Eb.Class.create({init:function(ma,Z,da,ia,xa,Ta,La){var Va;function Sa(qa){Ma(La,function(){var ya,Ca,Ia,Ba,Ua,Ha,Ya,ab,Wa,kb,nb,qb,rb,sb,Bb,Ab,ra;Z=da?null:Z;ya=ia.nonReplayableId;Ca=ia.renewable;Ia=ia.capabilities;Ba=ia.messageId;Ua=ia.keyRequestData?ia.keyRequestData:[];Ha=ia.keyResponseData;Ya=ia.userAuthData;ab=ia.userIdToken;Wa=ia.serviceTokens?ia.serviceTokens:[];if(ma.isPeerToPeer()){kb=xa.peerMasterToken;nb=xa.peerUserIdToken;qb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (nb=kb=null,qb=[]);if(0 > Ba || Ba > Qb)throw new xb("Message ID " + Ba + " is out of range.");if(!Z && !da)throw new xb("Message entity authentication data or master token must be provided.");if(Ha){if(ma.isPeerToPeer()){rb=da;sb=Ha.masterToken;}else (rb=Ha.masterToken,sb=kb);}else (rb=da,sb=kb);if(ab && (!rb || !ab.isBoundTo(rb)))throw new xb("User ID token must be bound to a master token.");if(nb && (!sb || !nb.isBoundTo(sb)))throw new xb("Peer user ID token must be bound to a peer master token.");Wa.forEach(function(Da){if(Da.isMasterTokenBound() && (!rb || !Da.isBoundTo(rb)))throw new xb("Master token bound service tokens must be bound to the provided master token.");if(Da.isUserIdTokenBound() && (!ab || !Da.isBoundTo(ab)))throw new xb("User ID token bound service tokens must be bound to the provided user ID token.");},this);qb.forEach(function(Da){if(Da.isMasterTokenBound() && (!sb || !Da.isBoundTo(sb)))throw new xb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Da.isUserIdTokenBound() && (!nb || !Da.isBoundTo(nb)))throw new xb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ta){ra=Ta.customer;Bb=Ta.messageCryptoContext;Ab=X(ma,Bb,ra,Z,da,qa,Ba,Ua,Ha,Ya,ab,Wa,kb,nb,qb,ya,Ca,Ia,Ta.headerdata,Ta.signature);Object.defineProperties(this,Ab);return this;}ra=ab?ab.customer:null;Ab={};qa && (Ab.sender=qa);Ab.messageid=Ba;"number" === typeof ya && (Ab.nonreplayableid=ya);Ab.renewable=Ca;Ia && (Ab.capabilities=Ia);0 < Ua.length && (Ab.keyrequestdata=Ua);Ha && (Ab.keyresponsedata=Ha);Ya && (Ab.userauthdata=Ya);ab && (Ab.useridtoken=ab);0 < Wa.length && (Ab.servicetokens=Wa);kb && (Ab.peermastertoken=kb);nb && (Ab.peeruseridtoken=nb);0 < qb.length && (Ab.peerservicetokens=qb);try{Bb=T(ma,Z,da);}catch(Da){throw (Da instanceof fb && (Da.setEntity(da),Da.setEntity(Z),Da.setUser(ab),Da.setUser(Ya),Da.setMessageId(Ba)),Da);}Ab=fc(JSON.stringify(Ab),Tb);Bb.encrypt(Ab,{result:function(Da){Ma(La,function(){Bb.sign(Da,{result:function(Na){Ma(La,function(){var r;r=X(ma,Bb,ra,Z,da,qa,Ba,Ua,Ha,Ya,ab,Wa,kb,nb,qb,ya,Ca,Ia,Da,Na);Object.defineProperties(this,r);return this;},Va);},error:function(Na){Ma(La,function(){Na instanceof fb && (Na.setEntity(da),Na.setEntity(Z),Na.setUser(ab),Na.setUser(Ya),Na.setMessageId(Ba));throw Na;},Va);}});},Va);},error:function(Da){Ma(La,function(){Da instanceof fb && (Da.setEntity(da),Da.setEntity(Z),Da.setUser(ab),Da.setUser(Ya),Da.setMessageId(Ba));throw Da;},Va);}});},Va);}Va=this;Ma(La,function(){Ta?Sa(Ta.sender):da?ma.getEntityAuthenticationData(null,{result:function(qa){qa=qa.getIdentity();Sa(qa);},error:La.error}):Sa(null);},Va);},isEncrypting:function(){return this.masterToken || Bd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ma;ma={};this.masterToken?ma[He]=this.masterToken:ma[Qd]=this.entityAuthenticationData;ma[Ie]=Kb(this.headerdata);ma[Rd]=Kb(this.signature);return ma;}});Ne=function(ma,Z,da,ia,xa,Ta){new fd(ma,Z,da,ia,xa,null,Ta);};Sd=function(ma,Z,da,ia,xa,Ta,La){Ma(La,function(){var Sa,Va;da=ia?null:da;if(!da && !ia)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);Sa=Z;try{Z=Mb(Sa);}catch(qa){throw new Nb(S.HEADER_DATA_INVALID,Sa,qa);}if(!Z || 0 == Z.length)throw new Nb(S.HEADER_DATA_MISSING,Sa);try{Va=T(ma,da,ia);}catch(qa){throw (qa instanceof fb && (qa.setEntity(ia),qa.setEntity(da)),qa);}U(ma,Va,Z,xa,{result:function(qa){Ma(La,function(){var ya,Ca,Ia,Ba,Ua;try{ya=JSON.parse(qa);}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa,Ha).setEntity(ia).setEntity(da);throw Ha;}Ca=parseInt(ya.messageid);if(!Ca || Ca != Ca)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da);if(0 > Ca || Ca > Qb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + qa).setEntity(ia).setEntity(da);Ia=ia?ya.sender:null;if(ia && (!Ia || "string" !== typeof Ia))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da).setMessageId(Ca);Ba=ya.keyresponsedata;if(Ba && "object" !== typeof Ba)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da).setMessageId(Ca);Ua=La;La={result:function(Ha){Ua.result(Ha);},error:function(Ha){Ha instanceof fb && (Ha.setEntity(ia),Ha.setEntity(da),Ha.setMessageId(Ca));Ua.error(Ha);}};ba(ma,Ba,{result:function(Ha){Ma(La,function(){var Ya,ab;Ya=!ma.isPeerToPeer() && Ha?Ha.masterToken:ia;ab=ya.useridtoken;if(ab && "object" !== typeof ab)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);V(ma,ab,Ya,{result:function(Wa){Ma(La,function(){var kb;kb=ya.userauthdata;if(kb && "object" !== typeof kb)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);ja(ma,Ya,kb,{result:function(nb){Ma(La,function(){var qb,rb,sb;if(nb){qb=nb.scheme;rb=ma.getUserAuthenticationFactory(qb);if(!rb)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,qb).setUser(Wa).setUser(nb);qb=ia?ia.identity:da.getIdentity();sb=rb.authenticate(ma,qb,nb,Wa);}else sb=Wa?Wa.customer:null;wa(ma,ya.servicetokens,Ya,Wa,Ta,qa,{result:function(Bb){Ma(La,function(){var Ab,ra,Da,Na;Ab=ya.nonreplayableid !== Cb?parseInt(ya.nonreplayableid):null;ra=ya.renewable;if(Ab != Ab || "boolean" !== typeof ra)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);if(0 > Ab || Ab > Qb)throw new Nb(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + qa);Da=null;Na=ya.capabilities;if(Na){if("object" !== typeof Na)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);Da=Me(Na);}la(ma,ya,qa,{result:function(r){ua(ma,ya,Ha,Ta,qa,{result:function(b){Ma(La,function(){var a,c,k,f;a=b.peerMasterToken;c=b.peerUserIdToken;k=b.peerServiceTokens;f=new sa(Ca,Ab,ra,Da,r,Ha,nb,Wa,Bb);a=new za(a,c,k);c=new ha(sb,Ia,Va,Z,xa);new fd(ma,da,ia,f,a,c,La);});},error:La.error});},error:function(r){Ma(La,function(){r instanceof fb && (r.setUser(Wa),r.setUser(nb));throw r;});}});});},error:function(Bb){Ma(La,function(){Bb instanceof fb && (Bb.setEntity(Ya),Bb.setUser(Wa),Bb.setUser(nb));throw Bb;});}});});},error:La.error});});},error:La.error});});},error:La.error});});},error:La.error});});};})();(function(){function ha(X,T){this.payload=X;this.signature=T;}Ud=Eb.Class.create({init:function(X,T,U,ba,V,ja,wa,ua){var la;la=this;Ma(ua,function(){var sa,za;if(0 > X || X > Qb)throw new xb("Sequence number " + X + " is outside the valid range.");if(0 > T || T > Qb)throw new xb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){sa=Vd(ba,V);sa || (ba=null,sa=V);}else (ba=null,sa=V);za={};za.sequencenumber=X;za.messageid=T;U && (za.endofmsg=U);ba && (za.compressionalgo=ba);za.data=Kb(sa);sa=fc(JSON.stringify(za),Tb);ja.encrypt(sa,{result:function(ma){Ma(ua,function(){ja.sign(ma,{result:function(Z){Ma(ua,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:Z,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Z){ua.error(Z);}});},la);},error:function(ma){ua.error(ma);}});},la);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Kb(this.payload);X.signature=Kb(this.signature);return X;}});Re=function(X,T,U,ba,V,ja,wa){new Ud(X,T,U,ba,V,ja,null,wa);};Se=function(X,T,U){Ma(U,function(){var ba,V,ja,wa;ba=X.payload;V=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof V)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{ja=Mb(ba);}catch(ua){throw new Nb(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ua);}try{wa=Mb(V);}catch(ua){throw new Nb(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ua);}T.verify(ja,wa,{result:function(ua){Ma(U,function(){if(!ua)throw new vb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(ja,{result:function(la){Ma(U,function(){var sa,za,ma,Z,da,ia,xa;sa=ec(la,Tb);try{za=JSON.parse(sa);}catch(Ta){if(Ta instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa,Ta);throw Ta;}ma=parseInt(za.sequencenumber);Z=parseInt(za.messageid);da=za.endofmsg;ia=za.compressionalgo;za=za.data;if(!ma || ma != ma || !Z || Z != Z || da && "boolean" !== typeof da || ia && "string" !== typeof ia || "string" !== typeof za)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa);if(0 > ma || ma > Qb)throw new fb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + sa);if(0 > Z || Z > Qb)throw new fb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + sa);da || (da=!1);if(ia && !Kc[ia])throw new Nb(S.UNIDENTIFIED_COMPRESSION,ia);try{xa=Mb(za);}catch(Ta){throw new Nb(S.PAYLOAD_DATA_CORRUPT,za,Ta);}if(xa && 0 != xa.length)sa=ia?wd(ia,xa):xa;else {if(0 < za.length)throw new Nb(S.PAYLOAD_DATA_CORRUPT,za);if(da)sa=new Uint8Array(0);else throw new Nb(S.PAYLOAD_DATA_MISSING,za);}xa=new ha(ja,wa);new Ud(ma,Z,da,ia,sa,T,xa,U);});},error:function(la){U.error(la);}});});},error:function(ua){U.error(ua);}});});};})();(function(){var U,ba;function ha(V,ja,wa,ua,la){var za,ma,Z,da,ia;function sa(){Ma(la,function(){var xa,Ta;ma >= ja.length && (ma=0,++za);if(za >= Z.length){if(da)throw da;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ja));}xa=Z[za];Ta=ja[ma];xa.scheme != Ta.keyExchangeScheme?(++ma,sa()):xa.generateResponse(V,Ta,ia,{result:function(La){la.result(La);},error:function(La){Ma(la,function(){if(!(La instanceof fb))throw La;da=La;++ma;sa();});}});});}za=0;ma=0;Z=V.getKeyExchangeFactories();ia=wa?wa:ua;sa();}function X(V,ja,wa,ua,la){Ma(la,function(){var sa;sa=ja.keyRequestData;if(ja.isRenewable() && 0 < sa.length)ua?ua.isRenewable() || ua.isExpired()?ha(V,sa,ua,null,la):V.getTokenFactory().isNewestMasterToken(V,ua,{result:function(za){Ma(la,function(){if(za)return null;ha(V,sa,ua,null,la);});},error:la.error}):ha(V,sa,null,wa.getIdentity(),la);else return null;});}function T(V,ja,wa,ua){Ma(ua,function(){var la,sa,za,ma;la=ja.userIdToken;sa=ja.userAuthenticationData;za=ja.messageId;if(la && la.isVerified()){if(la.isRenewable() && ja.isRenewable() || la.isExpired() || !la.isBoundTo(wa)){sa=V.getTokenFactory();sa.renewUserIdToken(V,la,wa,ua);return;}}else if(ja.isRenewable() && wa && sa){la=ja.customer;if(!la){la=sa.scheme;ma=V.getUserAuthenticationFactory(la);if(!ma)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,la).setEntity(wa).setUser(sa).setMessageId(za);la=ma.authenticate(V,wa.identity,sa,null);}sa=V.getTokenFactory();sa.createUserIdToken(V,la,wa,ua);return;}return la;});}U=new Uint8Array(0);ba=Nc=function(V){if(0 > V || V > Qb)throw new xb("Message ID " + V + " is outside the valid range.");return V == Qb?0:V + 1;};Vc=function(V){if(0 > V || V > Qb)throw new xb("Message ID " + V + " is outside the valid range.");return 0 == V?Qb:V - 1;};Oc=function(V,ja,wa,ua,la){Ma(la,function(){var sa;if(ua == Cb || null == ua){sa=V.getRandom();do {ua=sa.nextLong();}while(0 > ua || ua > Qb);}else if(0 > ua || ua > Qb)throw new xb("Message ID " + ua + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(za){Ma(la,function(){var ma;ma=V.getMessageCapabilities();return new xd(V,ua,ma,za,ja,wa,null,null,null,null,null);});},error:function(za){la.error(za);}});});};Te=function(V,ja,wa){Ma(wa,function(){var la,sa,za,ma,Z,da;function ua(ia){Ma(wa,function(){ia instanceof fb && (ia.setEntity(la),ia.setEntity(sa),ia.setUser(za),ia.setUser(ma),ia.setMessageId(Z));throw ia;});}la=ja.masterToken;sa=ja.entityAuthenticationData;za=ja.userIdToken;ma=ja.userAuthenticationData;Z=ja.messageId;da=ba(Z);X(V,ja,sa,la,{result:function(ia){Ma(wa,function(){var xa;xa=ia?ia.keyResponseData.masterToken:xa=la;V.getEntityAuthenticationData(null,{result:function(Ta){Ma(wa,function(){T(V,ja,xa,{result:function(La){Ma(wa,function(){var Sa,Va,qa;za=La;Sa=Td(ja.messageCapabilities,V.getMessageCapabilities());Va=ja.keyResponseData;qa=ja.serviceTokens;return V.isPeerToPeer()?new xd(V,da,Sa,Ta,Va?Va.masterToken:ja.peerMasterToken,ja.peerUserIdToken,ja.peerServiceTokens,la,za,qa,ia):new xd(V,da,Sa,Ta,Va?Va.masterToken:la,za,qa,null,null,null,ia);});},error:ua});});},error:ua});});},error:ua});});};Ue=function(V,ja,wa,ua,la){Ma(la,function(){V.getEntityAuthenticationData(null,{result:function(sa){Ma(la,function(){var za,ma;if(ja != Cb && null != ja)za=ba(ja);else {ma=V.getRandom();do {za=ma.nextInt();}while(0 > za || za > Qb);}Le(V,sa,za,wa.responseCode,wa.internalCode,wa.message,ua,la);});},error:function(sa){la.error(sa);}});});};xd=Eb.Class.create({init:function(V,ja,wa,ua,la,sa,za,ma,Z,da,ia){var xa,Ta,La,Sa,Va;if(!V.isPeerToPeer() && (ma || Z))throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=ia && !V.isPeerToPeer()?ia.keyResponseData.masterToken:la;Ta=[];xa=V.getMslStore().getServiceTokens(xa,sa);Ta.push.apply(Ta,xa);za && za.forEach(function(qa){Ta.push(qa);},this);La=[];if(V.isPeerToPeer()){Sa=ma;Va=Z;za=ia?ia.keyResponseData.masterToken:ma;Z=V.getMslStore().getServiceTokens(za,Z);La.push.apply(La,Z);da && da.forEach(function(qa){La.push(qa);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ua,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ja,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ia,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:sa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Va,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:La,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Bd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Bd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(V){Ma(V,function(){var ja,wa,ua;ja=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(ua in this._keyRequestData){wa.push(this._keyRequestData[ua]);}if(this._nonReplayable){if(!this._masterToken)throw new Nb(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ua=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ua=null;ja=new Oe(this._messageId,ua,this._renewable,this._capabilities,wa,ja,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ja,wa,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,ja){var wa,la;if(ja && !ja.isBoundTo(V))throw new xb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new xb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(V,ja);}catch(sa){if(sa instanceof fb)throw new xb("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){la=this._serviceTokens[ua];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(V)) && this._serviceTokens.splice(ua,1);}wa.forEach(function(sa){this.excludeServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._serviceTokens.push(sa);},this);this._masterToken=V;this._userIdToken=ja;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,ja){var wa;wa=this;Ma(ja,function(){var ua;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new xb("User ID token or peer user ID token already exists for the remote user.");ua=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ua)throw new xb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,ua,{result:function(la){Ma(ja,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=la:(this._userIdToken=la,this._userAuthData=null);return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var ja;ja=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(ja))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(ja)).setEntity(ja);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ja).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var wa;for(var ja=this._serviceTokens.length - 1;0 <= ja;--ja){wa=this._serviceTokens[ja];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,ja,wa,la;if(1 == arguments.length){V=arguments[0];ja=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],wa=arguments[1],V=arguments[2]);for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){la=this._serviceTokens[ua];la.name == ja && la.isMasterTokenBound() == wa && la.isUserIdTokenBound() == V && this._serviceTokens.splice(ua,1);}return this;},deleteServiceToken:function(){var V,ja,wa,ua;if(2 == arguments.length){V=arguments[0];ja=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,ja=arguments[0],wa=arguments[3]);ua=this;Ma(wa,function(){var la,sa;la=originalToken.isMasterTokenBound()?this._masterToken:null;sa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ja,U,la,sa,!1,null,new Uc(),{result:function(za){Ma(wa,function(){return this.addServiceToken(za);},ua);},error:function(za){za instanceof fb && (za=new xb("Failed to create and add empty service token to message.",za));wa.error(za);}});},ua);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,ja){var wa,la;if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ja && !V)throw new xb("Peer master token cannot be null when setting peer user ID token.");if(ja && !ja.isBoundTo(V))throw new Nb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ja + "; mt " + V).setEntity(V).setUser(ja);try{wa=this._ctx.getMslStore().getServiceTokens(V,ja);}catch(sa){if(sa instanceof fb)throw new xb("Invalid peer master token and user ID token combination despite proper check.",sa);throw sa;}for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){la=this._peerServiceTokens[ua];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(V)) && this._peerServiceTokens.slice(ua,1);}wa.forEach(function(sa){this.excludePeerServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._peerServiceTokens.push(sa);},this);this._peerUserIdToken=ja;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var wa;for(var ja=this._peerServiceTokens.length - 1;0 <= ja;--ja){wa=this._peerServiceTokens[ja];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,ja,wa,la;if(1 == arguments.length){V=arguments[0];ja=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],wa=arguments[1],V=arguments[2]);for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){la=this._peerServiceTokens[ua];la.name == ja && la.isMasterTokenBound() == wa && la.isUserIdTokenBound() == V && this._peerServiceTokens.splice(ua,1);}return this;},deletePeerServiceToken:function(){var V,ja,wa,ua,la,sa;if(2 == arguments.length){V=arguments[0];ja=V.name;wa=V.isMasterTokenBound();ua=V.isUserIdTokenBound();la=arguments[1];}else (arguments.length=4,ja=arguments[0],wa=arguments[1],ua=arguments[2],la=arguments[3]);sa=this;Ma(la,function(){zc(this._ctx,ja,U,wa?this._peerMasterToken:null,ua?this._peerUserIdToken:null,!1,null,new Uc(),{result:function(za){Ma(la,function(){return this.addPeerServiceToken(za);},sa);},error:function(za){za instanceof fb && (za=new xb("Failed to create and add empty peer service token to message.",za));la.error(za);}});},sa);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ha(T,U){return U[T]?U[T]:U[""];}function X(T){var U;U=T.builder.getKeyExchangeData();return U && !T.ctx.isPeerToPeer()?U.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Eb.Class.create({init:function(T,U,ba){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:U.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(U){if(U instanceof Nb)return !1;throw U;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(U){if(U instanceof Nb)return !1;throw U;}},addUnboundPrimaryServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua;ua=ha(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,U,null,null,ba,V,ua,{result:function(la){Ma(ja,function(){try{this.builder.addServiceToken(la);}catch(sa){if(sa instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addUnboundPeerServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua;ua=ha(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,U,null,null,ba,V,ua,{result:function(la){Ma(ja,function(){try{this.builder.addPeerServiceToken(la);}catch(sa){if(sa instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua,la;ua=X(this);if(!ua)return !1;la=ha(T,this.cryptoContexts);if(!la)return !1;zc(this.ctx,T,U,ua,null,ba,V,la,{result:function(sa){Ma(ja,function(){try{this.builder.addServiceToken(sa);}catch(za){if(za instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){ja.error(sa);}});},wa);},addMasterBoundPeerServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua,la;ua=this.builder.getPeerMasterToken();if(!ua)return !1;la=ha(T,this.cryptoContexts);if(!la)return !1;zc(this.ctx,T,U,ua,null,ba,V,la,{result:function(sa){Ma(ja,function(){try{this.builder.addPeerServiceToken(sa);}catch(za){if(za instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){ja.error(sa);}});},wa);},addUserBoundPrimaryServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua,la,sa;ua=X(this);if(!ua)return !1;la=this.builder.getUserIdToken();if(!la)return !1;sa=ha(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,ua,la,ba,V,sa,{result:function(za){Ma(ja,function(){try{this.builder.addServiceToken(za);}catch(ma){if(ma instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},wa);},error:function(za){ja.error(za);}});},wa);},addUserBoundPeerServiceToken:function(T,U,ba,V,ja){var wa;wa=this;Ma(ja,function(){var ua,la,sa;ua=this.builder.getPeerMasterToken();if(!ua)return !1;la=this.builder.getPeerUserIdToken();if(!la)return !1;sa=ha(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,ua,la,ba,V,sa,{result:function(za){Ma(ja,function(){try{this.builder.addPeerServiceToken(za);}catch(ma){if(ma instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},wa);},error:function(za){ja.error(za);}});},wa);},excludePrimaryServiceToken:function(){var T,U,ba,V;if(1 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],ba=arguments[1],V=arguments[2]);for(var ja=this.builder.getServiceTokens(),wa=0;wa < ja.length;++wa){if((T=ja[wa],T.name == U && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(U,ba,V),!0);}return !1;},excludePeerServiceToken:function(){var T,U,ba,V;if(1 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],ba=arguments[1],V=arguments[2]);for(var ja=this.builder.getPeerServiceTokens(),wa=0;wa < ja.length;++wa){if((T=ja[wa],T.name == U && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(U,ba,V),!0);}return !1;},deletePrimaryServiceToken:function(){var T,U,ba,V,ja;if(2 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (U=arguments[0],ba=arguments[1],V=arguments[2],ja=arguments[3]);Ma(ja,function(){var la;for(var wa=this.builder.getServiceTokens(),ua=0;ua < wa.length;++ua){la=wa[ua];if(la.name == U && la.isMasterTokenBound() == ba && la.isUserIdTokenBound() == V){this.builder.deleteServiceToken(U,ba,V,{result:function(){ja.result(!0);},error:function(sa){ja.error(sa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,U,ba,V,ja;if(2 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (U=arguments[0],ba=arguments[1],V=arguments[2],ja=arguments[3]);Ma(ja,function(){var la;for(var wa=this.builder.getPeerServiceTokens(),ua=0;ua < wa.length;++ua){la=wa[ua];if(la.name == U && la.isMasterTokenBound() == ba && la.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(U,ba,V,{result:function(){ja.result(!0);},error:function(sa){ja.error(sa);}});return;}}return !1;},this);}});})();(function(){function ha(X,T,U,ba){Ma(ba,function(){var ja,wa,ua,la,sa,za;function V(){Ma(ba,function(){var ma;if(za >= U.length){if(sa)throw sa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(U));}ma=U[za];ua != ma.keyExchangeScheme?(++za,V()):la.getCryptoContext(X,ma,wa,ja,{result:ba.result,error:function(Z){Ma(ba,function(){if(!(Z instanceof fb))throw Z;sa=Z;++za;V();});}});});}ja=T.masterToken;wa=T.keyResponseData;if(!wa)return null;ua=wa.keyExchangeScheme;la=X.getKeyExchangeFactory(ua);if(!la)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ua);za=0;V();});}We=Pd.extend({init:function(X,T,U,ba,V,ja,wa){var ua;ua=this;bb(wa,function(){var da;function la(){ua._ready=!0;ua._readyQueue.add(!0);}function sa(ia,xa){var Ta;try{Ta=xa.masterToken;ia.getTokenFactory().isMasterTokenRevoked(ia,Ta,{result:function(La){La?(ua._errored=new $c(La,Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):za(ia,xa);},error:function(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ua._errored=La;la();}});}catch(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ua._errored=La;la();}}function za(ia,xa){var Ta,La;try{Ta=xa.masterToken;La=xa.userIdToken;La?ia.getTokenFactory().isUserIdTokenRevoked(ia,Ta,La,{result:function(Sa){Sa?(ua._errored=new MslUserIdTokenException(Sa,La).setEntity(Ta).setUser(La).setMessageId(xa.messageId),la()):ma(ia,xa);},error:function(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ua._errored=Sa;la();}}):ma(ia,xa);}catch(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ua._errored=Sa;la();}}function ma(ia,xa){var Ta;try{Ta=xa.masterToken;Ta.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?ia.getTokenFactory().isMasterTokenRenewable(ia,Ta,{result:function(La){La?(ua._errored=new Nb(La,"Master token is expired and not renewable.").setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):Z(ia,xa);},error:function(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ua._errored=La;la();}}):(ua._errored=new Nb(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):Z(ia,xa);}catch(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ua._errored=La;la();}}function Z(ia,xa){var Ta,La;try{Ta=xa.masterToken;La=xa.nonReplayableId;"number" === typeof La?Ta?ia.getTokenFactory().acceptNonReplayableId(ia,Ta,La,{result:function(Sa){Sa || (ua._errored=new Nb(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));la();},error:function(Sa){Sa instanceof fb && (Sa.setEntity(Ta),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ua._errored=Sa;la();}}):(ua._errored=new Nb(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):la();}catch(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setEntity(xa.entityAuthenticationData),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ua._errored=Sa;la();}}da={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Yc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);xe(ua._source,ja,{result:function(ia){ua._json=ia;ua._jsonIndex=0;null === ua._json?(ua._errored=new Gb(S.MESSAGE_DATA_MISSING),la()):Ge(X,ua._json[ua._jsonIndex++],V,{result:function(xa){var Ta;ua._header=xa;if(ua._header instanceof Ic)(ua._keyxCryptoContext=null,ua._cryptoContext=null,la());else {Ta=ua._header;ha(X,Ta,ba,{result:function(La){var Sa;try{ua._keyxCryptoContext=La;X.isPeerToPeer() || !ua._keyxCryptoContext?ua._cryptoContext=Ta.cryptoContext:ua._cryptoContext=ua._keyxCryptoContext;try{Sa=Ta.masterToken;Sa && (X.isPeerToPeer() || Sa.isVerified())?sa(X,Ta):Z(X,Ta);}catch(Va){Va instanceof fb && (Va.setEntity(Ta.masterToken),Va.setUser(Ta.userIdToken),Va.setUser(Ta.userAuthenticationData),Va.setMessageId(Ta.messageId));ua._errored=Va;la();}}catch(Va){Va instanceof fb && (Va.setEntity(Ta.masterToken),Va.setEntity(Ta.entityAuthenticationData),Va.setUser(Ta.userIdToken),Va.setUser(Ta.userAuthenticationData),Va.setMessageId(Ta.messageId));ua._errored=Va;la();}},error:function(La){La instanceof fb && (La.setEntity(Ta.masterToken),La.setEntity(Ta.entityAuthenticationData),La.setUser(Ta.userIdToken),La.setUser(Ta.userAuthenticationData),La.setMessageId(Ta.messageId));ua._errored=La;la();}});}},error:function(xa){ua._errored=xa;la();}});},timeout:function(){ua._timedout=!0;la();},error:function(ia){ua._errored=ia;la();}});return this;},ua);},nextData:function(X,T){var U;U=this;bb(T,function(){var V;function ba(ja){bb(ja,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ua){ua && ua.length && 0 < ua.length?(ua.forEach(function(la){this._json.push(la);}),ba(ja)):(this._eom=!0,ja.result(null));},timeout:function(){ja.timeout();},error:function(ua){ja.error(ua);}});},U);}V=this.getMessageHeader();if(!V)throw new xb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(ja){bb(T,function(){if(!ja)return null;if("object" !== typeof ja)throw new Gb(S.MESSAGE_FORMAT_ERROR);Se(ja,this._cryptoContext,{result:function(wa){bb(T,function(){var ua,la,sa,za;ua=V.masterToken;la=V.entityAuthenticationData;sa=V.userIdToken;za=V.getUserAuthenticationData;if(wa.messageId != V.messageId)throw new Nb(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + V.messageId).setEntity(ua).setEntity(la).setUser(sa).setUser(za);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Nb(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ua).setEntity(la).setUser(sa).setUser(za);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);ua=wa.data;this._payloads.push(ua);this._payloadIndex=-1;return ua;},U);},error:function(wa){wa instanceof SyntaxError && (wa=new Gb(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},U);},timeout:function(){T.timeout();},error:function(ja){T.error(ja);}});},U);},isReady:function(X,T){var ba;function U(){bb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;bb(T,function(){this._ready?U():this._readyQueue.poll(X,{result:function(V){bb(T,function(){if(V === Cb)return !1;U();},ba);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});},ba);},getMessageHeader:function(){return this._header instanceof fd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,T;X=this.getMessageHeader();if(X){T=X.masterToken;return T?T.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,T,U){var V;function ba(){bb(U,function(){var wa,ua,la,sa;function ja(za){bb(za,function(){var ma,Z,da;if(ua && sa >= ua.length)return ua.subarray(0,sa);ma=-1;if(this._currentPayload){Z=this._currentPayload.length - this._payloadOffset;if(!ua){da=Z;if(-1 != this._payloadIndex)for(var ia=this._payloadIndex;ia < this._payloads.length;++ia){da+=this._payloads[ia].length;}0 < da && (ua=new Uint8Array(da));}Z=Math.min(Z,ua?ua.length - sa:0);0 < Z && (ma=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Z),ua.set(ma,la),ma=Z,la+=Z,this._payloadOffset+=Z);}-1 != ma?(sa+=ma,ja(za)):this.nextData(T,{result:function(xa){bb(za,function(){if(this._aborted)return ua?ua.subarray(0,sa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)ja(za);else return 0 == sa && 0 != X?null:ua?ua.subarray(0,sa):new Uint8Array(0);},V);},timeout:function(){za.timeout(ua?ua.subarray(0,sa):new Uint8Array(0));},error:function(xa){bb(za,function(){xa instanceof fb && (xa=new Xb("Error reading the payload chunk.",xa));if(0 < sa)return (V._readException=xa,ua.subarray(0,sa));throw xa;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)U.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}ua=-1 != X?new Uint8Array(X):Cb;la=0;sa=0;ja(U);}},V);}V=this;bb(U,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(T,{result:function(ja){ja === Cb?U.result(!1):ba();},timeout:function(){U.timeout(new Uint8Array(0));},error:function(ja){U.error(ja);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,T,U,ba,V,ja,wa){new We(X,T,U,ba,V,ja,wa);};})();(function(){Ye=td.extend({init:function(ha,X,T,U,ba,V,ja){var wa;wa=this;bb(ja,function(){var la,sa,za;function ua(){wa._ready=!0;wa._readyQueue.add(!0);}la=Td(ha.getMessageCapabilities(),U.messageCapabilities);sa=null;la && (sa=me(la.compressionAlgorithms));la={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_header:{value:U,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:sa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Yc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);za=fc(JSON.stringify(U),T);X.write(za,0,za.length,V,{result:function(ma){try{wa._aborted?ua():ma < za.length?(wa._timedout=!0,ua()):X.flush(V,{result:function(Z){wa._aborted || (wa._timedout=!Z);ua();},timeout:function(){wa._timedout=!0;ua();},error:function(Z){wa._errored=Z;ua();}});}catch(Z){wa._errored=Z;ua();}},timeout:function(){wa._timedout=!0;ua();},error:function(ma){wa._errored=ma;ua();}});return this;},wa);},setCompressionAlgorithm:function(ha,X,T){var ba;function U(){ba.flush(X,{result:function(V){bb(T,function(){if(!V)throw new Xb("flush() aborted");this._compressionAlgo=ha;return !0;},ba);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});}ba=this;bb(T,function(){if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,ja=0;ja < V.length;++ja){if(V[ja] == ha){U();return;}}return !1;}U();},ba);},getMessageHeader:function(){return this._header instanceof fd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,X){var T;T=this;bb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(U){bb(X,function(){U && (this._currentPayload=null);return U;},T);},timeout:function(){X.timeout();},error:function(U){X.error(U);}});}},T);},flush:function(ha,X){var U;function T(){bb(X,function(){var ba,V,la;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(sa){V+=sa.length;});for(var ja=new Uint8Array(V),wa=0,ua=0;this._currentPayload && ua < this._currentPayload.length;++ua){la=this._currentPayload[ua];ja.set(la,wa);wa+=la.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,ja,this._cryptoContext,{result:function(sa){bb(X,function(){var za;this._payloads.push(sa);za=fc(JSON.stringify(sa),this._charset);this._destination.write(za,0,za.length,ha,{result:function(ma){bb(X,function(){if(this._aborted)return !1;ma < sa.length?X.timeout():this._destination.flush(ha,{result:function(Z){bb(X,function(){if(this._aborted)return !1;if(Z)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},U);},timeout:function(){X.timeout();},error:function(Z){Z instanceof fb && (Z=new Xb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",Z));X.error(Z);}});},U);},timeout:function(ma){X.timeout();},error:function(ma){ma instanceof fb && (ma=new Xb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",ma));X.error(ma);}});},U);},error:function(sa){sa instanceof fb && (sa=new Xb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",sa));X.error(sa);}});}},U);}U=this;bb(X,function(){this._ready?T():this._readyQueue.poll(ha,{result:function(ba){ba === Cb?X.result(!1):T();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},U);},write:function(ha,X,T,U,ba){bb(ba,function(){var V;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Xb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");V=ha.subarray(X,X + T);this._currentPayload.push(V);return V.length;}},this);}});yd=function(ha,X,T,U,ba,V,ja){new Ye(ha,X,T,U,ba,V,ja);};})();Cf=Eb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ea.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ea.SSOTOKEN_REJECTED});Ze=Eb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,X,T,U){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,X,T){},write:function(ha,X,T){},getDebugContext:function(){}});Eb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var wa,ua,la,sa,za,ma,Z,da,ia,xa,Ta,La;function ha(Sa){return function(){Sa.abort();};}function X(Sa,Va){Object.defineProperties(this,{masterToken:{value:Sa,writable:!1,configurable:!1},ticket:{value:Va,writable:!1,configurable:!1}});}function T(Sa,Va){Object.defineProperties(this,{builder:{value:Sa,writable:!1,configurable:!1},msgCtx:{value:Va,writable:!1,configurable:!1}});}function U(Sa,Va,qa){Object.defineProperties(this,{requestHeader:{value:Sa,writable:!1,configurable:!1},payloads:{value:Va,writable:!1,configurable:!1},handshake:{value:qa,writable:!1,configurable:!1}});}function ba(Sa,Va){Object.defineProperties(this,{requestHeader:{value:Va.requestHeader,writable:!1,configurable:!1},payloads:{value:Va.payloads,writable:!1,configurable:!1},handshake:{value:Va.handshake,writable:!1,configurable:!1},response:{value:Sa,writable:!1,configurable:!1}});}function V(Sa){for(;Sa;){if(Sa instanceof ac)return !0;Sa=Sa instanceof fb?Sa.cause:Cb;}return !1;}function ja(Sa,Va,qa,ya,Ca,Ia,Ba,Ua,Ha){Ue(Va,ya,Ca,Ia,{result:function(Ya){qa && qa.sentHeader(Ya);yd(Va,Ba,Tb,Ya,null,null,Ua,{result:function(ab){Sa.setAbort(function(){ab.abort();});ab.close(Ua,{result:function(Wa){bb(Ha,function(){if(!Wa)throw new ac("sendError aborted.");return Wa;});},timeout:function(){Ha.timeout();},error:function(Wa){Ha.error(Wa);}});},timeout:function(){},error:function(ab){Ha.error(ab);}});},error:function(Ya){Ha.error(Ya);}});}wa=td.extend({close:function(Sa,Va){Va.result(!0);},write:function(Sa,Va,qa,ya,Ca){Ma(Ca,function(){return Math.min(Sa.length - Va,qa);});},flush:function(Sa,Va){Va.result(!0);}});ua=Bf.extend({getUserMessage:function(Sa,Va){return null;}});la=Ze.extend({init:function(Sa){Object.defineProperties(this,{_appCtx:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Sa,Va,qa,ya){this._appCtx.getUserAuthData(Sa,Va,qa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Sa){this._appCtx.getKeyRequestData(Sa);},updateServiceTokens:function(Sa,Va,qa){this._appCtx.updateServiceTokens(Sa,Va,qa);},write:function(Sa,Va,qa){this._appCtx.write(Sa,Va,qa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});sa=la.extend({init:function ya(Va,qa){ya.base.call(this,qa);Object.defineProperties(this,{_payloads:{value:Va,writable:!1,enumerable:!1,configurable:!1}});},write:function(Va,qa,ya){var Ia;function Ca(Ba,Ua){var Ha;if(Ba == Ia._payloads.length)ya.result(!0);else {Ha=Ia._payloads[Ba];Va.setCompressionAlgorithm(Ha.compressionAlgo,qa,{result:function(Ya){Va.write(Ha.data,0,Ha.data.length,qa,{result:function(ab){bb(ya,function(){Ha.isEndOfMessage()?Ca(Ba + 1,Ua):Va.flush(qa,{result:function(Wa){ya.result(Wa);},timeout:function(){ya.timeout();},error:function(Wa){ya.error(Wa);}});},Ia);},timeout:function(ab){ya.timeout(ab);},error:function(ab){ya.error(ab);}});},timeout:function(){},error:function(Ya){ya.error(Ya);}});}}Ia=this;Ca(0);}});za=la.extend({init:function ya(qa){ya.base.call(this,qa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(qa,ya,Ca){Ca.result(!0);}});ma={};Z=Eb.Class.create({init:function(qa){qa || (qa=new ua());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(qa){this._filterFactory=qa;},getNewestMasterToken:function(qa,ya,Ca,Ia){var Ba;Ba=this;bb(Ia,function(){var Ua,Ha,Ya,ab,Wa;Ua=ya.getMslStore();Ha=Ua.getMasterToken();if(!Ha)return null;Ya=Ha.uniqueKey();ab=this._masterTokenLocks[Ya];ab || (ab=new Ed(),this._masterTokenLocks[Ya]=ab);Wa=ab.readLock(Ca,{result:function(kb){bb(Ia,function(){var nb;if(kb === Cb)throw new ac("getNewestMasterToken aborted.");nb=Ua.getMasterToken();if(Ha.equals(nb))return new X(Ha,kb);ab.unlock(kb);ab.writeLock(Ca,{result:function(qb){bb(Ia,function(){if(qb === Cb)throw new ac("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ya];ab.unlock(qb);return this.getNewestMasterToken(qa,ya,Ca,Ia);},Ba);},timeout:function(){Ia.timeout();},error:function(qb){Ia.error(qb);}});},Ba);},timeout:function(){Ia.timeout();},error:function(kb){Ia.error(kb);}});qa.setAbort(function(){Wa && (ab.cancel(Wa),Wa=Cb);});},Ba);},deleteMasterToken:function(qa,ya){var Ca;if(ya){Ca=this;setTimeout(function(){var Ia,Ba;Ia=ya.uniqueKey();Ba=Ca._masterTokenLocks[Ia];Ba || (Ba=new Ed(),Ca._masterTokenLocks[Ia]=Ba);Ba.writeLock(-1,{result:function(Ua){qa.getMslStore().removeCryptoContext(ya);delete Ca._masterTokenLocks[Ia];Ba.unlock(Ua);},timeout:function(){throw new xb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(qa){var ya;if(qa && qa.masterToken){ya=qa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new xb("Master token read/write lock does not exist when it should.");ya.unlock(qa.ticket);}},updateOutgoingCryptoContexts:function(qa,ya,Ca){var Ia;Ia=qa.getMslStore();!qa.isPeerToPeer() && Ca && (Ia.setCryptoContext(Ca.keyResponseData.masterToken,Ca.cryptoContext),this.deleteMasterToken(qa,ya.masterToken));},updateIncomingCryptoContexts:function(qa,ya,Ca){var Ia,Ba;Ia=Ca.getMessageHeader();if(Ia){Ba=qa.getMslStore();if(Ia=Ia.keyResponseData)(Ba.setCryptoContext(Ia.masterToken,Ca.getKeyExchangeCryptoContext()),this.deleteMasterToken(qa,ya.masterToken));}},storeServiceTokens:function(qa,ya,Ca,Ia){var Ha,Ya;qa=qa.getMslStore();for(var Ba=[],Ua=0;Ua < Ia.length;++Ua){Ha=Ia[Ua];if(!Ha.isBoundTo(ya) || !ya.isVerified()){Ya=Ha.data;Ya && 0 == Ya.length?qa.removeServiceTokens(Ha.name,Ha.isMasterTokenBound()?ya:null,Ha.isUserIdTokenBound()?Ca:null):Ba.push(Ha);}}0 < Ba.length && qa.addServiceTokens(Ba);},buildRequest:function(qa,ya,Ca,Ia,Ba){var Ua;Ua=this;this.getNewestMasterToken(qa,ya,Ia,{result:function(Ha){Ma(Ba,function(){var Ya,ab,Wa;Ya=Ha && Ha.masterToken;if(Ya){ab=Ca.getUserId();Wa=ya.getMslStore();ab=(ab=ab?Wa.getUserIdToken(ab):null) && ab.isBoundTo(Ya)?ab:null;}else ab=null;Oc(ya,Ya,ab,null,{result:function(kb){Ma(Ba,function(){kb.setNonReplayable(Ca.isNonReplayable());return {builder:kb,tokenTicket:Ha};});},error:function(kb){Ma(Ba,function(){this.releaseMasterToken(Ha);kb instanceof fb && (kb=new xb("User ID token not bound to master token despite internal check.",kb));throw kb;},Ua);}});},Ua);},timeout:function(){Ba.timeout();},error:function(Ha){Ba.error(Ha);}});},buildResponse:function(qa,ya,Ca,Ia,Ba,Ua){var Ha;Ha=this;Te(ya,Ia,{result:function(Ya){bb(Ua,function(){Ya.setNonReplayable(Ca.isNonReplayable());if(!ya.isPeerToPeer() && !Ia.keyResponseData)return {builder:Ya,tokenTicket:null};this.getNewestMasterToken(qa,ya,Ba,{result:function(ab){bb(Ua,function(){var Wa,kb,nb;Wa=ab && ab.masterToken;if(Wa){kb=Ca.getUserId();nb=ya.getMslStore();kb=(kb=kb?nb.getUserIdToken(kb):null) && kb.isBoundTo(Wa)?kb:null;}else kb=null;Ya.setAuthTokens(Wa,kb);return {builder:Ya,tokenTicket:ab};},Ha);},timeout:function(){Ua.timeout();},error:function(ab){Ua.error(ab);}});},Ha);},error:function(Ya){Ua.error(Ya);}});},buildErrorResponse:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Wa;function Ya(kb,nb){bb(Ha,function(){var qb,rb;qb=Nc(Ba.messageId);rb=new sa(nb,Ca);Oc(ya,null,null,qb,{result:function(sb){bb(Ha,function(){ya.isPeerToPeer() && sb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new T(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Ha.error(sb);}});},Wa);}function ab(kb,nb){Wa.getNewestMasterToken(qa,ya,Ua,{result:function(qb){bb(Ha,function(){var rb,sb,Bb;rb=qb && qb.masterToken;sb=Nc(Ba.messageId);Bb=new sa(nb,Ca);Oc(ya,rb,null,sb,{result:function(Ab){bb(Ha,function(){ya.isPeerToPeer() && Ab.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);Ab.setNonReplayable(Bb.isNonReplayable());return {errorResult:new T(Ab,Bb),tokenTicket:qb};},Wa);},error:function(Ab){Ha.error(Ab);}});},Wa);},timeout:function(){Ha.timeout();},error:function(qb){Ha.error(qb);}});}Wa=this;bb(Ha,function(){var kb,nb,qb,rb;kb=Ia.requestHeader;nb=Ia.payloads;qb=Ba.errorCode;switch(qb){case Ea.ENTITYDATA_REAUTH:case Ea.ENTITY_REAUTH:ya.getEntityAuthenticationData(qb,{result:function(sb){bb(Ha,function(){if(!sb)return null;Ya(kb,nb);},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.USERDATA_REAUTH:case Ea.SSOTOKEN_REJECTED:Ca.getUserAuthData(qb,!1,!0,{result:function(sb){bb(Ha,function(){if(!sb)return null;ab(kb,nb);},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.USER_REAUTH:ab(kb,nb);break;case Ea.KEYX_REQUIRED:qb=Nc(Ba.messageId);rb=new sa(nb,Ca);Oc(ya,null,null,qb,{result:function(sb){bb(Ha,function(){ya.isPeerToPeer() && sb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new T(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.EXPIRED:this.getNewestMasterToken(qa,ya,Ua,{result:function(sb){bb(Ha,function(){var Bb,Ab,ra,Da;Bb=sb && sb.masterToken;Ab=kb.userIdToken;ra=Nc(Ba.messageId);Da=new sa(nb,Ca);Oc(ya,Bb,Ab,ra,{result:function(Na){bb(Ha,function(){ya.isPeerToPeer() && Na.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Bb) && Na.setRenewable(!0);Na.setNonReplayable(Da.isNonReplayable());return {errorResult:new T(Na,Da),tokenTicket:sb};},Wa);},error:function(Na){Ha.error(Na);}},Wa);},Wa);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});break;case Ea.REPLAYED:this.getNewestMasterToken(qa,ya,Ua,{result:function(sb){bb(Ha,function(){var Bb,Ab,ra,Da;Bb=sb && sb.masterToken;Ab=kb.userIdToken;ra=Nc(Ba.messageId);Da=new sa(nb,Ca);Oc(ya,Bb,Ab,ra,{result:function(Na){bb(Ha,function(){ya.isPeerToPeer() && Na.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Bb)?(Na.setRenewable(!0),Na.setNonReplayable(!1)):Na.setNonReplayable(Da.isNonReplayable());return {errorResult:new T(Na,Da),tokenTicket:sb};},Wa);},error:function(Na){Ha.error(Na);}});},Wa);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});break;default:return null;}},Wa);},cleanupContext:function(qa,ya,Ca){switch(Ca.errorCode){case Ea.ENTITY_REAUTH:this.deleteMasterToken(qa,ya.masterToken);break;case Ea.USER_REAUTH:(Ca=ya.userIdToken,ya.masterToken && Ca && qa.getMslStore().removeUserIdToken(Ca));}},send:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var qb;function Ya(rb,sb,Bb){bb(Ha,function(){var Ab;Ab=Ba.getPeerUserIdToken();!ya.isPeerToPeer() && !sb || ya.isPeerToPeer() && !Ab?(Ab=Ca.getCustomer())?Ba.setCustomer(Ab,{result:function(ra){bb(Ha,function(){sb=Ba.getUserIdToken();ab(rb,sb,Bb);},qb);},error:function(ra){Ha.error(ra);}}):ab(rb,sb,Bb):ab(rb,sb,Bb);},qb);}function ab(rb,sb,Bb){bb(Ha,function(){var Ab,ra;Ab=!Bb && (!Ca.isEncrypted() || Ba.willEncryptPayloads()) && (!Ca.isIntegrityProtected() || Ba.willIntegrityProtectPayloads()) && (!Ca.isNonReplayable() || Ba.isNonReplayable() && rb);Ab || Ba.setNonReplayable(!1);ra=[];Ba.isRenewable() && (!rb || rb.isRenewable() || Ca.isNonReplayable())?Ca.getKeyRequestData({result:function(Da){bb(Ha,function(){var r;for(var Na=0;Na < Da.length;++Na){r=Da[Na];ra.push(r);Ba.addKeyRequestData(r);}Wa(rb,sb,Ab,ra);},qb);},error:function(Da){Ha.error(Da);}}):Wa(rb,sb,Ab,ra);},qb);}function Wa(rb,sb,Bb,Ab){bb(Ha,function(){var ra;ra=new Ve(ya,Ca,Ba);Ca.updateServiceTokens(ra,!Bb,{result:function(Da){Ba.getHeader({result:function(Na){bb(Ha,function(){var r,b;r=Ca.getDebugContext();r && r.sentHeader(Na);r=Ba.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Na,r);this.storeServiceTokens(ya,rb,sb,Na.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Na.cryptoContext;if(qa.isAborted())throw new ac("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ia):Ia;yd(ya,b,Tb,Na,r,Ua,{result:function(a){qa.setAbort(function(){a.abort();});kb(a,Na,Bb);},timeout:function(){Ha.timeout();},error:function(a){Ha.error(a);}});},qb);},timeout:function(){Ha.timeout();},error:function(Na){Ha.error(Na);}});},error:function(Da){Ha.error(Da);}});},qb);}function kb(rb,sb,Bb){var Ab,ra;if(Bb)Ca.write(rb,Ua,{result:function(Da){bb(Ha,function(){if(qa.isAborted())throw new ac("MessageOutputStream write aborted.");nb(rb,sb,Bb);},qb);},timeout:function(){Ha.timeout();},error:function(Da){Ha.error(Da);}});else {Ab=new wa();ra=new Uc();yd(ya,Ab,Tb,sb,ra,Ua,{result:function(Da){Ca.write(Da,Ua,{result:function(Na){bb(Ha,function(){if(qa.isAborted())throw new ac("MessageOutputStream proxy write aborted.");Da.close(Ua,{result:function(r){bb(Ha,function(){var b;if(!r)throw new ac("MessageOutputStream proxy close aborted.");b=Da.getPayloads();nb(rb,sb,Bb,b);},qb);},timeout:function(){Ha.timeout();},error:function(r){Ha.error(r);}});},qb);},timeout:function(){Ha.timeout();},error:function(Na){Ha.error(Na);}});},timeout:function(){Ha.timeout();},error:function(Da){Ha.error(Da);}});}}function nb(rb,sb,Bb,Ab){rb.close(Ua,{result:function(ra){bb(Ha,function(){if(!ra)throw new ac("MessageOutputStream close aborted.");Ab || (Ab=rb.getPayloads());return new U(sb,Ab,!Bb);},qb);},timeout:function(){Ha.timeout();},error:function(ra){Ha.error(ra);}});}qb=this;bb(Ha,function(){var rb,sb,Bb,Ab;rb=Ba.getMasterToken();sb=Ba.getUserIdToken();Bb=!1;if(Ca.getUserId()){Ab=!sb;Ca.getUserAuthData(null,Ba.isRenewable(),Ab,{result:function(ra){bb(Ha,function(){ra && (Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()?Ba.setUserAuthenticationData(ra):Bb=!0);Ya(rb,sb,Bb);},qb);},error:function(ra){Ha.error(ra);}});}else Ya(rb,sb,Bb);},qb);},receive:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;Ya=this;bb(Ha,function(){var ab,Wa,kb;if(qa.isAborted())throw new ac("receive aborted.");ab=[];Ba && (ab=Ba.keyRequestData.filter(function(){return !0;}));Wa=Ca.getCryptoContexts();kb=this._filterFactory?this._filterFactory.getInputStream(Ia):Ia;Xe(ya,kb,Tb,ab,Wa,Ua,{result:function(nb){qa.setAbort(function(){nb.abort();});nb.isReady(Ua,{result:function(qb){bb(Ha,function(){var rb,sb,Bb,Ab;if(!qb)throw new ac("MessageInputStream aborted.");rb=nb.getMessageHeader();sb=nb.getErrorHeader();Bb=Ca.getDebugContext();Bb && Bb.receivedHeader(rb?rb:sb);if(Ba && (Bb=sb?sb.errorCode:null,rb || Bb != Ea.FAIL && Bb != Ea.TRANSIENT_FAILURE && Bb != Ea.ENTITY_REAUTH && Bb != Ea.ENTITYDATA_REAUTH)){Bb=rb?rb.messageId:sb.messageId;Ab=Nc(Ba.messageId);if(Bb != Ab)throw new Nb(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Ab + "; received " + Bb);}ya.getEntityAuthenticationData(null,{result:function(ra){bb(Ha,function(){var Da,Na,r,b;Da=ra.getIdentity();if(rb){Na=rb.entityAuthenticationData;r=rb.masterToken;Na=r?rb.sender:Na.getIdentity();if(r && r.isDecrypted() && r.identity != Na || Da == Na)throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Na);Ba && this.updateIncomingCryptoContexts(ya,Ba,nb);Da=rb.keyResponseData;ya.isPeerToPeer()?(Da=Da?Da.masterToken:rb.peerMasterToken,r=rb.peerUserIdToken,Na=rb.peerServiceTokens):(Da=Da?Da.masterToken:rb.masterToken,r=rb.userIdToken,Na=rb.serviceTokens);b=Ca.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Da,r,Na);}else if((Na=sb.entityAuthenticationData.getIdentity(),Da == Na))throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Na);return nb;},Ya);},error:Ha.error});},Ya);},timeout:function(){Ha.timeout();},error:function(qb){Ha.error(qb);}});},timeout:function(){Ha.timeout();},error:function(nb){Ha.error(nb);}});},Ya);},sendReceive:function(qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab){var kb;function Wa(nb,qb){bb(ab,function(){Ua.setRenewable(qb);this.send(qa,ya,Ca,Ba,Ua,Ha,{result:function(rb){bb(ab,function(){var sb;sb=rb.requestHeader.keyRequestData;Ya || rb.handshake || !sb.isEmpty()?this.receive(qa,ya,Ca,Ia,rb.requestHeader,Ha,{result:function(Bb){bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,Bb);return new ba(Bb,rb);},kb);},timeout:function(){bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,null);ab.timeout();},kb);},error:function(Bb){bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,null);throw Bb;},kb);}}):bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,null);return new ba(null,rb);},kb);},kb);},timeout:function(){bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,null);ab.timeout();},kb);},error:function(rb){bb(ab,function(){qb && this.releaseRenewalLock(ya,nb,null);throw rb;},kb);}});},kb);}kb=this;bb(ab,function(){var nb;nb=new Yc();this.acquireRenewalLock(qa,ya,Ca,nb,Ua,Ha,{result:function(qb){Wa(nb,qb);},timeout:function(){ab.timeout();},error:function(qb){qb instanceof ac?ab.result(null):ab.error(qb);}});},kb);},acquireRenewalLock:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Wa;function Ya(kb,nb,qb){bb(Ha,function(){var Bb,Ab;if(qa.isAborted())throw new ac("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){Bb=this._renewingContexts[sb];if(Bb.ctx === ya){rb=Bb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:ya,queue:Ia}),!0);Ab=rb.poll(Ua,{result:function(ra){bb(Ha,function(){var Da;if(ra === Cb)throw new ac("acquireRenewalLock aborted.");rb.add(ra);if(ra === ma || ra.isExpired())Ya(ra,nb,qb);else {if(qb && !nb || nb && !nb.isBoundTo(ra)){Da=ya.getMslStore().getUserIdToken(qb);nb=Da && Da.isBoundTo(ra)?Da:null;}Ba.setAuthTokens(ra,nb);Ba.isRenewable() && ra.equals(kb)?Ya(ra,nb,qb):Ca.isRequestingTokens() && !nb?Ya(ra,nb,qb):ab(ra,nb);}},Wa);},timeout:function(){},error:function(ra){}});qa.setAbort(function(){Ab && (rb.cancel(Ab),Ab=Cb);});},Wa);}function ab(kb,nb){bb(Ha,function(){var sb;if(qa.isAborted())throw new ac("acquireRenewalLock aborted.");if(!kb || kb.isRenewable() || !nb && Ca.getUserId() || nb && nb.isRenewable()){for(var qb=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === ya){qb=sb.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:ya,queue:Ia}),!0);}return !1;},Wa);}Wa=this;bb(Ha,function(){var kb,nb,qb;kb=Ba.getMasterToken();nb=Ba.getUserIdToken();qb=Ca.getUserId();Ca.isEncrypted() && !Ba.willEncryptPayloads() || Ca.isIntegrityProtected() && !Ba.willIntegrityProtectPayloads() || Ba.isRenewable() || !kb && Ca.isNonReplayable() || kb && kb.isExpired() || !(nb || !qb || Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()) || Ca.isRequestingTokens() && (!kb || qb && !nb)?Ya(kb,nb,qb):ab(kb,nb);},Wa);},releaseRenewalLock:function(qa,ya,Ca){var Ha;for(var Ia,Ba,Ua=0;Ua < this._renewingContexts.length;++Ua){Ha=this._renewingContexts[Ua];if(Ha.ctx === qa){Ia=Ua;Ba=Ha.queue;break;}}if(Ba !== ya)throw new xb("Attempt to release renewal lock that is not owned by this queue.");Ca?(Ca=Ca.messageHeader)?(Ba=Ca.keyResponseData)?ya.add(Ba.masterToken):(qa=qa.isPeerToPeer()?Ca.peerMasterToken:Ca.masterToken)?ya.add(qa):ya.add(ma):ya.add(ma):ya.add(ma);this._renewingContexts.splice(Ia,1);}});$e=Eb.Class.create({init:function(){var qa;qa={_impl:{value:new Z(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,qa);},setFilterFactory:function(qa){this._impl.setFilterFactory(qa);},shutdown:function(){this._shutdown=!0;},receive:function(qa,ya,Ca,Ia,Ba,Ua){var Ha;if(this._shutdown)throw new fb("MslControl is shutdown.");Ha=new da(this._impl,qa,ya,Ca,Ia,Ba);setTimeout(function(){Ha.call(Ua);},0);return ha(Ha);},respond:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");Ya=new ia(this._impl,qa,ya,Ca,Ia,Ba,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);},error:function Ca(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");Ya=new xa(this._impl,qa,ya,Ca,Ia,Ba,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);},request:function(qa,ya){var Ca,Ia,Ba,Ua,Ha,Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");if(5 == arguments.length){Ia=arguments[2];Ba=Ca=null;Ua=arguments[3];Ha=arguments[4];if(qa.isPeerToPeer()){Ha.error(new xb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ia=null,Ca=arguments[2],Ba=arguments[3],Ua=arguments[4],Ha=arguments[5],!qa.isPeerToPeer())){Ha.error(new xb("This method cannot be used in trusted network mode."));return;}Ya=new La(this._impl,qa,ya,Ia,Ca,Ba,null,0,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);}});da=Eb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var Ba;function ya(Ua){bb(qa,function(){var Ha;Ha=Ua.messageHeader;if(!Ha)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Ba._timeout,{result:function(Ya){bb(qa,function(){if(Ya && 0 == Ya.length)return null;if(Ya)return (Ua.reset(),Ua);Ca(Ua);},Ba);},timeout:function(){qa.timeout();},error:function(Ya){bb(qa,function(){var ab,Wa,kb;if(V(Ya))return null;ab=Ha?Ha.messageId:null;if(Ya instanceof Xb){Wa=S.MSL_COMMS_FAILURE;kb=Ya;}else (Wa=S.INTERNAL_EXCEPTION,kb=new xb("Error peeking into the message payloads."));ja(this,this._ctx,this._msgCtx.getDebugContext(),ab,Wa,null,this._output,this._timeout,{result:function(nb){qa.error(kb);},timeout:function(){qa.timeout();},error:function(nb){bb(qa,function(){if(V(nb))return null;throw new jc("Error peeking into the message payloads.",nb,Ya);},Ba);}});},Ba);}});},Ba);}function Ca(Ua){bb(qa,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ha){bb(qa,function(){var Ya,ab,Wa,kb,nb;Ya=Ha.builder;ab=Ha.tokenTicket;Wa=Ua.messageHeader;kb=new za(this._msgCtx);if(!this._ctx.isPeerToPeer() || Wa.isEncrypting() || Wa.keyResponseData)Ia(Wa,Ya,kb,ab);else {nb=new La(this._ctrl,this._ctx,kb,null,this._input,this._output,Ha,1,this._timeout);this.setAbort(function(){nb.abort();});nb.call(qa);}},Ba);},timeout:function(){qa.timeout();},error:function(Ha){bb(qa,function(){var Ya,ab,Wa,kb;if(V(Ha))return null;if(Ha instanceof fb){Ya=Ha.messageId;ab=Ha.error;Wa=Ua.messageHeader.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage(ab,Wa?Wa.languages:null);kb=Ha;}else (Ya=requestHeader?requestHeader.messageId:null,ab=S.INTERNAL_EXCEPTION,Wa=null,kb=new xb("Error creating an automatic handshake response.",Ha));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ya,ab,Wa,this._output,this._timeout,{result:function(nb){qa.error(kb);},timeout:function(){qa.timeout();},error:function(nb){bb(qa,function(){if(V(nb))return null;throw new jc("Error creating an automatic handshake response.",nb,Ha);},Ba);}});},Ba);}});},Ba);}function Ia(Ua,Ha,Ya,ab){bb(qa,function(){Ha.setRenewable(!1);this._ctrl.send(this._ctx,Ya,this._output,Ha,this._timeout,{result:function(Wa){bb(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Ba);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);qa.timeout();},Ba);},error:function(Wa){bb(qa,function(){var kb,nb,qb,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(V(Wa))return null;if(Wa instanceof fb){kb=Wa.messageId;nb=Wa.error;qb=Ua?Ua.messageCapabilities:null;qb=this._ctrl.messageRegistry.getUserMessage(nb,qb?qb.languages:null);rb=Wa;}else Wa instanceof Xb?(kb=Ua?Ua.messageId:null,nb=S.MSL_COMMS_FAILURE,qb=null,rb=Wa):(kb=Ua?Ua.messageId:null,nb=S.INTERNAL_EXCEPTION,qb=null,rb=new xb("Error sending an automatic handshake response.",Wa));ja(this,this._ctx,this._msgCtx.getDebugContext(),kb,nb,qb,this._output,this._timeout,{result:function(sb){qa.error(rb);},timeout:function(){qa.timeout();},error:function(sb){bb(qa,function(){if(V(sb))return null;throw new jc("Error sending an automatic handshake response.",sb,Wa);},Ba);}});},Ba);}});},Ba);}Ba=this;bb(qa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){ya(Ua);},timeout:function(){qa.timeout();},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;if(V(Ua))return null;if(Ua instanceof fb){Ha=Ua.messageId;Ya=Ua.error;ab=this._ctrl.messageRegistry.getUserMessage(Ya,null);Wa=Ua;}else (Ha=null,Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error receiving the message header.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(V(kb))return null;throw new jc("Error receiving the message header.",kb,Ua);},Ba);}});},Ba);}});},Ba);}});ia=Eb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},trustedNetworkExecute:function(qa,ya,Ca){var Ia;Ia=this;bb(Ca,function(){var Ba,Ua;if(12 < ya + 1)return !1;if(Ba=this._msgCtx.isIntegrityProtected() && !qa.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !qa.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Vc(qa.getMessageId());ja(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Ba,null,this._output,this._timeout,{result:function(Ha){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ha){bb(Ca,function(){if(V(Ha))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Ba,Ha,null);},Ia);}});}else !this._msgCtx.getCustomer() || qa.getMasterToken() || qa.getKeyExchangeData()?(qa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,qa,this._timeout,{result:function(Ha){Ca.result(!0);},timeout:function(){Ca.timeout();},error:function(Ha){Ca.error(Ha);}})):(Ua=Vc(qa.getMessageId()),ja(this,this._ctx,this._msgCtx.getDebugContext(),Ua,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ha){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ha){bb(Ca,function(){if(V(Ha))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ha,null);},Ia);}}));},Ia);},peerToPeerExecute:function(qa,ya,Ca,Ia){var Ua;function Ba(Ha){bb(Ia,function(){var Ya;Ya=Ha.response;Ya.close();Ya=Ya.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ha.requestHeader,Ya);this._ctrl.buildErrorResponse(this,this._ctx,qa,Ha,Ya,{result:function(ab){bb(Ia,function(){var Wa,kb;if(!ab)return !1;Wa=ab.errorResult;kb=ab.tokenTicket;this.peerToPeerExecute(Wa.msgCtx,Wa.builder,Ca,{result:function(nb){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);return nb;},Ua);},timeout:function(){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);Ia.timeout();},Ua);},error:function(nb){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);throw nb;},Ua);}});},Ua);}});},Ua);}Ua=this;bb(Ia,function(){var Ha;if(12 < Ca + 2)return !1;if(null != qa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ha=Vc(ya.getMessageId());ja(this,this._ctx,qa.getDebugContext(),Ha,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ya){Ia.result(!1);},timeout:function(){Ia.timeout();},error:function(Ya){bb(Ia,function(){if(V(Ya))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ya,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,qa,this._input,this._output,ya,this._timeout,!1,{result:function(Ya){bb(Ia,function(){var kb,nb,qb;function ab(){kb.read(32768,Ua._timeout,{result:function(rb){bb(Ia,function(){rb?ab():Wa();},Ua);},timeout:function(){Ia.timeout();},error:function(rb){Ia.error(rb);}});}function Wa(){bb(Ia,function(){var rb;rb=new sa(Ya.payloads,qa);this._ctrl.buildResponse(this,this._ctx,rb,nb,this._timeout,{result:function(sb){bb(Ia,function(){var Bb;Bb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,Ca,{result:function(Ab){bb(Ia,function(){this._ctrl.releaseMasterToken(Bb);return Ab;},Ua);},timeout:function(){bb(Ia,function(){this._ctrl.releaseMasterToken(Bb);Ia.timeout();},Ua);},error:function(Ab){bb(Ia,function(){this._ctrl.releaseMasterToken(Bb);throw Ab;},Ua);}});},Ua);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});},Ua);}kb=Ya.response;Ca+=2;if(!kb)return !0;nb=kb.getMessageHeader();if(nb){qb=Ya.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(Ya.handshake && qb)ab();else return !0;}else Ba(Ya);},Ua);},timeout:function(){Ia.timeout();},error:function(Ya){Ia.error(Ya);}});},Ua);},call:function(qa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ca){bb(qa,function(){var Ia,Ba;Ia=Ca.builder;Ba=Ca.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ia,3,{result:function(Ua){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Ua;},ya);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);qa.timeout();},ya);},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(V(Ua))return !1;Ha=Vc(Ia.getMessageId());if(Ua instanceof fb){Ya=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ya,ab?ab.languages:null);Wa=Ua;}else Ua instanceof Xb?(Ya=S.MSL_COMMS_FAILURE,ab=null,Wa=Ua):(Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error sending the response.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(V(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ia,3,{result:function(Ua){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Ua;},ya);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);qa.timeout();},ya);},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(V(Ua))return !1;Ha=Vc(Ia.getMessageId());if(Ua instanceof fb){Ya=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ya,ab?ab.languages:null);Wa=Ua;}else Ua instanceof Xb?(Ya=S.MSL_COMMS_FAILURE,ab=null,Wa=Ua):(Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error sending the response.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(V(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}});},ya);},timeout:function(){qa.timeout();},error:function(Ca){bb(qa,function(){var Ia,Ba,Ua,Ha;if(V(Ca))return !1;if(Ca instanceof fb){Ia=Ca.messageId;Ba=Ca.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Ba,Ua?Ua.languages:null);Ha=Ca;}else (Ia=null,Ba=S.INTERNAL_EXCEPTION,Ua=null,Ha=new xb("Error building the response.",Ca));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Ba,Ua,this._output,this._timeout,{result:function(Ya){qa.error(Ha);},timeout:function(){qa.timeout();},error:function(Ya){bb(qa,function(){if(V(Ya))return null;throw new jc("Error building the response.",Ya,Ca);},ya);}});},ya);}});}});xa=Eb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var ya;ya=this;bb(qa,function(){var Ca,Ia;if(this._appError == ENTITY_REJECTED)Ca=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ca=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new xb("Unhandled application error " + this._appError + ".");Ia=this._request.messageCapabilities;Ia=this._ctrl.messageRegistry.getUserMessage(Ca,Ia?Ia.languages:null);ja(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ca,Ia,this._output,this._timeout,{result:function(Ba){qa.result(Ba);},timeout:qa.timeout,error:function(Ba){bb(qa,function(){if(V(Ba))return !1;if(Ba instanceof fb)throw Ba;throw new xb("Error building the error response.",Ba);},ya);}});},ya);}});Ta={result:function(){},timeout:function(){},error:function(){}};La=Eb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab){var Wa;if(Ha){Wa=Ha.builder;Ha=Ha.tokenTicket;}else Ha=Wa=null;Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ha,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ya,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},execute:function(qa,ya,Ca,Ia,Ba){var Ya;function Ua(ab){function Wa(kb){bb(Ba,function(){var nb;nb=ab.response;return kb?kb:nb;},Ya);}bb(Ba,function(){var kb,nb;kb=ab.response;kb.close();nb=kb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,nb);this._ctrl.buildErrorResponse(this,this._ctx,qa,ab,nb,Ca,{result:function(qb){bb(Ba,function(){var rb,sb,Bb,Ab;if(!qb)return kb;rb=qb.errorResult;sb=qb.tokenTicket;Bb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,Bb,this._timeout,Ia,{result:function(ra){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Wa(ra);},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.timeout();},Ya);},error:function(ra){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.error(ra);},Ya);}});else {this._openedStreams && (this._input.close(),this._output.close(Ca,Ta));Ab=new La(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:Bb,tokenTicket:sb},Ia,this._timeout);this.setAbort(function(){Ab.abort();});Ab.call({result:function(ra){Wa(ra);},timeout:function(){Ba.timeout();},error:function(ra){Ba.error(ra);}});}},Ya);},timeout:function(){Ba.timeout();},error:function(qb){Ba.error(qb);}});},Ya);}function Ha(ab){bb(Ba,function(){var nb,qb,rb,sb,Bb;function Wa(){nb.read(32768,Ya._timeout,{result:function(Ab){Ab?Wa():kb();},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}function kb(){bb(Ba,function(){var Ab;Ab=new sa(ab.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,qb,Ca,{result:function(ra){bb(Ba,function(){var Da;Da=ra.tokenTicket;this.execute(Ab,ra.builder,this._timeout,Ia,{result:function(Na){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);return Na;},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(Na){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);throw Na;},Ya);}});},Ya);},timeout:function(){Ba.timeout();},error:function(ra){Ba.error(ra);}});},Ya);}nb=ab.response;qb=nb.getMessageHeader();rb=ab.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !rb)return nb;this._openedStreams && (this._input.close(),this._output.close(Ca,Ta));sb=new sa(ab.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,qb,Ca,{result:function(Ab){bb(Ba,function(){var ra;ra=new La(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,Ab,Ia,this._timeout);this.setAbort(function(){ra.abort();});ra.call(Ba);},Ya);},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}else if(ab.handshake && rb)Wa();else if(0 < qb.keyRequestData.length){Bb=new za(qa);this._ctrl.buildResponse(this,this._ctx,Bb,qb,Ca,{result:function(Ab){bb(Ba,function(){var ra,Da;ra=Ab.builder;Da=Ab.tokenTicket;nb.mark();nb.read(1,this._timeout,{result:function(Na){bb(Ba,function(){function r(){nb.read(32768,Ya._timeout,{result:function(a){a?r():b();},timeout:function(){Ba.timeout();},error:function(a){Ba.error(a);}});}function b(){Ya.execute(Bb,ra,Ya._timeout,Ia,{result:function(a){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);return a;},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(a){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);throw a;},Ya);}});}if(Na){if((nb.reset(),12 >= Ia + 1))(ra.setRenewable(!1),this._ctrl.send(this,this._ctx,Bb,this._output,ra,this._timeout,{result:function(a){bb(Ba,function(){this.releaseMasterToken(Da);return nb;},Ya);},timeout:function(){Ba.timeout();},error:function(a){Ba.error(a);}}));else return (this.releaseMasterToken(Da),nb);}else r();},Ya);},timeout:function(){bb(Ba,function(){this.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(Na){bb(Ba,function(){this.releaseMasterToken(Da);throw Na;},Ya);}});},Ya);},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}},Ya);}Ya=this;bb(Ba,function(){if(12 < Ia + 2)return null;this._ctrl.sendReceive(this,this._ctx,qa,this._input,this._output,ya,Ca,!0,{result:function(ab){bb(Ba,function(){var Wa;if(!ab)return null;Wa=ab.response;Ia+=2;Wa.getMessageHeader()?Ha(ab):Ua(ab);},Ya);},timeout:function(){Ba.timeout();},error:function(ab){Ba.error(ab);}});},Ya);},call:function(qa){var Ca;function ya(Ia,Ba,Ua){bb(qa,function(){this.execute(this._msgCtx,Ia,Ua,this._msgCount,{result:function(Ha){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && this._output.close(Ua,Ta);Ha && Ha.closeSource(this._openedStreams);return Ha;},Ca);},timeout:function(){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Ua,Ta),this._input.close());qa.timeout();},Ca);},error:function(Ha){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Ua,Ta),this._input.close());if(V(Ha))return null;throw Ha;},Ca);}});},Ca);}Ca=this;bb(qa,function(){var Ia,Ba,Ua;Ia=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ba=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ia && (Ia=this._timeout - (Date.now() - Ba));this._openedStreams=!0;}catch(Ha){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ta);this._input && this._input.close();if(V(Ha))return null;throw Ha;}this._builder?ya(this._builder,this._tokenTicket,Ia):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ha){bb(qa,function(){ya(Ha.builder,Ha.tokenTicket,Ia);},Ca);},timeout:function(){bb(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ta),this._input.close());qa.timeout();},Ca);},error:function(Ha){bb(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ta),this._input.close());if(V(Ha))return null;throw Ha;},Ca);}});},Ca);}});})();(function(){Wd=Eb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Wd?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});af=function(ha){var X;X=ha.id;if(!X)throw new Gb(S.JSON_PARSE_ERROR,JSON.stringify(ha));return new Wd(X);};})();Eb.Class.create({isNewestMasterToken:function(ha,X,T){},isMasterTokenRevoked:function(ha,X){},acceptNonReplayableId:function(ha,X,T,U){},createMasterToken:function(ha,X,T,U,ba){},isMasterTokenRenewable:function(ha,X,T){},renewMasterToken:function(ha,X,T,U,ba){},isUserIdTokenRevoked:function(ha,X,T,U){},createUserIdToken:function(ha,X,T,U){},renewUserIdToken:function(ha,X,T,U){}});(function(){function ha(X,T,U,ba){this.sessiondata=X;this.tokendata=T;this.signature=U;this.verified=ba;}ic=Eb.Class.create({init:function(X,T,U,ba,V,ja,wa,ua,la,sa,za){var ma;ma=this;Ma(za,function(){var Z,da,ia,xa,Ta;if(U.getTime() < T.getTime())throw new xb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Qb)throw new xb("Sequence number " + ba + " is outside the valid range.");if(0 > V || V > Qb)throw new xb("Serial number " + V + " is outside the valid range.");Z=Math.floor(T.getTime() / 1E3);da=Math.floor(U.getTime() / 1E3);if(sa)ia=sa.sessiondata;else {xa={};ja && (xa.issuerdata=ja);xa.identity=wa;xa.encryptionkey=Kb(ua.toByteArray());xa.hmackey=Kb(la.toByteArray());ia=fc(JSON.stringify(xa),Tb);}if(sa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ia,writable:!1,enumerable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:sa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ta=X.getMslCryptoContext();Ta.encrypt(ia,{result:function(La){Ma(za,function(){var Sa,Va;Sa={};Sa.renewalwindow=Z;Sa.expiration=da;Sa.sequencenumber=ba;Sa.serialnumber=V;Sa.sessiondata=Kb(La);Va=fc(JSON.stringify(Sa),Tb);Ta.sign(Va,{result:function(qa){Ma(za,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ia,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(qa){za.error(qa);}});},ma);},error:function(La){za.error(La);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var T;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){T=this.sequenceNumber - Qb + 127;return X.sequenceNumber >= T;}T=X.sequenceNumber - Qb + 127;return this.sequenceNumber < T;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});dd=function(X,T,U){Ma(U,function(){var ba,V,ja,wa,ua;ba=X.getMslCryptoContext();V=T.tokendata;ja=T.signature;if("string" !== typeof V || "string" !== typeof ja)throw new Gb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(V);}catch(la){throw new fb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),la);}if(!wa || 0 == wa.length)throw new Gb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{ua=Mb(ja);}catch(la){throw new fb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),la);}ba.verify(wa,ua,{result:function(la){Ma(U,function(){var sa,za,ma,Z,da,ia,xa,Ta,La,Sa;sa=ec(wa,Tb);try{za=JSON.parse(sa);ma=parseInt(za.renewalwindow);Z=parseInt(za.expiration);da=parseInt(za.sequencenumber);ia=parseInt(za.serialnumber);xa=za.sessiondata;}catch(Va){if(Va instanceof SyntaxError)throw new Gb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa,Va);throw Va;}if(!ma || ma != ma || !Z || Z != Z || "number" !== typeof da || da != da || "number" !== typeof ia || ia != ia || "string" !== typeof xa)throw new Gb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa);if(Z < ma)throw new fb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa);if(0 > da || da > Qb)throw new fb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);if(0 > ia || ia > Qb)throw new fb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);Ta=new Date(1E3 * ma);La=new Date(1E3 * Z);try{Sa=Mb(xa);}catch(Va){throw new fb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Va);}if(!Sa || 0 == Sa.length)throw new fb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);la?ba.decrypt(Sa,{result:function(Va){Ma(U,function(){var qa,ya,Ca,Ia,Ba,Ua;qa=ec(Va,Tb);try{ya=JSON.parse(qa);Ca=ya.issuerdata;Ia=ya.identity;Ba=ya.encryptionkey;Ua=ya.hmackey;}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa,Ha);throw Ha;}if(Ca && "object" !== typeof Ca || !Ia || "string" !== typeof Ba || "string" !== typeof Ua)throw new Gb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa);tc(Ba,oc,Dc,{result:function(Ha){tc(Ua,pc,Mc,{result:function(Ya){Ma(U,function(){var ab;ab=new ha(Va,wa,ua,la);new ic(X,Ta,La,da,ia,Ca,Ia,Ha,Ya,ab,U);});},error:function(Ya){U.error(new vb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ya));}});},error:function(Ha){U.error(new vb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ha));}});});},error:function(Va){U.error(Va);}}):(ma=new ha(null,wa,ua,la),new ic(X,Ta,La,da,ia,null,null,null,null,ma,U));});},error:function(la){U.error(la);}});});};})();(function(){function ha(X,T,U){this.tokendata=X;this.signature=T;this.verified=U;}Sc=Eb.Class.create({init:function(X,T,U,ba,V,ja,wa,ua,la){var sa;sa=this;Ma(la,function(){var za,ma,Z,da,ia,xa,Ta;if(U.getTime() < T.getTime())throw new xb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new xb("Cannot construct a user ID token without a master token.");if(0 > V || V > Qb)throw new xb("Serial number " + V + " is outside the valid range.");za=Math.floor(T.getTime() / 1E3);ma=Math.floor(U.getTime() / 1E3);Z=ba.serialNumber;if(ua){da=ua.tokendata;ia=ua.signature;xa=ua.verified;Z=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;}da={};ja && (da.issuerdata=ja);da.identity=wa;da=fc(JSON.stringify(da),Tb);Ta=X.getMslCryptoContext();Ta.encrypt(da,{result:function(La){Ma(la,function(){var Sa,Va;Sa={};Sa.renewalwindow=za;Sa.expiration=ma;Sa.mtserialnumber=Z;Sa.serialnumber=V;Sa.userdata=Kb(La);Va=fc(JSON.stringify(Sa),Tb);Ta.sign(Va,{result:function(qa){Ma(la,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(qa){Ma(la,function(){qa instanceof fb && qa.setEntity(ba);throw qa;},sa);}});},sa);},error:function(La){Ma(la,function(){La instanceof fb && La.setEntity(ba);throw La;},sa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Sc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});ud=function(X,T,U,ba){Ma(ba,function(){var V,ja,wa,ua,la;V=X.getMslCryptoContext();ja=T.tokendata;wa=T.signature;if("string" !== typeof ja || "string" !== typeof wa)throw new Gb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(U);try{ua=Mb(ja);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(U);}if(!ua || 0 == ua.length)throw new Gb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(U);try{la=Mb(wa);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(U);}V.verify(ua,la,{result:function(sa){Ma(ba,function(){var za,ma,Z,da,ia,xa,Ta,La,Sa,Va;za=ec(ua,Tb);try{ma=JSON.parse(za);Z=parseInt(ma.renewalwindow);da=parseInt(ma.expiration);ia=parseInt(ma.mtserialnumber);xa=parseInt(ma.serialnumber);Ta=ma.userdata;}catch(qa){if(qa instanceof SyntaxError)throw new Gb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za,qa).setEntity(U);throw qa;}if(!Z || Z != Z || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof xa || xa != xa || "string" !== typeof Ta)throw new Gb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za).setEntity(U);if(da < Z)throw new fb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + za).setEntity(U);if(0 > ia || ia > Qb)throw new fb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(U);if(0 > xa || xa > Qb)throw new fb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(U);La=new Date(1E3 * Z);Sa=new Date(1E3 * da);if(!U || ia != U.serialNumber)throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ia + "; mt " + JSON.stringify(U)).setEntity(U);try{Va=Mb(Ta);}catch(qa){throw new fb(S.USERIDTOKEN_USERDATA_INVALID,Ta,qa).setEntity(U);}if(!Va || 0 == Va.length)throw new fb(S.USERIDTOKEN_USERDATA_MISSING,Ta).setEntity(U);sa?V.decrypt(Va,{result:function(qa){Ma(ba,function(){var ya,Ca,Ia,Ba,Ua;ya=ec(qa,Tb);try{Ca=JSON.parse(ya);Ia=Ca.issuerdata;Ba=Ca.identity;}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(U);throw Ha;}if(Ia && "object" !== typeof Ia || "object" !== typeof Ba)throw new Gb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(U);try{Ua=af(Ba);}catch(Ha){throw new fb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ha).setEntity(U);}Ba=new ha(ua,la,sa);new Sc(X,La,Sa,U,xa,Ia,Ua,Ba,ba);});},error:function(qa){Ma(ba,function(){qa instanceof fb && qa.setEntity(U);throw qa;});}}):(Z=new ha(ua,la,sa),new Sc(X,La,Sa,U,xa,null,null,Z,ba));});},error:function(sa){Ma(ba,function(){sa instanceof fb && sa.setEntity(U);throw sa;});}});});};})();(function(){function ha(T,U){var ba,V,ja;ba=T.tokendata;if("string" !== typeof ba)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{V=Mb(ba);}catch(wa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!V || 0 == V.length)throw new Gb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{ja=JSON.parse(ec(V,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!ja)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return U[ja]?U[ja]:U[""];}function X(T,U,ba){this.tokendata=T;this.signature=U;this.verified=ba;}Fc=Eb.Class.create({init:function(T,U,ba,V,ja,wa,ua,la,sa,za){var ma;ma=this;Ma(za,function(){var Z,da,ia,xa,Ta;if(V && ja && !ja.isBoundTo(V))throw new xb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Z=V?V.serialNumber:-1;da=ja?ja.serialNumber:-1;if(sa)return (Ta=sa.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ua){ia=Vd(ua,ba);ia.length < ba.length || (ua=null,ia=ba);}else (ua=null,ia=ba);xa={};xa.name=U;-1 != Z && (xa.mtserialnumber=Z);-1 != da && (xa.uitserialnumber=da);xa.encrypted=wa;ua && (xa.compressionalgo=ua);if(wa && 0 < ia.length)la.encrypt(ia,{result:function(La){Ma(za,function(){var Sa;xa.servicedata=Kb(La);Sa=fc(JSON.stringify(xa),Tb);la.sign(Sa,{result:function(Va){Ma(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Va,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Va){Ma(za,function(){Va instanceof fb && (Va.setEntity(V),Va.setUser(ja));throw Va;});}});},ma);},error:function(La){Ma(za,function(){La instanceof fb && (La.setEntity(V),La.setUser(ja));throw La;});}});else {xa.servicedata=Kb(ia);Ta=fc(JSON.stringify(xa),Tb);la.sign(Ta,{result:function(La){Ma(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:La,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(La){Ma(za,function(){La instanceof fb && (La.setEntity(V),La.setUser(ja));throw La;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Sc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Kb(this.tokendata);T.signature=Kb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,U,ba,V,ja,wa,ua,la,sa){new Fc(T,U,ba,V,ja,wa,ua,la,null,sa);};vd=function(T,U,ba,V,ja,wa){Ma(wa,function(){var ua,la,sa,za,ma,Z,da,ia,xa,Ta,La,Sa,Va;!ja || ja instanceof Tc || (ja=ha(U,ja));ua=U.tokendata;la=U.signature;if("string" !== typeof ua || "string" !== typeof la)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U)).setEntity(ba).setEntity(V);try{sa=Mb(ua);}catch(qa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),qa).setEntity(ba).setEntity(V);}if(!sa || 0 == sa.length)throw new Gb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U)).setEntity(ba).setEntity(V);try{za=Mb(la);}catch(qa){throw new fb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(U),qa).setEntity(ba).setEntity(V);}ma=ec(sa,Tb);try{Z=JSON.parse(ma);da=Z.name;ia=Z.mtserialnumber?parseInt(Z.mtserialnumber):-1;xa=Z.uitserialnumber?parseInt(Z.uitserialnumber):-1;Ta=Z.encrypted;La=Z.compressionalgo;Sa=Z.servicedata;}catch(qa){if(qa instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"servicetokendata " + ma,qa).setEntity(ba).setEntity(V);throw qa;}if(!da || "number" !== typeof ia || ia != ia || "number" !== typeof xa || xa != xa || "boolean" !== typeof Ta || La && "string" !== typeof La || "string" !== typeof Sa)throw new Gb(S.JSON_PARSE_ERROR,"servicetokendata " + ma).setEntity(ba).setEntity(V);if(Z.mtserialnumber && 0 > ia || ia > Qb)throw new fb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ba).setEntity(V);if(Z.uitserialnumber && 0 > xa || xa > Qb)throw new fb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ba).setEntity(V);if(-1 != ia && (!ba || ia != ba.serialNumber))throw new fb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ia + "; mt " + ba).setEntity(ba).setEntity(V);if(-1 != xa && (!V || xa != V.serialNumber))throw new fb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + V).setEntity(ba).setEntity(V);Ta=!0 === Ta;if(La){if(!Kc[La])throw new fb(S.UNIDENTIFIED_COMPRESSION,La);Va=La;}else Va=null;ja?ja.verify(sa,za,{result:function(qa){Ma(wa,function(){var ya,Ca;if(qa){try{ya=Mb(Sa);}catch(Ia){throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma,Ia).setEntity(ba).setEntity(V);}if(!ya || 0 != Sa.length && 0 == ya.length)throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma).setEntity(ba).setEntity(V);if(Ta && 0 < ya.length)ja.decrypt(ya,{result:function(Ia){Ma(wa,function(){var Ba,Ua;Ba=Va?wd(Va,Ia):Ia;Ua=new X(sa,za,qa);new Fc(T,da,Ba,-1 != ia?ba:null,-1 != xa?V:null,Ta,Va,ja,Ua,wa);});},error:function(Ia){Ma(wa,function(){Ia instanceof fb && (Ia.setEntity(ba),Ia.setUser(V));throw Ia;});}});else {ya=Va?wd(Va,ya):ya;Ca=new X(sa,za,qa);new Fc(T,da,ya,-1 != ia?ba:null,-1 != xa?V:null,Ta,Va,ja,Ca,wa);}}else (ya="" == Sa?new Uint8Array(0):null,Ca=new X(sa,za,qa),new Fc(T,da,ya,-1 != ia?ba:null,-1 != xa?V:null,Ta,Va,ja,Ca,wa));});},error:function(qa){Ma(wa,function(){qa instanceof fb && (qa.setEntity(ba),qa.setUser(V));throw qa;});}}):(ua="" == Sa?new Uint8Array(0):null,la=new X(sa,za,!1),new Fc(T,da,ua,-1 != ia?ba:null,-1 != xa?V:null,Ta,Va,ja,la,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){Zc=Eb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Zc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});Qe=function(ha,X,T,U){Ma(U,function(){var ba,V,ja;ba=T.scheme;V=T.authdata;if(!ba || !V)throw new Gb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);ja=ha.getUserAuthenticationFactory(ba);if(!ja)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);ja.createData(ha,X,V,U);});};})();bf=Eb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,X,T,U){},authenticate:function(ha,X,T,U){}});(function(){gd=Zc.extend({init:function U(X,T){U.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function U(T){return this === T?!0:T instanceof gd?U.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var U,ba;U=T.netflixid;ba=T.securenetflixid;if(!U)throw new Gb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new gd(U,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,T,U,ba){Ma(ba,function(){return cf(U);});},authenticate:function(X,T,U,ba){if(!(U instanceof gd))throw new xb("Incorrect authentication data type " + U + ".");X=U.secureNetflixId;if(!U.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){hd=Zc.extend({init:function ba(T,U){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function ba(U){return this === U?!0:U instanceof hd?ba.base.call(this,this,U) && this.email == U.email && this.password == U.password:!1;}});df=function(U){var ba,V;ba=U.email;V=U.password;if(!ba || !V)throw new Gb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(U));return new hd(ba,V);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,U,ba,V){Ma(V,function(){return df(ba);});},authenticate:function(T,U,ba,V){if(!(ba instanceof hd))throw new xb("Incorrect authentication data type " + ba + ".");T=ba.password;if(!ba.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ea.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ea.ENTITYDATA_REAUTH});Ff=Eb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Eb.Class.create({setCryptoContext:function(T,U){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){},removeServiceTokens:function(T,U,ba){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Vd=function(U,ba){var V;V={};switch(U){case T.LZW:return ke(ba,V);case T.GZIP:return gzip$compress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,U);}};wd=function(U,ba,V){switch(U){case T.LZW:return le(ba);case T.GZIP:return gzip$uncompress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,U.name());}};})();ef.extend({setCryptoContext:function(T,U){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){if(U){if(!T)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(T))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,U,ba){if(ba && U && !ba.isBoundTo(U))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,ba){var V;if(ba){V=U.uniqueKey();this.masterTokens[V]=U;this.cryptoContexts[V]=ba;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,ba,V;U=null;for(ba in this.masterTokens){V=this.masterTokens[ba];if(!U || V.isNewerThan(U))U=V;}return U;},getNonReplayableId:function(U){var ba;U=U.serialNumber;ba=this.nonReplayableIds[U] !== Cb?this.nonReplayableIds[U]:0;if(0 > ba || ba > Qb)throw new xb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Qb?0:ba + 1;return this.nonReplayableIds[U]=ba;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var ba,V,ja,wa;ba=U.uniqueKey();if(this.masterTokens[ba]){V=U.serialNumber;for(ja in this.masterTokens){wa=this.masterTokens[ja];if(!wa.equals(U) && wa.serialNumber == V){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ua){ua=this.userIdTokens[ua];ua.isBoundTo(U) && this.removeUserIdToken(ua);},this);try{this.removeServiceTokens(null,U,null);}catch(ua){if(ua instanceof fb)throw new xb("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[V];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var ba in U){delete U[ba];}},this);},addUserIdToken:function(U,ba){var V,ja;V=!1;for(ja in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ja])){V=!0;break;}}if(!V)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[U]=ba;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var ba,V,ja;ba=null;for(V in this.masterTokens){ja=this.masterTokens[V];if(U.isBoundTo(ja)){ba=ja;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(U)){try{this.removeServiceTokens(null,ba,U);}catch(ua){if(ua instanceof fb)throw new xb("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(ba){var V,ja;if(ba.isMasterTokenBound()){V=!1;for(ja in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ja])){V=!0;break;}}if(!V)throw new fb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){V=!1;for(var wa in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[wa])){V=!0;break;}}if(!V)throw new fb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);U.forEach(function(ba){var V;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){V=this.mtServiceTokens[ba.mtSerialNumber];V || (V={});V[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=V;}ba.isUserIdTokenBound() && ((V=this.uitServiceTokens[ba.uitSerialNumber]) || (V={}),V[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=V);}},this);},getServiceTokens:function(U,ba){var V,ja,wa;if(ba){if(!U)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(U))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + U.serialNumber);}V={};for(ja in this.unboundServiceTokens){wa=this.unboundServiceTokens[ja];V[wa.uniqueKey()]=wa;}if(U && (ja=this.mtServiceTokens[U.serialNumber]))for(var ua in ja){wa=ja[ua];wa.isUserIdTokenBound() || (V[ua]=wa);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var la in ba){ua=ba[la];ua.isBoundTo(U) && (V[la]=ua);}U=[];for(var sa in V){U.push(V[sa]);}return U;},removeServiceTokens:function(U,ba,V){var ja,wa,ua;if(V && ba && !V.isBoundTo(ba))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + ba.serialNumber);!U || ba || V || Object.keys(this.unboundServiceTokens).forEach(function(la){this.unboundServiceTokens[la].name == U && delete this.unboundServiceTokens[la];},this);if(ba && !V && (ja=this.mtServiceTokens[ba.serialNumber])){ua=Object.keys(ja);ua.forEach(function(la){var sa;sa=ja[la];U && sa.name != U || delete ja[la];},this);this.mtServiceTokens[ba.serialNumber]=ja;}V && (wa=this.uitServiceTokens[V.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(la){var sa;sa=wa[la];U && sa.name != U || delete wa[la];},this),this.uitServiceTokens[V.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var ba in U){delete U[ba];}},this);}});})();Af.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,ba){ba && U && U.length && (U=Kb(U),this._contextMap[U]=ba);},getCryptoContext:function(U){return U && U.length?(U=Kb(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Kb(U),delete this._contextMap[U]);}});sf.extend({init:function ua(ba,V,ja,wa){ua.base.call(this,ba);Object.defineProperties(this,{_kde:{value:V,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,V){if(!(V instanceof xc))throw new xb("Incorrect authentication data type " + JSON.stringify(V) + ".");if(V.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + V.identity);return new qd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function la(V,ja,wa,ua){la.base.call(this,V);Object.defineProperties(this,{_kpe:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(V,ja){if(!(ja instanceof yc))throw new xb("Incorrect authentication data type " + JSON.stringify(ja) + ".");if(ja.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ja.identity);return new qd(V,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function ma(ja,wa,ua,la,sa,za){ma.base.call(this);this._log=ja;this._esn=wa;this._keyRequestData=ua;this._createKeyRequestData=la;this._systemKeyName=sa;this._systemKeyWrapFormat=za;},setCryptoContext:function sa(wa,ua,la){var za;za=this;za._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});sa.base.call(this,wa,ua);!la && (wa=za._createKeyRequestData) && (za._log.trace("Generating new keyx request data"),wa().then(function(ma){za._keyRequestData=ma;},function(ma){za._log.error("Unable to generate new keyx request data","" + ma);}));},addUserIdToken:function sa(ua,la){this._log.trace("Adding UserIdToken",{UserId:ua,SerialNumber:la.serialNumber,MTSerialNumber:la.mtSerialNumber,Expiration:la.expiration.getTime()});sa.base.call(this,ua,la);},addServiceTokens:function sa(la){sa.base.call(this,la.filter(function(za){return !Gf[za.name];}));},getUserIdTokenKeys:function(){var la,sa;la=[];for(sa in this.userIdTokens){la.push(sa);}return la;},rekeyUserIdToken:function(la,sa){this.userIdTokens[la] && (this.userIdTokens[sa]=this.userIdTokens[la],delete this.userIdTokens[la]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(la){var sa;sa=this;Ma(la,function(){var za;za=sa.getMasterToken();za?sa.getKeysForStore(za,{result:function(ma){Ma(la,function(){var Z,da,ia;Z=sa.userIdTokens;da=Object.keys(Z).map(function(xa){var Ta;Ta=Z[xa];return {userId:xa,userIdTokenJSON:Z[xa].toJSON(),serviceTokenJSONList:sa.getServiceTokens(za,Ta).map(mf)};});ma.esn=sa._esn;ma.masterTokenJSON=za.toJSON();ma.userList=da;ia=sa._keyRequestData.storeData;ia && Object.keys(ia).forEach(function(xa){ma[xa]=ia[xa];});return ma;});},timeout:la.timeout,error:la.error}):la.result(null);});},getKeysForStore:function(la,sa){var za;za=this;Ma(sa,function(){var ma;ma=za.getCryptoContext(la);ma={encryptionKey:ma.encryptionKey,hmacKey:ma.hmacKey};if(ma.encryptionKey && ma.hmacKey){if(za._systemKeyWrapFormat)za.wrapKeysWithSystemKey(ma,sa);else return ma;}else throw new fb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(la,sa){var za;za=this;ee(this._systemKeyName,{result:function(ma){Ma(sa,function(){var Z,da,ia,xa;Z=la.encryptionKey;da=la.hmacKey;ia=Z[Wc];xa=da[Wc];if(ia && xa)return {wrappedEncryptionKey:ia,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Pb.wrapKey(za._systemKeyWrapFormat,Z,ma,ma.algorithm),Pb.wrapKey(za._systemKeyWrapFormat,da,ma,ma.algorithm)]);}).then(function(Ta){ia=Kb(Ta[0]);Z[Wc]=ia;xa=Kb(Ta[1]);da[Wc]=xa;sa.result({wrappedEncryptionKey:ia,wrappedHmacKey:xa});}).catch(function(Ta){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ta));});});},timeout:sa.timeout,error:sa.error});},unwrapKeysWithSystemKey:function(la,sa){var za;za=this;ee(this._systemKeyName,{result:function(ma){Ma(sa,function(){var Z,da;Z=Mb(la.wrappedEncryptionKey);da=Mb(la.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Pb.unwrapKey(za._systemKeyWrapFormat,Z,ma,ma.algorithm,oc,!1,Dc),Pb.unwrapKey(za._systemKeyWrapFormat,da,ma,ma.algorithm,pc,!1,Mc)]);}).then(function(ia){var xa;xa=ia[0];ia=ia[1];xa[Wc]=la.wrappedEncryptionKey;ia[Wc]=la.wrappedHmacKey;sa.result({encryptionKey:xa,hmacKey:ia});}).catch(function(ia){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ia));});});},timeout:sa.timeout,error:sa.error});},loadStoreState:function(la,sa,za,ma){var ia,xa;function Z(Ta,La){var Sa;try{Sa=za.userList.slice();}catch(Va){}Sa?(function qa(){var ya;ya=Sa.shift();ya?ud(sa,ya.userIdTokenJSON,Ta,{result:function(Ca){try{ia.addUserIdToken(ya.userId,Ca);da(Ta,Ca,ya.serviceTokenJSONList,{result:qa,timeout:qa,error:qa});}catch(Ia){qa();}},timeout:qa,error:qa}):La.result();})():La.result();}function da(Ta,La,Sa,Va){var qa,ya;try{qa=Sa.slice();}catch(Ca){}if(qa){ya=ia.getCryptoContext(Ta);(function Ia(){var Ba;Ba=qa.shift();Ba?vd(sa,Ba,Ta,La,ya,{result:function(Ua){ia.addServiceTokens([Ua]);Ia();},timeout:function(){Ia();},error:function(){Ia();}}):Va.result();})();}else Va.result();}ia=this;xa=ia._log;za.esn != ia._esn?(xa.error("Esn mismatch, starting fresh"),ma.error()):(function(Ta){var Va,qa,ya,Ca;function La(){var Ia;if(!Va && qa && ya && Ca){Va=!0;Ia=new lc(sa,qa,la.esn,{rawKey:ya},{rawKey:Ca});ia.setCryptoContext(qa,Ia,!0);Ta.result(qa);}}function Sa(Ia,Ba){xa.error(Ia,Ba && "" + Ba);Va || (Va=!0,Ta.error());}za.masterTokenJSON?(dd(sa,za.masterTokenJSON,{result:function(Ia){qa=Ia;La();},timeout:function(){Sa("Timeout parsing MasterToken");},error:function(Ia){Sa("Error parsing MasterToken",Ia);}}),ia._systemKeyWrapFormat?ia.unwrapKeysWithSystemKey(za,{result:function(Ia){ya=Ia.encryptionKey;Ca=Ia.hmacKey;La();},timeout:function(){Sa("Timeout unwrapping keys");},error:function(Ia){Sa("Error unwrapping keys",Ia);}}):Promise.resolve().then(function(){return Pb.encrypt({name:oc.name,iv:new Uint8Array(16)},za.encryptionKey,new Uint8Array(1));}).then(function(Ia){ya=za.encryptionKey;}).catch(function(Ia){Sa("Error loading encryptionKey");}).then(function(){return Pb.sign(pc,za.hmacKey,new Uint8Array(1));}).then(function(Ia){Ca=za.hmacKey;La();}).catch(function(Ia){Sa("Error loading hmacKey");})):Sa("Persisted store is corrupt");})({result:function(Ta){Z(Ta,ma);},timeout:ma.timeout,error:ma.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Wc="$netflix$msl$wrapsys";If=Ff.extend({init:function(la,sa,za,ma,Z,da){var ia,xa;ia=new ed([Kc.LZW]);xa=new vf();xa.addPublicKey(sa,za);ma[Wb.RSA]=new uf(xa);sa={};sa[Gc.EMAIL_PASSWORD]=new Ef();sa[Gc.NETFLIXID]=new Df();la={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Z,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ma,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:da,writable:!1,enumerable:!1,configurable:!1},_store:{value:la,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(la,sa){sa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(la){return this._entityAuthFactories[la];},getUserAuthenticationFactory:function(la){return this._userAuthFactories[la];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(la){return this._keyExchangeFactories.filter(function(sa){return sa.scheme == la;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(la,sa,za,ma){this._log=la;this._mslContext=sa;this._mslRequest=za;this._keyRequestData=ma;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(la,sa,za,ma){var Z;Z=this._mslRequest;Ma(ma,function(){return la || !Z.shouldSendUserAuthData?null:Z.email?new hd(Z.email,Z.password):Z.useNetflixUserAuthData || za && Z.sendUserAuthIfRequired?new gd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(la){la.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(la,sa,za){var ma,Z,da,ia,xa,Ta;ma=this._log;Z=(this._mslRequest.serviceTokens || []).slice();da=this._mslContext;sa=da.getMslStore();ia=la.builder.getMasterToken();xa=this.getUserId();Ta=sa.getUserIdToken(xa);(function Sa(){var Va;Va=Z.shift();if(Va)try{Va instanceof Fc?(la.addPrimaryServiceToken(Va),Sa()):vd(da,Va,ia,Ta,null,{result:function(qa){try{la.addPrimaryServiceToken(qa);}catch(ya){ma.warn("Exception adding service token","" + ya);}Sa();},timeout:function(){ma.warn("Timeout parsing service token");Sa();},error:function(qa){ma.warn("Error parsing service token","" + qa);Sa();}});}catch(qa){ma.warn("Exception processing service token","" + qa);Sa();}else za.result(!0);})();},write:function(la,sa,za){var ma;ma=fc(this._mslRequest.body);la.write(ma,0,ma.length,sa,{result:function(Z){Z != ma.length?za.error(new Xb("Not all data was written to output.")):la.flush(sa,{result:function(){za.result(!0);},timeout:function(){za.timeout();},error:function(da){za.error(da);}});},timeout:function(){za.timeout();},error:function(Z){za.error(Z);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(la,sa){this._log=la;this._mslRequest=sa;},sentHeader:function(la){this._log.trace("Sent MSL header",fe(this._mslRequest,la),la.serviceTokens && la.serviceTokens.map(nf).join("\n"));},receivedHeader:function(la){var sa,za;sa=fe(this._mslRequest,la);za=la.errorCode;za?this._log.warn("Received MSL error header",sa,{errorCode:za,errorMessage:la.errorMessage,internalCode:la.internalCode}):this._log.trace("Received MSL header",sa);}});Kf={JWK_RSA:function(la){return pf(la,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(la,sa){var za,ma,Z,da,ia;za=la.log;ia=la.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new fb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?ld.V2014_02:ld.LEGACY;ia("mslisik");return Pb.importKey("spki",la.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Ta,La){Jc(xa,{result:Ta,error:function(){La(new fb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){ma=xa;if(xa=Kf.JWK_RSA)return (ia("mslcc"),xa(la));throw new fb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Ta;Z=new Hf(za,la.esn,xa.keyRequestData,xa.createKeyRequestData,la.authenticationKeyNames.s,la.systemKeyWrapFormat);da=new If(Z,la.serverIdentityId,ma,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Ta=la.storeState;if(Ta)return (ia("mslss"),za.info("Loading store state"),new Promise(function(La,Sa){Z.loadStoreState(la,da,Ta,{result:La,timeout:La,error:La});}));za.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();ia("msldone");sa.result(new of(za,xa,da,Z,la.ErrorSubCodes));}).catch(function(xa){sa.error(xa);});},IHttpLocation:yf,MslIoException:Xb};(function(){var ab,Wa,kb,nb,qb,rb,sb,Bb,Ab;function la(ra){var Da;Da=0;return function(){return Da < ra.length?{done:!1,value:ra[Da++]}:{done:!0};};}function sa(ra,Da){var Na,b;if(Da)a:{Na=Wa;ra=ra.split(".");for(var r=0;r < ra.length - 1;r++){b=ra[r];if(!((b in Na)))break a;Na=Na[b];}ra=ra[ra.length - 1];r=Na[ra];Da=Da(r);Da != r && null != Da && ab(Na,ra,{configurable:!0,writable:!0,value:Da});}}function za(ra){ra={next:ra};ra[Symbol.iterator]=function(){return this;};return ra;}function ma(ra){var Da;Da="undefined" != typeof Symbol && Symbol.iterator && ra[Symbol.iterator];return Da?Da.call(ra):{next:la(ra)};}function Z(ra){for(var Da,Na=[];!(Da=ra.next()).done;){Na.push(Da.value);}return Na;}function da(ra){return ra instanceof Array?ra:Z(ma(ra));}function ia(ra,Da){var r;ra.prototype=kb(Da.prototype);ra.prototype.constructor=ra;if(Bb)Bb(ra,Da);else for(var Na in Da){if("prototype" != Na)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Da,Na);r && Object.defineProperty(ra,Na,r);}else ra[Na]=Da[Na];}ra.Nfc=Da.prototype;}function xa(){this.kU=!1;this.$C=null;this.fY=void 0;this.Kv=1;this.LWa=this.qia=0;this.yE=null;}function Ta(ra){if(ra.kU)throw new TypeError("Generator is already running");ra.kU=!0;}function La(ra,Da,Na){ra.Kv=Na;return {value:Da};}function Sa(ra){this.Ff=new xa();this.gWb=ra;}function Va(ra,Da){var Na;Ta(ra.Ff);Na=ra.Ff.$C;if(Na)return qa(ra,("return" in Na)?Na["return"]:function(r){return {value:r,done:!0};},Da,ra.Ff.return);ra.Ff.return(Da);return ya(ra);}function qa(ra,Da,Na,r){var b,a;try{b=Da.call(ra.Ff.$C,Na);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ra.Ff.kU=!1,b);a=b.value;}catch(c){return (ra.Ff.$C=null,ra.Ff.tX(c),ya(ra));}ra.Ff.$C=null;r.call(ra.Ff,a);return ya(ra);}function ya(ra){var Da;for(;ra.Ff.Kv;){try{Da=ra.gWb(ra.Ff);if(Da)return (ra.Ff.kU=!1,{value:Da.value,done:!1});}catch(Na){ra.Ff.fY=void 0;ra.Ff.tX(Na);}}ra.Ff.kU=!1;if(ra.Ff.yE){Da=ra.Ff.yE;ra.Ff.yE=null;if(Da.gMb)throw Da.oWa;return {value:Da.return,done:!0};}return {value:void 0,done:!0};}function Ca(ra){this.next=function(Da){return ra.kV(Da);};this.throw=function(Da){return ra.tX(Da);};this.return=function(Da){return Va(ra,Da);};this[Symbol.iterator]=function(){return this;};}function Ia(ra,Da){Da=new Ca(new Sa(Da));Bb && ra.prototype && Bb(Da,ra.prototype);return Da;}function Ba(ra,Da){var Na,r,b;ra instanceof String && (ra+="");Na=0;r=!1;b={next:function(){var a;if(!r && Na < ra.length){a=Na++;return {value:Da(a,ra[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Ua(ra,Da){return Object.prototype.hasOwnProperty.call(ra,Da);}function Ha(ra,Da,Na){var a;ra instanceof String && (ra=String(ra));for(var r=ra.length,b=0;b < r;b++){a=ra[b];if(Da.call(Na,a,b,ra))return {S_a:b,O$:a};}return {S_a:-1,O$:void 0};}function Ya(ra,Da,Na){if(null == ra)throw new TypeError("The 'this' value for String.prototype." + Na + " must not be null or undefined");if(Da instanceof RegExp)throw new TypeError("First argument to String.prototype." + Na + " must not be a regular expression");return ra + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(ra,Da,Na){if(ra == Array.prototype || ra == Object.prototype)return ra;ra[Da]=Na.value;return ra;};Wa=(function(ra){var Na;ra=["object" == typeof globalThis && globalThis,ra,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var Da=0;Da < ra.length;++Da){Na=ra[Da];if(Na && Na.Math == Math)return Na;}throw Error("Cannot find global object");})(this);sa("Symbol",function(ra){var r;function Da(b){if(this instanceof Da)throw new TypeError("Symbol is not a constructor");return new Na("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Na(b,a){this.beb=b;ab(this,"description",{configurable:!0,writable:!0,value:a});}if(ra)return ra;Na.prototype.toString=function(){return this.beb;};r=0;return Da;});sa("Symbol.iterator",function(ra){var r;if(ra)return ra;ra=Symbol("Symbol.iterator");for(var Da=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Na=0;Na < Da.length;Na++){r=Wa[Da[Na]];"function" === typeof r && "function" != typeof r.prototype[ra] && ab(r.prototype,ra,{configurable:!0,writable:!0,value:function(){return za(la(this));}});}return ra;});kb="function" == typeof Object.create?Object.create:function(ra){function Da(){}Da.prototype=ra;return new Da();};nb=(function(){var Da;function ra(){function Na(){}new Na();Reflect.construct(Na,[],function(){});return new Na() instanceof Na;}if("undefined" != typeof Reflect && Reflect.construct){if(ra())return Reflect.construct;Da=Reflect.construct;return function(Na,r,b){Na=Da(Na,r);b && Reflect.setPrototypeOf(Na,b.prototype);return Na;};}return function(Na,r,b){void 0 === b && (b=Na);b=kb(b.prototype || Object.prototype);return Function.prototype.apply.call(Na,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)qb=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;qb=sb.a;break a;}catch(ra){}qb=!1;}qb=qb?function(ra,Da){ra.__proto__=Da;if(ra.__proto__ !== Da)throw new TypeError(ra + " is not extensible");return ra;}:null;}Bb=qb;xa.prototype.kV=function(ra){this.fY=ra;};xa.prototype.tX=function(ra){this.yE={oWa:ra,gMb:!0};this.Kv=this.qia || this.LWa;};xa.prototype.return=function(ra){this.yE={return:ra};this.Kv=this.LWa;};Sa.prototype.kV=function(ra){Ta(this.Ff);if(this.Ff.$C)return qa(this,this.Ff.$C.next,ra,this.Ff.kV);this.Ff.kV(ra);return ya(this);};Sa.prototype.tX=function(ra){Ta(this.Ff);if(this.Ff.$C)return qa(this,this.Ff.$C["throw"],ra,this.Ff.kV);this.Ff.tX(ra);return ya(this);};sa("Reflect",function(ra){return ra?ra:{};});sa("Reflect.construct",function(){return nb;});sa("Reflect.setPrototypeOf",function(ra){return ra?ra:Bb?function(Da,Na){try{return (Bb(Da,Na),!0);}catch(r){return !1;}}:null;});sa("Array.prototype.keys",function(ra){return ra?ra:function(){return Ba(this,function(Da){return Da;});};});sa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});sa("WeakMap",function(ra){var c,k;function Da(f){this.RT=(k+=Math.random() + 1).toString();if(f){f=ma(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function Na(){}function r(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function b(f){var h;if(!Ua(f,c)){h=new Na();ab(f,c,{value:h});}}function a(f){var h;h=Object[f];h && (Object[f]=function(d){if(d instanceof Na)return d;Object.isExtensible(d) && b(d);return h(d);});}if((function(){var f,h,d;if(!ra || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});d=new ra([[f,2],[h,3]]);if(2 != d.get(f) || 3 != d.get(h))return !1;d.delete(f);d.set(h,4);return !d.has(f) && 4 == d.get(h);}catch(g){return !1;}})())return ra;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");k=0;Da.prototype.set=function(f,h){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Ua(f,c))throw Error("WeakMap key fail: " + f);f[c][this.RT]=h;return this;};Da.prototype.get=function(f){return r(f) && Ua(f,c)?f[c][this.RT]:void 0;};Da.prototype.has=function(f){return r(f) && Ua(f,c) && Ua(f[c],this.RT);};Da.prototype.delete=function(f){return r(f) && Ua(f,c) && Ua(f[c],this.RT)?delete f[c][this.RT]:!1;};return Da;});sa("Map",function(ra){var a,c;function Da(){var k;k={};return k.am=k.next=k.head=k;}function Na(k,f){var h;h=k.jy;return za(function(){if(h){for(;h.head != k.jy;){h=h.am;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function r(k,f){var h,d,g;h=f && typeof f;"object" == h || "function" == h?a.has(f)?h=a.get(f):(h="" + ++c,a.set(f,h)):h="p_" + f;d=k.Vx[h];if(d && Ua(k.Vx,h))for(k=0;k < d.length;k++){g=d[k];if(f !== f && g.key !== g.key || f === g.key)return {id:h,list:d,index:k,entry:g};}return {id:h,list:d,index:-1,entry:void 0};}function b(k){this.Vx={};this.jy=Da();this.size=0;if(k){k=ma(k);for(var f;!(f=k.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var k,f,h,d;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{k=Object.seal({x:4});f=new ra(ma([[k,"s"]]));if("s" != f.get(k) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();d=h.next();if(d.done || d.value[0] != k || "s" != d.value[1])return !1;d=h.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !h.next().done?!1:!0;}catch(g){return !1;}})())return ra;a=new WeakMap();b.prototype.set=function(k,f){var h;k=0 === k?0:k;h=r(this,k);h.list || (h.list=this.Vx[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.jy,am:this.jy.am,head:this.jy,key:k,value:f},h.list.push(h.entry),this.jy.am.next=h.entry,this.jy.am=h.entry,this.size++);return this;};b.prototype.delete=function(k){k=r(this,k);return k.entry && k.list?(k.list.splice(k.index,1),k.list.length || delete this.Vx[k.id],k.entry.am.next=k.entry.next,k.entry.next.am=k.entry.am,k.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Vx={};this.jy=this.jy.am=Da();this.size=0;};b.prototype.has=function(k){return !!r(this,k).entry;};b.prototype.get=function(k){return (k=r(this,k).entry) && k.value;};b.prototype.entries=function(){return Na(this,function(k){return [k.key,k.value];});};b.prototype.keys=function(){return Na(this,function(k){return k.key;});};b.prototype.values=function(){return Na(this,function(k){return k.value;});};b.prototype.forEach=function(k,f){for(var h=this.entries(),d;!(d=h.next()).done;){d=d.value;k.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});sa("Set",function(ra){function Da(Na){this.Fv=new Map();if(Na){Na=ma(Na);for(var r;!(r=Na.next()).done;){this.add(r.value);}}this.size=this.Fv.size;}if((function(){var Na,r,b,a;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{Na=Object.seal({x:4});r=new ra(ma([Na]));if(!r.has(Na) || 1 != r.size || r.add(Na) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Na || a.value[1] != Na)return !1;a=b.next();return a.done || a.value[0] == Na || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return ra;Da.prototype.add=function(Na){Na=0 === Na?0:Na;this.Fv.set(Na,Na);this.size=this.Fv.size;return this;};Da.prototype.delete=function(Na){Na=this.Fv.delete(Na);this.size=this.Fv.size;return Na;};Da.prototype.clear=function(){this.Fv.clear();this.size=0;};Da.prototype.has=function(Na){return this.Fv.has(Na);};Da.prototype.entries=function(){return this.Fv.entries();};Da.prototype.values=function(){return this.Fv.values();};Da.prototype.keys=Da.prototype.values;Da.prototype[Symbol.iterator]=Da.prototype.values;Da.prototype.forEach=function(Na,r){var b;b=this;this.Fv.forEach(function(a){return Na.call(r,a,a,b);});};return Da;});sa("Array.prototype.find",function(ra){return ra?ra:function(Da,Na){return Ha(this,Da,Na).O$;};});sa("Number.isFinite",function(ra){return ra?ra:function(Da){return "number" !== typeof Da?!1:!isNaN(Da) && Infinity !== Da && -Infinity !== Da;};});sa("Promise",function(ra){var b,a;function Da(c){var k;this.ON=0;this.BW=void 0;this.CM=[];this.n1a=!1;k=this.yja();try{c(k.resolve,k.reject);}catch(f){k.reject(f);}}function Na(){this.IA=null;}function r(c){return c instanceof Da?c:new Da(function(k){k(c);});}if(ra)return ra;Na.prototype.ZQa=function(c){var k;if(null == this.IA){this.IA=[];k=this;this.$Qa(function(){k.iDb();});}this.IA.push(c);};b=Wa.setTimeout;Na.prototype.$Qa=function(c){b(c,0);};Na.prototype.iDb=function(){var c,f;for(;this.IA && this.IA.length;){c=this.IA;this.IA=[];for(var k=0;k < c.length;++k){f=c[k];c[k]=null;try{f();}catch(h){this.$rb(h);}}}this.IA=null;};Na.prototype.$rb=function(c){this.$Qa(function(){throw c;});};Da.prototype.yja=function(){var k,f;function c(h){return function(d){f || (f=!0,h.call(k,d));};}k=this;f=!1;return {resolve:c(this.wYb),reject:c(this.Bta)};};Da.prototype.wYb=function(c){var k;if(c === this)this.Bta(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Da)this.J_b(c);else {a:switch(typeof c){case "object":k=null != c;break a;case "function":k=!0;break a;default:k=!1;}k?this.vYb(c):this.wXa(c);}};Da.prototype.vYb=function(c){var k;k=void 0;try{k=c.then;}catch(f){this.Bta(f);return;}"function" == typeof k?this.K_b(k,c):this.wXa(c);};Da.prototype.Bta=function(c){this.C$a(2,c);};Da.prototype.wXa=function(c){this.C$a(1,c);};Da.prototype.C$a=function(c,k){if(0 != this.ON)throw Error("Cannot settle(" + c + ", " + k + "): Promise already settled in state" + this.ON);this.ON=c;this.BW=k;2 === this.ON && this.gZb();this.jDb();};Da.prototype.gZb=function(){var c;c=this;b(function(){var k;if(c.DRb()){k=Wa.console;"undefined" !== typeof k && k.error(c.BW);}},1);};Da.prototype.DRb=function(){var c,k,f;if(this.n1a)return !1;c=Wa.CustomEvent;k=Wa.Event;f=Wa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof k?c=new k("unhandledrejection",{cancelable:!0}):(c=Wa.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.BW;return f(c);};Da.prototype.jDb=function(){if(null != this.CM){for(var c=0;c < this.CM.length;++c){a.ZQa(this.CM[c]);}this.CM=null;}};a=new Na();Da.prototype.J_b=function(c){var k;k=this.yja();c.z2(k.resolve,k.reject);};Da.prototype.K_b=function(c,k){var f;f=this.yja();try{c.call(k,f.resolve,f.reject);}catch(h){f.reject(h);}};Da.prototype.then=function(c,k){var h,d,g;function f(m,l){return "function" == typeof m?function(n){try{h(m(n));}catch(p){d(p);}}:l;}g=new Da(function(m,l){h=m;d=l;});this.z2(f(c,h),f(k,d));return g;};Da.prototype.catch=function(c){return this.then(void 0,c);};Da.prototype.z2=function(c,k){var h;function f(){switch(h.ON){case 1:c(h.BW);break;case 2:k(h.BW);break;default:throw Error("Unexpected state: " + h.ON);}}h=this;null == this.CM?a.ZQa(f):this.CM.push(f);this.n1a=!0;};Da.resolve=r;Da.reject=function(c){return new Da(function(k,f){f(c);});};Da.race=function(c){return new Da(function(k,f){for(var h=ma(c),d=h.next();!d.done;d=h.next()){r(d.value).z2(k,f);}});};Da.all=function(c){var k,f;k=ma(c);f=k.next();return f.done?r([]):new Da(function(h,d){var m,l;function g(n){return function(p){m[n]=p;l--;0 == l && h(m);};}m=[];l=0;do {m.push(void 0);l++;r(f.value).z2(g(m.length - 1),d);f=k.next();}while(!f.done);});};return Da;});Ab="function" == typeof Object.assign?Object.assign:function(ra,Da){var r;for(var Na=1;Na < arguments.length;Na++){r=arguments[Na];if(r)for(var b in r){Ua(r,b) && (ra[b]=r[b]);}}return ra;};sa("Object.assign",function(ra){return ra || Ab;});sa("Object.is",function(ra){return ra?ra:function(Da,Na){return Da === Na?0 !== Da || 1 / Da === 1 / Na:Da !== Da && Na !== Na;};});sa("Array.prototype.includes",function(ra){return ra?ra:function(Da,Na){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Na=Na || 0;for(0 > Na && (Na=Math.max(Na + b,0));Na < b;Na++){a=r[Na];if(a === Da || Object.is(a,Da))return !0;}return !1;};});sa("String.prototype.includes",function(ra){return ra?ra:function(Da,Na){return -1 !== Ya(this,Da,"includes").indexOf(Da,Na || 0);};});sa("Object.entries",function(ra){return ra?ra:function(Da){var Na,r;Na=[];for(r in Da){Ua(Da,r) && Na.push([r,Da[r]]);}return Na;};});sa("Object.values",function(ra){return ra?ra:function(Da){var Na,r;Na=[];for(r in Da){Ua(Da,r) && Na.push(Da[r]);}return Na;};});sa("Array.prototype.entries",function(ra){return ra?ra:function(){return Ba(this,function(Da,Na){return [Da,Na];});};});sa("Array.prototype.findIndex",function(ra){return ra?ra:function(Da,Na){return Ha(this,Da,Na).S_a;};});sa("Promise.prototype.finally",function(ra){return ra?ra:function(Da){return this.then(function(Na){return Promise.resolve(Da()).then(function(){return Na;});},function(Na){return Promise.resolve(Da()).then(function(){throw Na;});});};});sa("Number.parseInt",function(ra){return ra || parseInt;});sa("Array.prototype.values",function(ra){return ra?ra:function(){return Ba(this,function(Da,Na){return Na;});};});sa("String.prototype.endsWith",function(ra){return ra?ra:function(Da,Na){var r;r=Ya(this,Da,"endsWith");Da+="";void 0 === Na && (Na=r.length);Na=Math.max(0,Math.min(Na | 0,r.length));for(var b=Da.length;0 < b && 0 < Na;){if(r[--Na] != Da[--b])return !1;}return 0 >= b;};});sa("Array.from",function(ra){return ra?ra:function(Da,Na,r){var b,a;Na=null != Na?Na:function(k){return k;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Da[Symbol.iterator];if("function" == typeof a){Da=a.call(Da);for(var c=0;!(a=Da.next()).done;){b.push(Na.call(r,a.value,c++));}}else for((a=Da.length,c=0);c < a;c++){b.push(Na.call(r,Da[c],c));}return b;};});sa("String.prototype.startsWith",function(ra){return ra?ra:function(Da,Na){var r,b,a;r=Ya(this,Da,"startsWith");Da+="";b=r.length;a=Da.length;Na=Math.max(0,Math.min(Na | 0,r.length));for(var c=0;c < a && Na < b;){if(r[Na++] != Da[c++])return !1;}return c >= a;};});sa("Number.isNaN",function(ra){return ra?ra:function(Da){return "number" === typeof Da && isNaN(Da);};});sa("Object.getOwnPropertySymbols",function(ra){return ra?ra:function(){return [];};});sa("Reflect.apply",function(ra){var Da;if(ra)return ra;Da=Function.prototype.apply;return function(Na,r,b){return Da.call(Na,r,b);};});sa("Math.tanh",function(ra){return ra?ra:function(Da){var Na;Da=Number(Da);if(0 === Da)return Da;Na=Math.exp(-2 * Math.abs(Da));Na=(1 - Na) / (1 + Na);return 0 > Da?-Na:Na;};});sa("String.fromCodePoint",function(ra){return ra?ra:function(Da){var b;for(var Na="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Na+=String.fromCharCode(b):(b-=65536,Na+=String.fromCharCode(b >>> 10 & 1023 | 55296),Na+=String.fromCharCode(b & 1023 | 56320));}return Na;};});sa("Object.setPrototypeOf",function(ra){return ra || Bb;});(function(){var Da,Na;function ra(r){var b;b=Na[r];if(void 0 !== b)return b.exports;b=Na[r]={exports:{}};Da[r].call(b.exports,b,b.exports,ra);return b.exports;}Da={18920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={ga:0,Z:1,Ya:2};},30145:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qc=void 0;b.qc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};},94995:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);k=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new k(h || "Assertion failed");};},7363:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rXa=b.rxa=b.qXa=void 0;b.qXa={23976:{ya:24E3,T:1001},24:{ya:24E3,T:1E3},25:{ya:25E3,T:1E3},2997:{ya:3E4,T:1001},30:{ya:3E4,T:1E3}};b.rxa=["23976","24","25","2997","30"];b.rXa=function(a,c){return a.ya / a.T === c.ya / c.T;};},42711:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Qb=!0;b.ma="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Pb=!0;b.ca={ya:1536,T:48E3};b.duration={ya:12288,T:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.$b=[176,590];b.Zb=[44];},64370:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Qb=!0;b.ma="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Pb=!0;b.ca={ya:1536,T:48E3};b.duration={ya:12288,T:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.$b=[176,590];b.Zb=[44];},66670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Qb=!0;b.ma="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Pb=!0;b.ca={ya:1536,T:48E3};b.duration={ya:12288,T:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.$b=[176,590];b.Zb=[44];},52325:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Qb=!0;b.ma="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Pb=!0;b.ca={ya:1536,T:48E3};b.duration={ya:12288,T:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.$b=[176,590];b.Zb=[44];},62231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Qb=!0;b.ma="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Pb=!0;b.ca={ya:1536,T:48E3};b.duration={ya:12288,T:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.$b=[176,590];b.Zb=[44];},84531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Qb=!0;b.ma="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Pb=!0;b.ca={ya:1024,T:24E3};b.duration={ya:7168,T:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.$b=[176,599];b.Zb=[44];},87448:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Qb=!0;b.ma="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Pb=!0;b.ca={ya:1024,T:24E3};b.duration={ya:7168,T:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.$b=[176,599];b.Zb=[44];},41223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Qb=!0;b.ma="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Pb=!0;b.ca={ya:1024,T:24E3};b.duration={ya:7168,T:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.$b=[176,599];b.Zb=[44];},63098:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.dRa=b.odb=void 0;b.odb={padding:{"16:9":{h264hpl:{23976:function(){return a(33848);},24:function(){return a(32196);},25:function(){return a(75381);},2997:function(){return a(55725);},30:function(){return a(7140);}},h264:{23976:function(){return a(24453);},24:function(){return a(99651);},25:function(){return a(43636);},2997:function(){return a(67543);},30:function(){return a(19790);}}},"4:3":{h264hpl:{23976:function(){return a(19932);},24:function(){return a(37939);},25:function(){return a(43207);},2997:function(){return a(78257);},30:function(){return a(93277);}},h264:{23976:function(){return a(19745);},24:function(){return a(88203);},25:function(){return a(59332);},2997:function(){return a(58800);},30:function(){return a(53683);}}}}};b.dRa={silence:{heaac:{64:function(){return a(87448);},96:function(){return a(41223);},128:function(){return a(84531);}},ddp:{192:function(){return a(42711);},256:function(){return a(64370);},384:function(){return a(66670);},448:function(){return a(52325);},640:function(){return a(62231);}}}};},19745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Qb=!0;b.ma="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Pb=!1;b.ca={ya:1001,T:24E3};b.duration={ya:6006,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,729];b.Zb=[44];},88203:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19745);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Qb=!0;b.Ke=749;b.ma="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:24E3};b.duration={ya:6E3,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,731];b.Zb=[44];},59332:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19745);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Qb=!0;b.Ke=749;b.ma="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:25E3};b.duration={ya:7E3,T:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,731];b.Zb=[44];},58800:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19745);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Qb=!0;b.Ke=749;b.ma="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1001,T:3E4};b.duration={ya:8008,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,729];b.Zb=[44];},53683:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19745);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Qb=!0;b.Ke=749;b.ma="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:3E4};b.duration={ya:8E3,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,731];b.Zb=[44];},19932:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Qb=!0;b.ma="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Pb=!1;b.ca={ya:1001,T:24E3};b.duration={ya:6006,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,731];b.Zb=[44];},37939:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19932);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Qb=!0;b.Ke=751;b.ma="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:24E3};b.duration={ya:6E3,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,733];b.Zb=[44];},43207:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19932);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Qb=!0;b.Ke=751;b.ma="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:25E3};b.duration={ya:7E3,T:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,733];b.Zb=[44];},78257:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19932);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Qb=!0;b.Ke=751;b.ma="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1001,T:3E4};b.duration={ya:8008,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,731];b.Zb=[44];},93277:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(19932);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Qb=!0;b.Ke=751;b.ma="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:3E4};b.duration={ya:8E3,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=1;b.Tc=1;b.$b=[176,733];b.Zb=[44];},24453:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Qb=!0;b.ma="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Pb=!1;b.ca={ya:1001,T:24E3};b.duration={ya:6006,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,729];b.Zb=[44];},99651:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(24453);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Qb=!0;b.Ke=749;b.ma="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:24E3};b.duration={ya:6E3,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,731];b.Zb=[44];},43636:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(24453);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Qb=!0;b.Ke=749;b.ma="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:25E3};b.duration={ya:7E3,T:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,731];b.Zb=[44];},67543:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(24453);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Qb=!0;b.Ke=749;b.ma="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1001,T:3E4};b.duration={ya:8008,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,729];b.Zb=[44];},19790:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(24453);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Qb=!0;b.Ke=749;b.ma="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:3E4};b.duration={ya:8E3,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,731];b.Zb=[44];},33848:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.qa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Qb=!0;b.ma="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Pb=!1;b.ca={ya:1001,T:24E3};b.duration={ya:6006,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,731];b.Zb=[44];},32196:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(33848);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Qb=!0;b.Ke=751;b.ma="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:24E3};b.duration={ya:6E3,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,733];b.Zb=[44];},75381:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(33848);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Qb=!0;b.Ke=751;b.ma="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:25E3};b.duration={ya:7E3,T:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,733];b.Zb=[44];},55725:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(33848);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Qb=!0;b.Ke=751;b.ma="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1001,T:3E4};b.duration={ya:8008,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,731];b.Zb=[44];},7140:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Zb=b.$b=b.Tc=b.Sc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Pb=b.ma=b.Ke=b.Qb=b.qa=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(33848);b.Ie=r.qa;b.Je=r.Qb;b.Ee=r.ma;b.Fe=r.Pb;b.qa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Qb=!0;b.Ke=751;b.ma="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Pb=!0;b.Ge=1022;b.ca={ya:1E3,T:3E4};b.duration={ya:8E3,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Sc=4;b.Tc=3;b.$b=[176,733];b.Zb=[44];},51530:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(29266),b);r.__exportStar(a(7363),b);},68118:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function k(g,m){d.assert(0 < m && 8 > m);return c((m - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function h(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.L6=b.QOb=void 0;d=a(94995);b.QOb=function(g,m){var p,q,u,t,v,w;function l(y,x){var A;A=p;y=q - x - y;d.assert(1 <= y);d.assert(16384 > y - 1);d.assert(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=A + x;u=q;t=0;}function n(y,x,A){return g.subarray(y,y + A).every(function(z,B){return z === g[x + B];});}p="";q=m || 0;u=q;t=0;for(m=0;q < g.byteLength;){v=u;w=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(l(v,w),m=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[v] !== g[u] || 0 < t && !n(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(v === q || 1 === w){q-=w;for(v=1;5 > v && g[q + v] === g[q];){++v;}p+=k(g[q],v);q+=v;m=1 < v?0:m + 1;4 === m && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (l(v,w),m=0);}}1 === t?p+=k(g[u],1):1 < t && l(u,t);return p;};b.L6=function(g,m){var t;function l(w,y){var x;if(u + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(w + y <= u)p.set(p.subarray(w,w + y),u);else for(x=0;x < y;++x){p[u + x]=p[w + x];}u+=y;}function n(){var w;w=g.slice(q,q+=2);return (h(w.charCodeAt(0)) << 6) + h(w.charCodeAt(1));}for(var p=m || new Uint8Array(4096),q=0,u=m?m.byteLength:0;q < g.length;){t=n();if(t & 2048)(m=n(),l(u - (((t & 2047) << 3) + (m >>> 9) + 1),(m & 511) + 2));else if(1792 === (t & 3840))(p[u++]=t & 255,m=n(),t=n(),p[u++]=m >>> 4,p[u++]=(m << 4 & 240) + (t >>> 8),p[u++]=t & 255);else {m=t & 255;t=(t >>> 8) + 1;for(var v=0;v < t;++v){p[u++]=m;}}}return p.subarray(0,u);};},51656:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.psb=b.nsb=b.qsb=b.msb=b.osb=b.rsb=b.w5b=b.q5b=b.RX=b.y5b=void 0;c=a(7363);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.rxa;}});b.y5b=["padding"];b.RX=["h264hpl","h264"];b.q5b=["16:9","4:3"];b.w5b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.rsb=["silence"];b.osb=["heaac","ddp"];b.msb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.qsb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.nsb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.psb={heaac:{ya:1024,T:24E3},ddp:{ya:1536,T:48E3}};},29266:function(r,b,a){var k,f,h,d,g,m,l;function c(n){if(-1 !== h.RX.indexOf(n))return n;for(var p,q=0;q < h.RX.length;++q){if(-1 !== n.indexOf(h.RX[q])){p=h.RX[q];break;}}g.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;k=a(70655);f=a(63098);h=a(51656);d=a(7363);g=a(94995);m=a(30145);l=a(68118);r=(function(){function n(p,q){this.atob=p;this.console=q;this.hK=1;this.QX=[];this.FR=[];}n.prototype.SIb=function(p,q,u,t,v){var w,A;void 0 === t && (t={w:16,Tq:9});void 0 === v && (v=1);q=c(q);w=m.qc(d.rxa,function(z){return d.rXa(u,d.qXa[z]);});g.assert(w);g.assert(16 === t.w && 9 === t.Tq || 4 === t.w && 3 === t.Tq);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.QX;y < x.length;y++){A=x[y];if(A.type === p && A.Ax === t && A.sd === q && A.frameRate === w && A.trackId === v)return A;}p=this.Tzb(p,t,q,w,v);this.QX.unshift(p);this.QX.length > this.hK && this.QX.splice(this.hK,this.QX.length - this.hK);return p;};n.prototype.RIb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,v=0,w=this.FR;v < w.length;v++){y=w[v];"silence" === y.type && y.sd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.Jzb(p,q,u),this.FR.unshift(t),this.FR.length > this.hK && this.FR.splice(this.hK,this.FR.length - this.hK));return t;};n.prototype.Tzb=function(p,q,u,t,v){var w;w=f.odb[p][q][u][t]();return k.__assign(k.__assign({},this.decode(w,v)),{type:p,Ax:q,sd:u,frameRate:t,width:w.width,height:w.height,Sc:w.Sc,Tc:w.Tc});};n.prototype.Jzb=function(p,q,u){var t;t=f.dRa.silence[p][q];g.assert(t);t=t();return k.__assign(k.__assign({},this.decode(t,u)),{type:"silence",sd:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var u,t,v,w;u=p.Qb?this.BUa(p.qa,p.Ie,p.Ke,p.Je):this.atob(p.qa);t=p.Pb?this.BUa(p.ma,p.Ee,p.Ge,p.Fe):this.atob(p.ma);if(1 !== q){v=new DataView(u);w=new DataView(t);p.$b.forEach(function(y){return v.setUint32(y,q);});p.Zb.forEach(function(y){return w.setUint32(y,q);});}return k.__assign(k.__assign({},p),{qa:u,ma:t,trackId:q});};n.prototype.BUa=function(p,q,u,t){p=void 0 === q?l.L6(p):t?l.L6(q + p):l.L6(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (u || 0),p.byteOffset + p.byteLength);};return n;})();b.tLa=r;},67026:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.d6a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.d6a=function(c){var k,f,h,d;k=c.read(5);f=c.read(4);if(15 === f){h=c.read(24);f=a.indexOf(h);}else h=a[f];d=c.read(4);switch(k){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + k + " not supported.");}return {hp:k,sampleRate:h,v9:f,ubc:d,aFb:1024};};},30242:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.n7a=void 0;c=a(57823);b.n7a=function(k,f,h){var d,g;d=k.read(1);if(d){g=new c.cEa(k,d,f);1 === k.read(2) && k.advance(g.AM * g.UU);}c.Vsa(k,f,g,h);c.Vsa(k,f,g,h);};},14979:function(r,b,a){var c,k;b.w=void 0;c=a(35895);k=a(89288);b.w=function(f,h,d,g){var m;m=new c.tY(f);h=k.r7a(m,{Bx:h,pH:d},g && g.v9);m=m.offset;return {frame:f.subarray(0,m),Jra:m,qgc:h};};},97489:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q7a=void 0;b.q7a=function(a,c,k){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== k.Bx && !k.pH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},89288:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.r7a=void 0;c=a(76967);k=a(14535);b.r7a=function(f,h,d){var g,m,l;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);m=f.read(2) + 1;d=f.read(4);f.advance(8);l=f.read(13);f.advance(13 + (g?0:16));g={hp:m,v9:d,aFb:l};}else f.reverse(12);c.assert(void 0 !== d);k.w7a(f,d,h);return g;};},73782:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YCa=b.PCa=b.OCa=b.XCa=b.WCa=b.VCa=b.UCa=b.TCa=b.SCa=b.RCa=b.QCa=b.NCa=void 0;b.NCa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.QCa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.RCa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.SCa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.TCa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.UCa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.VCa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.WCa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.XCa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.OCa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.PCa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.YCa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},55312:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.XZ=void 0;c=a(73782);k=[c.NCa,c.QCa,c.RCa,c.SCa,c.TCa,c.UCa,c.VCa,c.WCa,c.XCa,c.OCa,c.PCa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.XZ=(function(){function h(){}h.RWa=function(d,g){var m,q,u;m=g.table;g=g.width;for(var l=0,n=m[0],p=d.read(n);p !== m[l + 1];){l+=g;q=m[l];u=q - n;n=q;p<<=u;p|=d.read(u);}return l;};h.T$a=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};h.U$a=function(d,g){for(;g--;){h.RWa(d,c.YCa);}};h.A0b=function(d,g){var m,l;m=k[g - 1];l=m.table;m=this.RWa(d,m);if(11 > g)f[g - 1] && (g=l[m + 2]) && d.advance(g);else if(11 === g || 15 < g)(m+=2,(g=l[m]) && d.advance(g),(l=l[m + 1]) && this.T$a(d),1 < l && this.T$a(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return h;})();},57823:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.cEa=b.Vsa=void 0;c=a(76967);k=a(55312);f=a(70309);b.Vsa=function(m,l,n,p){var q,u,t;q=m.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.Bx / 20)) / Math.log(2)));m.reverse(8);m.write(8,p);n || (n=new g(m,0,l));q=n;u=2 === q.Cxa?3:5;t=(1 << u) - 1;l=[];p=[];for(var v=[],w=0;w < q.AM;++w){for(var y=0,x=0;y < q.UU;){for(var A=m.read(4),z=0,B;(B=m.read(u)) === t;){z+=B;}z+=B;y+=z;l.push(A);p.push(z);++x;}v.push(x);}q=!0;for(u=0;u < l.length;++u){0 !== l[u] && (13 === l[u] && q?(m.advance(9),q=!1,k.XZ.U$a(m,p[u] - 1)):k.XZ.U$a(m,p[u]));}m.read(1) && m.advance(6 + 9 * (m.read(2) + 1));if(m.read(1))for((q=n,u=2 === q.Cxa?h:d,t=0);t < q.k5a;++t){if(v=m.read(u[0]))for((w=m.read(1),y=0);y < v;++y){if((m.advance(u[1]),x=m.read(u[2])))(m.advance(1),A=m.read(1),m.advance(x * (w + 3 - A)));}}c.assert(!m.read(1));q=n.AM;u=n.UU;t=n.Xab;n=n.aaa;for(w=v=0;w < q;++w){for((y=n[w],x=0);x < u;++v){if((A=l[v],z=p[v],0 === A || 13 === A || 15 === A || 14 === A))x+=z;else {B=5 <= A?2:4;for(var C=0;C < z;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,F=0;F < D;++F){k.XZ.A0b(m,A);}}}}}};h=[1,4,3];d=[2,6,5];g=(function(){return function(m,l,n){var p;this.aaa=[];this.AM=1;this.aaa[0]=1;m.advance(1);this.Cxa=m.read(2);m.read(1);if(2 === this.Cxa){this.k5a=8;this.UU=m.read(4);for(l=0;7 > l;++l){m.read(1)?this.aaa[this.AM - 1]++:(this.AM++,this.aaa[this.AM - 1]=1);}this.Xab=f.KKa[n];}else {this.k5a=1;this.UU=m.read(6);if(m.read(1)){p=14 + Math.min(this.UU,40);m.read(1) && m.advance(p);l && m.read(1) && m.advance(p);}this.Xab=f.JKa[n];}};})();b.cEa=g;},14535:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.w7a=void 0;c=a(30242);k=a(97489);b.w7a=function(f,h,d){var m;for(var g;7 !== (g=f.read(3));){m=f.read(4);switch(g){case 1:c.n7a(f,h,d);break;case 6:k.q7a(f,m,d);break;default:throw Error("Unsupported AAC element " + g);}}f.Ftb();};},70309:function(r,b){var a,c,k,f,h,d,g,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Xkb=b.xib=b.Ykb=b.slb=b.tlb=b.KKa=b.JKa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);k=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);l=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.JKa=[r,r,c,f,f,d,g,g,l,l,l,p];b.KKa=[a,a,k,h,h,h,m,m,n,n,n,q];b.tlb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.slb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Ykb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.xib=(function(){for(var u=new Float32Array(8191),t=4 / 3,v=0;8191 > v;v++){u[v]=Math.pow(v,t);}return u;})();b.Xkb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},76967:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);k=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new k(h || "Assertion failed");};},35895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tY=void 0;r=(function(){function a(c){this.data=c;this.Dq=this.Ib=this.nd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Ib;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.nd){if(8 === c)return this.data[this.Ib++];if(16 === c)return (c=this.view.getUint16(this.Ib),this.Ib+=2,c);if(32 === c)return (c=this.view.getUint32(this.Ib),this.Ib+=4,c);}for(;this.nd < c;){this.Dq=(this.Dq << 8) + this.data[this.Ib++];this.nd+=8;}this.nd-=c;return this.Dq >>> this.nd & (1 << c) - 1;};a.prototype.advance=function(c){var k;if(c <= this.nd)this.nd-=c;else {c-=this.nd;k=Math.floor(c / 8);this.Ib+=k;this.Dq=this.data[this.Ib++];this.nd=8 - (c - 8 * k);}};a.prototype.write=function(c,k){var f,h;k&=(1 << c) - 1;if(0 === this.nd){if(8 === c){this.data[this.Ib++]=k;return;}if(16 === c){this.view.setUint16(this.Ib,k);this.Ib+=2;return;}if(32 === c){this.view.setUint32(this.Ib,k);this.Ib+=4;return;}}if(0 < this.nd){f=Math.min(c,this.nd);h=this.data[this.Ib - 1] & (~((1 << this.nd) - 1) ^ (1 << this.nd - f) - 1);this.data[this.Ib - 1]=h ^ (c >= f?k >>> c - f:k << this.nd - f);this.nd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Ib++]=k >>> c & 255;}0 < c && (this.nd=8 - c,h=this.data[this.Ib] & (1 << this.nd) - 1,this.Dq=this.data[this.Ib++]=h ^ (k & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.nd && c <= 8 - this.nd?this.nd+=c:(0 !== this.nd && (c-=8 - this.nd,--this.Ib),this.Ib-=Math.floor(c / 8),this.Dq=this.data[this.Ib - 1],this.nd=c % 8);};a.prototype.Ftb=function(){0 !== this.nd && (this.nd=0);};return a;})();b.tY=r;},70502:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ETa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.ETa=function(c,k){void 0 === k && (k=0);k=~~k;for(var f=0;f < c.length;f++){k=(a[(k >> 8 ^ c[f]) & 255] ^ k << 8) & 65535;}return k;};},42806:function(r,b,a){var c,k;b.w=void 0;c=a(35895);k=a(97262);b.w=function(f,h,d){var g;g=new c.tY(f);h=k.KQa(g,h,null === d || void 0 === d?void 0:d.zG).eFb;f=f.subarray(0,h);k.v$a(f);return {frame:f,Jra:h};};},97262:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.v$a=b.KQa=void 0;c=a(76967);k=a(70502);b.KQa=function(f,h,d){var g,m;g=f.read(16);c.assert(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);m=f.read(5);f.reverse(5);d && (h*=-m / d);f.write(5,Math.min(31,Math.max(1,Math.floor(m + h))));return {eFb:g};};b.v$a=function(f){var h;h=k.ETa(f.subarray(2,f.length - 2));f[f.length - 2]=h >> 8;f[f.length - 1]=h & 255;};},8747:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.xWa=void 0;c=a(35895);k=a(67026);b.xWa=function(){var m,l,n,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}m="string" === typeof d[0]?{sd:d[0],frame:d[1],Bx:d[2],Jvb:d[3],zG:d[4]}:d[0];l=m.sd;d=m.frame;g=m.Bx;n=m.Jvb;p=m.zG;m=m.pH;m=void 0 === m?!1:m;switch(l){case "aac":void 0 === f && (f=a(14979).w);l=6;n && (n=new c.tY(n),l=k.d6a(n).v9);d=f(d,g,m,{v9:l}).Jra;break;case "ddp":void 0 === h && (h=a(42806).w);d=h(d,g,{zG:p}).Jra;break;default:throw Error("Unrecognized codec in fadeFrame: " + l);}return {dFb:d};};},86704:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(70655).__exportStar(a(8747),b);},22497:function(r,b){var a,c,k;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,V9:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,V9:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,V9:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,V9:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.HR={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},68072:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){var h;h=null !== k && k.apply(this,arguments) || this;h.BF=1536;return h;}c.__extends(f,k);f.Pc=!0;return f;})(a(98620).default);a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="ac-3";return f;})(r);b.uFb=a;r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="ec-3";return f;})(r);b.Ffb=r;},82511:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.sFb=this.M.dd(2);this.ktb=this.M.dd(5);this.ltb=this.M.dd(3);this.Wpb=this.M.dd(3);this.M.dd(1);this.M.dd(5);this.M.dd(5);return !0;};f.Ce="dac3";return f;})(a(37709).Lf);b.qd=r;},3897:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){this.M.dd(1);this.M.dd(7);this.P9a=this.M.dd(3);this.O9a=this.M.dd(5);this.Q9a=this.M.dd(1);this.F_a=this.M.dd(1);this.$bb=this.M.dd(1);this.s4a=this.M.dd(1);this.zSa=this.M.dd(1);this.ASa=this.M.dd(1);this.ySa=this.M.dd(2);this.M.dd(3);(this.ooa=this.M.dd(1))?this.r0a=this.M.dd(4):this.M.dd(4);h && (h.Zac={P9a:this.P9a,O9a:this.O9a,Q9a:this.Q9a,F_a:this.F_a,$bb:this.$bb,s4a:this.s4a,zSa:this.zSa,ASa:this.ASa,ySa:this.ySa,ooa:this.ooa,r0a:this.r0a});return !0;};f.Ce="av1C";return f;})(a(37709).Lf);b.qd=r;},50525:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){var d;this.M.cd();this.Aeb=this.M.cd();this.M.cd();this.M.cd();this.M.cd();this.a$=this.Zfa(this.M.cd() & 31);this.X6a=this.Zfa(this.M.cd());this.ZM=this.a$.length?this.a$[0][1]:this.Aeb;this.JOa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.ZM || 110 === this.ZM || 122 === this.ZM || 144 === this.ZM) && (this.M.cd(),this.M.cd(),this.Zfa(this.M.cd()));d=this.startOffset + this.length - this.JOa;0 < d && this.bm(d,this.JOa);h && h.Iha && (h.Iha.a$=this.a$,h.Iha.X6a=this.X6a,h.Iha.ZM=this.ZM);return !0;};f.prototype.Zfa=function(h){var m;for(var d=[],g=0;g < h;++g){m=this.M.Cg();d.push(this.M.Q8(m));}return d;};f.Ce="avcC";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},98620:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.M.offset+=8;this.yia=this.M.Cg();this.tua=this.M.Cg();this.M.offset+=4;this.samplerate=this.M.Cg();this.M.offset+=2;k.K && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.yia + ", samplesize: " + this.tua + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Le)(d.Le.yia=this.yia,d.Le.tua=this.tua,d.Le.samplerate=this.samplerate);return g;};h.Pc=!1;return h;})(a(24889).default);b["default"]=r;},44545:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Hc=this.Yv([{jbc:"int32"},{maxBitrate:"int32"},{n2:"int32"}]);return !0;};f.Ce="btrt";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},37709:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(93005);b.K=!1;r=(function(){function k(f,h,d,g,m){this.Ob=f;this.type=h;this.byteOffset=d;this.byteLength=g;this.parent=m;this.Fd={};this.PG=g;}k.cy=function(f,h){var g,l;function d(n){n && n.cy && (n=n.cy(h),n.length && (g=g.concat(n)));}g=[];f.type === h && g.push(f);if(f.Fd)for(var m in f.Fd){l=f.Fd[m];Array.isArray(l) && l.forEach(d);}return g;};k.uR=function(f,h){void 0 === f.Fd[h.type] && (f.Fd[h.type]=[]);f.Fd[h.type].push(h);};k.Un=function(f,h){return k.cy(f,h)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{M:{get:function(){return this.Ob;},enumerable:!0,configurable:!0}});k.prototype.Lg=function(){var f;f=this.Ob.Xb();this.version=f >> 24;this.flags=f & 16777215;};k.prototype.uR=function(f){k.uR(this,f);};k.prototype.cy=function(f){return k.cy(this,f);};k.prototype.Un=function(f){return k.Un(this,f);};k.prototype.parse=function(){return !0;};k.prototype.RS=function(){return !0;};k.prototype.Co=function(f){if((f=this.Fd[f]) && Array.isArray(f) && 1 === f.length)return f[0];};k.prototype.bm=function(f,h){h=void 0 === h?this.Ob.offset:h;c.assert(h >= this.startOffset + 8 && h + f <= this.startOffset + this.PG,"Removal range [0x" + h.toString(16) + "-0x" + (h + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.PG).toString(16) + ")");this.Ob.bm(f,h,this);};k.prototype.d9=function(f,h,d){d=void 0 === d?this.Ob.offset:d;c.assert(d >= this.startOffset + 8 && d + f <= this.startOffset + this.PG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.PG).toString(16) + ")");this.Ob.d9(f,h,d,this);};k.prototype.Y7a=function(f,h,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.POa(f,h));}return g;}return this.POa(f,h);};k.prototype.Yv=function(f){var h,d;d=this;void 0 === h && (h={});f.forEach(function(g){var m,l;if("offset" === g.type){m=g.offset;if(0 < m % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Ob.offset+=m / 8;}else for(m in g){l=g[m];h[m]="string" === typeof l?d.Y7a(l):d.Y7a(l.type,l.length,l.Frb);}});return h;};k.prototype.POa=function(f,h){var d;d=this.byteLength - this.Ob.offset + this.startOffset;"undefined" === typeof h && (h=d);switch(f){case "int8":f=this.Ob.cd();break;case "int64":f=this.Ob.wk();break;case "int32":f=this.Ob.Xb();break;case "int16":f=this.Ob.Cg();break;case "string":f=this.Ob.AWb(Math.min(h,d));break;default:throw Error("Invalid type: " + f);}return f;};k.Pc=!1;return k;})();b.Lf=r;},87529:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){var d,g;d=this.M.Cg();this.uUa=d >> 3;this.LRb=d & 7;this.I1b=[];for(d=0;d < this.LRb;d++){g={sFb:this.M.dd(2),ktb:this.M.dd(5),ltb:this.M.dd(5),Wpb:this.M.dd(3),Hdc:this.M.dd(1),KRb:this.M.dd(4)};0 < g.KRb?g.tbc=this.M.dd(9):this.M.dd(1);this.I1b.push(g);}h && h.CBb && (h.CBb.uUa=this.uUa);return !0;};f.Ce="dec3";return f;})(a(37709).Lf);b.qd=r;},23846:function(r,b,a){var c,k;c=a(70655);k=a(57699);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.Lg();this.mhb=k.MBa.R7a(this.M,d);return !0;};h.Ce="esds";h.Pc=!1;return h;})(a(37709).Lf);b.qd=r;},22369:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.M.Xy();this.M.Xy();for(this.Yia=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Yia.push(this.M.Xy());}return !0;};f.Ce="ftyp";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},93575:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){this.wzb=this.M.Xy();h && h.Le && (h.Le.SYb=this.wzb);return !0;};f.Ce="frma";return f;})(a(37709).Lf);b.qd=r;},75453:function(r,b,a){var c,k;c=a(70655);k=a(54319);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g,m,l,n,p;this.Lg();this.Hc=this.Yv([{Oec:"int32"},{yna:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Hc.yna=k.pJ(this.Hc.yna);if(d && d.Tj){p=null === (n=null === (l=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Un("tkhd")) || void 0 === l?void 0:l.Hc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Tj[p] && (d.Tj[p].xv=this.Hc.yna);}return !0;};h.Ce="hdlr";h.Pc=!1;return h;})(a(37709).Lf);b.qd=r;},14304:function(r,b,a){var c,k;c=a(70655);k=a(93005);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.RS=function(){var d;d=this.Un("esds");if(d=d && d.mhb.Un(5))(k.assert(this.samplerate),this.BF=d.BF * this.samplerate / d.u9);return !0;};h.Ce="mp4a";h.Pc=!0;return h;})(a(98620).default);b.qd=r;},31427:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Lg();this.Hc=1 === this.version?this.Yv([{creationTime:"int64"},{modificationTime:"int64"},{T:"int32"},{duration:"int64"}]):this.Yv([{creationTime:"int32"},{modificationTime:"int32"},{T:"int32"},{duration:"int32"}]);return !0;};f.Ce="mvhd";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},95415:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Lg();this.Hc=this.Yv(1 === this.version?[{XEb:"int64"}]:[{XEb:"int32"}]);return !0;};f.Ce="mehd";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},32948:function(r,b,a){var c,k;c=a(70655);r=a(82296);a=a(37709);k=r.Rca;a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Lg();this.Hc=this.Yv([{ut:"int32"},{Ks:"int16"}]);return !0;};h.Ce=k;h.Pc=!1;return h;})(a.Lf);b.qd=a;},36208:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(82296);r=a(37709);f=k.Sca;r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.parse=function(){this.Lg();this.fileSize=this.M.wk();this.T=this.M.wk();this.duration=this.M.wk(!1,!0);this.YRb=this.M.wk();this.M.wk();this.bSb=this.M.wk();this.kRb=this.M.Xb();this.ZRb=this.M.wk();this.EEb=this.M.Xb();this.M.U8();this.$k={moof:{offset:this.YRb},sidx:{offset:this.ZRb,size:this.EEb}};this.$k[k.HGa]={offset:this.bSb,size:this.kRb};this.M.offset - this.startOffset <= this.length - 24 && (this.aSb=this.M.wk(),this.ZQb=this.M.Xb(),this.$Rb=this.M.wk(),this.YQb=this.M.Xb(),this.$k[k.k_]={offset:this.aSb,size:this.ZQb},this.$k[k.j_]={offset:this.$Rb,size:this.YQb});return !0;};d.Ce=f;d.Pc=!1;return d;})(r.Lf);b["default"]=r;},19441:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(82296);a=a(37709);k=r.Tca;a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){var d,l,n;this.Lg();1 <= this.version && this.M.U8();d=this.M.Xb();this.$k={};for(var g=this.startOffset + this.length,m=0;m < d;++m){l=this.M.Xy();"uuid" === l && (l=this.M.U8());n=this.M.wk();this.$k[l]={offset:g,size:n};g+=n;}return !0;};h.Ce=k;h.Pc=!1;return h;})(a.Lf);b["default"]=a;},74982:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){this.Hc=this.Yv([{wKb:"int32"},{o5b:"int32"}]);if(null === h || void 0 === h?0:h.Le)(h.Le.Wcc=this.Hc.wKb,h.Le.sgc=this.Hc.o5b);return !0;};f.Ce="pasp";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},68290:function(r,b,a){var c,k,f,h,d;c=a(70655);k=a(82296);f=a(97090);h=a(98620);r=a(37709);d=a(3508);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.Lg();this.UK=this.M.Xb();return !0;};m.prototype.RS=function(l){var n;n=Object.keys(this.Fd);n.length && (n=n[0],this.Fd[n].length && (n=this.Fd[n][0],n instanceof h.default?this.ca=new f.N(n.BF,n.samplerate):n instanceof d.default && (n=n.Fd[k.Rca]) && n.length && (n=n[0].Hc,1E3 !== n.Ks && 1001 !== n.Ks || 0 !== n.ut % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.ut + "/" + n.Ks):this.ca=new f.N(n.Ks,n.ut)),l && this.ca && (l.ca=this.ca)));return !0;};m.prototype.z8a=function(l){void 0 !== this.Fd[l] && 0 !== this.Fd[l].length && (this.Ob.Zt(this.UK - 1,this.byteOffset + 12),l=this.Fd[l][0],this.bm(l.byteLength,l.byteOffset));};m.Ce="stsd";m.Pc=!0;return m;})(r.Lf);b.qd=a;},24889:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(37709);k=a(37709);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.M.offset+=6;this.M.Cg();k.K && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Le)d.Le.SYb=this.type;return !0;};return h;})(r.Lf);b["default"]=a;},61639:function(r,b,a){var c,k;c=a(70655);k=a(37709);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.Lg();this.Fua=this.M.Xy();k.K && this.M.console.trace("SchemeTypeBoxTranslator: " + this.Fua);if("cenc" === this.Fua){if((this.M.offset-=4,k.K && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Ob.Odb("piff"),null === d || void 0 === d?0:d.Le))d.Le.LCb="piff";}else if(null === d || void 0 === d?0:d.Le)d.Le.LCb=this.Fua;this.M.Xb();return !0;};h.Ce="schm";h.Pc=!1;return h;})(k.Lf);b.qd=r;},5031:function(r,b,a){var c,k;c=a(70655);k=a(97090);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.RS=function(d){var g;if(d && d.ca && !d.dTb){g=this.Co("mdia");g && (g=g.Co("mdhd")) && g.T !== d.ca.T && (d.ca=new k.N(d.ca).Wd(g.T));}return !0;};h.Ce="trak";h.Pc=!0;return h;})(a(37709).Lf);b.qd=r;},86640:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){var d,g,m,l,n;this.Lg();d=this.Yv([{gO:"int32"},{Zja:"int32"},{ov:"int32"},{Xx:"int32"},{Wx:"int32"}]);g=d.gO;m=d.Zja;l=d.ov;n=d.Wx;d=d.Xx;this.Hc={trackId:g,Pbc:m,m3:l,Qbc:n,Rbc:d};(null === h || void 0 === h?0:h.Tj) && h.Tj[g] && (h.Tj[g].Zja=m,h.Tj[g].ov=l,h.Tj[g].Wx=n,h.Tj[g].Xx=d);this.gO=g;this.Zja=m;this.ov=l;this.Xx=d;this.Wx=n;return !0;};f.Ce="trex";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},11181:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){var d;this.Lg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Fdc:"int16"},{Qac:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Hc=this.Yv(d);this.Hc.cgc=!!(this.flags & 1);this.Hc.dgc=!!(this.flags & 2);this.Hc.egc=!!(this.flags & 4);this.Hc.fgc=!!(this.flags & 8);this.M.console.trace("Finished parsing track box");if(null === h || void 0 === h?0:h.Le)(h.Le.width=this.Hc.width,h.Le.height=this.Hc.height);h && h.Tj && (h.Tj[this.Hc.trackId]={});return !0;};f.Ce="tkhd";f.Pc=!1;return f;})(a(37709).Lf);b.qd=r;},77301:function(r,b,a){var c,k,f,h;c=a(70655);k=a(86704);f=a(93005);h=a(22497);r=(function(d){function g(m,l,n,p,q){m=d.call(this,m,l,n,p,q) || this;m.BS=!1;return m;}c.__extends(g,d);Object.defineProperties(g.prototype,{tUa:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{h4:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{r9:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{t9:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{sua:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{rua:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});g.prototype.parse=function(m){var l,n,p;this.Lg();this.Rha=this.M.offset;this.od=this.M.Xb();this.Mm=this.tUa?this.M.T8():0;this.GEb=this.h4?this.M.Xb():void 0;this.qua=(this.r9?4:0) + (this.t9?4:0) + (this.sua?4:0) + (this.rua?4:0);this.cL=this.M.offset;f.assert(this.tUa,"Expected data offset to be present in Track Run");f.assert(this.length - (this.M.offset - this.startOffset) === this.od * this.qua,"Expected remaining data in box to be sample information");if(m && m.ma){m.ma.Mm=this.Mm;m.ma.od=this.od;this.Nj=[];p=null === (n=null === (l=this.parent) || void 0 === l?void 0:l.Un("tfhd")) || void 0 === n?void 0:n.gO;for(l=0;l < this.od;l++){n={};this.r9?n.q9=this.M.Xb():m.ma.ov?n.q9=m.ma.ov:p && m.Tj && m.Tj[p] && (n.q9=m.Tj[p].ov);this.t9?n.sH=this.M.Xb():m.ma?n.sH=m.ma.Xx:p && m.Tj && m.Tj[p] && (n.sH=m.Tj[p].Xx);this.sua?n.s9=this.M.Xb():m.ma?n.s9=m.ma.Wx:p && m.Tj && m.Tj[p] && (n.s9=m.Tj[p].Wx);this.rua && (n.lfc=0 === this.version?this.M.Xb():this.M.T8());0 === l && this.h4 && (n.s9=this.GEb);this.Nj.push(n);}m.ma.Nj=this.Nj;if(m.ma.rH)for((f.assert(m.ma.rH.length === m.ma.Nj.length,"num fragment samples: " + m.ma.Nj.length + ", num samples in auxiliary info: " + m.ma.rH.length),p=0);p < m.ma.Nj.length;p++){m.ma.Nj[p].bca=m.ma.rH[p].bca;m.ma.Nj[p].ewa=m.ma.rH[p].ewa;}}return !0;};g.prototype.$0=function(m,l,n){var p,q,u;p=this.r9?this.M.Xb():m.ov;q=this.t9?this.M.Xb():m.Xx;m=this.sua?this.M.Xb():m.Wx;u=this.rua?0 === this.version?this.M.Xb():this.M.T8():0;return {UYb:u,s9:m,sH:q,q9:p,Qec:(n || 0) + u - (void 0 !== l?l:u)};};g.prototype.Ha=function(m,l,n,p,q,u,t){var v,w,y,x;f.assert(void 0 !== this.Mm);f.assert(void 0 !== this.cL);f.assert(void 0 !== this.Rha);f.assert(void 0 !== this.od);f.assert(void 0 !== m.Cq);v=0;w=0;this.Ob.offset=this.cL;for(p=0;p < q;++p){y=this.$0(l,x,w);if(0 === p)x=y.UYb;v+=y.sH;w+=y.q9;}p=q;q=this.M.offset;y=this.$0(l,x,w);this.Gta=t;this.HN=p;this.W$a=w;if(t){if((this.iN=this.Mm + v,this.Wp=0,p === this.od))return !0;}else if((this.iN=this.Mm,this.Wp=v,0 === p))return !0;if(0 === p || p === this.od)return !1;this.BS=!0;if(t){this.Wp+=y.sH;for(t=p + 1;t < this.od;++t){y=this.$0(l,x,w);this.Wp+=y.sH;}this.Ob.offset=this.Rha;this.od=p;this.Ob.Zt(this.od);this.Ob.Gxa(u);this.h4 && (this.M.offset+=4);this.bm(this.length - (q - this.startOffset),q);}else (l=q - this.cL,this.cL=q,this.Ob.offset=this.Rha,this.od-=p,this.Ob.Zt(this.od),this.Mm+=v,this.Ob.Gxa(u,this.Mm),this.h4 && (this.M.offset+=4),this.bm(l,this.Ob.offset));n.bm(this.Wp,m.Cq + this.iN);return !0;};g.prototype.IQb=function(m,l,n,p,q,u,t,v){var w,x,A,z,B;void 0 === t && (t=!1);f.assert(void 0 !== this.Mm);f.assert(void 0 !== this.cL);f.assert(void 0 !== this.od);f.assert(void 0 !== this.qua);f.assert(void 0 !== m.Cq);for(var y=p.length;y < this.od;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (w=this.fnb(q,u)) || void 0 === w?void 0:w.V9);this.M.offset=this.cL;m=m.Cq + this.Mm;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.od;++y){w=this.$0(l).sH;if(-Infinity === p[y]){if(x && this.t9){n.d9(w,x,m);A=this.qua - (this.r9?4:0);this.Ob.offset-=A;this.Ob.Zt(x.byteLength);this.Ob.offset+=A - 4;}}else if(0 > p[y])try{z=u.subarray(m,m + w);B=k.xWa({sd:q,frame:z,Bx:p[y],pH:t,zG:v}).dFb;B !== w && this.M.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + w);}catch(C){this.M.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}m+=w;}};g.prototype.fnb=function(m,l){if("string" === typeof l)return (f.assert("reset" !== l && "standard" !== l),h.HR[l]);if(void 0 !== m)return l?h.HR.reset[m] || h.HR.standard[m]:h.HR.standard[m];};g.Ce="trun";g.Pc=!1;return g;})(a(37709).Lf);b.eNb=r;},3508:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(h){k.prototype.parse.call(this,h);this.Hc=this.Yv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{idc:"int32"},{tgc:"int32"},{offset:32,type:"offset"},{Hcc:"int16"},{Cbc:{type:"int8",Frb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};f.Pc=!0;return f;})(a(24889).default);b["default"]=r;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="avc1";return f;})(r);b.web=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="avc2";return f;})(r);b.xeb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="avc3";return f;})(r);b.yeb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="avc4";return f;})(r);b.zeb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="hvc1";return f;})(r);b.Jhb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="hev1";return f;})(r);b.Chb=a;r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.Ce="av01";return f;})(r);b.veb=r;},77611:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);f=a(54319);r=(function(h){function d(g,m,l,n,p){l=h.call(this,l,n,p) || this;l.ftb=g;l.PN=m;l.Fd={};return l;}c.__extends(d,h);d.prototype.parse=function(g){var m,l,n,p,q,u;this.offset=0;m=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.Xb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=f.pJ(this.Xb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.U8();}if(0 === m.length && this.PN.oXa(p,l,n))break;if(l + n > this.view.byteLength)break;q=this.ftb[p];u=void 0;if(q){if((u=new q(this,p,l,n,m[0]),(m[0] || this).uR(u),u.parse(g)))this.config.Vra && q.Pc?m.unshift(u):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].PG - 8;){u=m.shift();if(!u.RS(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.PG;}if(0 === m.length && this.PN.iVa(p,l,n,u))break;}return !this.PN.done && (g=this.PN.endOffset?this.PN.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,D4a:g}:{done:!0,offset:Math.min(this.PN.endOffset || Infinity,this.offset)};};d.prototype.uR=function(g){k.Lf.uR(this,g);};return d;})(a(86063).Nlb);b.Taa=r;},69740:function(r){var c,k;function b(){var f,h;if(DataView.prototype && DataView.prototype.FT && !k){try{f=new ArrayBuffer(4);h=new DataView(f);h.BL(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);h=new DataView(f);h.BL(1,2,2);}catch(d){DataView.prototype.BL=a(DataView.prototype.BL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.g5=a(DataView.prototype.g5,DataView.prototype.getUint16,Uint16Array);DataView.prototype.FT=a(DataView.prototype.FT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.zma=a(DataView.prototype.zma,DataView.prototype.getInt8,Int8Array);DataView.prototype.xma=a(DataView.prototype.xma,DataView.prototype.getInt16,Int16Array);DataView.prototype.yma=a(DataView.prototype.yma,DataView.prototype.getInt32,Int32Array);}c.mJb=function(d,g,m,l,n){return m?d.BL(g,m,l || 1,n):new Uint8Array(0);};c.kJb=function(d,g,m,l,n){return m?d.g5(g,m,l || 2,n):new Uint16Array(0);};c.lJb=function(d,g,m,l,n){return m?d.FT(g,m,l || 4,n):new Uint32Array(0);};c.Qcc=function(d,g,m,l,n){return m?d.zma(g,m,l || 1,n):new Int8Array(0);};c.Occ=function(d,g,m,l,n){return m?d.xma(g,m,l || 2,n):new Int16Array(0);};c.Pcc=function(d,g,m,l,n){return m?d.yma(g,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(f,h,d){return function(g,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(g + m * l > this.byteLength){p=new d(m);p.set(f.call(this,g,m - 1,l,n));p[m - 1]=h.call(this,g + (m - 1 * l),n);return p;}return f.call(this,g,m,l,n);};}c={BL:function(f,h,d,g,m){var l;l=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getUint8(h,m);}return l;},g5:function(f,h,d,g,m){var l;l=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getUint16(h,m);}return l;},FT:function(f,h,d,g,m){var l;l=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getUint32(h,m);}return l;},zma:function(f,h,d,g,m){var l;l=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getInt8(h,m);}return l;},xma:function(f,h,d,g,m){var l;l=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getInt16(h,m);}return l;},yma:function(f,h,d,g,m){var l;l=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,h+=g)){l[n]=f.getInt32(h,m);}return l;},wcc:b};k=!1;c.CGb=function(){return k;};b();r.exports=c;},62449:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;this.M7=this.M.cd();g=this.M.cd();this.$va=g >>> 2;this.Vwa=g >>> 1 & 1;this.Xha=256 * this.M.Cg() + this.M.cd();this.maxBitrate=this.M.Xb();this.n2=this.M.Xb();k.K && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.M7.toString(16) + ", streamType=" + this.$va + ", upStream=" + this.Vwa + ", bufferSizeDB=" + this.Xha + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.n2);if(null === d || void 0 === d?0:d.Ti)(d.Ti.M7=this.M7,d.Ti.$va=this.$va,d.Ti.Vwa=this.Vwa,d.Ti.Xha=this.Xha,d.Ti.maxBitrate=this.maxBitrate,d.Ti.n2=this.n2);this.OOa(d);return !0;};h.tag=4;return h;})(a(33277).wba);b.WAa=r;},2439:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=a(33277);f=a(57699);a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.X7a=function(){var g;g=this.M.dd(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.M.dd(24);};d.prototype.parse=function(g,m){if(this.cMb(m) && 64 === m.M7){if(null === g || void 0 === g?0:g.Ti){m=this.M.iYa(this.length);for(var l=new ArrayBuffer(this.length),n=new Uint8Array(l),p=0;p < this.length;p++){n[p]=m.getUint8(p);}g.Ti.Obc=l;}this.hp=this.P7a();this.u9=this.X7a();this.xia=this.M.dd(4);this.wua=this.NS=5 === this.hp || 29 === this.hp?5:-1;this.cta=29 === this.hp?1:-1;0 < this.NS && (this.ela=this.X7a(),this.hp=this.P7a(),22 === this.hp && (this.dla=this.M.dd(4)));switch(this.hp){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.bT=this.M.dd(1),this.rja=(this.yAb=this.M.dd(1))?this.M.dd(14):void 0,this.M.dd(1),this.BF=3 === this.hp?256:23 === this.hp?this.bT?480:512:this.bT?960:1024);}k.K && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.hp + ", samplingFrequency=" + this.u9 + ", channelConfiguration=" + this.xia + ", extensionAudioObjectType=" + this.NS + ", sbrPresentFlag=" + this.wua + ", psPresentFlag=" + this.cta + ", extensionSamplingFrequency=" + this.ela + ", extensionChannelConfiguration=" + this.dla + ", frameLengthFlag=" + this.bT + ", coreCoderDelay=" + this.rja + ", frameLength=" + this.BF);if(null === g || void 0 === g?0:g.Ti)(g.Ti.hp=this.hp,g.Ti.u9=this.u9,g.Ti.xia=this.xia,g.Ti.NS=this.NS,g.Ti.wua=this.wua,g.Ti.cta=this.cta,g.Ti.ela=this.ela,g.Ti.dla=this.dla,g.Ti.bT=this.bT,g.Ti.rja=this.rja,g.Ti.BF=this.BF);}this.skip();return !0;};d.prototype.P7a=function(){var g;g=this.M.dd(5);31 === g && (g=32 + this.M.dd(6));return g;};d.prototype.cMb=function(g){return g.tag === f.WAa.tag;};d.tag=5;return d;})(r.wba);b.Mgb=a;},33277:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(57699);r=(function(){function f(h,d,g){this.tag=h;this.view=d;this.M=g;this.startOffset=g.offset;}f.R7a=function(h,d,g){var m,l;m=h.cd();l=h.CWb();h=new (k.CK[m] || f)(m,h.iYa(l),h);h.parse(d,g);return h;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});f.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.nd=0;return !0;};f.prototype.NWa=function(h){var d;d=[];this.tag === h && d.push(this);if(this.CK)for(var g=0;g < this.CK.length;g++){d=c.__spreadArrays(d,this.CK[g].NWa(h));}return d;};f.prototype.Un=function(h){for(h=this.NWa(h);0 < h.length;){return h[0];}};f.prototype.OOa=function(h){for(this.CK=[];this.M.offset < this.startOffset + this.length;){this.CK.push(f.R7a(this.M,h,this));}};return f;})();b.wba=r;r.prototype.skip=r.prototype.parse;},57699:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(33277),b);r.__exportStar(a(64445),b);r.__exportStar(a(62449),b);r.__exportStar(a(2439),b);r=a(62449);c=a(2439);a=a(64445);b.CK={3:a.MBa,4:r.WAa,5:c.Mgb};},64445:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;this.nhb=this.M.Cg();g=this.M.cd();this.yab=!!(g & 128);this.rMa=!!(g & 64);this.$Ga=!!(g & 32);this.p1b=g & 31;this.zAb=this.yab?this.M.Cg():void 0;this.rMa && this.M.Q8(this.M.cd());this.xjb=this.$Ga?this.M.Cg():void 0;k.K && this.M.console.trace("ESDescriptor: ES_ID=" + this.nhb + ", streamDependenceFlag=" + this.yab + ", URL_Flag=" + this.rMa + ", OCRstreamFlag=" + this.$Ga + ", streamPriority=" + this.p1b + ", dependsOn_ES_ID=" + this.zAb + ", OCR_ES_Id=" + this.xjb);this.OOa(d);return !0;};h.tag=3;return h;})(a(33277).wba);b.MBa=r;},86393:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(13082);c=a(69740);b.M7b=c;c=a(44098);b.oMa=c;c=a(22497);b.HR=c;b.cea=r.vM.Fd.sidx;r=a(83375);b.Yr=r.Yr;r=a(76271);b.AD=r.AD;r=a(66633);b.Qw=r.Qw;b.fM=r.fM;r=a(74071);b.ica=r.ica;r=a(54319);b.pJ=r.pJ;a=a(67325);b.v=a.v;},74071:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(76271);k=a(12602);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.Ha=function(d){var g,m,l,n;g=this;if(!this.parse().done)return !1;m=this.Fd.moov;if(!m || 0 === m.length)return !1;l=m[0].Un("tenc");if(!l)return !1;n=new Uint8Array(l.eo);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.sf.d9(p.from.length,p.to,l.apa);});return k.concat(this.sf.Ha());};return h;})(r.AD);b.ica=a;},67325:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(18920);b.v=r.v;},13082:function(r,b,a){var F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb;function c(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function k(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function f(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function h(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);this.Bva=Qa.config.Bva;this.mf=this.sizes=void 0;}function d(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function g(){for(var Qa=new DataView(this),Za="",hb,lb=0;lb < this.byteLength;lb++){hb=Qa.getUint8(lb);Za+=("00" + hb.toString(16)).slice(-2);}return Za;}function m(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function l(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function n(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function p(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function q(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function u(Qa){function Za(hb,lb,yb,Hb,Jb){J.call(this,hb,lb,yb,Hb,Jb);this.H4a=Qa;}Za.Pc=!1;Za.prototype=new J();Za.prototype.constructor=Za;Object.defineProperties(Za.prototype,{NAa:{get:function(){return this.H4a;}}});Za.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.H4a + "'");this.M.offset=this.startOffset + 4;this.Ob.Odb(this.NAa);this.type=this.NAa;return !0;};return Za;}function t(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function v(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function w(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function y(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function x(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function A(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function z(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function B(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function C(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function D(Qa,Za){Qa.forEach(function(hb){Za[hb.Ce]=hb;});}F=a(93005).assert;b=a(82296);G=a(97090).N;E=a(44098);a(69740);a(54319);a(54319);a(54319);J=a(37709).Lf;K=a(31427).qd;N=a(5031).qd;I=a(11181).qd;O=a(95415).qd;L=a(74982).qd;H=a(44545).qd;M=a(22369).qd;R=a(75453).qd;Y=a(68290).qd;a(24889);a(98620);ea=a(68072).uFb;ca=a(68072).Ffb;oa=a(82511).qd;Ga=a(87529).qd;Fa=a(3508)["default"];Ja=a(3508).web;Xa=a(3508).xeb;cb=a(3508).yeb;W=a(3508).zeb;aa=a(61639).qd;Q=a(50525).qd;ka=a(3897).qd;P=a(3508).Jhb;fa=a(3508).Chb;ta=a(3508).veb;pa=a(14304).qd;Ra=a(23846).qd;Pa=a(32948).qd;db=a(36208)["default"];wb=a(19441)["default"];a(33277);a(62449);a(2439);a(64445);ob=a(86640).qd;Fb=a(77301).eNb;a=a(93575).qd;c.Pc=!0;c.prototype=new J();c.prototype.constructor=c;k.Pc=!0;k.prototype=new J();k.prototype.constructor=k;f.Pc=!1;f.prototype=new J();f.prototype.constructor=f;f.prototype.parse=function(Qa){var Za;this.Lg();1 === this.version?(this.M.wk(),this.M.wk(),this.T=this.M.Xb(),this.duration=this.M.wk()):(this.M.Xb(),this.M.Xb(),this.T=this.M.Xb(),this.duration=this.M.Xb());Za=this.M.Cg() & 32767;this.language=String.fromCharCode(96 + (Za >>> 10),96 + (Za >>> 5 & 31),96 + (Za & 31));Qa && Qa.Le && (Qa.Le.T=this.T,Qa.Le.duration=this.duration);return !0;};h.Pc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.yob=function(){this.Lg();this.M.Xb();this.T=this.M.Xb();0 === this.version?(this.xVa=this.M.Xb(),this.dXa=this.M.Xb()):(this.xVa=this.M.wk(),this.dXa=this.M.wk());this.nYb=this.M.Cg();this.l8a=this.M.Cg();};h.prototype.tmb=function(Qa,Za){var hb,lb,yb;hb=this.T;Qa=Qa && Qa.T || hb;lb=Qa / hb;hb=this.M.P8(Za,12,!1);yb=1 === lb?this.M.P8(Za,12,!1):E.from(Uint32Array,{length:Za},function(){var Hb;Hb=Math.round(this.M.Xb() * lb);this.M.offset+=8;return Hb;},this);this.Bpb(Za,yb,hb,Qa);};h.prototype.Bpb=function(Qa,Za,hb,lb){if(this.Bva){lb=this.Bva * lb / 1E3;for(var yb=0,Hb=1;Hb < Qa;Hb++){Math.abs(Za[yb] - lb) > Math.abs(Za[yb] + Za[Hb] - lb)?(Za[yb]+=Za[Hb],hb[yb]+=hb[Hb]):(++yb,yb !== Hb && (Za[yb]=Za[Hb],hb[yb]=hb[Hb]));}++yb;Za=new Uint32Array(Za.buffer.slice(0,4 * yb));hb=new Uint32Array(hb.buffer.slice(0,4 * yb));}this.sizes=hb;this.mf=Za;};h.prototype.parse=function(Qa){var Za,hb,lb,yb;this.yob();this.ca=Qa.ca;Za=this.T;hb=this.ca && this.ca.T || Za;lb=this.l8a;yb=this.startOffset + this.length + this.dXa;Za=new G(this.xVa,Za).Wd(hb).ya;this.La={T:hb,Dr:Za,offset:yb};this.tmb(this.ca,lb);this.La.mf=this.mf;this.La.sizes=this.sizes;Qa.Ak=this;return !0;};d.Pc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Qa;this.uw=[];this.cUb=[];Qa=(this.length - 11) / 2;this.M.cd();this.M.cd();this.M.cd();for(var Za=0;Za < Qa;Za++){this.uw.push(this.M.cd());this.cUb.push(this.M.cd());}return !0;};m.Pc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(Qa){var Za;this.Lg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {Za=this.M.cd();this.hAb=Za >> 4;this.nAb=Za & 15;Qa && Qa.Le && (Qa.Le.Sbc=this.hAb,Qa.Le.Vbc=this.nAb);}this.MUa=this.M.cd();this.LUa=this.M.cd();this.apa=this.M.offset;this.eo=this.M.S8(16);this.eo.toString=g;Qa && Qa.Le && (Qa.Le.Tbc=this.MUa,Qa.Le.jAb=this.LUa,Qa.Le.Ubc=this.eo);1 == this.MUa && 0 == this.LUa && (this.gAb=this.M.cd(),this.fAb=this.M.S8(this.gAb),Qa && Qa.Le && (Qa.Le.iAb=this.fAb));return !0;};l.Pc=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.parse=function(){this.Lg();this.up=this.M.Cg();this.RPb=this.M.P8(this.up,void 0,!0);return !0;};n.Pc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Qa){var Za,hb,lb,yb,Hb,Jb;Za=Qa.Ak;F(Za);Qa=Qa.ca;hb=Za.T;Za=Za.l8a;F(Qa);F(hb);F(Za);this.Lg();F(2 > this.version);this.up=this.M.Cg();this.SM=new Uint16Array(Za + 1);lb=Qa.SZa(hb);yb=lb / hb;Hb=Qa.Wd(lb).ya;if(0 === this.version)for((this.uN=new Uint16Array(),this.wi=new Uint32Array(),Qa=hb=0);Qa <= Za;++Qa){if((this.SM[Qa]=hb,Qa < this.up)){Jb=this.M.cd();if(0 !== Jb)for(lb=0;lb < Jb;(++lb,++hb)){this.uN[hb]=Math.floor((this.M.Xb() + 1) * yb) / Hb;this.wi[hb]=this.M.Xb();}}}else if(1 === this.version)for((lb=this.M.zWb(this.up),this.M.offset+=4,this.wi=this.M.P8(this.up,10,!1),this.M.offset-=8,this.uN=E.from(Uint16Array,{length:this.up},function(){var Db;Db=Math.floor((this.M.Xb() + 1) * yb) / Hb;this.M.offset+=6;return Db;},this),hb=Qa=0);Qa <= Za;++Qa){for(;hb < lb.length && lb[hb] < Qa;){++hb;}this.SM[Qa]=hb;}this.wj={SM:this.SM,uN:this.uN,wi:this.wi};return !0;};p.Pc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Pc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.RS=function(){var Qa;Qa=this.Co("tfhd");Qa && (this.Cq=Qa.sRa?Qa.Cq:this.parent.startOffset);return !0;};t.Pc=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Qa,Rb;Qa=this.M.offset;this.Lg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var Za=this.M.offset,hb=this.M.cd(),lb=this.M.cd(),yb=this.M.cd(),Hb=this.M.cd(),Jb=this.M.Cg(),Db=[],Lb=0;Lb < Jb;++Lb){Db=this.M.cd();}Lb=(hb & 240) >>> 4;Rb=(hb & 14) >>> 1;hb&=1;yb=16 === yb?1:0;lb != Hb && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + lb + " and matrixCoefficients " + Hb + " should be the same value!");Hb=2;switch(lb){case 1:Hb=2;break;case 6:Hb=1;break;case 9:Hb=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + lb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ob.baa(this.version,Qa);this.Ob.baa(Lb << 4 | Hb,Za++);this.Ob.baa(Rb << 4 | yb << 1 | hb,Za++);Jb+=2;Db.push(0,0);this.Ob.a6b(Jb);Za+=2;Db.forEach(function(bc){this.Ob.baa(bc,Za++);});}return !0;};v.Pc=!1;v.prototype=new J();v.prototype.constructor=v;v.Ce="tfhd";Object.defineProperties(v.prototype,{sRa:{get:function(){return this.flags & 1;}},VYb:{get:function(){return this.flags & 2;}},kAb:{get:function(){return this.flags & 8;}},mAb:{get:function(){return this.flags & 16;}},NUa:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(Qa){this.Lg();this.gO=this.M.Xb();this.Cq=this.sRa?this.M.wk():void 0;this.r9a=this.VYb?this.M.Xb():void 0;this.ov=this.kAb?this.M.Xb():void 0;this.Xx=this.mAb?this.M.Xb():void 0;this.Wx=this.NUa?this.M.Xb():void 0;Qa && Qa.ma && (Qa.ma.gO=this.gO,Qa.ma.Cq=this.Cq,Qa.ma.r9a=this.r9a,Qa.ma.ov=this.ov,Qa.ma.Xx=this.Xx,Qa.ma.Wx=this.NUa?this.Wx:void 0);return !0;};w.Pc=!1;w.prototype=new J();w.prototype.constructor=w;w.prototype.parse=function(Qa){this.Lg();this.LE=1 === this.version?this.M.wk():this.M.Xb();Qa && Qa.ma && (Qa.ma.LE=this.LE);return !0;};w.prototype.Ha=function(Qa){var Za;Za=this.startOffset + 12;this.LE+=Qa;1 === this.version?this.Ob.b6b(this.LE,Za):this.Ob.Zt(this.LE,Za);};y.Pc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{JE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Qa){this.Lg();this.JE && this.M.Xy();this.JE && this.M.Xb();this.lAb=this.M.cd();this.od=this.M.Xb();this.jLb=this.M.Q8(this.od);Qa && Qa.ma && (Qa.ma.WYb=this.jLb);return !0;};y.prototype.Ha=function(Qa,Za){if(Qa && 0 === this.lAb){Qa=Za?this.od - Qa:Qa;this.Ob.offset=this.startOffset + 13 + (this.JE?8:0);this.od-=Qa;this.Ob.Zt(this.od);this.oua=0;if(Za)this.Ob.offset+=this.od;else {for(Za=0;Za < Qa;++Za){this.oua+=this.Ob.cd();}this.Ob.offset-=Qa;}this.bm(Qa,this.M.offset);}return !0;};x.Pc=!1;x.prototype=Object.create(J.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{JE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Qa){var Za,hb,Lb,Rb;this.Lg();this.JE && this.M.Xy();this.JE && this.M.Xb();this.up=this.M.Xb();F(1 === this.up,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Mm=0 === this.version?this.M.T8():this.M.EWb();this.M.offset=this.Mm;if(Qa && Qa.ma && Qa.Le){Za=Qa.Le.jAb;hb=Qa.ma.WYb;F(0 < Za || void 0 !== Qa.Le.iAb,"Expected per sample or constant IV");F(0 < (hb || []).length,"Expected saix box parsing to find sample info sizes");Qa.ma.rH=[];for(var lb=0;lb < hb.length;lb++){for(var yb=Za?this.M.S8(Za):void 0,Hb=[],Jb=this.M.Cg(),Db=0;Db < Jb;Db++){Lb=this.M.Cg();Rb=this.M.Xb();Hb.push({Itb:Lb,Jtb:Rb});}Qa.ma.rH.push({ewa:Hb,bca:yb});}}return !0;};x.prototype.Ha=function(Qa,Za){this.Mm+=Qa;this.Ob.offset=this.startOffset + 16 + (this.JE?8:0) + (0 === this.version?0:4);this.Ob.Gxa(Za,this.Mm);return !0;};A.Pc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{X5a:{get:function(){return this.flags & 1;}},adb:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(Qa){var Za,Jb,Db;this.Lg();Za=0;this.X5a && (Za=this.dNb=this.M.Xb() & 255,this.M.Q8(16));if(Qa && Qa.ma){if(Qa.ma.rH)return !0;Qa.ma.Nj || (Qa.ma.Nj=[]);}if(0 !== Za && 8 !== Za && 16 !== Za)return !0;this.od=this.M.Xb();if(Qa && Qa.ma)for(var hb=0;hb < this.od;hb++){if((Qa.ma.Nj[hb].bca=0 < Za?this.M.S8(Za):void 0,this.adb)){for(var lb=[],yb=this.M.Cg(),Hb=0;Hb < yb;Hb++){Jb=this.M.Cg();Db=this.M.Xb();lb.push({Itb:Jb,Jtb:Db});}Qa.ma.Nj[hb].ewa=lb;}}return !0;};A.prototype.Ha=function(Qa,Za){var hb,lb;hb=Za?this.od - Qa:Qa;this.Ob.offset=this.startOffset + 28 + (this.X5a?20:0);this.od-=hb;this.Ob.Zt(this.od);Qa=this.Ob.offset;if(this.adb)for(hb=Za?this.od:hb;0 < hb;--hb){this.Ob.offset+=8;lb=this.Ob.Cg();this.Ob.offset+=6 * lb;}else this.Ob.offset+=8 * (Za?this.od:hb);Za?this.bm(this.length - (this.M.offset - this.startOffset),this.M.offset):this.bm(this.M.offset - Qa,Qa);};z.Pc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;z.prototype.parse=function(Qa){this.Lg();if(Qa && Qa.ma){void 0 === Qa.ma.Nj && (Qa.ma.Nj=[]);for(var Za=0;Za < this.length - 12;Za++){Qa.ma.Nj[Za].mfc=this.M.cd();}}return !0;};z.prototype.Ha=function(Qa,Za,hb){hb?this.bm(Za - Qa,this.startOffset + 12 + Qa):this.bm(Qa,this.startOffset + 12);return !0;};B.Pc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Lg();this.M.Xy();1 === this.version && this.M.Xb();this.up=this.M.Xb();this.DW=[];for(var Qa=0;Qa < this.up;++Qa){for(var Za=this.M.Xb(),hb=this.M.Xb(),lb=0;lb < Za;++lb){this.DW.push(hb);}}return !0;};B.prototype.Ha=function(Qa,Za){this.DW=Za?this.DW.slice(0,Qa):this.DW.slice(Qa);Qa=this.DW.reduce(function(hb,lb){0 !== hb.length && hb[hb.length - 1].group === lb || hb.push({group:lb,count:0});++hb[hb.length - 1].count;return hb;},[]);this.Ob.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Ob.Zt(Qa.length);Qa.forEach((function(hb){this.Ob.Zt(hb.count);this.Ob.Zt(hb.group);}).bind(this));this.up > Qa.length && this.bm(8 * (this.up - Qa.length));this.up=Qa.length;return !0;};C.Pc=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;Fa={Fd:{moov:k,trak:c,mdia:c,mdhd:f,minf:c,encv:Fa,schi:c,sidx:h,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:v,trun:Fb,sbgp:B,sdtp:z,saiz:y,saio:x,tfdt:w,mdat:C,vmaf:d},m3b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Sbb:{schm:aa},pua:{}};D([Q,ka,H,M,a,R,P,fa,ta,K,O,db,wb,L,Y,N,I,ob,Fb],Fa.Fd);D([ea,oa,Ja,Xa,cb,W,ca,Ga,Ra,pa],Fa.pua);D([Q,aa],Fa.Sbb);Fa.Fd[b.tHa]=m;Fa.Fd[b.k_]=l;Fa.Fd[b.j_]=n;Fa.Fd[b.sHa]=A;Fa.pua[b.Rca]=Pa;Fa.Lf=J;r.exports={vM:Fa};},66633:function(r,b,a){var k,f,h,d,g;function c(m){return "number" === typeof m[0] || void 0 === m[0]?{Mj:m[0],T:m[1],Bx:m[2],eua:m[3],pH:m[4]}:m[0];}Object.defineProperty(b,"__esModule",{value:!0});k=a(70655);f=a(82296);r=a(76271);h=a(54319);d=a(93005);g=a(37709);a=(function(m){function l(n,p,q){return m.call(this,n,p,q) || this;}k.__extends(l,m);l.prototype.u8a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(k.__assign(k.__assign({},c(n)),{Gta:!1}));};l.prototype.B8a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(k.__assign(k.__assign({},c(n)),{Gta:!0}));};l.prototype.Ha=function(n){var q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L;function p(R){A=x[R];z=A.Co("traf");if(void 0 === z || void 0 === z.Cq)return !1;F=z.Co("tfdt");if(void 0 === F)return !1;B=z.Co("trun");return void 0 === B?!1:!0;}q=n.Mj;u=n.T;t=n.Gta;v=n.Bx;w=n.eua;w=void 0 === w?!1:w;y=n.pH;y=void 0 === y?!1:y;n=n.zG;if(!this.parse().done)return !1;x=this.Fd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.sf.console.trace))return !1;d.assert(A && z && F && B && void 0 !== B.od);if(B.od > C || t && B.od === C)break;C-=B.od;}d.assert(A && z && F && B);}else if((q=t?x.length - 1:0,!p(q,this.sf.console.trace)))return !1;d.assert(A && z && F && B);if(t && q < x.length - 1){D=x[q + 1];this.sf.bm(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.sf.bm(A.startOffset,0);D=z.Co("tfhd");if(void 0 === D)return !1;F=z.Co("tfdt");G=B.od;E=z.Co("saiz");J=z.Co("saio");K=z.Co(f.sHa);N=z.Co("sbgp");if(!(!E && !J || E && J))return !1;I=z.Co("sdtp");O=g.Lf.cy(this,"mdat");if(O && q < O.length)L=O[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.od:0);if("number" === typeof v && 0 < v){O=t?C:B.od - C;for(var H=Array(O),M=0;M < O;++M){H[M]=t?M >= O - v?-Infinity:0:M < v?-Infinity:0;}v=H;}if(B.Ha(z,D,L || this.sf,u,C,z.Cq,t))B.BS && (d.assert(void 0 !== B.W$a),d.assert(void 0 !== B.HN),!t && F && F.Ha(B.W$a),E && J && (E.Ha(B.HN,t),J.Ha(K?0:E.oua,z.Cq)),K && K.Ha(B.HN,t),I && I.Ha(B.HN,G,t),N && N.Ha(B.HN,t));else if(!t){if(q === x.length - 1)return !1;this.sf.bm(x[q + 1].startOffset - A.startOffset,A.startOffset);}else if(0 === B.HN)return !1;Array.isArray(v) && L && this.stream.profile && void 0 !== w && B.IQb(z,D,L,v,this.stream.profile,w,y,n);u=this.sf.Ha();t=u.reduce(function(R,Y){return R + Y.byteLength;},0);u={ma:u,length:t,PG:this.sf.view.byteLength};B.BS && !L && (u.iN=z.Cq + B.iN,u.Wp=B.Wp);return u;};return l;})((function(m){function l(n,p,q){return m.call(this,n,p,q) || this;}k.__extends(l,m);return l;})(r.AD));b.Qw=a;b.fM=function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,h.kNa("mdat"));return l;};},76271:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(77611);k=a(13082);f=a(39188);r=(function(){function h(d,g,m){this.console=d;this.stream=g;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}h.prototype.parse=function(d){var g;g=new f.$Aa(this.view.byteLength);this.sf=new c.Taa(k.vM.Fd,g,this.view,this.console,{Vra:!0});d=this.sf.parse(d);this.Fd=this.sf.Fd;return d;};return h;})();b.AD=r;},83375:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(89185);f=a(12602);h=a(93005);d=a(97090);g=a(37709);r=a(36208);m=a(19441);l=a(77611);n=a(69740);p=a(13082);q=a(82296);u=a(39188);t=a(67063);a=(function(){function v(w,y,x,A,z,B){this.console=w;this.stream=y;this.Ht=A;this.Uqb=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.dKb=n.CGb();}v.path=function(w,y){return y.reduce(function(x,A){return x && x.Fd[A] && x.Fd[A][0];},w);};v.HHb=function(w){return w && w.Yia && -1 !== w.Yia.indexOf("mcl0")?"mcl0":void 0;};v.lEb=function(w,y){var x,A;h.assert("mcl0" === w,"Unsupported McClearen brand");x=y.La;w=x.mf;y=new d.N(120,1).Wd(x.T).ya;A=0;for(x=x.Dr;A < w.length && x < y;){x+=w[A++];}return A;};v.prototype.parse=function(w){var y;y=this.bZb();if(!y.done){if(y.D4a)return {vt:!1,Vqb:y.D4a};this.console.error("Scan error: " + y.error);return {vt:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === w || void 0 === w?0:w.ca)w.dTb=w.ca;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);w=this.BTb(w);return w.done?this.kwb():(this.console.error("Parse error: " + w.error),{vt:!1,parseError:w.error || "unknown mp4 parse error"});};v.prototype.cy=function(w){return g.Lf.cy(this,w);};v.prototype.Un=function(w){return g.Lf.Un(this,w);};v.prototype.bZb=function(){var w,y;w=new u.Khb(this.Ht,this.Uqb?[q.k_,q.j_]:[],this.config && this.config.Sfc || ["moof",q.HGa],this.config && this.config.Wra);y=c.__assign(c.__assign({},this.config),{Vra:!1});return new l.Taa(v.yua,w,this.view,this.console,y).parse();};v.prototype.BTb=function(w){var y,x,A;y=new u.$Aa(this.view.byteLength);x=Object.create(p.vM.Fd);this.config && ((this.config.Tra || this.config.Rbb || this.config.Z9) && k(p.vM.pua,x),this.config.Gwa && k(p.vM.m3b,x),this.config.Rbb && k(p.vM.Sbb,x));A=c.__assign(c.__assign({},this.config),{Vra:!0});this.sf=new l.Taa(x,y,this.view,this.console,A);w=this.sf.parse(w);w.done && (this.Fd=this.sf.Fd);return w;};v.prototype.kwb=function(){var w,y,x,A,z,B,C,D;w={vt:!0};y=v.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.cy("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){A=x[0].Co("tkhd");A && (w.trackId=A.Hc.trackId);}A=v.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.Tra)if(A)(w.ca=A.ca,w.kfc=A.Fd);else return {vt:!1,parseError:"Missing sample descriptions"};z=v.path(A,["encv","sinf","schi"]);z && (z=v.path(z,["tenc"]) || v.path(z,[q.tHa])) && (w.KCb={Dbc:z.eo,apa:z.apa,Bdc:!1});if(z=v.path(y,["trak","mdia","mdhd"]))w.T=z.T;if(z=v.path(y,["mvex","trex"]))w.m3=z && z.Hc.m3;w.m3 && w.T && (w.ca=new d.N(w.m3,w.T));if(z=v.path(this,["sidx"])){B=v.path(this,[q.k_]);B=B && B.RPb;C=v.path(this,[q.j_]);C=C && C.wj;w.La=z.La;w.uM=B;w.wj=C;}if(B=this.Fd.vmaf && this.Fd.vmaf[0])w.uw=B.uw;if(this.config.Kta && (B=v.path(y,["mvex"])) && x && x.length){D=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.bcb(x,B.byteOffset,B.byteOffset + B.byteLength),D=t.bcb(x,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.f9a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.Z9 && A && 1 < A.UK && z && (w.Oh=this.Z9(A,z)),void 0 === w.Oh && (y=this.sf.BS?f.concat(this.sf.Ha()):this.view.buffer,w.Oh=[{df:0,data:y}]));else return {vt:!1,parseError:"Missing movie box"};w.vt=!0;w.i8=this.sf.offset;return w;};v.prototype.trim=function(w){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.sf.trim(w);this.view=new DataView(y);};v.prototype.Z9=function(w,y){var x,A,z;x=Object.keys(w.Fd);A=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || A.length === x.length || 0 === A.length)){x=v.path(this,["ftyp"]);z=v.HHb(x);if(z)return (x=[],this.sf.qWb(),w.z8a("encv"),x.push({df:0,uF:!1,data:f.concat(this.sf.Ha())}),this.sf.PUb(),w.z8a(A[0]),w=v.lEb(z,y),x.push({df:w,uF:!0,data:f.concat(this.sf.Ha())}),x);}};v.yua={};return v;})();b.Yr=a;a.yua[q.Sca]=r.default;a.yua[q.Tca]=m.default;},54319:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(93005);b.pJ=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.kNa=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.uac=function(k,f){return Math.floor(1E3 * k / f);};},82296:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sca="6674654e-696c-5078-6966-665374726d21";b.Tca="6674654e-696c-4878-6165-6465722e7632";b.HGa="6674654e-696c-5078-6966-66496e646578";b.k_="6674654e-696c-4d78-6f6f-6653697a6573";b.j_="6674654e-696c-5378-6565-6b506f696e74";b.tHa="cedb7489-e77b-514c-84f9-7148f9882554";b.sHa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Rca="6674654e-696c-4678-7261-6d6552617465";},39188:function(r,b,a){var k;function c(f,h){f=h.indexOf(f);-1 !== f && h.splice(f,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(82296);r=(function(){function f(h){this.endOffset=h;this.done=!1;}f.prototype.oXa=function(){return this.done;};f.prototype.iVa=function(h,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.$Aa=r;r=(function(){function f(h,d,g,m){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === m && (m=!1);this.Ht=h;this.r3=d;this.ebb=g;this.Wra=m;this.done=!1;this.$k={};}f.prototype.oXa=function(h,d,g){-1 !== f.lKb.indexOf(h) && (this.$k[h]={offset:d,size:g});if(-1 !== this.ebb.indexOf(h)){if((this.$k[h]={offset:d,size:g},this.Wra))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Ht && -1 !== this.Ht.indexOf(h)?(h=1 < this.Ht.length?4096:0,this.endOffset=Math.max(d + g + h,this.endOffset || 0)):-1 !== this.r3.indexOf(h) && (h=this.Ht?4096:0,this.endOffset=Math.max(d + g + h,this.endOffset || 0));return this.done;};f.prototype.iVa=function(h,d,g,m){var l;l=this;if(-1 !== this.ebb.indexOf(h))return this.done=!0;h === k.Sca && this.r$a(m.$k);h === k.Tca && this.r$a(m.$k);this.Ht && c(h,this.Ht);c(h,this.r3);return this.Ht && 0 === this.Ht.length && !this.r3.some(function(n){return l.$k[n];})?this.done=!0:this.done;};f.prototype.r$a=function(h){var d;d=this;this.$k=h;this.endOffset=(this.Ht || []).concat(this.r3).reduce(function(g,m){return d.$k[m]?(m=d.$k[m],Math.max(m.offset + (m.size || 4096),g)):g;},this.endOffset || 0);};f.lKb=["moov","sidx"];return f;})();b.Khb=r;},44098:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};r.exports={from:function(a,c,k,f){a=new a(c.length);for(var h="function" === typeof k,d=0;d < c.length;++d){a[d]=h?k.call(f,c[d],d,c):c[d];}return a;},set:b};},67063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bcb=function(a,c,k){var f,h,d;f=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,k);h=Math.min(a.length,k);d=Math.min(a.length,c);for(k=new f(Math.max(k - c,0));d < h;d++){k[d - c]=a[d];}return k;};},93005:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new k(h || "Assertion failed");};},12602:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,h){return f + h.byteLength;},0);k=new Uint8Array(c);a.reduce(function(f,h){k.set(new Uint8Array(h),f);return f + h.byteLength;},0);return k.buffer;};},89185:function(r){r.exports=function k(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(h){f=Object.getOwnPropertyDescriptor(a,h);void 0 !== f && Object.defineProperty(c,h,f);});};},97090:function(r,b){function a(k,f){return "number" !== typeof k || "number" !== typeof f?!1:k && f?Math.abs(k * f / c(k,f)):0;}function c(k,f){var h;k=Math.abs(k);for(f=Math.abs(f);f;){h=f;f=k % f;k=h;}return k;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function k(f,h){"object" === typeof f?(this.kc=f.ya,this.fb=f.T):(this.kc=f,this.fb=h);}k.Na=function(f){return new k(f,1E3);};k.Awa=function(f,h){return Math.floor(1E3 * f / h);};k.w4a=function(f,h){return Math.floor(f * h / 1E3);};k.max=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};k.min=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};k.mB=function(f,h){var d;if(f.T === h.T)return new k(c(f.ya,h.ya),f.T);d=a(f.T,h.T);return k.mB(f.Wd(d),h.Wd(d));};Object.defineProperties(k.prototype,{ya:{get:function(){return this.kc;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{T:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{G:{get:function(){return 1E3 * this.kc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Bh:{get:function(){return this.kc / this.fb;},enumerable:!0,configurable:!0}});k.prototype.Wd=function(f){f/=this.T;return new k(Math.floor(this.ya * f),Math.floor(this.T * f));};k.prototype.add=function(f){var h;if(this.T === f.T)return new k(this.ya + f.ya,this.T);h=a(this.T,f.T);return this.Wd(h).add(f.Wd(h));};k.prototype.wa=function(f){return this.add(new k(-f.ya,f.T));};k.prototype.Jv=function(f){return new k(this.ya * f,this.T);};k.prototype.Ui=function(f){var h;if(this.T === f.T)return this.ya / f.ya;h=a(this.T,f.T);return this.Wd(h).Ui(f.Wd(h));};k.prototype.SZa=function(f){return a(this.T,f);};k.prototype.g8a=function(){return new k(this.T,this.ya);};k.prototype.compare=function(f,h){var d;if(this.T === h.T)return f(this.ya,h.ya);d=a(this.T,h.T);return f(this.Wd(d).ya,h.Wd(d).ya);};k.prototype.equal=function(f){return this.compare(function(h,d){return h === d;},f);};k.prototype.Zqa=function(f){return this.compare(function(h,d){return h !== d;},f);};k.prototype.lessThan=function(f){return this.compare(function(h,d){return h < d;},f);};k.prototype.greaterThan=function(f){return this.compare(function(h,d){return h > d;},f);};k.prototype.VB=function(f){return this.compare(function(h,d){return h <= d;},f);};k.prototype.ji=function(f){return this.compare(function(h,d){return h >= d;},f);};k.prototype.toJSON=function(){return {ticks:this.ya,timescale:this.T};};k.prototype.toString=function(){return this.ya + "/" + this.T;};k.Ia=new k(0,1);k.Ly=new k(1,1E3);return k;})();b.N=r;},86063:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(93005);f=a(12602);h=a(54319);r=a(78147);d=(function(){function g(m){m?(this.yo=m.yo.slice(),this.Nr=m.Nr.slice(),this.wi=m.wi.slice(),this.trim=m.trim):(this.yo=[],this.Nr=[],this.wi=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.yo.length && 0 === this.Nr.length && 0 === this.wi.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function m(l,n,p){l=g.call(this,l,n,p) || this;l.CVa=[];l.Od=new d();return l;}c.__extends(m,g);m.Drb=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.UW?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.UW?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.UW);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{BS:{get:function(){return !this.Od.empty;},enumerable:!0,configurable:!0}});m.prototype.baa=function(l,n){this.Od.Nr.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.a6b=function(l){this.Od.Nr.push({offset:!1,value:l,size:2,UW:!1});};m.prototype.Zt=function(l,n){this.Od.Nr.push({offset:void 0 !== n?n:this.offset,value:l,size:4,UW:!1});void 0 === n && (this.offset+=4);};m.prototype.b6b=function(l,n){this.Od.Nr.push({offset:void 0 !== n?n:this.offset,value:l,size:8,UW:!1});void 0 === n && (this.offset+=8);};m.prototype.Odb=function(l){this.Zt(h.kNa(l));};m.prototype.Gxa=function(l,n){this.Od.wi.push({offset:this.offset,kp:l,value:n});this.offset+=4;};m.prototype.bm=function(l,n,p){this.Od.yo.push({offset:n,remove:l,hb:p});};m.prototype.d9=function(l,n,p,q){this.Od.yo.push({offset:p,remove:l,replace:n,hb:q});};m.prototype.trim=function(l){this.Od.trim=l;};m.prototype.qWb=function(){this.CVa.push(new d(this.Od));};m.prototype.PUb=function(){this.Od=this.CVa.pop() || new d();};m.prototype.Ha=function(){var l,n,p,q,u,t,v,w,y;l=this;if(0 === this.Od.yo.length && 0 === this.Od.Nr.length && 0 === this.Od.wi.length)return [void 0 === this.Od.trim?this.view.buffer:this.view.buffer.slice(0,this.Od.trim)];this.Od.yo.sort(function(x,A){return x.offset - A.offset;});this.Od.Nr.sort(function(x,A){return x.offset - A.offset;});this.uYb();n=this.cEb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + n));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Od.Nr.forEach(m.Drb.bind(void 0,q));this.f4b(q);this.e4b(q);u=[];t=void 0 !== this.Od.trim?Math.min(this.Od.trim,this.view.byteLength):this.view.byteLength;v=0;w=!0;this.Od.yo.filter(function(x){return x.offset <= t;}).forEach(function(x){x.offset > v && (u.push(p.subarray(v,x.offset)),w && x.offset > n && (w=!1,p=new Uint8Array(l.view.buffer,l.view.byteOffset,l.view.byteLength),u.push(p.subarray(n,x.offset))));x.replace && u.push(new Uint8Array(x.replace));v=x.offset + x.remove;});v < n && u.push(p.subarray(v));v < t && (q=Math.max(n,v),u.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=u.reduce(function(x,A){return x + A.byteLength;},0);y=new Uint8Array(q);u.reduce(function(x,A){y.set(A,x);return x + A.byteLength;},0);return [y.buffer];};m.prototype.cEb=function(){var l,n,p;l=[];n=this.Od.Nr[this.Od.Nr.length - 1];p=this.Od.wi[this.Od.wi.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.Od.yo.filter(function(q){return q.hb;}).forEach(function(q){return l.push(q.hb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.Od.trim?Math.min(n,this.Od.trim):n;};m.prototype.uYb=function(){this.Od.yo=this.Od.yo.reduce(function(l,n){var p,q;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];q=p.offset + p.remove;n.offset >= q?l.push(n):n.offset + n.remove > q && (k.assert(p.hb === n.hb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?f.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.f4b=function(l){var n;n=this;this.Od.wi.forEach(function(p){var q,u,t,v;q=l;u=p.offset;n.Od.yo.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),u=p.offset - w.offset,!0):!1;});t=p.kp + (void 0 !== p.value?p.value:q.getInt32(u));v=n.Od.yo.reduce(function(w,y){return y.offset > p.kp && y.offset < t?w + (y.remove - (y.replace?y.replace.byteLength:0)):w;},0);q.setInt32(u,t - p.kp - v);});};m.prototype.e4b=function(l){this.Od.yo.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.Olb);b.Nlb=r;},78147:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(69740);a(69740);k=a(54319);r=(function(){function f(h,d,g){this.view=h;this.console=d;this.config=g;this.view=h;this.console=d;this.nd=this.Dq=this.offset=0;}f.prototype.iYa=function(h){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,h);};f.prototype.dd=function(h){for(;this.nd < h;){this.Dq=(this.Dq << 8) + this.cd();this.nd+=8;}this.nd-=h;return this.Dq >>> this.nd & (1 << h) - 1;};f.prototype.cd=function(){var h;h=this.view.getUint8(this.offset);this.offset+=1;return h;};f.prototype.Cg=function(h){h=this.view.getUint16(this.offset,h);this.offset+=2;return h;};f.prototype.Xb=function(h){h=this.view.getUint32(this.offset,h);this.offset+=4;return h;};f.prototype.T8=function(){var h;h=this.view.getInt32(this.offset,void 0);this.offset+=4;return h;};f.prototype.VTb=function(h,d){var g;g=this.view.getUint32(this.offset + (h?4:0),h);h=this.view.getUint32(this.offset + (h?0:4),h);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + h;};f.prototype.wk=function(h,d){h=this.VTb(h,d);this.offset+=8;return h;};f.prototype.WTb=function(){var h,d;h=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + d;};f.prototype.EWb=function(){var h;h=this.WTb();this.offset+=8;return h;};f.prototype.Xy=function(){return k.pJ(this.Xb());};f.prototype.U8=function(){var d,g,m,l,n,p;function h(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Xb(!0);g=this.Cg(!0);m=this.Cg(!0);l=this.Cg();n=this.Cg();p=this.Xb();return [h(d,4),h(g,2),h(m,2),h(l,2),h(n,2) + h(p,4)].join("-");};f.prototype.S8=function(h){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + h);this.offset+=h;return d;};f.prototype.AWb=function(h){var d;d=[];if(0 === h)return "";h=h || Number.MAX_SAFE_INTEGER;for(var g=this.cd();0 !== g && 0 <= --h;){d.push(g);g=this.cd();}return String.fromCharCode.apply(null,d);};f.prototype.Q8=function(h){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Gj(this.config.mO && c.mJb || c.BL,1,h,d,g);};f.prototype.zWb=function(h){var d,g,m;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Gj(this.config.mO && c.kJb || c.g5,2,h,d,g,m);};f.prototype.P8=function(h,d,g){var m;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Gj(this.config.mO && c.lJb || c.FT,4,h,d,g,m);};f.prototype.CWb=function(){for(var h=this.cd(),d=h & 127;h & 128;){h=this.cd();d=d << 7 | h & 127;}return d;};f.prototype.Gj=function(h,d,g,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);h=h(this.view,this.offset,g,m,n);this.offset=l || !m || m === d?this.offset + g * (m || d):this.offset + d;return h;};return f;})();b.Olb=r;},69452:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;c=a(751);k=a(88305);f=a(30821);h=a(95912);d=a(29086);g=a(22633);b=a(40210);m=a(21924);l=a(29981);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,v,w;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);v=f(this);w=k(v.length);if(0 === w)return !1;for(t=0 <= t?t:q(0,w + t);t < w;){if(h(u,l(v)?n(v,t):v[t]))return !0;t+=1;}return !1;};},44878:function(r,b,a){var c;c=a(69452);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},26860:function(r,b,a){var c,k;c=a(4289);k=a(44878);r.exports=function(){var f;f=k();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},98540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="Injector";b.Mw=145152E5;b.XI="ProfileSymbol";},60920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.io=b.w1b=b.l5a=void 0;b.l5a=function(a,c){return a - c;};b.w1b=function(a,c){return a.localeCompare(c);};b.io=function(a,c){var k;k=Object.getOwnPropertyDescriptor(a,c);k && Object.defineProperty(a,c,{configurable:k.configurable,enumerable:!1,value:k.value,writable:k.writable});};b.flatten=function(a){return [].concat.apply([],da(a));};},39141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oY="ApiInfoSymbol";},72288:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.AQa=void 0;c=a(56194);k=a(39141);r=a(86700);f=a(98540);h=a(17244);b.AQa=new r.Yc(function(d){d(k.oY).to(c.tya).da();});b.profile=new r.Yc(function(d){d(f.XI).SC(function(g){return (g=g.hb.get(h.cc)()) && g.ay?"browsertest":"browser";});});},56194:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q){l=d.Qe.call(this,l,void 0 === q?"AppInfoConfigImpl":q) || this;l.config=n;l.B$=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;r=a(70655);k=a(86700);f=a(53685);h=a(54662);d=a(90187);g=a(59578);a=a(60070);ia(c,d.Qe);c.prototype.WHb=function(l){return "" + this.eWa + (this.B$.R9(l)?"/msl_v1":"");};c.prototype.gIb=function(l){return "" + this.host + (this.B$.R9(l)?"/msl":"") + "/playapi";};Wa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},eWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.VK){case f.Hw.vlb:l="www.stage";break;case f.Hw.OLa:l="www-qa.test";break;case f.Hw.qEa:l="www-int.test";break;default:l="www";}return "https://" + l + ".netflix.com";}},vRa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([h.config(h.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([h.config(h.string,"nqEndpoint")],m.prototype,"eWa",null);r.__decorate([h.config(h.string,"bindService")],m.prototype,"vRa",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.xl)),r.__param(1,(0,k.l)(f.sn)),r.__param(2,(0,k.l)(a.a0)),r.__param(3,(0,k.l)(g.zY)),r.__param(3,(0,k.optional)())],m);b.tya=m;},57046:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fya="AseIntegrationFactorySymbol";},96437:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="OpenConnectSideChannelSymbol";b.nGa="MediaRequestDownloaderSymbol";},66119:function(r,b){function a(k,f,h){var d,g,m,l;d=[];k.forEach(function(n){-1 == d.indexOf(n.af) && d.push(n.af);});g=null;m=null;f.forEach(function(n){null === g?m=g=n.bitrate:m < n.bitrate?m=n.bitrate:g > n.bitrate && (g=n.bitrate);});l=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && m && (p.ranges.push({min:g,max:m}),h && (p.disallowed=h.filter(function(q){return q.stream.af === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.w3};})),l.push(p));});return l;}function c(k,f){var h;h=void 0;return {IWa:k.filter(function(d){var g;g=f(d);g && (h=h || [],h.push({stream:d,w3:g}));return !g;}),ZAb:h};}Object.defineProperty(b,"__esModule",{value:!0});b.YAb=b.Gs=b.fzb=b.XZa=void 0;b.XZa=function(k,f){f=c(k,f);return a(k,f.IWa,f.ZAb);};b.fzb=a;b.Gs=c;b.YAb=function(k){if(k.ki && k.lower && 1080 < k.height)return ["Prefetch UHD"];};},45086:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.$a=void 0;r=a(86700);c=a(49090);k=a(4551);f=a(5117);h=a(33384);d=a(96437);g=a(68221);m=a(63076);l=a(44744);n=a(7884);b.$a=new r.Yc(function(p){p(c.xba).to(k.nBa).da();p(f.dGa).to(h.cGa).da();p(d.lHa).to(g.kHa).da();p(d.nGa).to(m.mGa).da();p(l.lGa).to(n.kGa).da();});},49090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xba=b.oBa=void 0;b.oBa=function(){this.ga=0;this.Z=1;this.Bhb=2;this.Hf=function(){};};b.xba="DownloadTrackConstructorFactorySymbol";},5117:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dGa="MediaHttpSymbol";},44744:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lGa="MediaRequestConstructorFactorySymbol";},35001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oc=void 0;b.oc=a;a.Fh={bHa:"mr1",aHa:"mr2",cHa:"mr3",KP:"mr4",yjb:"mr5",Uz:"mr6"};a.ic={UNSENT:0,OPENED:1,wu:2,Xw:3,DONE:5,iu:6,BO:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.WY={NO_ERROR:-1,sgb:0,KAa:1,Egb:2,wgb:3,Lfb:4,Sza:5,Qza:6,Mfb:7,Nfb:8,Ofb:9,Ifb:10,Kfb:11,Rza:12,Jfb:13,Hfb:14,Ghb:15,iDa:16,hDa:17,Vba:18,TZ:19,Wba:20,Xba:21,Ihb:22,UZ:23,jDa:24,Hhb:25,zgb:26,tgb:27,ilb:28,jgb:29,kgb:30,lgb:31,mgb:32,ngb:33,ogb:34,pgb:35,qgb:36,rgb:37,ugb:38,vgb:39,xgb:40,ygb:41,Agb:42,Bgb:43,Cgb:44,Dgb:45,Fgb:46,Ggb:47,hlb:48,TIMEOUT:49,eDa:50,fDa:51,Fhb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.te={zW:{H6b:!0,WP:!1,z9b:!0}};},29471:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C){var D;D=this;this.ib=x;this.j=A;this.debug=z;this.Krb=C;this.HQ=this.Ih=this.ix=!1;this.$Q=this.ZQ=void 0;x={};this.Cv=(x[w.v.ga]={},x[w.v.Z]={},x[w.v.Ya]={},x);this.hA=void 0;this.Gm=function(){var F,G,E,J,K,N;D.debug.assert(D.Ca,"has access to asePlaygraph");D.debug.assert(D.Bc,"has access to internalLogger");D.debug.assert(D.ot,"has access to mediaBufferGetLogFields");K=D.Kn;N=null === (G=null === (F=D.Sd.get()) || void 0 === F?void 0:F.sb) || void 0 === G?void 0:G.Ea;F={type:"logdata",target:"startplay",fields:{hasasereport:D.j.DS,hashindsight:!1,buffCompleteReason:K.reason,actualbw:N,initSelReason:null !== (E=K.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:K.vBufferLevelMs,bcABufferLevelMs:K.aBufferLevelMs}};(0,g.b2)({$ka:F,Vk:D.Vk,loadTime:D.loadTime});D.Ca.Kwa("startplay",k.pc.Sj);null !== (J=D.yb) && void 0 !== J && J.he?(D.Bc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:K},D.ot()),D.j.Kn=K,D.j.Aq.set(m.yf.ae),D.DEb || (D.DEb=!0,D.j.ke("pb")),D.Bg.value !== k.Db.N_ && D.Bg.value !== k.Db.cs && D.play()):D.Bc.error("Shim received buffering complete but player has no position (player " + (D.yb?"":"un") + "defined, state " + D.j.state + ")");};this.Kbb=function(){var F,G;D.debug.assert(D.Bc,"has access to internalLogger");!1;D.ZQ=void 0;D.$Q=void 0;D.j.paused.value && D.SG && (D.SG=!1,D.j.paused.set(!1,{yM:!0}));null === (F=D.j.je) || void 0 === F?void 0:F.Xvb();null === (G=D.D5a) || void 0 === G?void 0:G.call(D);D.D5a=void 0;};this.events=new y();this.Oe=new v.xea(this.kv.bind(this),function(F,G){return D.j.cw(F,G);});}b.zca=void 0;k=a(91854);f=a(28075);h=a(66052);d=a(68172);g=a(55225);m=a(34202);l=a(37986);n=a(95919);p=a(2467);q=a(86514);u=a(19591);t=a(14414);v=a(39540);a(64168);w=a(18920);y=a(17187).EventEmitter;c.prototype.$e=function(){var x;!1;this.HQ=!1;this.Sd.L9(null);this.debug.assert(this.Uh,"has access to streamingEngine");this.Ca && this.Uh.az(this.Ca);this.yb && this.Uh.y8a(this.yb);this.Uh.A8a(this.Oe.Um(this.ib.aa.J));this.Oe.clear();null === (x=this.mo) || void 0 === x?void 0:x.Ls();};c.prototype.L_b=function(x){var A,z,B,C,D,F,G,E,J,K,N,I,O;A=x.config;z=x.gp;B=x.Bc;C=x.Zd;D=x.ot;F=x.Yi;G=x.OW;x=x.uH;this.Bc=B;this.log=B.Z2("AseIntegrationImpl");!1;this.ot=D;this.OW=G;this.uH=x;D=this.j.aa;this.debug.assert(D,"has a playback segment");this.debug.assert(A,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(z,"has access to aseGlobals");this.debug.assert(z.Uh,"has access to streamingEngine");this.debug.assert(D.yc,"has access to parsedManifest");this.debug.assert(D.W,"has access to manifest");this.config=A;this.Uh=z.Uh;z.bi.set(a(33888)(A),!0,F("ASE"));z.bi.set({maxNumberTitlesScheduled:null !== (J=null === (E=A.VUb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);A.ywb && !D.$c.ha && 3E5 > D.W.Ga.duration?z.bi.EV({expandDownloadTime:!1},!0,B):z.bi.EV({expandDownloadTime:z.bi.s6a().expandDownloadTime},!0,B);A=D.background.value || A.TUb && "postplay" === D.ud?"historical":z.bi.s6a().initBitrateSelectorAlgorithm;z.bi.EV({initBitrateSelectorAlgorithm:A},!0,B);A=null === (O=null === (I=null === (N=null === (K=D.Mg) || void 0 === K?void 0:K.value) || void 0 === N?void 0:N.streams) || void 0 === I?void 0:I[0]) || void 0 === O?void 0:O.af;z.bi.EV((0,l.mTa)(!!D.Wa.dg,!!D.Wa.QL,A),!0,B);B=C.fC({},(0,l.P2)(D.ud));D.$c.ha && (B=C.fC(B,(0,l.P2)("live")));this.bi=z.bi.Mn(B);k.platform.events.emit("networkchange",D.yc.QZb);this.ix=!0;};c.prototype.Q5=function(x){var A,z;this.debug.assert(this.Uh,"has access to streamingEngine");A=this.j.ii(x.I);this.debug.assert(A.yc,"has access to playback parsedManifest");!1;z=x.flags;this.Sd.reset();this.fg=new Set([w.v.ga,w.v.Z]);(z.pdb || z.Wac) && this.fg.delete(z.pdb?w.v.ga:w.v.Z);this.aI=[A.yc.Xzb,A.yc.dAb,A.yc.cAb];this.kv(A.O,void 0,x.kUa);this.zLb(x);this.vK();};c.prototype.Wt=function(x){var A;!1;null === (A=this.Ca) || void 0 === A?void 0:A.Wt(x);};c.prototype.Zsb=function(x){var A,z,B,C;A=this;z=x.loadTime;B=x.Vk;this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.yb,"has access to asePlayer");!1;this.Vk=B;this.loadTime=z;x=this.Ca.events;C=this.yb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (A.Bc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),A.Bc.trace("StreamingFailure, buffer status:" + JSON.stringify(A.ot())),(0,h.Qf)(function(){A.j.kd(d.V.ieb,{za:D.nativeCode,Kb:D.errormsg,Ll:D.httpCode,x7:D.networkErrorCode,De:D.httpCode});}));});x.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=A.Ca) || void 0 === F?void 0:F.trb,(0,g.b2)({$ka:D,Vk:B,loadTime:z}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,g.b2)({$ka:D,Vk:B,loadTime:z});});x.addListener("bufferingStarted",function(){!1;A.j.Aq.set(m.yf.Pe);});x.addListener("bufferingComplete",function(D){!1;A.Kn=D;});this.j.paused.addListener(function(D){var F;A.debug.assert(A.Bc,"has access to internalLogger");null !== (F=D.Mh) && void 0 !== F && F.yM || !A.ix || (D.newValue && A.Bg.value === k.Db.me?(A.Bg.set(k.Db.Xh),A.vi.emit("paused",{type:"paused",pts:A.vi.Gd})):D.newValue || A.Bg.value !== k.Db.Xh || (A.Bg.set(k.Db.me),A.vi.emit("playing",{type:"playing",pts:A.vi.Gd})));D.newValue || (A.SG=!1);A.Bc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.oh)(A.j.mediaTime.value)});});this.j.tc.addListener(function(D){var F,G,E,J;if(A.ix)if((A.debug.assert(A.Bc,"has access to internalLogger"),D.Mh && D.Mh.M1))A.Bc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {J=D.newValue;A.Zab({ip:J.trackId,toJSON:function(){return J.zg;}})?A.Bc.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(A.Bc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && A.j.tc.set(D.oldValue,{M1:!0}));}});this.j.$c.ha && this.j.xb.addListener(function(D){var F,G,E,J;if(A.ix)if((A.debug.assert(A.Bc,"has access to internalLogger"),D.Mh && D.Mh.M1))A.Bc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {J=D.newValue;A.Zab({gbb:J.trackId,toJSON:function(){return J.zg;}})?A.Bc.trace("ASE accepted the text track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(A.Bc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && A.j.xb.set(D.oldValue,{M1:!0}));}});x.addListener("serverSwitch",function(D){var F;!1;A.j.fireEvent(m.ea.LW,D);if("video" === D.mediatype)F=w.v.Z;else "audio" === D.mediatype && (F=w.v.ga);(0,n.Qc)(F) && A.OW(D.segmentId,D.server,F);});x.addListener("streamSelected",function(D){var F,G,E,J;!1;if(A.HQ){G=D.manifest.Kf;if(!A.j.gKb(G) && A.config.HDb)return A.j.kd(d.V.Iib,{iB:G});G=(null === (F=A.Ca) || void 0 === F?void 0:F.JT(D.position)).Gq.G;F=[];if(D.mediaType === w.v.Z){E=A.j.v_a(D.streamId);J=A.j.Ne;F=A.j.vB();}else D.mediaType === w.v.ga && (E=A.j.f_a(D.streamId),J=A.j.Qg,F=A.j.SFb());E && J?(!1,J.set(E,{TE:G,NR:D.bandwidth})):A.Bc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:A.j.PE});}});x.addListener("segmentNormalized",function(D){var F,G;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Lb)(G);D=(0,p.Lb)(D);A.j.q_a(F) || (!1,A.dyb(F));if(F=A.j.ii(F))(F.Qx=G,F.G3a=D);A.j.Rp || (A.j.$c.ha?(A.debug.assert(Infinity === G.ba(p.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + A.j.$c.ha + ", contentDuration:" + G),A.j.Rp=p.Ia):A.j.Rp=G);});C.addListener("segmentPresenting",function(D){var F,G,E,J;!1;A.debug.assert(A.Ca,"has access to asePlaygraph");A.debug.assert(A.yb,"has access to asePlayer");A.debug.assert(A.uH,"has access to segmentPresentingHandler");G=A.Ca.JT(D.position);E=void 0;J=null === (F=D.inner) || void 0 === F?void 0:F.position;J && A.ei && (E=A.ei.L[J.I]);A.uH({J:G.J,VE:E,jG:!1});A.j.fireEvent(m.ea.tH,{type:"segmentPresenting",position:{segmentId:D.position.I,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;A.hA=A.yb.Zn();});C.addListener("ptsChanged",function(D){var F;!1;A.j.je.nWb({Ola:null === (F=D.forcedTimestamp) || void 0 === F?void 0:F.Sy,xLb:D.initialTimestamp.Sy});A.vi.emit("skipped");});x.addListener("locationSelected",function(D){!1;A.j.fireEvent(m.ea.EU,D);});x.addListener("aseReportEnabled",function(){!1;A.j.DS=!0;});x.addListener("aseReport",function(D){!1;A.j.fireEvent(m.ea.GE,D);});x.addListener("liveReport",function(D){!1;A.j.fireEvent(m.ea.F6,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.$Xb;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && A.j.fireEvent(m.ea.lF,{response:D,O:A.j.aa.O});});x.addListener("transportReport",function(D){var F;(D=null === (F=D.dDb) || void 0 === F?void 0:F.cadmiumResponse) && A.j.fireEvent(m.ea.lF,{response:D,O:A.j.aa.O});});x.addListener("liveEventTimesUpdated",function(D){var F,G;F=D.I;G=D.startTime;D=D.endTime;A.j.q_a(F) && (F=A.j.ii(F),F.$c.ha && F.$c.fva(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var F,G;F=D.mediaType;G=A.Cv[F];A.Cv[F]=D.info;D=A.Cv[F].tF !== G.tF && void 0 !== G.tF;(A.Cv[F].sF !== G.sF && void 0 !== G.sF || D) && A.j.fireEvent(m.ea.E6,{mediaType:F,am:G,current:A.Cv[F]});});};c.prototype.dyb=function(x){var A,z,B,C;if(this.ei && this.ei.L[x]){A=this.ei.L[x];if((x=this.ei.L[x].Tb) && this.ib.hw(x)){x=this.j.ii(x);z=x.W;if(null === z || void 0 === z?0:z.jp)B=null === z || void 0 === z?void 0:z.jp.find(function(D){return D.Ga.O === A.J;});if(!B && (null === z || void 0 === z?0:z.Ga.mc)){C=this.Krb.mIb({mc:null === z || void 0 === z?void 0:z.Ga.mc,Bd:x.O,J:A.J});C && (B=C.W);}B && B.Ga.mc === (null === z || void 0 === z?void 0:z.Ga.mc) && this.j.wja(A.J,{Ef:{mc:B.Ga.mc,Bd:x.O}},x.la,B);}}};c.prototype.Zn=function(){var x,A,z,B,C,D,F,G,E;G=null === (x=this.yb) || void 0 === x?void 0:x.u5();x=(null !== (A=this.hA) && void 0 !== A?A:G && this.yb.Zn()) || ({});A=x.u;G=x.se;E=x.ZG;x=x.pr;return {id:String(null === A || void 0 === A?void 0:A.id),Vha:null !== (z=null === G || void 0 === G?void 0:G.G) && void 0 !== z?z:0,T2:null !== (B=null === A || void 0 === A?void 0:A.Ud.G) && void 0 !== B?B:Infinity,mwb:null !== (C=null === A || void 0 === A?void 0:A.Rf.G) && void 0 !== C?C:0,xUb:null !== (D=null === E || void 0 === E?void 0:E.G) && void 0 !== D?D:Infinity,ysa:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.G0a=function(){var x,A;this.debug.assert(this.Ca,"has access to asePlaygraph");x={};A=this.Ca.GF();x.vbuflmsec=A.totalvbuflmsecs;x.vbuflbytes=A.vbuflbytes;x.abuflmsec=A.totalabuflmsecs;x.abuflbytes=A.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.rUb=function(){!1;this.vi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.vi.Gd});};c.prototype.IE=function(x,A){var z;this.debug.assert(this.j.W,"has access to playback manifest");z=this.aI[w.v.ga];return x.O === this.j.W.Ga.O?z:this.hEb(this.j.W.Ga.Cs[z],A);};c.prototype.UN=function(x,A){var z;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.$c.ha){this.debug.assert(x.O === this.j.W.Ga.O);z=this.aI[w.v.Ya];if((x=this.j.hh.find(function(B){return B.trackId === A[z].Jf;})) && (!x.co() || x.$m()))return z;}};c.prototype.hEb=function(x,A){var z,B,C;this.debug.assert(this.Bc,"has access to internalLogger");!1;z=A.filter(function(D){return D.profile === x.profile;}).sort(function(D,F){var G,E,J;G=(D.language === x.language || "zxx" === D.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(D.Ch === x.Ch?0:1) - (F.Ch === x.Ch?0:1));if(0 === G){D=(null !== (E=D.bc) && void 0 !== E?E:0) - (null !== (J=F.bc) && void 0 !== J?J:0);}else D=G;return D;});B=0;C=ma(z).next().value;C && A.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.Zab=function(x){var A,z,B,C,D,F;this.debug.assert(this.Bc,"has access to internalLogger");this.debug.assert(this.yb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.Dwa)return (!1,!1);z=x.ip;B=this.aI[w.v.ga];if(void 0 === z)C=B;else if(!this.j.W.Ga.audio_tracks.some(function(G,E){if(G.new_track_id === z)return (C=E,!0);}))return (!1,!1);D=x.gbb;x=this.aI[w.v.Ya];if(void 0 === D)F=x;else if(!this.j.W.Ga.timedtexttracks.some(function(G,E){if(G.new_track_id === D)return (F=E,!0);}))return (!1,!1);!1;this.ZQ=C;this.$Q=F;null === (A=this.j.je) || void 0 === A?void 0:A.b1b();this.j.paused.value || (this.yb.pause([w.v.ga,w.v.Ya]),this.SG=!0,this.j.paused.set(!0,{yM:!0}));this.debug.Z1(this.ZQ,"has access to valid requestedAudioTrackIndex number");this.aI[w.v.ga]=this.ZQ;this.debug.Z1(this.$Q,"has access to valid requestedTextTrackIndex number");this.aI[w.v.Ya]=this.$Q;(this.hz() || this.SG) && this.yb.resume(this.SG?[w.v.ga,w.v.Ya]:void 0);this.kI(this.Kbb);return !0;};c.prototype.hz=function(){var x;x=this;this.debug.assert(this.Ca,"has access to asePlaygraph");return this.Ca.hz({AN:this.IE.bind(this)},{AN:function(){return x.aI[w.v.Z];}},{AN:this.UN.bind(this)});};c.prototype.lm=function(){var x;!1;this.Bg.set(k.Db.vl);null === (x=this.Ca) || void 0 === x?void 0:x.Kwa("intrplay",k.pc.lm);this.vi.emit("underflow",{type:"underflow",pts:this.vi.Gd});this.kI(this.Gm);};c.prototype.O9=function(x,A){this.W$.O9(x,A);};c.prototype.open=function(){this.HQ || (this.debug.assert(this.Ca,"has access to asePlaygraph"),this.debug.assert(this.yb,"has access to asePlayer"),!1,this.HQ=this.Ih=!0,this.Ca.open(),this.debug.assert(this.iw,"invalid start position relative to playgraph"),this.Ca.HC(this.iw,k.N.Na(this.j.ab)),this.Bg.set(k.Db.Pe),this.kI(this.Gm),this.Ca.cv(this.yb),this.aOb());};c.prototype.play=function(){this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.yb,"has access to asePlayer");!1;0 !== this.Ca.state && (this.yb.resume(this.SG?[w.v.ga,w.v.Ya]:void 0),this.Bg.set(k.Db.me),this.vi.emit("playing",{type:"playing",pts:this.vi.Gd}));};c.prototype.stop=function(){var x;!1;this.Bg.set(k.Db.N_);null === (x=this.yb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.vi.emit("paused",{type:"paused",pts:this.vi.Gd});};c.prototype.flush=function(){this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.Uh,"has access to streamingEngine");!1;this.HQ && this.Bg.value !== k.Db.cs && this.Bg.value !== k.Db.N_ && this.stop();this.Ca.Kwa("endplay",k.pc.Vi);this.Ca.Pf();this.Uh.Gp.save();this.Uh.hV.save();};c.prototype.Vn=function(){var x;return null === (x=this.Ca) || void 0 === x?void 0:x.Ed;};c.prototype.nja=function(x){var A;this.debug.assert(this.Ca,"has access to asePlaygraph");A=k.N.Na(x);return (A=this.Ca.Zk(A,{E0b:!0,D0b:!0}))?this.Ca.fa.L[A.I].va + Number(A.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.pja=function(x,A){this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.Bc,"has access to internalLogger");!1;this.Ca.fa.L[x] || (x=this.rla(A));this.debug.a2(x,"has access to segmentId");x={I:x,offset:k.N.Na(A - this.Ca.fa.L[x].va)};if(x=this.Ca.XF(x))return x.G;!1;return A;};c.prototype.jub=function(x,A){var z,B,C,D;this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.yb,"has access to asePlayer");!1;A && this.Ca.fa.L[A] || (A=null !== (z=this.rla(x)) && void 0 !== z?z:null === (B=this.yb) || void 0 === B?void 0:B.Jg.I);A=this.j.ii(A);x={Gq:k.N.Na(x),J:A.O};return null === (D=null === (C=this.Ca.Qs(x)) || void 0 === C?void 0:C.Ma) || void 0 === D?void 0:D.G;};c.prototype.E3=function(x){var A;A=void 0 === A?!0:A;!1;this.Ih?Number.isFinite(x) && (this.debug.assert(this.yb,"has access to asePlayer"),A?this.yb.c$a(x):this.yb.b$a(x)):this.fail("Must call open prior to drmReady");};c.prototype.m_a=function(){var x;return null !== (x=this.yb) && void 0 !== x && x.he?this.yb.fU(this.ib.aa.J):!1;};c.prototype.di=function(x){var A,z;!1;if(!this.yb)return (!1,!1);A=this.Vn();x=k.N.Na(x);z=this.yb.di(x);return A && this.j.DL()?z && A.di(x):z;};c.prototype.kZb=function(x,A){var z;this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.yb,"has access to asePlayer");!1;A && this.Ca.fa.L[A] || (A=null !== (z=this.rla(x)) && void 0 !== z?z:this.ib.th);this.debug.a2(A,"has access to segmentId");this.debug.assert(this.Ca.fa.L[A],"segment exists in playgraph map");A={I:A,offset:k.N.Na(x - this.Ca.fa.L[A].va)};this.Ca.HC(A,k.N.Na(x));this.yb.resume();this.Bg.set(k.Db.Pe);this.kI(this.Gm);x=this.Ca.s9a(A);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,A){this.events.addListener(x,A);return this;};c.prototype.removeEventListener=function(x,A){this.events.removeListener(x,A);return this;};c.prototype.d4b=function(x,A){var z;!1;z={};this.Ca.hj((z[x]=A,z));};c.prototype.C2=function(x,A){var z,B;this.debug.assert(this.Bc,"has access to internalLogger");this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.yb,"has access to asePlayer");!1;z=this.Zn().id;B=this.Ca.uT(z,x);if(A){if(!B.e5b)return (this.Bc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + z)),!1);if(void 0 !== B.Uqa)return (!1,B.Uqa === x);this.Ca.Rj(z,x,!1,A);return !0;}if(void 0 !== B.Uqa)return (!1,!1);B.RR && (this.yb.reset(),this.Ca.Rj(z,x,!1,A),this.yb.resume(),this.Bg.set(k.Db.Pe),this.kI(this.Gm));return !!B.RR;};c.prototype.Rj=function(x,A,z,B){this.debug.assert(this.Ca,"has access to asePlaygraph");!1;this.Ca.Rj(x,A,z,B);};c.prototype.FH=function(){var x;this.debug.assert(this.Bc,"has access to internalLogger");!1;x=this.vi.Gd;!1;this.vi.emit("skipped",{type:"skipped",pts:x});return new k.$P(Promise.resolve()).DYb;};c.prototype.O4=function(x,A){var z;return null === (z=this.Ca) || void 0 === z?void 0:z.O4(x,A);};c.prototype.rla=function(x){var A,z,B,C,D,F,G,E;this.debug.assert(this.Ca,"has access to asePlaygraph");this.debug.assert(this.Bc,"has access to internalLogger");!1;A=this.Ca.fa;z=[];B=Infinity;for(C in A.L){D=A.L[C];F=D.va;D=D.ta;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(F <= x && G)(!1,z.push(C));else if((F=Math.min(Math.abs(x - F),Math.abs(x - D)),F < B)){B=F;E=C;}}x=z[0] || E;this.debug.a2(x,"has access to locatedSegmentId");!1;return x;};c.prototype.aOb=function(){var x,A;x=this;this.debug.assert(this.j.Rb,"has access to mediaElement");A=this.j.Rb.$;this.debug.assert(A,"has access to videoElement");A.addEventListener("play",function(){x.Bg.value === k.Db.Xh && (x.Bg.set(k.Db.me),x.vi.emit("playing",{type:"playing",pts:x.vi.Gd}));});A.addEventListener("pause",function(){x.Bg.value === k.Db.me && (x.Bg.set(k.Db.Xh),x.vi.emit("paused",{type:"paused",pts:x.vi.Gd}));});};c.prototype.fail=function(x){var A;null === (A=this.Ca) || void 0 === A?void 0:A.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.kI=function(x){var A,z,B,C,D,F,G,E;A=this;if(x !== this.Kbb && this.Dwa)(!1,this.D5a=x);else {E=null === (z=this.yb) || void 0 === z?void 0:z.gr.value;z=null === (B=this.Ca) || void 0 === B?void 0:B.jf.value;B=!0 === E;E=z === k.Uc.um;!1;null === (C=this.yb) || void 0 === C?void 0:C.gr.removeListener(this.K3a);null === (D=this.Ca) || void 0 === D?void 0:D.jf.removeListener(this.JRa);B && E?x():(this.K3a=function(){return A.kI(x);},this.JRa=function(){return A.kI(x);},null === (F=this.yb) || void 0 === F?void 0:F.gr.addListener(this.K3a),null === (G=this.Ca) || void 0 === G?void 0:G.jf.addListener(this.JRa));}};c.prototype.CXa=function(x){var A,z;A=this;x=this.j.Pk(x);return Promise.resolve(null !== (z=x.W) && void 0 !== z?z:this.O8(x)).then(function(B){B=B.Ga;return {W:B,hv:B.n5 && !B.yB,config:A.bi,fg:[].concat(da(A.fg))};});};c.prototype.O8=function(x){var A,z,B,C,D;A=this;!1;B=Promise.resolve();if(x.Of){C=x.Of.Bd;(D=null === (z=this.j.Pk(C).W) || void 0 === z?void 0:z.Ga)?x.Of.IV=D:B=this.Oe.Um(C).fq.then(function(F){return F.W;}).then(function(F){x.Of.IV=F;}).catch(function(){return A.j.kd(d.V.KI,d.R.teb);});}return B.then(function(){return A.j.O8(x);}).then(function(){return x.W;});};c.prototype.kv=function(x,A,z){var B,C,D,F,G,E,J,K,N,I;B=this;this.debug.assert(this.Uh,"has access to streamingEngine");!1;J={J:x,Bd:null === (C=null === A || void 0 === A?void 0:A.Ef) || void 0 === C?void 0:C.Bd,mc:null === (D=null === A || void 0 === A?void 0:A.Ef) || void 0 === D?void 0:D.mc};if(!this.Oe.has(J)){!this.j.t5(x) && (null === (F=null === A || void 0 === A?void 0:A.Ef) || void 0 === F?0:F.Bd) && this.j.t5(null === (G=null === A || void 0 === A?void 0:A.Ef) || void 0 === G?void 0:G.Bd) && (C=this.j.Pk(null === (E=A.Ef) || void 0 === E?void 0:E.Bd),this.j.wja(x,A,C.la));this.j.t5(x) && (K=this.j.Pk(x));N=z?z.la:K?K.la:void 0;E=z?z.Np:K?K.Gf:void 0;this.Oe.store(J,{dSa:function(){},equals:function(O){return O && O.J === J.J && (N === O.la || !O.la || !N);},get fq() {I || (I=B.CXa(x));return I;},set fq(O) {I=O;},events:new f.EventEmitter(),la:N,J:J.J,Nq:!1,hwa:!1});this.bi.OK && this.Uh.DN(this.Oe.Um(J.J,A),{la:N,Np:E,jka:null === z || void 0 === z?void 0:z.eB});}};c.prototype.kO=function(x){var A,z,B;this.debug.assert(this.Uh,"has access to streamingEngine");!1;A=this.j.ii(x);z=A.Of;A={J:A.O,Bd:null === z || void 0 === z?void 0:z.Bd,mc:null === z || void 0 === z?void 0:z.mc};x=this.ib.Pd(x).J;if(!this.Oe.has(A))return Promise.resolve();z && (B={Ef:{mc:null === z || void 0 === z?void 0:z.mc,Bd:z.Bd}});z=this.Oe.Um(x,B);z.fq=this.CXa(x);return this.Uh.kO(z);};c.prototype.uT=function(x){var A;this.debug.assert(this.yb,"has access to asePlayer");this.debug.assert(this.Ca,"has access to asePlaygraph");return this.Ca.uT(null === (A=this.yb.Zn().u) || void 0 === A?void 0:A.id,x);};c.prototype.qB=function(x){var A;x=null === (A=this.Ca) || void 0 === A?void 0:A.qB(x);!1;return x;};c.prototype.zLb=function(x){var A,z;A=x.kUa;z=x.I;this.debug.assert(this.Uh,"has access to streamingEngine");this.debug.assert(this.Bc,"has access to internalLogger");!1;x=this.j.ii(z);x=this.ib.V4(x);z=x.L[z];this.debug.assert(z,"segment exists");this.iw=(0,q.HZa)(z.J,x,this.j.ab,z.va);A=Object.create(this.bi,{eB:{value:A.eB},Eka:{value:this.j.background.value}});this.Bg=new t.Hb(k.Db.Hk);this.Ca=this.Uh.wR(x,this.bi.GUb,A,this.Oe);this.W$=new k.eQ(this.Bc);A=this.Ca.tK(this.W$);x=this.Ca.sK();this.Ca.mva(x,A);this.hz();this.SG=!1;};c.prototype.vK=function(){var x,A;x=this;this.debug.assert(this.Uh,"has access to streamingEngine");!1;A=Object.create(this.bi,{fg:{value:[].concat(da(this.fg))},Fma:{value:function(){return x.$Hb();}}});this.vi=Object.create(new f.EventEmitter(),{Gd:{get:function(){x.debug.Z1(x.j.mediaTime.value,"has access to mediaTime.value");return k.N.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},JHb:{value:function(){x.debug.assert(x.j.Rb,"has access to mediaElement");return x.j.Rb;}}});this.yb=this.Uh.Iqb(this.vi,A);};c.prototype.$Hb=function(){this.mo || (this.mo=new k.platform.MediaSource(this.vi),this.mo.te || (this.mo.te=k.platform.MediaSource.te));return this.mo;};Wa.Object.defineProperties(c.prototype,{Dwa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.ZQ && void 0 !== this.$Q;}},Sd:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Uh,"has access to streamingEngine");return this.Uh.Sd;}},ei:{configurable:!0,enumerable:!0,get:function(){for(var x,A=null === (x=this.Ca) || void 0 === x?void 0:x.ei;null === A || void 0 === A?0:A.ei;){A=A.ei;}return null === A || void 0 === A?void 0:A.fa;}},$Sa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.yb;null === x || void 0 === x?0:x.ZT;){x=x.ZT;}return x;}},tzb:{configurable:!0,enumerable:!0,get:function(){var x,A,z;if(null === (x=this.$Sa) || void 0 === x?0:x.he){z=(x=this.$Sa.Jg) && (null === (A=this.ei) || void 0 === A?void 0:A.L[x.I]);if(z)return {Gq:k.N.Na(x.offset.G + z.va),J:z.J};}}}});b.zca=c;},4551:function(r,b,a){var k,f,h,d;function c(g){function m(l,n){this.X=l;this.Amb=n;this.ila=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ii=g.Ta("DownloadTrack");}m.prototype.Ls=function(){!1;this.fR=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.fR + " config: " + JSON.stringify(this.X);};m.prototype.toJSON=function(){return "Download Track id:" + this.fR + " config: " + JSON.stringify(this.X);};m.prototype.VL=function(){return void 0 === this.fR?!1:!0;};m.prototype.vta=function(l){this.X.connections !== l.connections && (this.X=l);};m.prototype.PL=function(){return 1 < this.X.connections?!0:!1;};Wa.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.fR;}},Nn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.fR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.X;}},q8:{configurable:!0,enumerable:!0,get:function(){return this.Ii;}},WU:{configurable:!0,enumerable:!0,get:function(){return this.Amb.WU;}}});this.ZO=Object.assign(m,new h.oBa());}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(49090);d=a(17187).EventEmitter;c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa))],c);b.nBa=c;},33384:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y,x){this.YJ=u;this.He=v;this.wb=w;this.Fa=y;this.config=x;this.log=t.Ta("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(70655);k=a(35001);f=a(5690);h=a(68172);d=a(71163);g=a(86700);m=a(5485);l=a(89542);n=a(58998);p=a(2467);a=a(17244);c.prototype.oB=function(){return this.Fa.Fb().ba(p.na);};c.prototype.a5a=function(u,t){u.wRb({mediaRequest:u,timestamp:t});};c.prototype.t5a=function(u){var t,v;v=u.mediaRequest.cC;v.readyState=k.oc.ic.Xw;v.$4a(Object.assign(Object.assign({},u),{timestamp:u.connect?u.timestamp:this.oB(),connect:null !== (t=u.connect) && void 0 !== t?t:!1,mediaRequest:v,readyState:v.readyState}));};c.prototype.vV=function(u){this.a5a(u.mediaRequest.cC,u.timestamp);};c.prototype.wV=function(u){var t,v;t=u.mediaRequest.cC;v=u.bytes;"undefined" === typeof t?!1:(t.readyState === k.oc.ic.wu && this.t5a(u),this.wb.fk(v) && (u.mediaRequest=t,u.timestamp=this.oB(),v > t.bytesReceived && (u.newBytes=v - t.bytesReceived,u.bytesLoaded=v,t.zRb(u))));};c.prototype.Jp=function(u){var t,v,w,y;t=u.mediaRequest;v=u.errorcode;w=u.httpcode;y=k.oc.WY;if("undefined" === typeof t)!1;else if((t=t.cC,"undefined" === typeof t))!1;else if(t.readyState !== k.oc.ic.iu)if(v === h.R.oD)(t.readyState=k.oc.ic.BO,u.mediaRequest=t,u.readyState=t.readyState,t.sRb(u));else {t.readyState=k.oc.ic.iu;switch(v){case h.R.lP:w=y.Qza;break;case h.R.Yba:w=y.Vba;break;case h.R.iP:w=400 < w && 500 > w?y.TZ:500 <= w?y.Xba:y.Vba;break;case h.R.jP:w=y.Wba;break;case h.R.hP:w=y.Rza;break;case h.R.kP:w=y.UZ;break;case h.R.pD:w=y.UZ;break;case h.R.kDa:w=y.jDa;break;case h.R.gDa:w=y.TZ;break;case h.R.Igb:w=y.Wba;break;default:w=y.UZ;}u.mediaRequest=t;u.readyState=t.readyState;u.errorcode=w;u.nativecode=v;t.cra(u);}};c.prototype.Q7=function(u,t){var v,w;v=t.request.cC;if(v)if(t.ka){if((!1,u.j && v.readyState !== k.oc.ic.DONE)){switch(v.readyState){case k.oc.ic.BO:!1;return;case k.oc.ic.iu:!1;break;case k.oc.ic.Xw:break;case k.oc.ic.wu:this.t5a({mediaRequest:t.request,responseHeaders:t.headers});break;default:!1;}v.readyState=k.oc.ic.DONE;if(!v.Hd){w={mediaRequest:v,readyState:v.readyState,timestamp:this.oB(),cadmiumResponse:t};u.j.Bwa+=1;v.hJb();v.FMb() && (u.j.hua+=1,t.Wl.cj=Math.ceil(v.zla),t.Wl.Yp=Math.ceil(v.WE),t.Wl.ew=Math.floor(v.ZB));v.O2=w;v.zM(w);}}}else (!1,v.readyState === k.oc.ic.BO?!1:this.Jp({mediaRequest:t.request,errorcode:t.za,httpcode:t.Ll,cadmiumResponse:t}));};c.prototype.download=function(u,t){var v,w;v=this;t=this.He.download(u,t);if(u.cC){w=u.cC;-1 < [k.oc.ic.OPENED,k.oc.ic.iu].indexOf(w.readyState) && (w.readyState=k.oc.ic.wu,this.config().pqa?t.m_b(function(y){v.vV(y);}):this.a5a(w,this.oB()));}t.F1(function(y){v.Q7(u,y);});t.r_b(function(y){v.wV(y);});return t;};q=c;q=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.EO)),r.__param(1,(0,g.l)(d.Xa)),r.__param(2,(0,g.l)(m.ku)),r.__param(3,(0,g.l)(l.Zf)),r.__param(4,(0,g.l)(n.Jc)),r.__param(5,(0,g.l)(a.cc))],q);b.cGa=q;},63076:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.Fa=t;this.Ss=v;this.config=w;this.He=x;this.VPb=A;this.log=y.Ta("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(5485);d=a(5117);g=a(20736);m=a(35001);l=a(58998);n=a(2467);p=a(53685);q=a(17244);u=a(18920);c.prototype.cT=function(t,v,w){var x,A,z,B;function y(){var C;t.removeEventListener(m.oc.Fh.Uz,y);C=x.config().CDb;void 0 === t.OS?t.OS=0:t.OS++;t.OS >= C.length && (t.OS=C.length - 1);setTimeout(function(){x.cT(t,v,w);},C[t.OS]);}x=this;t.ydc=!0;A=0 === v.start && -1 === v.end;A={url:t.url,responseType:this.He.G_.cza,withCredentials:!1,ZA:t.mediaType === u.v.ga?"audio":"video",offset:A?void 0:v.start,length:A?void 0:t.Dk,track:{type:t.mediaType === u.v.ga?g.Zj.audio:g.Zj.video},stream:{Vb:t.Nb,bitrate:t.bitrate},Ac:{id:t.Dc},cC:t,T9:w,Lr:this.Ss.Lr,zr:t.zr};z=t.QK;void 0 !== z && void 0 !== z.Mt && void 0 !== z.tG && void 0 !== z.uG && (A.QK=[z.uG,z.tG,z.Mt,z.OSa]);B=this.oB();A=this.VPb.download(A,function(C){C.ka && t.readyState !== m.oc.ic.DONE && (t.readyState === m.oc.ic.BO?!1:(t.readyState === m.oc.ic.iu?!1:t.readyState === m.oc.ic.wu?(t.readyState=m.oc.ic.Xw,t.$4a({mediaRequest:t,readyState:t.readyState,timestamp:t.Hd?B:x.oB(),connect:!1,responseHeaders:C.headers})):t.readyState !== m.oc.ic.wu && t.readyState !== m.oc.ic.Xw && !1,t.readyState=m.oc.ic.DONE,C={mediaRequest:t,readyState:t.readyState,timestamp:x.oB(),cadmiumResponse:C,response:C.content},t.O2=C,t.zM(C)));});t.addEventListener(m.oc.Fh.Uz,y);t.y5=A.abort;};c.prototype.CPa=function(t){try{t.y5();}catch(v){this.log.warn("exception aborting request");}};c.prototype.oB=function(){return this.Fa.Fb().ba(n.na);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.Jc)),r.__param(1,(0,k.l)(p.sn)),r.__param(2,(0,k.l)(q.cc)),r.__param(3,(0,k.l)(f.Xa)),r.__param(4,(0,k.l)(h.ku)),r.__param(5,(0,k.l)(d.dGa))],a);b.mGa=a;},7884:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y,x){function A(B,C){this.track=B;this.label=C;this.Ue=n.oc.ic.UNSENT;this.bytesReceived=0;this.fw=[];}function z(B,C,D){this.requestId=x.SA().toString();this.wb=v;this.log=t.Ta("MediaRequest");this.config=u;this.Eb=new l.Xj();this.label=C;"notification" === this.label?this.config().OK && (this.WU=w):this.WU=y;D && (this.mediaType=D.mediaType,this.Nb=D.Nb,this.bitrate=D.bitrate,this.Dc=D.Dc || 0,this.jt=D.jt,this.I=D.I);this.$T=this.eK=this.gK=void 0;this.track=B;this.fK=this.url=this.responseType=void 0;this.Ue=n.oc.ic.UNSENT;this.aj=this.wF=this.Sg=this.status=void 0;this.ur=this.bytesReceived=0;this.connect=this.zla=this.WE=this.ZB=this.gpa=this.eg=this.yla=this.loadTime=this.cga=void 0;this.fw=[];this.Nn=!1;!1;}A.prototype.addEventListener=function(B,C,D){this.Eb.addListener.call(this,B,C,D);};A.prototype.removeEventListener=function(B,C){this.Eb.removeListener.call(this,B,C);};A.prototype.emit=function(B,C,D){this.Eb.Cc.call(this,B,C,D);};A.prototype.wRb=function(B){this.Ue === n.oc.ic.OPENED && (this.$T=!0,this.loadTime=this.eg=B.timestamp,!1,this.Ue=n.oc.ic.wu,this.emit(n.oc.Fh.bHa,B));};A.prototype.$4a=function(B){var C;!this.a9a && B.responseHeaders && (this.a9a=B.responseHeaders);if(this.Ue < n.oc.ic.Xw){this.fw=[];C=B.timestamp - this.loadTime;!this.Hd && 0 < C && (this.connect=!0,this.fw.push(C));!0 === this.config().SKb?this.yla=B.timestamp:this.yla=this.eg=B.timestamp;!1;this.Ue=n.oc.ic.Xw;this.emit(n.oc.Fh.aHa,B);}};A.prototype.zRb=function(B){this.Ue === n.oc.ic.Xw && (!1,this.gpa=this.eg=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.wb.wg(this.gpa) && this.emit(n.oc.Fh.cHa,B));};A.prototype.zM=function(B){var C;if(-1 < [n.oc.ic.wu,n.oc.ic.Xw].indexOf(this.Ue)){this.$T=!1;!1;this.eg=B.timestamp;this.Ue=n.oc.ic.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Wl.S2;(0,q.oa)(this.bytesReceived === this.Dk,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Dk - C;this.wb.wg(this.WE) && (this.eg=this.WE,0 === B.newBytes && (this.gpa=this.WE));this.wb.wg(this.ZB) && (this.loadTime=this.ZB);this.cga=B.response;this.emit(n.oc.Fh.KP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",$Xb:B});}};A.prototype.sRb=function(B){this.$T=!1;!1;this.emit(n.oc.Fh.yjb,B);};A.prototype.cra=function(B){this.eg=B.timestamp;this.status=B.httpcode;this.Sg=B.errorcode;this.wF=n.oc.WY.name[this.Sg];this.aj=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",dDb:B});this.emit(n.oc.Fh.Uz,B);this.$T=!1;};A.prototype.open=function(B,C,D,F,G,E,J,K,N){this.jw=!1;this.fK=C;this.zr=K;this.QK=N;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.Ue=n.oc.ic.OPENED;this.WU.cT(this,C,J);return !0;};A.prototype.$e=function(){!1;-1 !== [n.oc.ic.OPENED,n.oc.ic.wu,n.oc.ic.Xw].indexOf(this.Ue) && this.abort();return !0;};A.prototype.nvb=function(){this.cga=void 0;this.O2 && (this.O2.response=void 0,this.O2.cadmiumResponse.content=void 0);this.y5=void 0;};A.prototype.lz=function(B){!1;this.url=B;return !0;};A.prototype.abort=function(){this.Ue=n.oc.ic.BO;this.WU.CPa(this);return !0;};A.prototype.pause=function(){};A.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.a9a) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};A.prototype.getAllResponseHeaders=function(){return "";};A.prototype.hH=function(){};A.prototype.Tg=function(){return this.requestId;};A.prototype.toString=function(){return JSON.stringify({requestId:this.Tg(),segmentId:this.I,isHeader:this.Hd,ptsStart:this.gH,ptsOffset:this.eW,responseType:this.responseType,duration:this.bB,readystate:this.Ue,bitrate:this.bitrate});};A.prototype.toJSON=function(){return this.toString();};A.prototype.hJb=function(){var B,C;if(this.config().Ycb && d.ru && d.ru.getEntriesByType && (!this.wb.wg(this.ZB) || !this.wb.wg(this.WE) && this.wb.wg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.gK + "-" + this.eK + "*");C=new RegExp(B);B=d.ru.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.wb.wg(B) && (0 < B.startTime && (this.ZB=B.startTime,0 < B.requestStart && (this.ZB=Math.max(this.ZB,B.requestStart))),0 < B.responseStart && (this.zla=B.responseStart),0 < B.responseEnd && (this.WE=B.responseEnd));}};A.prototype.FMb=function(){return this.wb.wg(this.ZB) && this.wb.wg(this.WE) && this.wb.wg(this.zla);};Wa.Object.defineProperties(A.prototype,{Dk:{configurable:!0,enumerable:!0,get:function(){return 0 === this.fK.start && -1 === this.fK.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.fK.end - this.fK.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.eK - this.gK + 1;}},n_a:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Hd:{configurable:!0,enumerable:!0,get:function(){return !this.jt;}},response:{configurable:!0,enumerable:!0,get:function(){return this.cga;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ue;},set:function(){}}});Object.getOwnPropertyNames(A.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(A.prototype,B);Object.defineProperty(z.prototype,B,C);});this.Yj=Object.assign(z,n.oc);}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(17244);d=a(50876);g=a(89542);m=a(96437);l=a(59883);n=a(35001);p=a(24166);q=a(70633);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.cc)),r.__param(1,(0,k.l)(f.Xa)),r.__param(2,(0,k.l)(g.Zf)),r.__param(3,(0,k.l)(m.lHa)),r.__param(4,(0,k.l)(m.nGa)),r.__param(5,(0,k.l)(p.Kw))],c);b.kGa=c;},68221:function(r,b,a){var k,f,h;function c(d,g){this.He=g;this.log=d.Ta("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(5485);c.prototype.cT=function(d,g,m){g={url:d.url,hZb:m};!1;d.y5=this.He.o0b(g);};c.prototype.CPa=function(d){try{d.y5();}catch(g){this.log.warn("exception aborting request");}};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.ku))],h);b.kHa=h;},39540:function(r,b,a){var k,f,h;function c(d,g){this.kv=void 0 === d?function(){}:d;this.Qta=g;this.tw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.xea=void 0;k=a(70655);f=a(70633);h=a(55727);c.prototype.store=function(d,g){var m,p;m=this.generateKey(d);this.tw.has(m) && this.ara(this.tw.get(m),!0);if(!d.Bd)for(var l=ma(this.tw),n=l.next();!n.done;n=l.next()){p=ma(n.value);n=p.next().value;p=p.next().value;n.includes(":" + d.J + ":") && (this.ara(p,!0),this.tw.delete(n));}this.tw.set(m,g);};c.prototype.Um=function(d,g){var m,l,n;n=null === (m=null === g || void 0 === g?void 0:g.Ef) || void 0 === m?void 0:m.mc;m=null === (l=null === g || void 0 === g?void 0:g.Ef) || void 0 === l?void 0:l.Bd;l={J:d,Bd:m,mc:n};this.has(l) || this.kv(d,g);return this.get(l);};c.prototype.cw=function(d,g){var m;return k.__awaiter(this,void 0,void 0,function n(){var p,q;p=this;return Ia(n,function(u){var t;if(1 == u.Kv)return ((0,f.oa)(g.Ef,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,f.oa)(!!g.Ef.mc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),u.qia=2,La(u,p.Qta(d,g),4));if(2 != u.Kv)return u.return(u.fY);u.qia=0;t=u.yE.oWa;u.yE=null;q=t;throw (0,h.S0a)(q)?q:Error(null !== (m="Unable to retrieve adBreak hydration forparentViewableId: " + (g.Ef.Bd + ", adBreakToken: " + d + ".") + q.detail) && void 0 !== m?m:"Details: " + q.detail);});});};c.prototype.has=function(d){d=this.generateKey(d);return this.tw.has(d) && !this.tw.get(d).Nq;};c.prototype.clear=function(){var d;d=this;this.tw.forEach(function(g){d.ara(g,!1);});this.tw.clear();};c.prototype.get=function(d){return this.tw.get(this.generateKey(d));};c.prototype.generateKey=function(d){var g,m;g=d.mc;m=d.Bd;return d.J.toString() + (m?":" + m:"") + (g?":" + g:"");};c.prototype.ara=function(d,g){var m;null === (m=d.events) || void 0 === m?void 0:m.emit("viewableEvicted",{type:"viewableEvicted"});d.hwa=g;};b.xea=c;},55225:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.b2=void 0;c=a(95919);b.b2=function(k){var f,h,d,g;f=k.Vk;h=k.loadTime;k=k.$ka;d=(0,c.rb)(h)?h:0;g=f[k.target] || ({});f[k.target] !== g && (f[k.target]=g);Object.entries(k.fields).forEach(function(m){var l,n,p,q;l=ma(m);m=l.next().value;l=l.next().value;if("object" !== typeof l || null === l)g[m]=l;else {n=l.type;if("count" === n)(void 0 === g[m] && (g[m]=0),++g[m]);else if(void 0 !== l.value){if("array" === n){n=g[m];p=l.adjust;q=l.value;n || (n=g[m]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else g[m]="sum" === n?(g[m] || 0) + l.value:l.value;}else g[m]=l;}});};},86514:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.HZa=void 0;c=a(91854);k=a(70633);b.HZa=function(f,h,d,g){return h.L[h.we].va === g?(f=(0,c.Rx)(h,f,c.N.Na(d)),(0,k.oa)(f,"has valid start position relative to playgraph"),f):{I:h.we,offset:c.N.Ia};};},60634:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vh="AsyncComponentLoaderSymbol";},4871:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.aRa=void 0;r=a(86700);c=a(20101);k=a(60634);b.aRa=new r.Yc(function(f){f(k.Vh).to(c.Vya).da();});},20101:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v;function c(w,y,x,A,z,B){var C;C=this;this.Ck=w;this.config=x;this.uo=A;this.debug=z;this.Fa=B;this.Bbb=[];this.Rc={};this.log=y.Ta("loadAsync");this.YOb=(0,u.BCa)(function(D){C.sXb=!0;C.startTime=C.Fa.Fb().ba(p.na);C.load(C.Bbb).then(function(){C.endTime=C.Fa.Fb().ba(p.na);D(v.kg);}).catch(function(F){C.endTime=C.Fa.Fb().ba(p.na);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;r=a(70655);k=a(85643);f=a(68172);h=a(38667);d=a(3971);g=a(86700);m=a(71163);l=a(17244);n=a(29853);p=a(2467);q=a(78616);u=a(5845);t=a(58998);v=a(7942);c.prototype.CU=function(w){this.YOb(w);};c.prototype.register=function(w,y){this.debug.assert(!this.sXb);this.Bbb.push({vOb:this.nub(y),errorCode:w});};c.prototype.ke=function(w){this.debug.assert(void 0 === this.Rc[w]);this.Rc[w]=this.Fa.Fb().ba(p.na);};c.prototype.load=function(w){var y;y=this;return (0,h.k7a)(w).then(function(x){y.Ck.mark(d.qm.nj.qeb);return x.reduce(function(A,z){return A.then(function(){return y.tOb(z);});},Promise.resolve()).then(function(){y.Ck.mark(d.qm.nj.oeb);});});};c.prototype.tOb=function(w){var y,x;y=this;x=w.vOb;!1;return this.uo.Xp((0,p.Lb)(this.config().Zrb),x()).catch(function(A){y.log.error("Failed to load component " + w.errorCode,A);y.Ck.mark(d.qm.nj.peb);if(A instanceof n.mq)throw {za:f.R.neb,errorCode:w.errorCode};A.errorCode=A.errorCode || w.errorCode;A.za=A.za || f.R.meb;throw A;});};c.prototype.nub=function(w){return function(){return new Promise(function(y,x){w(function(A){A.ka?y():x(A);});});};};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.bJ)),r.__param(1,(0,g.l)(m.Xa)),r.__param(2,(0,g.l)(l.cc)),r.__param(3,(0,g.l)(n.Wz)),r.__param(4,(0,g.l)(q.Bw)),r.__param(5,(0,g.l)(t.Jc))],a);b.Vya=a;},38667:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.k7a=void 0;c=a(68172);k=[c.V.cib,c.V.RDa,c.V.SDa,c.V.WDa,c.V.ODa,c.V.MDa,c.V.aca,c.V.gib,c.V.PDa,c.V.NDa,c.V.Mz,c.V.JDa,c.V.LDa,c.V.TDa,c.V.UDa,c.V.VDa,c.V.QDa,c.V.KDa];(function(h){h.sjb=function(d){var l;for(var g={},m=0;m < d.length;m++){l=d[m];if(g[l.errorCode])return {errorCode:l.errorCode,za:c.R.keb};g[l.errorCode]=1;}};h.tjb=function(d){var m;for(var g=0;g < d.length;g++){m=d[g];if(-1 === k.indexOf(m.errorCode))return {errorCode:m.errorCode,za:c.R.leb};}};})(f || (f={}));b.k7a=function(h){return new Promise(function(d,g){var m;m=f.tjb(h);m && g(m);(m=f.sjb(h)) && g(m);d(h.sort(function(l,n){return k.indexOf(l.errorCode) - k.indexOf(n.errorCode);}));});};},58998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jc="ApplicationSymbol";},5266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zw="Base16EncoderSymbol";},31224:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kh="Base64EncoderSymbol";},20642:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fD="BrowserInfoSymbol";},24060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eba="CachedErrorsSymbol";},35664:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fg="ClockSymbol";},69716:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nAa="ClockConfigSymbol";},50746:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EAa="CsvEncoderSymbol";},40781:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OY="DebouncerFactorySymbol";},78616:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TAa="DebugConfigSymbol";b.Bw="DebugSymbol";},64168:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fkb=b.Lgb=b.UAa=void 0;r=b.UAa || (b.UAa={});r.i$b="PboDebugEvent";r.l$b="PlaygraphEvent";b.Lgb={g9b:"Manifest",Event:"Event",U8b:"Logblob"};b.Fkb={fac:"UX",v7b:"Combined_1",w7b:"Combined_2"};},56432:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb,Qa,Za,hb,lb,yb,Hb,Jb,Db,Lb,Rb,bc;Object.defineProperty(b,"__esModule",{value:!0});b.Nx=void 0;r=a(86700);c=a(63088);k=a(35664);f=a(65428);h=a(24166);d=a(16690);g=a(19791);m=a(10846);l=a(68903);n=a(14600);p=a(53484);q=a(5266);u=a(31224);t=a(89682);v=a(89542);w=a(1265);y=a(29853);x=a(81291);A=a(73653);z=a(52275);B=a(81880);C=a(67330);D=a(10234);F=a(36447);G=a(661);E=a(60196);J=a(91402);K=a(84540);N=a(10787);I=a(58998);O=a(50746);L=a(81454);H=a(47202);M=a(78616);R=a(52632);Y=a(71163);ea=a(69716);ca=a(77300);oa=a(85643);Ga=a(50430);Fa=a(27017);Ja=a(32265);Xa=a(43766);cb=a(74509);W=a(50876);aa=a(25468);Q=a(82328);ka=a(28933);P=a(65275);fa=a(20916);ta=a(17244);pa=a(811);Ra=a(97636);Pa=a(66602);db=a(20642);wb=a(19604);ob=a(47682);Fb=a(62380);Qa=a(92513);Za=a(14072);hb=a(40781);lb=a(33999);yb=a(99423);Hb=a(56138);Jb=a(50743);Db=a(64615);Lb=a(31020);Rb=a(24060);bc=a(85121);b.Nx=new r.Yc(function(Ib){Ib(c.w_).SC(function(){return {};}).da();Ib(c.sD).ml(JSON);Ib(c.QMa).ml(pb);Ib(d.HLa).ml(Math);Ib(c.cFa).ml(W.l_);Ib(c.qda).ml(W.ru);Ib(c.vMa).ml(W.CD);Ib(c.QAa).ml(Date);Ib(c.QI).ml(W.ze);Ib(c.djb).ml(W.Rz);Ib(ea.nAa).to(ca.mAa).da();Ib(I.Jc).to(N.xya).da();Ib(k.Fg).to(n.oAa).da();Ib(f.Gi).to(g.MKa).da();Ib(h.Kw).to(m.dEa).da();Ib(y.Wz).to(D.$Ja).da();Ib(d.H_).to(l.iKa).da();Ib(Pa.Jca).to(Jb.$Fa).da();Ib(M.Bw).to(H.VAa).da();Ib(M.TAa).to(R.SAa).da();Ib(p.oq).to(A.wMa).da();Ib(q.zw).to(z.Qaa).da();Ib(u.kh).to(B.jza).da();Ib(t.ph).to(C.xMa).da();Ib(v.Zf).ml(F.rD);Ib(ob.bP).to(Fb.kCa).da();Ib(w.Iba).to(G.Xj).Xna();Ib(w.PY).to(G.Xj).da();Ib(w.hBa).to(G.Xj).da();Ib(w.Mba).to(G.Xj).da();Ib(J.mea).to(K.LD).da();Ib(O.EAa).to(L.DAa).da();Ib(oa.bJ).to(Ga.rea).da();Ib(oa.GP).to(Ga.rea).da();Ib("Factory<LoggerFactory>").Abb(Y.Xa);Ib(Fa.tba).to(Ja.XAa).da();Ib(cb.MD).Vd(function(Ob){return function(Sb){return new Xa.QLa(Ob.hb.get(I.Jc),Ob.hb.get(f.Gi),Sb);};});Ib(hb.OY).Vd(function(Ob){return function(Sb){return new lb.RAa(Ob.hb.get(f.Gi),Sb);};});Ib(aa.Nda).W2b(Q.Mda);Ib(aa.Kkb).Vd(function(Ob){var Sb;Sb=Ob.hb.get(aa.Nda);return function(){return new Sb(!1);};});Ib(aa.Lkb).Vd(function(Ob){var Sb;Sb=Ob.hb.get(aa.Nda);return function(){return new Sb(!0);};});Ib(ka.sMa).Vd(function(){return function(Ob){return new P.tMa(Ob);};});Ib(Ra.PP).Vd(function(Ob){return function(Sb,cc,nc){return new fa.mJa(Ob.hb.get(M.Bw),Ob.hb.get(ta.cc),Ob.hb.get(pa.yn),Ob.hb.get(Pa.Jca),Sb,cc,nc);};});Ib(x.iHa).Vd(function(){return function(Ob){return new E.jHa(Ob);};});Ib(db.fD).to(wb.yza);Ib(Db.c0).to(Lb.uMa).da();Ib(Qa.ZP).Vd(function(Ob){return function(Sb,cc){return new Za.aMa(Ob.hb.get(f.Gi),Sb,cc);};});Ib(yb.dCa).to(Hb.cCa).da();Ib(Rb.eba).to(bc.Zza).da();});},99423:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oj="_ANY_";b.dCa="EnricherSymbol";},1265:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iba="EventSourceSymbol";b.Mba="GlobalEventSourceSymbol";b.PY="DebugEventSourceSymbol";b.hBa="DiagnosticsEventSourceSymbol";},47682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bP="EventSourceFactorySymbol";},24166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kw="IdProviderSymbol";},89542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zf="IsTypeSymbol";},50364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nz=void 0;r=b.Nz || (b.Nz={});r[r.f7b=8]="Backspace";r[r.$$b=9]="Tab";r[r.i8b=13]="Enter";r[r.T$b=16]="Shift";r[r.B7b=17]="Ctrl";r[r.L6b=18]="Alt";r[r.h$b=19]="PauseBreak";r[r.s7b=20]="CapsLock";r[r.k8b=27]="Escape";r[r.V$b=32]="Space";r[r.g$b=33]="PageUp";r[r.f$b=34]="PageDown";r[r.h8b=35]="End";r[r.M8b=36]="Home";r[r.S8b=37]="LeftArrow";r[r.hac=38]="UpArrow";r[r.q$b=39]="RightArrow";r[r.Q7b=40]="DownArrow";r[r.P8b=45]="Insert";r[r.O7b=46]="Delete";r[r.pac=48]="Zero";r[r.X9b=49]="One";r[r.cac=50]="Two";r[r.aac=51]="Three";r[r.H8b=52]="Four";r[r.F8b=53]="Five";r[r.U$b=54]="Six";r[r.S$b=55]="Seven";r[r.g8b=56]="Eight";r[r.I9b=57]="Nine";r[r.D6b=65]="A";r[r.Laa=66]="B";r[r.l7b=67]="C";r[r.Yfb=68]="D";r[r.E=69]="E";r[r.l8b=70]="F";r[r.Lba=71]="G";r[r.K8b=72]="H";r[r.N8b=73]="I";r[r.Q8b=74]="J";r[r.gca=75]="K";r[r.Aib=76]="L";r[r.zca=77]="M";r[r.k9b=78]="N";r[r.U9b=79]="O";r[r.Z9b=80]="P";r[r.Q=81]="Q";r[r.n$b=82]="R";r[r.Wkb=83]="S";r[r.Dlb=84]="T";r[r.dac=85]="U";r[r.iac=86]="V";r[r.kac=87]="W";r[r.mac=88]="X";r[r.oac=89]="Y";r[r.qd=90]="Z";r[r.T8b=91]="LeftWindowKey";r[r.r$b=92]="RightWindowKey";r[r.Q$b=93]="SelectKey";r[r.K9b=96]="Numpad0";r[r.L9b=97]="Numpad1";r[r.M9b=98]="Numpad2";r[r.N9b=99]="Numpad3";r[r.O9b=100]="Numpad4";r[r.P9b=101]="Numpad5";r[r.Q9b=102]="Numpad6";r[r.R9b=103]="Numpad7";r[r.S9b=104]="Numpad8";r[r.T9b=105]="Numpad9";r[r.j9b=106]="Multiply";r[r.K6b=107]="Add";r[r.W$b=109]="Subtract";r[r.N7b=110]="DecimalPoint";r[r.P7b=111]="Divide";r[r.m8b=112]="F1";r[r.q8b=113]="F2";r[r.r8b=114]="F3";r[r.s8b=115]="F4";r[r.t8b=116]="F5";r[r.u8b=117]="F6";r[r.v8b=118]="F7";r[r.w8b=119]="F8";r[r.x8b=120]="F9";r[r.n8b=121]="F10";r[r.o8b=122]="F11";r[r.p8b=123]="F12";r[r.J9b=144]="NumLock";r[r.O$b=145]="ScrollLock";r[r.R$b=186]="SemiColon";r[r.j8b=187]="Equals";r[r.x7b=188]="Comma";r[r.L7b=189]="Dash";r[r.j$b=190]="Period";r[r.G8b=191]="ForwardSlash";r[r.bac=192]="Tilde";r[r.Y9b=219]="OpenBracket";r[r.e7b=220]="BackSlash";r[r.u7b=221]="CloseBracket";r[r.m$b=222]="Quote";},81291:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iHa="OneWayCounterFactorySymbol";},27017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba="DecoderTimeoutPathologistSymbol";},811:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yn="PlatformSymbol";b.x_="PlatformMutableSymbol";},63088:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QMa="WindowTimersSymbol";b.sD="JSONSymbol";b.vMa="UserAgentSymbol";b.QI="NavigatorSymbol";b.djb="MediaSourceSymbol";b.cFa="LocationSymbol";b.QAa="DateSymbol";b.qda="PerformanceSymbol";b.w_="PlatformExtraInfoSymbol";},97636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PP="PlayerErrorFactorySymbol";},25468:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nda="PrioritizedSetOfListsSymbol";b.Kkb="PrioritizedSetOfListsFactorySymbol";b.Lkb="PrioritizedSetOfSetsFactorySymbol";},29853:function(r,b){function a(c){var k;k=Error.call(this,"TimeoutError");this.message=k.message;("stack" in k) && (this.stack=k.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Wz=b.mq=void 0;ia(a,Error);b.mq=a;b.Wz="PromiseTimerSymbol";},16690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HLa="SystemRandomSymbol";b.H_="RandomGeneratorSymbol";},65428:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gi="SchedulerSymbol";},91402:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea="StringUtilsSymbol";},36437:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nea=void 0;k=a(50876);c.uZa=function(){var f;f=k.su && k.su.height;return f?1080 <= f?1080:720:720;};b.nea=c;},74509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MD="ThrottleFactorySymbol";},92513:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZP="TimeoutMonitorFactorySymbol";},85643:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJ="TimingApiSymbol";b.GP="MilestoneTimingApiSymbol";},28933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sMa="UrlFactorySymbol";},53484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oq="Utf8EncoderSymbol";},89682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ph="UtilitiesSymbol";},12813:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wIa="PboPlaydataValidatorSymbol";b.nIa="PboPlaydataArrayValidatorSymbol";b.pIa="PboPlaydataCollectionValidatorSymbol";},3971:function(r,b){var c,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qm=b.Oa=b.nj=void 0;(function(f){f[f.sm=0]="STANDARD";f[f.tn=1]="LIMITED";f[f.a$b=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(f){f.qeb="asl_start";f.oeb="asl_comp";f.J6b="asl_exc";f.peb="asl_fail";f.mlb="stf_creat";f.Thb="idb_open";f.Qhb="idb_block";f.$hb="idb_upgr";f.Zhb="idb_succ";f.Rhb="idb_error";f.Shb="idb_invalid_state";f.Vhb="idb_open_timeout";f.Xhb="idb_open_wrkarnd";f.Yhb="idb_storelen_exc";f.Uhb="idb_open_exc";f.Whb="idb_timeout_invalid_storelen";f.Wib="msl_load_data";f.Yib="msl_load_no_data";f.Xib="msl_load_failed";})(r=b.nj || (b.nj={}));(function(f){f.cda="PlaybackRequestStart";f.bda="PlaybackRequestEnd";f.F_="RequestPrefetchManifestStart";f.E_="RequestPrefetchManifestEnd";f.D_="RequestManifestStart";f.C_="RequestManifestEnd";f.B_="RequestLicenseStart";f.A_="RequestLicenseEnd";f.PO="RequestTimedTextUrlStart";f.OO="RequestTimedTextUrlEnd";f.NO="RequestAudioUrlStart";f.MO="RequestAudioUrlEnd";f.RO="RequestVideoUrlStart";f.QO="RequestVideoUrlEnd";f.jaa="AppendBufferStart";f.iaa="AppendBufferEnd";f.Xda="SetMediaKeysStart";f.Wda="SetMediaKeysEnd";f.aZ="GenerateChallengeStart";f.$Y="GenerateChallengeEnd";f.jY="ApplyLicenseStart";f.iY="ApplyLicenseEnd";})(b.Oa || (b.Oa={}));b.qm=a;a.lca=c;a.CTa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.nj=r;a.gP=k;},68172:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Iw=b.iCa=b.hCa=b.Gba=b.gCa=b.XY=b.h_=b.WZ=b.fCa=b.R=b.V=void 0;(function(k){k[k.Lo=7001]="UNKNOWN";k[k.qMa=7002]="UNHANDLED_EXCEPTION";k[k.cib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";k[k.Dhb=7004]="HLS_NOT_SUPPORTED";k[k.$ba=7010]="INIT_ASYNCCOMPONENT";k[k.gib=7011]="INIT_HTTP";k[k.aib=7014]="INIT_BADMOVIEID";k[k.YDa=7020]="INIT_PLAYBACK_LOCK";k[k.ZDa=7022]="INIT_SESSION_LOCK";k[k.hib=7029]="INIT_POSTAUTHORIZE";k[k.XDa=7031]="INIT_HEADER_MEDIA";k[k.iib=7034]="INIT_TIMEDTEXT_TRACK";k[k.ieb=7037]="ASE_SESSION_ERROR";k[k.heb=7038]="ASE_SEEK_THREW";k[k.jeb=7039]="ASE_SKIPPED_THREW";k[k.dib=7041]="INIT_CORE_OBJECTS1";k[k.eib=7042]="INIT_CORE_OBJECTS2";k[k.fib=7043]="INIT_CORE_OBJECTS3";k[k.RDa=7053]="INIT_COMPONENT_STORAGE";k[k.SDa=7054]="INIT_COMPONENT_STORAGELOCK";k[k.ODa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";k[k.aca=7059]="INIT_COMPONENT_DEVICE";k[k.PDa=7063]="INIT_COMPONENT_MSL";k[k.NDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";k[k.Mz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";k[k.WDa=7083]="INIT_COMPONENT_WEBCRYPTO";k[k.MDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";k[k.KDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";k[k.JDa=7089]="INIT_COMPONENT_ASE";k[k.FI=7091]="INIT_COMPONENT_DRM_CACHE";k[k.bib=7092]="INIT_COMPONENT_DRM";k[k.LDa=7094]="INIT_COMPONENT_FTL";k[k.QDa=7095]="INIT_COMPONENT_PREPARE_MODEL";k[k.TDa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";k[k.UDa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";k[k.VDa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";k[k.KI=7111]="MANIFEST";k[k.Iib=7114]="MANIFEST_MISTMATCH";k[k.xFa=7117]="MANIFEST_VERIFY";k[k.klb=7120]="START";k[k.HI=7121]="LICENSE";k[k.Rda=7122]="RELEASE";k[k.llb=7123]="STOP";k[k.hca=7125]="KEEPALIVE";k[k.akb=7131]="PING";k[k.lhb=7134]="ENGAGE";k[k.Eib=7137]="LOGBLOB";k[k.$9b=7138]="PAUSE";k[k.p$b=7139]="RESUME";k[k.EKa=7140]="SPLICE";k[k.Oeb=7142]="BIND";k[k.Peb=7144]="BIND_DEVICE";k[k.yhb=7145]="GENERATE_SCREENSHOTS";k[k.Jxa=7146]="AD_EVENT";k[k.ekb=7202]="PLAY_INIT_EXCEPTION";k[k.dda=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";k[k.kkb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";k[k.xHa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";k[k.lkb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";k[k.eda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";k[k.jkb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";k[k.BHa=7351]="PLAY_MSE_NOTSUPPORTED";k[k.wHa=7353]="PLAY_MSE_DECODER_TIMEOUT";k[k.fda=7355]="PLAY_MSE_SOURCEADD";k[k.vHa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";k[k.MP=7357]="PLAY_MSE_GENERATEKEYREQUEST";k[k.AHa=7361]="PLAY_MSE_EVENT_ERROR";k[k.SI=7362]="PLAY_MSE_SETMEDIAKEYS";k[k.lq=7363]="PLAY_MSE_EVENT_KEYERROR";k[k.nkb=7364]="PLAY_MSE_EME_SESSION_CLOSE";k[k.okb=7365]="PLAY_MSE_GETCURRENTTIME";k[k.pkb=7367]="PLAY_MSE_SETCURRENTTIME";k[k.qkb=7371]="PLAY_MSE_SOURCEAPPEND";k[k.ukb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";k[k.tkb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";k[k.skb=7377]="PLAY_MSE_UNEXPECTED_REWIND";k[k.rkb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";k[k.CHa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";k[k.fkb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";k[k.gkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";k[k.hkb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";k[k.yHa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";k[k.mkb=7395]="PLAY_MSE_EME_MISSING_PSSH";k[k.zHa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";k[k.ikb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";k[k.t_=7399]="PLAY_MSE_SET_LICENSE_ERROR";k[k.SBa=7400]="EXTERNAL";k[k.s_=7500]="PAUSE_TIMEOUT";k[k.YZ=7502]="INACTIVITY_TIMEOUT";k[k.seb=7510]="AUTHORIZATION_EXPIRED";k[k.dhb=7700]="EME_INVALID_KEYSYSTEM";k[k.EBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";k[k.$O=7702]="EME_CREATE_MEDIAKEYS_FAILED";k[k.VY=7703]="EME_GENERATEREQUEST_FAILED";k[k.LBa=7704]="EME_UPDATE_FAILED";k[k.JBa=7705]="EME_KEYSESSION_ERROR";k[k.IBa=7706]="EME_KEYMESSAGE_EMPTY";k[k.hhb=7707]="EME_REMOVE_FAILED";k[k.fhb=7708]="EME_LOAD_FAILED";k[k.$gb=7709]="EME_CREATE_SESSION_FAILED";k[k.Bba=7710]="EME_LDL_RENEWAL_ERROR";k[k.GBa=7711]="EME_INVALID_INITDATA_DATA";k[k.HBa=7712]="EME_INVALID_LICENSE_DATA";k[k.ehb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";k[k.DBa=7716]="EME_CLOSE_FAILED";k[k.Cba=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";k[k.jhb=7718]="EME_SET_SERVER_CERTIFICATE";k[k.bkb=7800]="PLAYDATA_STORE_FAILURE";k[k.HO=7900]="BRANCH_PLAY_FAILURE";k[k.IO=7901]="BRANCH_QUEUE_FAILURE";k[k.fza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";k[k.Web=7903]="BRANCH_CHOICE_MAP_MISSING";k[k.Mjb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(k){k[k.Lo=1001]="UNKNOWN";k[k.ql=1003]="EXCEPTION";k[k.lib=1004]="INVALID_DI";k[k.meb=1011]="ASYNCLOAD_EXCEPTION";k[k.neb=1013]="ASYNCLOAD_TIMEOUT";k[k.I6b=1015]="ASYNCLOAD_BADCONFIG";k[k.keb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";k[k.leb=1017]="ASYNCLOAD_COMPONENT_MISSING";k[k.lP=1101]="HTTP_UNKNOWN";k[k.Yba=1102]="HTTP_XHR";k[k.iP=1103]="HTTP_PROTOCOL";k[k.hP=1104]="HTTP_OFFLINE";k[k.kP=1105]="HTTP_TIMEOUT";k[k.pD=1106]="HTTP_READTIMEOUT";k[k.oD=1107]="HTTP_ABORT";k[k.kDa=1108]="HTTP_PARSE";k[k.gDa=1110]="HTTP_BAD_URL";k[k.jP=1111]="HTTP_PROXY";k[k.Fca=1203]="MSE_AUDIO";k[k.Gca=1204]="MSE_VIDEO";k[k.Rib=1250]="MSE_MEDIA_ERR_BASE";k[k.$8b=1251]="MSE_MEDIA_ERR_ABORTED";k[k.c9b=1252]="MSE_MEDIA_ERR_NETWORK";k[k.a9b=1253]="MSE_MEDIA_ERR_DECODE";k[k.d9b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";k[k.b9b=1255]="MSE_MEDIA_ERR_ENCRYPTED";k[k.Sr=1260]="EME_MEDIA_KEYERR_BASE";k[k.Z7b=1261]="EME_MEDIA_KEYERR_UNKNOWN";k[k.U7b=1262]="EME_MEDIA_KEYERR_CLIENT";k[k.Y7b=1263]="EME_MEDIA_KEYERR_SERVICE";k[k.X7b=1264]="EME_MEDIA_KEYERR_OUTPUT";k[k.W7b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";k[k.V7b=1266]="EME_MEDIA_KEYERR_DOMAIN";k[k.$7b=1269]="EME_MEDIA_UNAVAILABLE_CDM";k[k.chb=1270]="EME_INTERNAL_ERROR";k[k.Zgb=1271]="EME_CLOSED_BY_APPLICATION";k[k.ghb=1272]="EME_RELEASE_ACKNOWLEDGED";k[k.Aba=1273]="EME_HARDWARE_CONTEXT_RESET";k[k.ihb=1274]="EME_RESOURCE_EVICTED";k[k.bhb=1280]="EME_ERROR_NODRMSESSSION";k[k.ahb=1281]="EME_ERROR_NODRMREQUESTS";k[k.R7b=1282]="EME_ERROR_INDIV_FAILED";k[k.S7b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";k[k.khb=1284]="EME_TIMEOUT_MESSAGE";k[k.a8b=1285]="EME_TIMEOUT_KEYCHANGE";k[k.KBa=1286]="EME_UNDEFINED_DATA";k[k.zI=1287]="EME_INVALID_STATE";k[k.T7b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";k[k.FBa=1289]="EME_EMPTY_DATA";k[k.aP=1290]="EME_TIMEOUT";k[k.s9b=1303]="NCCP_METHOD_NOT_SUPPORTED";k[k.v9b=1305]="NCCP_PARSEXML";k[k.xkb=1309]="PROCESS_EXCEPTION";k[k.u9b=1311]="NCCP_NETFLIXID_MISSING";k[k.w9b=1312]="NCCP_SECURENETFLIXID_MISSING";k[k.p9b=1313]="NCCP_HMAC_MISSING";k[k.o9b=1315]="NCCP_HMAC_MISMATCH";k[k.n9b=1317]="NCCP_HMAC_FAILED";k[k.m9b=1321]="NCCP_CLIENTTIME_MISSING";k[k.l9b=1323]="NCCP_CLIENTTIME_MISMATCH";k[k.CCa=1331]="GENERIC";k[k.hjb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";k[k.ijb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";k[k.x9b=1341]="NCCP_TRANSACTION";k[k.q9b=1343]="NCCP_INVALID_DRMTYPE";k[k.r9b=1344]="NCCP_INVALID_LICENCE_RESPONSE";k[k.t9b=1345]="NCCP_MISSING_PAYLOAD";k[k.e$b=1346]="PROTOCOL_NOT_INITIALIZED";k[k.d$b=1347]="PROTOCOL_MISSING_FIELD";k[k.c$b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";k[k.Zw=1402]="STORAGE_NODATA";k[k.y$b=1403]="STORAGE_EXCEPTION";k[k.G$b=1405]="STORAGE_QUOTA_NOT_GRANTED";k[k.H$b=1407]="STORAGE_QUOTA_TO_SMALL";k[k.HKa=1411]="STORAGE_LOAD_ERROR";k[k.nlb=1412]="STORAGE_LOAD_TIMEOUT";k[k.IKa=1414]="STORAGE_SAVE_ERROR";k[k.qlb=1415]="STORAGE_SAVE_TIMEOUT";k[k.$da=1417]="STORAGE_DELETE_ERROR";k[k.GKa=1418]="STORAGE_DELETE_TIMEOUT";k[k.F$b=1421]="STORAGE_FS_REQUESTFILESYSTEM";k[k.C$b=1423]="STORAGE_FS_GETDIRECTORY";k[k.E$b=1425]="STORAGE_FS_READENTRIES";k[k.z$b=1427]="STORAGE_FS_FILEREAD";k[k.B$b=1429]="STORAGE_FS_FILEWRITE";k[k.A$b=1431]="STORAGE_FS_FILEREMOVE";k[k.D$b=1432]="STORAGE_FS_PARSEJSON";k[k.plb=1451]="STORAGE_NO_LOCALSTORAGE";k[k.olb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";k[k.H9b=1501]="NTBA_UNKNOWN";k[k.G9b=1502]="NTBA_EXCEPTION";k[k.C9b=1504]="NTBA_CRYPTO_KEY";k[k.E9b=1506]="NTBA_CRYPTO_OPERATION";k[k.D9b=1508]="NTBA_CRYPTO_KEYEXCHANGE";k[k.F9b=1515]="NTBA_DECRYPT_UNSUPPORTED";k[k.JAa=1553]="DEVICE_NO_ESN";k[k.hgb=1555]="DEVICE_ERROR_GETTING_ESN";k[k.C8b=1701]="FORMAT_UNKNOWN";k[k.thb=1713]="FORMAT_XML";k[k.D8b=1715]="FORMAT_XML_CONTENT";k[k.A8b=1721]="FORMAT_BASE64";k[k.B8b=1723]="FORMAT_DFXP";k[k.Ohb=1801]="INDEXDB_OPEN_EXCEPTION";k[k.HDa=1802]="INDEXDB_NOT_SUPPORTED";k[k.Nhb=1803]="INDEXDB_OPEN_ERROR";k[k.IDa=1804]="INDEXDB_OPEN_NULL";k[k.Mhb=1805]="INDEXDB_OPEN_BLOCKED";k[k.Phb=1807]="INDEXDB_OPEN_TIMEOUT";k[k.Lhb=1808]="INDEXDB_INVALID_STORE_STATE";k[k.ZZ=1809]="INDEXDB_ACCESS_EXCEPTION";k[k.ajb=1901]="MSL_UNKNOWN";k[k.Uib=1911]="MSL_INIT_NO_MSL";k[k.EFa=1913]="MSL_INIT_ERROR";k[k.Vib=1915]="MSL_INIT_NO_WEBCRYPTO";k[k.Sib=1931]="MSL_ERROR";k[k.$ib=1933]="MSL_REQUEST_TIMEOUT";k[k.Zib=1934]="MSL_READ_TIMEOUT";k[k.Tib=1935]="MSL_ERROR_HEADER";k[k.e9b=1936]="MSL_ERROR_ENVELOPE";k[k.f9b=1937]="MSL_ERROR_MISSING_PAYLOAD";k[k.DFa=1957]="MSL_ERROR_REAUTH";k[k.zea=2103]="WEBCRYPTO_MISSING";k[k.lac=2105]="WEBCRYPTOKEYS_MISSING";k[k.Plb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";k[k.m7b=2200]="CACHEDDATA_PARSEJSON";k[k.Eza=2201]="CACHEDDATA_UNSUPPORTED_VERSION";k[k.n7b=2202]="CACHEDDATA_UPGRADE_FAILED";k[k.Iz=2203]="CACHEDDATA_INVALID_FORMAT";k[k.F6b=3E3]="ACCOUNT_CHANGE_INFLIGHT";k[k.G6b=3001]="ACCOUNT_INVALID";k[k.K7b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";k[k.J7b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";k[k.H7b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";k[k.I7b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";k[k.G7b=3202]="DOWNLOADED_LICENSE_EXCEPTION";k[k.I$b=3300]="STORAGE_VA_LOAD_ERROR";k[k.J$b=3301]="STORAGE_VA_LOAD_TIMEOUT";k[k.M$b=3302]="STORAGE_VA_SAVE_ERROR";k[k.N$b=3303]="STORAGE_VA_SAVE_TIMEOUT";k[k.K$b=3304]="STORAGE_VA_REMOVE_ERROR";k[k.L$b=3305]="STORAGE_VA_REMOVE_TIMEOUT";k[k.ada=3077]="PBO_DEVICE_EOL_WARNING";k[k.nHa=3078]="PBO_DEVICE_EOL_FINAL";k[k.qHa=3100]="PBO_DEVICE_RESET";k[k.pHa=3101]="PBO_DEVICE_RELOAD";k[k.oHa=3102]="PBO_DEVICE_EXIT";k[k.Zjb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.Cjb=5005]="PBO_ACCOUNT_ON_HOLD";k[k.Ljb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.rHa=5007]="PBO_INCORRECT_PIN";k[k.Wjb=5008]="PBO_MOBILE_ONLY";k[k.$jb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";k[k.Djb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";k[k.Gjb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";k[k.Ejb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";k[k.Fjb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";k[k.Hjb=5014]="PBO_ADS_VPN_USE_DETECTED";k[k.Tjb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";k[k.Sjb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";k[k.Qjb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";k[k.Jjb=5059]="PBO_BLACKLISTED_IP";k[k.Ijb=5070]="PBO_AGE_VERIFICATION_REQUIRED";k[k.Kjb=5080]="PBO_CHOICE_MAP_ERROR";k[k.Xjb=5090]="PBO_RESTRICTED_TO_TESTERS";k[k.Ujb=5091]="PBO_MALFORMED_REQUEST";k[k.Rjb=5092]="PBO_INVALID_SERVICE_VERSION";k[k.Vjb=5093]="PBO_MDX_INVALID_CTICKET";k[k.Pjb=5094]="PBO_FREE_PREVIEW_ENDED";k[k.Yjb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";k[k.Ojb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";k[k.Njb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";k[k.cgb=5100]="DECODER_TIMEOUT_BUFFERING";k[k.egb=5101]="DECODER_TIMEOUT_PRESENTING";k[k.dgb=5102]="DECODER_TIMEOUT_PLAYING";k[k.Igb=5200]="DOWNLOADER_IO_ERROR";k[k.eza=5300]="BRANCHING_SEGMENT_NOTFOUND";k[k.Seb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";k[k.S6b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";k[k.Paa=5303]="BRANCHING_ASE_UNINITIALIZED";k[k.O6b=5304]="BRANCHING_ASE_FAILURE";k[k.P6b=5305]="BRANCHING_MOMENT_FAILURE";k[k.Qeb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";k[k.R6b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";k[k.Teb=5308]="BRANCHING_SEEK_THREW";k[k.Q6b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";k[k.Reb=5310]="BRANCHING_PLAY_TIMEDOUT";k[k.Ueb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";k[k.Veb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";k[k.rlb=5500]="STUDIO_MUXED_MANIFEST";k[k.Bca=5600]="MANIFEST_HYDRATION_FAILURE";k[k.teb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";k[k.ueb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.R || (b.R={}));(function(k){k[k.c7b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.T6b=5005]="BR_ACCOUNT_ON_HOLD";k[k.X6b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.$6b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";k[k.W6b=5059]="BR_BLACKLISTED_IP";k[k.U6b=5070]="BR_AGE_VERIFICATION_REQUIRED";k[k.a7b=2204]="BR_PLAYBACK_CONTEXT_CREATION";k[k.Y6b=2205]="BR_DRM_LICENSE_AQUISITION";k[k.b7b=2206]="BR_PLAYBACK_SERVICE_ERROR";k[k.Z6b=2207]="BR_ENDPOINT_ERROR";k[k.V6b=2208]="BR_AUTHORIZATION_ERROR";})(b.fCa || (b.fCa={}));b.WZ={cfb:"400",gac:"401",KHa:"413"};b.h_={y8b:1,Z$b:2,d8b:3,eac:4,R8b:5,c8b:6,uea:7,f8b:8,o$b:9,v$b:10};b.XY=function(k,f,h,d){return k == a.s_ || k == a.YZ || k == a.dda && 432E5 <= h || k == a.Cba && f === c.Aba && 0 < Number(d);};b.gCa=function(k){return 1100 <= k && 1199 >= k;};b.Gba=function(k,f){return 1 <= k && 9 >= k?f + k:f;};b.hCa=function(k){return (0,b.Gba)(k,c.Rib);};b.iCa=function(k){return (0,b.Gba)(k,c.Sr);};b.Iw=function(k){var f,h,d;f={};h=k.errorExternalCode || k.De;d=k.errorDetails || k.Kb;f.ErrorSubCode=k.errorSubCode || k.za || c.Lo;h && (f.ErrorExternalCode=h);d && (f.ErrorDetails=d);return f;};},10787:function(r,b,a){var k,f,h,d;function c(g,m){this.sa=g;this.u4=this.sa.ue.ba(h.na) - 1;this.GOb=this.s6=0;this.id="" + m.SA();}Object.defineProperty(b,"__esModule",{value:!0});b.xya=void 0;r=a(70655);k=a(86700);f=a(35664);h=a(2467);a=a(24166);c.prototype.Fb=function(){var g,m;g=this.sa.ue.ba(h.na) - this.u4;if(g < this.s6){m=this.s6 + 1;this.u4-=m - g;g=m;}this.s6=g;return (0,h.Lb)(this.s6);};c.prototype.AHb=function(){return this.GOb++;};Wa.Object.defineProperties(c.prototype,{xy:{configurable:!0,enumerable:!0,get:function(){return (0,h.Lb)(this.u4);}}});d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Fg)),r.__param(1,(0,k.l)(a.Kw))],d);b.xya=d;},52275:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Qaa=void 0;r=a(70655);a=a(86700);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(h){for(var d=new Uint8Array(h.length / 2),g=0;g < d.length;g++){d[g]=this.Ebb(h.substr(2 * g,2));}return d;};c.prototype.encode=function(h){var l;for(var d="",g=h.length,m=0;m < g;m++){l=h[m];d+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return d;};c.prototype.CF=function(h,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[h & 15] || "0") + g;h>>>=4;}return g;};c.prototype.Ebb=function(h){var d;d=h.length;if(7 < d)throw Error("hex to long");for(var g=0,m=0;m < d;m++){g=16 * g + k[h[m]];}return g;};f=c;f=r.__decorate([(0,a.U)()],f);b.Qaa=f;},81880:function(r,b,a){var k,f,h,d,g,m,l,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;r=a(70655);a=a(86700);f=Array.prototype.slice;h=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};m={};l={};n=/\s+/g;[h,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;m[u]=q << 6;l[u]=q;}});c.prototype.encode=function(p){return k.Fka(p,h,"=");};c.prototype.decode=function(p){return k.Qja(p);};c.Qja=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var v=0,w=0,y;w < u;){y=d[p[v++]] + g[p[v++]] + m[p[v++]] + l[p[v++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[w++]=y >>> 16;q[w++]=y >>> 8 & 255;q[w++]=y & 255;}if(0 < t && (y=d[p[v++]] + g[p[v++]],q[w++]=y >>> 16,1 < t && (y+=m[p[v++]],q[w++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Fka=function(p,q,u){for(var t="",v=0,w=p.length,y=w - 2,x;v < y;){x=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(v == y){x=(p[v++] << 8) + p[v++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(v == w - 1){x=p[v++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=k=c;f=k=r.__decorate([(0,a.U)()],f);b.jza=f;},19604:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){this.userAgentData=p;this.jd=this.xDb(l,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=b.yza=void 0;r=a(70655);k=a(86700);f=a(17244);h=a(59578);d=a(63088);a=a(64615);c.prototype.h5=function(l,n){var p;if(n=this.qJb(n))switch(l){case m.Cy:p=0 < n.length?Number(n[0]):0;break;case m.rM:p=1 < n.length?Number(n[1]):0;break;case m.JM:p=2 < n.length?Number(n[2]):0;break;case m.m9:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.qJb=function(l){return null === l || void 0 === l?void 0:l.split(".");};c.prototype.iG=function(l){return this.jd.name === l;};c.prototype.kG=function(l){return this.jd.f8.name === l;};c.prototype.mMb=function(l){return this.jd.TJb === l;};c.prototype.xDb=function(l,n){return Object.assign(Object.assign({TJb:this.zDb(l,n)},this.wDb(l,n)),{f8:this.ADb(l,n)});};c.prototype.zDb=function(l,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(l)?f.VZ.phone:(/Android/).test(l)?f.VZ.h2b:f.VZ.awb;};c.prototype.wDb=function(l,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(l)?{name:f.pm.opera,version:""}:(/Tesla/).test(l)?{name:f.pm.fbb,version:""}:(n=l.match(/Edge\/(\d*)\./))?{name:f.pm.rp,version:n[1]}:(n=l.match(/Edg\/(\d*)\./))?{name:f.pm.AVa,version:n[1]}:(n=l.match(/Chrome\/(\d*)\./))?{name:f.pm.Hia,version:n[1]}:(n=l.match(/Firefox\/(\d*)\./))?{name:f.pm.aXa,version:n[1]}:(l=l.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.pm.o9a,version:l[1]}:{name:f.pm.Hia,version:""};};c.prototype.ADb=function(l,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(l)?{name:f.wn.BSa,version:""}:(n=l.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.wn.U2a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(l)?{name:f.wn.Dxa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(l) || (/Android.*Chrome\/[.0-9]* /).test(l)?{name:f.wn.hha,version:""}:(/Linux/).test(l)?{name:f.wn.s2a,version:""}:(/iPhone/).test(l)?{name:f.wn.J0a,version:""}:{name:f.wn.Dxa,version:""};};Wa.Object.defineProperties(c.prototype,{T0a:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.Hia);}},gU:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.rp);}},ty:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.AVa);}},Z5:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.aXa);}},Joa:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.opera);}},lU:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.o9a);}},q1a:{configurable:!0,enumerable:!0,get:function(){return this.iG(f.pm.fbb);}},cU:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.hha);}},OL:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.J0a);}},T5:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.hha) && this.mMb(f.VZ.phone);}},eU:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.BSa);}},sMb:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.s2a);}},MB:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.U2a);}},uy:{configurable:!0,enumerable:!0,get:function(){return this.kG(f.wn.Dxa);}},Jn:{configurable:!0,enumerable:!0,get:function(){return this.h5(m.Cy,this.jd.version);}},hTb:{configurable:!0,enumerable:!0,get:function(){return this.h5(m.Cy,this.jd.f8.version);}},iTb:{configurable:!0,enumerable:!0,get:function(){return this.h5(m.rM,this.jd.f8.version);}},jTb:{configurable:!0,enumerable:!0,get:function(){return this.h5(m.JM,this.jd.f8.version);}}});g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.vMa)),r.__param(1,(0,k.l)(h.nP)),r.__param(2,(0,k.l)(a.c0))],g);b.yza=g;(function(l){l[l.Cy=0]="major";l[l.rM=1]="minor";l[l.JM=2]="patch";l[l.m9=3]="revision";})(m=b.BMa || (b.BMa={}));},85121:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t;function c(v,w,y,x,A,z){this.gl=v;this.config=y;this.uo=x;this.sa=A;this.is=z;this.log=w.Ta("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=b.dba=void 0;r=a(70655);f=a(86700);h=a(68172);d=a(71163);g=a(2467);m=a(7336);l=a(17244);n=a(29853);p=a(35664);q=a(89542);u=a(13329);t=a(85060);b.dba="errors";c.prototype.load=function(){var v,w;v=this;if(!this.config().JVa)return Promise.resolve([]);w=(0,g.Lb)(this.config().Stb);return this.uo.Xp(w,this.w2a([])).catch(function(y){v.log.error("Load failed.",y);return [];});};c.prototype.add=function(v,w,y,x,A){var z;z=this;return this.config().JVa && w && y && (w === u.eb.uda || w === u.eb.h0 + "." + t.ju)?this.w2a([{time:v,keySystem:w,code:y,ec:x,Oc:A}]).then(function(){}).catch(function(B){z.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.sOb=function(){var v;v=this;return this.gl.create().then(function(w){return w.load(b.dba).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.za === h.R.Zw)return (v.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.hFb=function(v){return {time:(0,g.Bh)(v[0]),keySystem:v[1],code:v[2],ec:v[3],Oc:v[4]};};c.U2b=function(v){return [v.time.ba(g.vm),v.keySystem,v.code,v.ec,v.Oc];};c.prototype.$Yb=function(v){var w;w={version:1,errors:v.map(k.U2b)};return this.gl.create().then(function(y){return y.save(b.dba,w,!1);}).then(function(){return v;});};c.prototype.WDb=function(v){var w,y;w=(0,g.Bh)(this.config().Rtb);y=this.sa.ue.wa(w);return v.filter(function(x){return x.time.wa(y).l1a();});};c.prototype.g5b=function(v){return v.filter(this.$Lb.bind(this)).map(this.hFb);};c.prototype.$Lb=function(v){return this.is.fk(v[0]) && this.is.ep(v[1]) && this.is.fk(v[2]) && (this.is.fk(v[3]) || void 0 === v[3]) && (this.is.ep(v[4]) || void 0 === v[4])?!0:!1;};c.prototype.RDb=function(v){var w;w=this;return v.filter(function(y){return w.config().aDb.includes(y.code);});};c.prototype.SDb=function(v){return v.slice(-this.config().Ptb);};c.prototype.w2a=function(v){var w;w=this;return this.sOb().then(function(y){return w.g5b(y);}).then(function(y){return w.WDb(y);}).then(function(y){return y.concat(v);}).then(function(y){return w.RDb(y);}).then(function(y){return w.SDb(y);}).then(function(y){return w.$Yb(y);});};a=k=c;a=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(m.yw)),r.__param(1,(0,f.l)(d.Xa)),r.__param(2,(0,f.l)(l.cc)),r.__param(3,(0,f.l)(n.Wz)),r.__param(4,(0,f.l)(p.Fg)),r.__param(5,(0,f.l)(q.Zf))],a);b.Zza=a;},56003:function(r,b,a){var k;function c(f,h,d,g,m,l,n,p,q,u,t,v){this.code=void 0 === f?k.V.Lo:f;this.ec=h;this.Oc=d;this.Rm=g;this.Jy=m;this.message=l;this.details=n;this.data=p;this.Bj=q;this.sUb=u;this.alert=t;this.aha=v;this.ka=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Lc=void 0;k=a(68172);c.ve=function(f){var h,d,g;if(f){h=f.stack;d=f.number;g=f.message;g || (g="" + f);h?(f="" + h,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.qS=function(f){this.details=c.ve(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ec,extCode:this.Oc,edgeCode:this.Rm,mslCode:this.Jy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Bj,playbackServiceError:this.sUb};};c.Rla=function(f,h){return new c(f,k.R.ql,void 0,void 0,void 0,void 0,h.message,h.stack);};c.Ldb=function(f,h){return new c(f,h,void 0,void 0,void 0,void 0,void 0,void 0);};c.X5b=function(f,h,d){return new c(f,h,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Lc=c;},77300:function(r,b,a){var k,f,h,d;function c(g){return f.JO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;r=a(70655);k=a(54662);f=a(90187);h=a(86700);a=a(59578);ia(c,f.JO);Wa.Object.defineProperties(c.prototype,{Wcb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Nc,"usePerformanceApi")],d.prototype,"Wcb",null);d=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.gba))],d);b.mAa=d;},14600:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u){var t;t=this;this.config=n;this.xzb=p;this.Eb=q;this.performance=u;this.OSb=function(v){t.Yua=v.wa(t.ue);};(0,k.io)(this,"date");(0,k.io)(this,"performance");this.rrb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.Yua=f.Ia;this.Eb.addListener(l.eca.S9a,this.OSb);}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;r=a(70655);k=a(60920);f=a(2467);h=a(86700);d=a(63088);g=a(69716);m=a(1265);l=a(34202);c.prototype.$qb=function(n){return n.add(this.Yua);};Wa.Object.defineProperties(c.prototype,{ue:{configurable:!0,enumerable:!0,get:function(){return this.t4a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Lb)(this.xzb.now());}},xH:{configurable:!0,enumerable:!0,get:function(){return this.ue.add(this.Yua);}},t4a:{configurable:!0,enumerable:!0,get:function(){return this.config.Wcb && this.rrb;}}});a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.nAa)),r.__param(1,(0,h.l)(d.QAa)),r.__param(2,(0,h.l)(m.Mba)),r.__param(3,(0,h.l)(d.qda)),r.__param(3,(0,h.optional)())],a);b.oAa=a;},81454:function(r,b,a){var k,f,h,d;function c(g,m){this.is=g;this.Zd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;r=a(70655);f=a(86700);h=a(89542);a=a(89682);c.prototype.encode=function(g){var m,l;m=this;l="";this.Zd.hB(g,function(n,p){n=m.aWa(n) + "=" + m.aWa(p);l=l?l + ("," + n):n;});return l;};c.prototype.aWa=function(g){return this.is.gF(g)?this.is.fk(g)?"" + g:this.is.ep(g)?(g=g.replace(k.xta,this.Wpa.bind(this)),!k.xWb.test(g) && k.WQb.test(g) && (g='"' + g + '"'),g):this.is.w1(g)?"" + g:this.is.uga(g)?"NaN":"":"";};c.prototype.Wpa=function(g){return k.map[g];};d=k=c;d.map={'"':'""',"\r":"","\n":" "};d.xta=/(?!^.+)["\r\n](?=.+$)/g;d.xWb=/["].*["]/g;d.WQb=/[", ]/;d=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Zf)),r.__param(1,(0,f.l)(a.ph))],d);b.DAa=d;},33999:function(r,b,a){var k,f;function c(h,d){this.wc=h;this.V2=d;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;r=a(70655);k=a(86700);a=a(65428);c.prototype.Oj=function(h){this.uh();this.dj=this.wc.Pj(this.V2,h);};c.prototype.uh=function(){this.dj && this.dj.cancel();this.dj=void 0;};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Gi))],f);b.RAa=f;},52632:function(r,b,a){var k,f,h,d;function c(g){g=f.JO.call(this,g,"DebugConfigImpl") || this;g.Lbc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(70655);k=a(54662);f=a(90187);h=a(86700);a=a(59578);ia(c,f.JO);Wa.Object.defineProperties(c.prototype,{jtb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Nc,"breakOnError")],d.prototype,"jtb",null);d=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.gba))],d);b.SAa=d;},47202:function(r,b,a){var k,f,h,d;function c(g,m,l){this.config=g;this.wb=m;this.ja=l.Ta("General");}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;r=a(70655);k=a(86700);f=a(89542);h=a(78616);a=a(71163);c.prototype.assert=function(){};c.prototype.Qrb=function(g,m){this.assert(this.wb.gF(g),m);};c.prototype.Rrb=function(g,m){this.assert(this.wb.wg(g),m);};c.prototype.a2=function(g,m){this.assert(this.wb.ep(g),m);};c.prototype.Xrb=function(g,m){this.assert(this.wb.Cm(g),m);};c.prototype.Vrb=function(g,m){this.assert(this.wb.ep(g) || null === g || void 0 === g,m);};c.prototype.Z1=function(g,m){this.assert(this.wb.fk(g),m);};c.prototype.Trb=function(g,m){this.assert(this.wb.fha(g),m);};c.prototype.Wrb=function(g,m){this.assert(this.wb.zR(g),m);};c.prototype.Urb=function(g,m){this.assert(this.wb.iR(g),m);};c.prototype.Prb=function(g,m){this.assert(this.wb.w1(g),m);};c.prototype.Srb=function(g,m){this.assert(this.wb.y1(g),m);};c.prototype.PLb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.TAa)),r.__param(1,(0,k.l)(f.Zf)),r.__param(2,(0,k.l)(a.Xa))],d);b.VAa=d;},32265:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u){this.Fa=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;r=a(70655);f=a(86700);h=a(58998);d=a(56003);g=a(68172);m=a(34202);l=a(2467);n=a(50876);a=a(83577);c.prototype.ZUa=function(q){var u,t,v,w,y,x,A,z,B,C;u=this;w=q.mediaTime.value;y=q.Aq.value;x=q.mb.value;A=q.state.value;z={segmentId:q.Rma(),mediaTime:w,segmentTime:q.sB(),bufferingState:k.ytb[y],presentingState:k.zVb[x],playbackState:k.tUb[A],mseBuffersBusy:this.NIb(q),intBuffersBusy:this.iHb(q),tabVisible:this.g2b(),decodedFrameCount:this.Uzb(q),videoElementInDom:this.v5b(q),lastVideoSync:this.Fa.Fb().wa((0,l.Lb)(q.mX)).ba(l.na)};B=x === m.bb.Mf?q.Wa.dg?this.config.H5a:this.config.G5a:this.config.l4a;if(y !== m.yf.ae){if((y=g.R.cgb,this.DRa(z.mseBuffersBusy,z.intBuffersBusy)))C=k.gza;}else (x !== m.bb.me?y=g.R.egb:(y=g.R.dgb,(x=q.je) && 0 === x.F4() && (C=k.Ulb)),(x=q.je) && x.Rb.sourceBuffers.forEach(function(D){var F,G;F=k.fg[D.mediaType];z[F + "Ranges"]=D.x4();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - w,z[F + "Undecoded"]=D,1 < G.length && (C=k.Yeb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?C=k.Zeb:D < B.ba(l.na)?C=k.$eb:u.DRa(z.mseBuffersBusy,z.intBuffersBusy) && (C=k.gza)):(z[F + "Undecoded"]=0,C=k.Xeb);}));x=q.J8a.LZa();A=w === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);z.lastRepositionCausedTimeout=A;z.trackChangeInProgress=null === (v=q.$a) || void 0 === v?void 0:v.Dwa;Object.assign(z,x);q="";try{q=JSON.stringify(z);}catch(D){q="Cannot stringify details: " + D;}return new d.Lc(g.V.wHa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.NIb=function(q){var u;if(q.Rb){u={};q.Rb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.iHb=function(q){var u;if(q.Rb){u={};q.Rb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.wh()};});return u;}};c.prototype.g2b=function(){return !n.Og.hidden;};c.prototype.Uzb=function(q){return (q=q.je) && (q=q.Rb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.v5b=function(q){if(q=q.je)if(q=q.Rb.$)return n.Og.body.contains(q);return !1;};c.prototype.DRa=function(q,u){var t,v,w,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (v=u.audio) || void 0 === v?void 0:v.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=k=c;p.Xeb="1";p.Yeb="2";p.Zeb="3";p.gza="4";p.$eb="5";p.Ulb="6";p.fg=["Audio","Video"];p.ytb=["","NORMAL","BUFFERING","STALLED"];p.zVb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.tUb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Jc)),r.__param(1,(0,f.l)(a.Pca))],p);b.XAa=p;},56138:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;r=a(70655);k=a(86700);f=a(99423);c.prototype.TK=function(h,d){var g;g=this;h && Object.entries(d).forEach(function(m){var l,n,p;l=ma(m);m=l.next().value;l=l.next().value;if(g.bMb(l)){n=ma(l);l=n.next().value;p=n.next().value;n=h[l];Array.isArray(n)?(g.$ja(h,m,l),n.forEach(function(q){g.TK(q,p);})):l === f.oj?Object.values(h).forEach(function(q){g.TK(q,p);}):(g.$ja(h,m,l),"object" === typeof n && g.TK(n,p));}else g.$ja(h,m,l);});};c.prototype.bMb=function(h){return Array.isArray(h);};c.prototype.$ja=function(h,d,g){h.hasOwnProperty(d) || d === g || Object.defineProperty(h,d,{get:function(){return h[g];},set:function(m){return h[g]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,k.U)()],a);b.cCa=a;},62380:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bP=b.kCa=void 0;r=a(70655);k=a(661);a=a(86700);c.prototype.create=function(){return new k.Xj();};f=c;f=r.__decorate([(0,a.U)()],f);b.kCa=f;b.bP="EventSourceFactorySymbol";},661:function(r,b,a){var k,f;function c(){this.vp={};this.id="$es$" + k.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;r=a(70655);a=a(86700);c.prototype.addListener=function(h,d,g){var m,l;m="$netflix$player$order" + this.id + "$" + h;if(this.vp){l=this.vp[h]?this.vp[h].slice():[];g && (d[m]=g);0 > l.indexOf(d) && (l.push(d),l.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.vp[h]=l;}};c.prototype.removeListener=function(h,d){if(this.vp && this.vp[h]){for(var g=this.vp[h].slice(),m;0 <= (m=g.indexOf(d));){g.splice(m,1);}this.vp[h]=g;}};c.prototype.Cc=function(h,d,g){var m;if(this.vp){m=this.pma(h);for(h={mI:0};h.mI < m.length;(h={mI:h.mI},h.mI++)){g?(function(l){return function(){var n;n=m[l.mI];setTimeout(function(){n(d);},0);};})(h)():m[h.mI].call(this,d);}}};c.prototype.uh=function(){this.vp=void 0;};c.prototype.on=function(h,d,g){this.addListener(h,d,g);};c.prototype.pma=function(h){var d;return null !== (d=this.vp && (this.vp[h] || (this.vp[h]=[]))) && void 0 !== d?d:[];};f=k=c;f.counter=0;f=k=r.__decorate([(0,a.U)()],f);b.Xj=f;},10846:function(r,b,a){var k,f,h,d,g;function c(m,l){this.sa=m;this.random=l;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(70655);f=a(86700);h=a(2467);d=a(35664);a=a(16690);c.prototype.SA=function(){return this.sa.ue.ba(h.vm) * k.Tza + Math.floor(this.random.random() * k.Tza);};g=k=c;g.Tza=1E8;g=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.Fg)),r.__param(1,(0,f.l)(a.H_))],g);b.dEa=g;},133:function(r,b,a){var k;function c(f,h,d,g,m){this.version=f;this.UG=h;this.Yva=d;this.gl=g;this.St=m;this.yk=new k.eEa(f,h,d,g,m);this.Gl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cca=void 0;k=a(13717);c.prototype.load=function(f){var h;h=this;return this.yk.load(f).then(function(){var d;h.Gl=null !== (d=h.yk.Gl) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Gl.push(f);return this.yk.set(this.Gl);};c.prototype.remove=function(f,h){f=this.VXa(this.jL(f,h));return 0 <= f?(this.Gl.splice(f,1),this.yk.set(this.Gl)):Promise.resolve();};c.prototype.update=function(f,h){h=this.VXa(this.jL(f,h));return 0 <= h?(this.Gl[h]=f,this.yk.set(this.Gl)):Promise.resolve();};c.prototype.jL=function(f,h){for(var d=0;d < this.Gl.length;++d){if(h(this.Gl[d],f))return this.Gl[d];}};c.prototype.VXa=function(f){return f?this.Gl.indexOf(f):-1;};b.cca=c;},13717:function(r,b,a){var k,f;function c(h,d,g,m,l){this.version=h;this.UG=d;this.Yva=g;this.gl=m;this.St=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;k=a(68172);f=a(56003);c.prototype.load=function(h){return this.rOb(h);};c.prototype.set=function(h){this.Gl=h;return this.aUb();};c.prototype.rOb=function(h){var d;d=this;this.A2a || (this.A2a=new Promise(function(g,m){function l(n){d.tAb().then(function(){m(n);}).catch(function(){m(n);});}d.dna().then(function(n){d.storage=n;return d.storage.load(d.UG);}).then(function(n){var p;n=n.value;try{p=h(n);d.version=p.version;d.Gl=p.data;g();}catch(q){l(q);}}).catch(function(n){n.za !== k.R.Zw?m(n):g();});}));return this.A2a;};c.prototype.aUb=function(){var h,d,g,m,l;h=this;if(!this.Yva)return Promise.resolve();if(this.h$){m=new Promise(function(n,p){d=n;g=p;});l=function(){h.h$=m;h.vab().then(function(){d();}).catch(function(n){g(n);});};this.h$.then(l).catch(l);return m;}return this.h$=this.vab();};c.prototype.vab=function(){var h,d;h=this;d=this.St();return new Promise(function(g,m){h.dna().then(function(l){return l.save(h.UG,d,!1);}).then(function(){g();}).catch(function(l){m(c.V2b(k.V.bkb,l));});});};c.prototype.tAb=function(){var h;h=this;return this.Yva?new Promise(function(d,g){h.dna().then(function(m){return m.remove(h.UG);}).then(function(){d();}).catch(function(m){g(m);});}):Promise.resolve();};c.prototype.dna=function(){return this.storage?Promise.resolve(this.storage):this.gl.create();};c.V2b=function(h,d){var g;if(d.za && d.cause)return new f.Lc(h,d.za,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.ec){g=d.message?d.message + " ":"";d.code=h;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Lc(h,k.R.ql,void 0,void 0,void 0,void 0,d.stack,d):new f.Lc(h,k.R.Lo,void 0,void 0,void 0,void 0,void 0,d);};b.eEa=c;},36447:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.rD=void 0;c=/^\S+$/;a.prototype.gF=function(k){return void 0 !== k;};a.prototype.wg=function(k){return null !== k && void 0 !== k;};a.prototype.yR=function(k){return a.uQa(k);};a.prototype.vga=function(k){return !(!k || !a.uQa(k));};a.prototype.DA=function(k){return Array.isArray(k);};a.prototype.vQa=function(k){return !(!k || k.constructor != Uint8Array);};a.prototype.fk=function(k,f,h){return a.APa(k,f,h);};a.prototype.uga=function(k){return a.uga(k);};a.prototype.fha=function(k,f,h){return a.N1(k,f,h) && 0 === k % 1;};a.prototype.zR=function(k,f,h){return a.N1(k,f || 0,h);};a.prototype.iR=function(k){return a.N1(k,1);};a.prototype.Ppb=function(k){return a.N1(k,0,255);};a.prototype.Qpb=function(k){return k === +k && (0 === k || k !== (k | 0)) && !0;};a.prototype.wQa=function(k){return !(!k || !c.test(k));};a.prototype.ep=function(k){return a.BPa(k);};a.prototype.Cm=function(k){return !(!a.BPa(k) || !k);};a.prototype.w1=function(k){return !0 === k || !1 === k;};a.prototype.y1=function(k){return "function" == typeof k;};a.BPa=function(k){return "string" == typeof k;};a.APa=function(k,f,h){return "number" == typeof k && !isNaN(k) && isFinite(k) && (void 0 === f || k >= f) && (void 0 === h || k <= h);};a.uga=function(k){return "number" == typeof k && isNaN(k);};a.N1=function(k,f,h){return a.APa(k,f,h) && 0 === k % 1;};a.uQa=function(k){return "object" == typeof k;};b.rD=new a();},14414:function(r,b,a){var k,f,h;function c(d,g){this.Lu=g?[g]:[];this.vfa="$op$" + h++;this.Pa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Hb=void 0;k=a(7942);f=a(70633);h=0;c.prototype.addListener=function(d,g){var m;m=this;(0,f.Mja)(d);(0,f.oa)(0 > this.Lu.indexOf(d));d[k.q_ + this.vfa]=g;this.Lu=this.Lu.slice();this.Lu.push(d);this.Lu.sort(function(l,n){return m.I0b(l,n);});};c.prototype.removeListener=function(d){var g;(0,f.Mja)(d);this.Lu=this.Lu.slice();0 <= (g=this.Lu.indexOf(d)) && this.Lu.splice(g,1);};c.prototype.set=function(d,g){var m;if(this.Pa !== d){m={oldValue:this.Pa,newValue:d,Mh:g};this.Pa=d;this.Cmb=g;d=this.Lu;g=d.length;for(var l=0;l < g;l++){d[l](m);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(m){function l(n){if(d(n.newValue))return (g.removeListener(l),m(n.newValue));}if(d(g.Pa))return m(g.Pa);g.addListener(l);});};c.prototype.I0b=function(d,g){return (d[k.q_ + this.vfa] || 0) - (g[k.q_ + this.vfa] || 0);};Wa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Pa;}},Mh:{configurable:!0,enumerable:!0,get:function(){return this.Cmb;}}});b.Hb=c;},60196:function(r,b,a){var k;function c(f){this.HFb=f;this.p5=!1;this.B5=this.Xf=this.WN=0;this.TT=!1;this.C5=0;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;k=a(95919);c.prototype.Pga=function(f){f < this.WN && (this.Xf+=this.WN);this.WN=f;this.p5=!0;};c.prototype.tGb=function(){if(this.p5)return this.TT?this.C5 - this.B5:this.Xf + this.WN - this.B5;};c.prototype.refresh=function(){var f;f=this.HFb();(0,k.rb)(f) && this.Pga(f);};c.prototype.S0b=function(){this.TT || (this.p5 && (this.C5=this.Xf + this.WN),this.TT=!0);};c.prototype.h1b=function(){this.TT && (this.p5 && (this.B5+=this.Xf + this.WN - this.C5),this.C5=0,this.TT=!1);};b.jHa=c;},78479:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Zca=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Zca=a;},82328:function(r,b,a){var k;function c(f){this.ynb=void 0 === f?!1:f;this.Ve={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Mda=void 0;r=a(70655);a=a(86700);c.prototype.add=function(f,h){var d;h=void 0 === h?0:h;d=this.Ve[h];d?this.ynb && -1 !== d.indexOf(f) || d.push(f):this.Ve[h]=[f];};c.prototype.remove=function(f,h){this.tx(f,void 0 === h?0:h);};c.prototype.removeAll=function(f){this.tx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ve).sort().reduce(function(h,d){return h.concat(f.Ve[d]);},[]);};c.prototype.tx=function(f,h){Object.entries(this.Ve).forEach(function(d){var g,m;g=ma(d);d=g.next().value;g=g.next().value;if(void 0 === h || h === parseInt(d)){-1 < (m=g.indexOf(f)) && g.splice(m,1);}});};k=c;k=r.__decorate([(0,a.U)()],k);b.Mda=k;},86684:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SP=void 0;b.SP=function(){var a;a=this;this.promise=new Promise(function(c,k){a.resolve=c;a.reject=k;});};},10234:function(r,b,a){var k,f,h;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;r=a(70655);k=a(86700);f=a(65428);h=a(29853);c.prototype.Xp=function(d,g){var m;m=this;return new Promise(function(l,n){var p;p=m.wc.Pj(d,function(){n(new h.mq(d));});g.then(function(q){l(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Gi))],a);b.$Ja=a;},68903:function(r,b,a){var k,f;function c(h){this.f2b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(70655);k=a(86700);a=a(16690);c.prototype.random=function(){return this.f2b.random();};c.prototype.M7a=function(h,d){if("number" !== typeof h)(d=h.end,h=h.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(h + this.random() * (d - h));};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.HLa))],f);b.iKa=f;},39784:function(r,b){function a(c,k,f){if(null != f){if(0 < f(c,k))throw a.VTa(c,k);}else if(c.Lk && 0 < c.Lk(k))throw a.VTa(c,k);this.start=c;this.end=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Tda=void 0;a.VTa=function(c,k){return new RangeError("end [" + k + "] must be >= start [" + c + "]");};b.Tda=a;},19791:function(r,b,a){var f,h,d,g;function c(m){this.Ao=m;(0,h.io)(this,"timers");}function k(m,l){this.Ao=m;this.xub=l;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(70655);f=a(86700);h=a(60920);d=a(63088);g=a(2467);k.prototype.cancel=function(){this.xub(this.Ao);};c.prototype.Oj=function(m){return this.Pj(g.Ia,m);};c.prototype.Pj=function(m,l){var n;n=this.Ao.setTimeout(l,m.ba(g.na));return new k(this.Ao,function(p){p.clearTimeout(n);});};c.prototype.wN=function(m,l){var n;n=this.Ao.setInterval(l,m.ba(g.na));return new k(this.Ao,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.QMa))],a);b.MKa=a;},84540:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LD=void 0;r=a(70655);a=a(86700);c.prototype.format=function(f,h){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof g[l]?g[l]:m;});};c.prototype.Fab=function(f){for(var h=f.length,d=new Uint16Array(h),g=0;g < h;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.Iab=function(f){return JSON.stringify(f,null,"  ");};k=c;k=r.__decorate([(0,a.U)()],k);b.LD=k;},43766:function(r,b,a){var k,f,h,d;function c(g,m,l){var n;n=this;this.$f=g;this.wc=m;this.V2=l;this.DM=function(p){n.dj=void 0;n.z3b(p || n.V2);};this.T1a=(0,h.Lb)(-this.V2.ba(h.na));}Object.defineProperty(b,"__esModule",{value:!0});b.QLa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(2467);a=a(65428);c.prototype.Oj=function(g){this.Cua=g;this.dj=this.dj || this.Qf(this.DM);};c.prototype.uh=function(){this.dj && this.dj.cancel();this.dj=void 0;};c.prototype.z3b=function(g){var m,l;m=this.$f.Fb();if(this.Cua){l=g.wa(m.wa(this.T1a));0 >= l.Lk(h.Ia)?(g=this.Cua,this.Cua=void 0,this.T1a=m,g()):this.dj=this.dj || this.wc.Pj(l,this.DM.bind(this,g));}};c.prototype.Qf=function(g){return this.wc.Pj(h.Ia,g);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(a.Gi))],d);b.QLa=d;},14072:function(r,b,a){var k,f,h;function c(d,g,m){this.wc=d;this.wwa=g;this.xv=m;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;r=a(70655);k=a(65428);f=a(86700);h=a(2467);c.prototype.gB=function(){this.dj || (this.dj=this.wc.Pj((0,h.Lb)(this.wwa),this.xv));};c.prototype.bq=function(){this.dj && this.dj.cancel();this.dj=void 0;};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Gi))],a);b.aMa=a;},50430:function(r,b,a){var k,f,h,d;function c(g,m){this.Fa=g;this.entries=new Set();this.ja=m.Ta("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.rea=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(2467);a=a(71163);c.prototype.mark=function(g,m,l){g={name:g,Gr:this.Fa.Fb()};m && (g.la=m);l && (g.Gf=l);this.entries.add(g);return g;};c.prototype.Dma=function(){var g;g=[];this.entries.forEach(function(m){return g.push(m);});return g;};c.prototype.WYa=function(g){return this.Dma().filter(function(m){return m.la === g;});};c.prototype.DHb=function(){var g;g={};try{g=this.Dma().filter(function(m){return !m.la;}).reduce(function(m,l){m[l.name]=l.Gr.ba(h.na);return m;},{});}catch(m){this.ja.error(" getMapOfCommonMarks exception",m);}return g;};c.prototype.v8a=function(g){var m;m=this;this.Dma().forEach(function(l){l.la === g && m.entries.delete(l);});};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(a.Xa))],d);b.rea=d;},65275:function(r,b){function a(){this.searchParams={};}function c(k){this.kp=k;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;c.prototype.toString=function(){return this.href;};Wa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.kp + this.searchParams.toString();}}});b.tMa=c;a.prototype.get=function(k){return this.searchParams[k];};a.prototype.set=function(k,f){this.searchParams[k]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(k,f,h){var d;d=ma(f);f=d.next().value;d=d.next().value;return "" + k + (0 == h?"?":"&") + f + "=" + d;},"");};},73653:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;r=a(70655);a=a(86700);c.prototype.encode=function(h){return k.Fka(h);};c.prototype.decode=function(h){return k.Qja(h);};c.Fka=function(h){if(!h)throw new TypeError("Invalid byte array");for(var d=0,g,m=h.length,l="";d < m;){g=h[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (h[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((h[d++] & 63) << 6) + (h[d++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(g);}return l;};c.Qja=function(h){var d,g,m,l,n;d=h.length;g=0;l=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=h.charCodeAt(m);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(m=0;m < d;m++){n=h.charCodeAt(m);128 > n?g[l++]=n:(2048 > n?g[l++]=192 | n >>> 6:(g[l++]=224 | n >>> 12,g[l++]=128 | n >>> 6 & 63),g[l++]=128 | n & 63);}return g;};f=k=c;f=k=r.__decorate([(0,a.U)()],f);b.wMa=f;},67330:function(r,b,a){var k,f,h,d;function c(g,m){this.is=g;this.Si=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;r=a(70655);k=a(86700);a(68172);f=a(89542);h=a(5266);d=a(50876);c.prototype.fC=function(g,m,l){var n,p,q,u;n=this;if(m)if(l){p=l.JU;q=l.prefix;u=l.b8;this.hB(m,function(t,v){if(!u || n.is.wg(v))g[(q || "") + (p?t.toLowerCase():t)]=v;});}else this.hB(m,function(t,v){g[t]=v;});return g;};c.prototype.hB=function(g,m){for(var l in g){g.hasOwnProperty(l) && m(l,g[l]);}};c.prototype.PA=function(g,m){if(g.length == m.length){for(var l=g.length;l--;){if(g[l] != m[l])return !1;}return !0;}return !1;};c.prototype.vTa=function(g,m){if(g.length != m.length)return !1;g.sort();m.sort();for(var l=g.length;l--;){if(g[l] !== m[l])return !1;}return !0;};c.prototype.ve=function(g){var m,l,n;if(g){m=g.stack;l=g.number;n=g.message;n || (n="" + g);m?(g="" + m,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;l && (g+="\nnumber:" + l);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.gma=function(g){return this.getFunctionName(g.constructor);};c.prototype.jra=function(g){var m,l;m=this;l="";this.is.DA(g) || this.is.vQa(g)?l=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.ep(g)?l=g:this.hB(g,function(n,p){l+=(l?", ":"") + "{" + n + ": " + (m.is.y1(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.gma(g) + " " + l + "]";};c.prototype.createElement=function(g,m,l,n){var p;p=d.Og.createElement(g);m && (p.style.cssText=m);l && (p.innerHTML=l);n && this.hB(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.QDb=function(g,m){return function(l){return l[g] === m;};};c.prototype.JV=function(g){var m;m={};(g || "").split("&").forEach(function(l){var n,p;l=l.trim();n=l.indexOf("=");if(0 <= n){p=decodeURIComponent(l.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(l.substr(n + 1));}else m[l.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Zf)),r.__param(1,(0,k.l)(h.zw))],a);b.xMa=a;},23975:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.P2a=void 0;c=a(47795);k=a(6880);r=a(86700);f=a(33456);h=a(71163);d=a(19849);b.P2a=new r.Yc(function(g){g(h.Xa).to(k.uFa).da();g(f.JI).to(c.vFa).da();g(h.tca).to(d.jFa).da();});},71163:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YO=b.Xa=b.tca=b.jj=void 0;r=b.jj || (b.jj={});r[r.rhb=0]="FATAL";r[r.Eh=1]="ERROR";r[r.yea=2]="WARN";r[r.Zba=3]="INFO";r[r.LLa=4]="TRACE";r[r.K=5]="DEBUG";b.tca="LogFieldBuilderFactorySymbol";b.Xa="LoggerFactorySymbol";b.YO={};},33456:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JI="LoggerSinksSymbol";},97649:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vca=void 0;b.vca=a;a.igb="display";a.Pfb="console";},24217:function(r,b,a){var k,f;function c(h,d,g,m,l,n,p){this.level=h;this.Ln=d;this.timestamp=g;this.message=m;this.Hc=l;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;k=a(2467);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.x$=function(h,d){h=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.A1b(!!h));return (this.timestamp.ba(k.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Ln + "| " + h;};c.prototype.A1b=function(h){var l;for(var d=this.Hc.length,g="",m=0;m < d;++m){l=this.Hc[m].Gt;m && g.length && (g+=" ");if("object" === typeof l){if(null === l)g+="null";else if(l instanceof Error)g+=this.z1b(l,h);else try{g+=JSON.stringify(l);}catch(n){g+=this.y1b(l);}}else g+=l;}return g;};c.prototype.z1b=function(h,d){return h.toString() + (h.stack && !d?"\n" + h.stack:"") + "\n";};c.prototype.y1b=function(h){var d;d=[];return JSON.stringify(h,function(g,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.Gya=c;},15393:function(r,b,a){var k,f;function c(h,d,g,m,l,n){h=k.II.call(this,h,d,g,m) || this;h.groups=l;Array.isArray(n)?h.prefix=n:n && "string" === typeof n && (h.prefix=[],h.prefix.push(n));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;k=a(12736);f=a(24217);ia(c,k.II);c.prototype.wA=function(h,d,g){h=new f.Gya(h,this.Ln,this.Fa.Fb(),d,g,this.prefix);d=ma(this.ln.ln);for(g=d.next();!g.done;g=d.next()){g=g.value;g(h);}};c.prototype.Z2=function(h){return new c(this.Fa,this.v2,this.ln,h,this.groups,this.prefix);};b.Hya=c;},64565:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;b.MRa=function(a,c){var f;a=a.xHb();for(var k=0;k < c.length;++k){f=c[k];void 0 != f && null != f && (f.zg && (f=f.zg),f.constructor === Uint8Array?a.Pqb(f):"MediaRequest" === f.constructor.name?a.Bqb(f):"string" === typeof f?a.Mqb(f):"function" === typeof f?a.vqb(f):f instanceof Error?a.uqb(f):f instanceof Object && "function" === typeof f.toJSON?a.$Pa(f.toJSON()):f instanceof Object?a.$Pa(f):a.Rqb(f));}return a.Lh();};},77627:function(r,b,a){var k;function c(f,h,d,g,m,l){this.level=f;this.Ln=h;this.timestamp=d;this.message=g;this.Hc=m;this.index=void 0 === l?0:l;this.Bib={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.sca=void 0;k=a(2467);c.prototype.x$=function(f,h){var d;d="" + this.message;this.Hc.forEach(function(g){d+=g.VH(f,h);});return (this.timestamp.ba(k.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Bib[this.level] || this.level) + "|" + this.Ln + "| " + d;};b.sca=c;},19849:function(r,b,a){var k,f,h,d;function c(g,m){this.jc=g;this.Zd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;r=a(70655);k=a(86700);f=a(5190);h=a(31224);a=a(89682);c.prototype.xHb=function(){return new f.kFa(this.jc,this.Zd);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.kh)),r.__param(1,(0,k.l)(a.ph))],d);b.jFa=d;},5190:function(r,b,a){var p,q,u;function c(t,v){this.jc=t;this.Zd=v;this.Hc=[];}function k(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function f(t){return n.call(this,t,function(v){return JSON.parse(v.toJSON());}) || this;}function h(t,v){v=n.call(this,v,function(w){return {Base64:t.encode(w)};}) || this;v.jc=t;return v;}function d(t,v){v=n.call(this,v,function(w){return w();}) || this;v.Zd=t;return v;}function g(t){return n.call(this,t,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function m(t,v,w){v=n.call(this,v,w) || this;v.Zd=t;return v;}function l(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function n(t,v){this.Gt=t;this.value=v?v(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;r=a(70655);p=a(86700);q=a(89682);a=a(31224);n.prototype.KS=function(t){return this.Gt === t;};ia(l,n);l.prototype.VH=function(t,v){return v?"":"\r\n" + this.Gt;};ia(m,n);m.prototype.VH=function(){var t;t="";this.Zd.hB(this.value,function(v,w){try{t+=", " + v + ": " + w;}catch(y){try{t+=", " + v + ": " + JSON.stringify(w);}catch(x){t+=", error stringifying " + v;}}});return t.replace(/[\r\n]+ */g," ");};ia(g,n);g.prototype.VH=function(t){var v;v="\r\n" + this.Gt.message;t || (v+="\r\n" + this.Gt.stack);return v;};ia(d,n);d.prototype.VH=function(){var t;t="";this.Zd.hB(this.value,function(v,w){t+=", " + v + ": " + w;});return t.replace(/[\r\n]+ */g," ");};ia(h,n);h.prototype.VH=function(t,v){return this.Gt && !v?"\r\n" + this.jc.encode(this.Gt):"";};ia(f,n);f.prototype.VH=function(){return this.Gt?this.Gt.toJSON():"";};ia(k,n);k.prototype.VH=function(){return ", " + (this.Gt.toString?"" + this.Gt.toString():"");};c.prototype.Mqb=function(t){this.Hc.push(new l(t));};c.prototype.$Pa=function(t){this.Hc.push(new m(this.Zd,t));};c.prototype.uqb=function(t){this.Hc.push(new g(t));};c.prototype.vqb=function(t){this.Hc.push(new d(this.Zd,t));};c.prototype.Pqb=function(t){this.Hc.push(new h(this.jc,t));};c.prototype.Bqb=function(t){this.Hc.push(new f(t));};c.prototype.Rqb=function(t){this.Hc.push(new k(t));};c.prototype.Lh=function(){return this.Hc;};u=c;u=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.kh)),r.__param(1,(0,p.l)(q.ph))],u);b.kFa=u;},6880:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q){this.Fa=n;this.ln=p;this.Bpa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;r=a(70655);k=a(12736);f=a(86700);h=a(5195);d=a(58998);g=a(33456);m=a(71163);l=a(15393);c.prototype.Ta=function(n,p,q,u,t){q=void 0 === q?this.ln:q;return p?new h.bJa(this.Fa,this.Bpa,q,p,n):t?new l.Hya(this.Fa,this.Bpa,q,n,u || "",t):new k.II(this.Fa,this.Bpa,q,n);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.Jc)),r.__param(1,(0,f.l)(g.JI)),r.__param(2,(0,f.l)(m.tca))],a);b.uFa=a;},12736:function(r,b,a){var k,f,h;function c(d,g,m,l){this.Fa=d;this.v2=g;this.ln=m;this.Ln=void 0 === l?"General":l;this.Wia={};}Object.defineProperty(b,"__esModule",{value:!0});b.II=void 0;k=a(71163);f=a(77627);h=a(64565);c.prototype.OPa=function(d,g){this.Wia[d]=g;};c.prototype.fatal=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wA(k.jj.rhb,d,this.pO(d,m));};c.prototype.error=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wA(k.jj.Eh,d,this.pO(d,m));};c.prototype.warn=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wA(k.jj.yea,d,this.pO(d,m));};c.prototype.info=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wA(k.jj.Zba,d,this.pO(d,m));};c.prototype.trace=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wA(k.jj.LLa,d,this.pO(d,m));};c.prototype.debug=function(d,g){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,g){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.debug.apply(this,[d].concat(da(m)));};c.prototype.write=function(d,g,m){for(var l=[],n=2;n < arguments.length;++n){l[n - 2]=arguments[n];}this.wA(d,g,this.pO(g,l));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Ln};};c.prototype.Z2=function(d){return new c(this.Fa,this.v2,this.ln,d);};c.prototype.wA=function(d,g,m){d=new f.sca(d,this.Ln,this.Fa.Fb(),g,m);g=ma(this.ln.ln);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d);}};c.prototype.oGb=function(d){return 0 < Object.keys(this.Wia).length?[this.Wia].concat(da(d)):d;};c.prototype.pO=function(d,g){var m;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,h.MRa)(this.v2,this.oGb(g));};b.II=c;},47795:function(r,b,a){var k;function c(){this.R$a={};this.ln=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;r=a(70655);a=a(86700);c.prototype.X8=function(f,h){h && (this.R$a[f]=h,this.ln=Object.values(this.R$a));};k=c;k=r.__decorate([(0,a.U)()],k);b.vFa=k;},5195:function(r,b,a){var k,f,h;function c(d,g,m,l,n){d=h.II.call(this,d,g,m,n) || this;d.j=l;(0,k.io)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;k=a(60920);f=a(77627);h=a(12736);ia(c,h.II);c.prototype.Z2=function(d){return new c(this.Fa,this.v2,this.ln,this.j,d);};c.prototype.wA=function(d,g,m){d=new f.sca(d,this.Ln,this.Fa.Fb(),g,m,this.j.index);g=ma(this.ln.ln);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d,this.j);}};b.bJa=c;},26620:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.p4a=void 0;r=a(86700);c=a(18862);k=a(95428);b.p4a=new r.Yc(function(f){f(c.AGa).to(k.zGa).da();});},18862:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AGa="MomentObserverFactory";},95428:function(r,b,a){var k,f,h;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;r=a(70655);k=a(86700);f=a(86815);a=a(65428);c.prototype.PTa=function(d,g){return new f.BGa(this.wc,d,g);};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Gi))],h);b.zGa=h;},86815:function(r,b){function a(c,k,f){this.wc=c;this.config=k;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;a.prototype.observe=function(c,k){var f;f=this;this.cancel();this.dj=this.wc.wN(this.config.sZa(),function(){f.getTime() >= c && (f.cancel(),k());});};a.prototype.cancel=function(){this.dj && (this.dj.cancel(),this.dj=void 0);};b.BGa=a;},40152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZOb=b.gM=b.XOb=void 0;b.XOb=function(a){return a;};b.gM=function(a){return a;};b.ZOb=function(a){return Object.assign({},a);};},8436:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.L=void 0;r=a(86700);c=a(89895);k=a(8197);f=a(13477);h=a(9889);d=a(8988);g=a(17003);b.L=new r.Yc(function(m){m(c.bea).to(f.XKa).da();m(k.TKa).to(h.SKa).da();m(d.dMa).to(g.cMa).da();});},8197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="SegmentConfigFactorySymbol";},89895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bea="SegmentManagerFactorySymbol";},8988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dMa="TransitionLoggerSymbol";},61115:function(r,b,a){var h,d,g,m,l;function c(n,p,q,u,t,v){var w;w=this;this.Y=p;this.j=q;this.sM=u;this.wc=t;this.YJ=v;this.lK=function(){w.mC && (w.mC.cancel(),w.mC=void 0);};this.log=n.Ta("SegmentManager",this.j);this.L=new Map();this.j.Wa.dg && (this.j.addEventListener(g.ea.tH,function(y){return w.Nv(y);}),this.j.addEventListener(g.ea.closed,this.lK));}function k(n,p){this.id=n;this.Gia=p;}function f(n,p,q,u){return d.Lc.call(this,n,q,void 0,void 0,void 0,p,void 0,u) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;h=a(68172);d=a(56003);g=a(34202);m=a(2467);l=a(37986);ia(f,d.Lc);f.prototype.toString=function(){return this.code + "-" + this.ec + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.va,contentEndPts:this.ta};};Wa.Object.defineProperties(k.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.Gia.startTimeMs;}},ta:{configurable:!0,enumerable:!0,get:function(){return this.Gia.endTimeMs;}},Ky:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Gia.next);}}});c.prototype.Nv=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.L.size && Object.entries(this.j.hT()).forEach(function(q){var u;u=ma(q);q=u.next().value;u=u.next().value;p.L.set(q,new k(q,u));});this.aa=this.L.get(n);};c.prototype.play=function(n){this.aN && (this.aN=void 0);this.lK();this.log.trace("Playing segment",n);return this.c1a(n)?this.pUb(n):this.NV(n);};c.prototype.$M=function(n){this.log.trace("Queueing segment",n);return this.c1a(n)?this.uWb(n):this.vWb(n);};c.prototype.hj=function(n,p){var q,u;q=this;u=this.j.$a;if(null === u || void 0 === u || !u.Ih)return Promise.reject(this.getError(h.V.fza,"ASE session manager is not yet initialized",h.R.Paa,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(t,v){try{u.d4b(n,p);q.j.fireEvent(g.ea.Ywa,{I:n,F4b:p});t();}catch(w){v(q.getError(h.V.fza,"updateNextSegmentWeights threw an exception",h.R.Veb,{segmentId:n,updates:p,error:w}));}});};c.prototype.c1a=function(n){return this.aa?void 0 !== this.j.hT()[this.aa.id].next[n]:!1;};c.prototype.Uma=function(){var n;n=this.j.$a;if(null === n || void 0 === n?0:n.Ih)return n.Zn().xUb;};c.prototype.oIb=function(){var n;n=this.j.$a;if(null === n || void 0 === n?0:n.Ih)return n.Zn().id;};c.prototype.lGb=function(){var n;n=this.j.$a;if(null === n || void 0 === n?0:n.Ih)return (n={Vha:0},n.Vha);};c.prototype.pUb=function(n){var p,q;p=this;q=this.j.$a;return null !== q && void 0 !== q && q.Ih?this.aa && 1 === this.aa.Ky.length?this.NV(n):this.j.je?void 0 === this.lGb()?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.NV(n)):new Promise(function(u,t){var A,z,B,C,D,F;function v(){!B && z && A && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:z,repositioned:A,completed:B}),q.C2(n,!1)?(u(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.NV(n).then(u).catch(t)));}function w(){A=!0;p.log.trace("Player is repositioned",{id:n,stopped:z,repositioned:A,completed:B});p.j.removeEventListener(g.ea.Hj,w);v();}function y(){p.j.removeEventListener(g.ea.EC,y);q.stop();}function x(){z=!0;p.log.trace("ASE is stopped",{id:n,stopped:z,repositioned:A,completed:B});q.removeEventListener("stop",x);v();}A=!1;z=!1;B=!1;C=p.L.get(n);D=p.Uma();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.NV(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.aa,nextSegment:C},null,"  "));p.j.fireEvent(g.ea.B7,{th:p.aa && p.aa.id,wM:n});q.addEventListener("stop",x);p.j.addEventListener(g.ea.EC,y);p.j.addEventListener(g.ea.Hj,w);F=p.wc.Pj((0,m.Bh)(10),function(){B=!0;F.cancel();t(p.getError(h.V.HO,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.R.Reb,{id:n,stopped:z,repositioned:A,completed:B}));});p.Y.seek(D,g.Vc.ZI);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(h.V.HO,"MediaPresenter is not initialized",h.R.Seb,{id:n}))):Promise.reject(this.getError(h.V.HO,"ASE session manager is not yet initialized",h.R.Paa,{id:n}));};c.prototype.NV=function(n){var p;p=this.L.get(n);return p?this.EW(p,h.V.HO):Promise.reject(this.getError(h.V.HO,"Unable to find the separated segment",h.R.eza,{id:n}));};c.prototype.uWb=function(n){var p;p=this.j.$a;if(null === p || void 0 === p || !p.Ih)return Promise.reject(this.getError(h.V.IO,"ASE session manager is not yet initialized",h.R.Paa,{id:n}));this.j.fireEvent(g.ea.B7,{th:this.aa && this.aa.id,wM:n});if(p.C2(n,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.QUa(n);};c.prototype.vWb=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.O,srcsegment:this.oIb()});return this.QUa(n);};c.prototype.QUa=function(n){var p,q;p=this;if(this.aN)return Promise.reject(this.getError(h.V.IO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",h.R.Ueb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.aN.id,failedSegment:n}));if(!this.aa)return Promise.reject(this.getError(h.V.IO,"Unable to queue segment for delayed seek because there is no currently playing segment",h.R.Qeb,{nextSegmentid:n}));q=this.L.get(n);if(!q)return Promise.reject(this.getError(h.V.IO,"Unable to find the separated segment",h.R.eza,{nextSegmentid:n,currentSegmentId:this.aa.id}));this.aN={id:n,promise:new Promise(function(u,t){var v;p.mC=p.sM.PTa({sZa:function(){return (0,m.Lb)(100);}},function(){return p.Y.Rq() || 0;});v=p.Uma() - l.config.m4a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:v});p.mC.observe(v,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.aa.id,playerEndPts:p.Uma(),pts:v});p.aN=void 0;p.lK();p.EW(q,h.V.IO).then(u).catch(t);});})};this.aN.promise.catch(function(u){p.j.kd(u.code,u);});return Promise.resolve();};c.prototype.EW=function(n,p){var q;q=this;return new Promise(function(u,t){var v;try{v=n.va;!1;q.Y.seek(v,g.Vc.Yw);u();}catch(w){t(q.getError(p,"Seek threw an exception",h.R.Teb,{id:n.id,error:w}));}});};c.prototype.getError=function(n,p,q,u){this.log.warn(p,u);return new f(n,p,q,u);};b.xza=c;},9889:function(r,b,a){var f,h;function c(){}function k(d,g,m,l,n){this.debug=d;this.version=g;this.iNb=m;this.mUb=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(70655);f=a(86700);h=a(2467);k.prototype.$Gb=function(){return this.config().YF;};k.prototype.cma=function(){return this.config().zRa;};k.prototype.sZa=function(){return (0,h.Lb)(this.config().OUb);};k.prototype.SYa=function(){return this.config().wOb;};k.prototype.VYa=function(){return this.config().jPb;};c.prototype.HF=function(d,g,m,l,n){return new k(d,g,m,l,n);};a=c;a=r.__decorate([(0,f.U)()],a);b.SKa=a;},13477:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v;function c(w,y,x,A,z,B,C,D,F,G){this.Fa=w;this.If=y;this.sM=x;this.sxa=A;this.OV=z;this.wc=B;this.YJ=C;this.zh=D;this.Yka=F;this.Dh=G;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(71163);d=a(18862);g=a(97636);m=a(8715);l=a(63034);n=a(88050);p=a(61115);q=a(5690);u=a(65428);t=a(62380);a=a(89682);c.prototype.Hyb=function(w,y,x){return new n.YKa(this.Fa,this.If,this.sM,this.sxa,y,w,this.zh,this.OV,this.Dh,this.Yka,x);};c.prototype.eyb=function(w,y){return new p.xza(this.If,w,y,this.sM,this.wc,this.YJ);};v=c;v=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(h.Xa)),r.__param(2,(0,k.l)(d.AGa)),r.__param(3,(0,k.l)(l.FMa)),r.__param(4,(0,k.l)(m.YIa)),r.__param(5,(0,k.l)(u.Gi)),r.__param(6,(0,k.l)(q.EO)),r.__param(7,(0,k.l)(g.PP)),r.__param(8,(0,k.l)(t.bP)),r.__param(9,(0,k.l)(a.ph))],v);b.XKa=v;},88050:function(r,b,a){var d,g,m;function c(l,n,p,q,u,t,v,w,y,x,A){var z;z=this;this.Fa=l;this.sM=p;this.wsa=q;this.config=u;this.ib=t;this.zh=v;this.OV=w;this.Dh=y;this.Wj=A;this.hDb=Object.values(d.Ja).map(function(B){return {event:B,xv:function(C){return z.Eb.Cc(B,C);}};});this.Eb=x.create();this.AC=[];this.log=n.Ta("SegmentManager");this.yF=!0;this.xk=this.Dh.createElement("div",m.Sda);}function k(l,n,p,q,u,t,v,w,y,x,A){var z;z=this;this.log=l;this.config=n;this.SRb=p;this.wsa=q;this.zh=u;this.OV=t;this.Jt=v;this.u=w;this.xk=y;this.ib=x;this.Wj=A;this.lK=function(){z.mC && (z.mC.cancel(),z.mC=void 0);};this.wna=function(B){z.log.trace("Received the transition event",{movieId:B.O});z.GWb();};this.upa=function(){};this.log.debug("Constructing session data",f(w));this.Q2b=new Promise(function(B){z.GWb=B;});}function f(l){return {movieId:l.O};}function h(l){return JSON.stringify({movieId:l.O,startPts:l.ab,logicalEnd:l.$i,params:l.qb?{trackingId:l.qb.Uj,authParams:l.qb.j2,sessionParams:l.qb.dm,disableTrackStickiness:l.qb.ika,uiPlayStartTime:l.qb.VC,loadImmediately:l.qb.H6,playbackState:l.qb.playbackState?{currentTime:l.qb.playbackState.currentTime,volume:l.qb.playbackState.volume,muted:l.qb.playbackState.muted,playbackRate:l.qb.playbackState.playbackRate}:void 0,pin:l.qb.u6a,heartbeatCooldown:l.qb.Hna,uiLabel:l.qb.ud,uxLabels:l.qb.N$}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;d=a(34202);g=a(2467);m=a(7942);k.prototype.load=function(l){var n,p;n=this;this.log.trace("Loading new segment",f(this.u));this.Y=this.wsa.vK(this.config,this.OV,this.zh,this.u,this.ib,this.Wj);this.Y.addEventListener(d.Ja.GL,function(q){n.log.trace("Segment is inactive",f(n.u));n.Jt.close(n.zh(q.errorCode));});this.Y.addEventListener(d.Ja.closed,this.lK);if(l)(this.log.debug("Pausing background segment",f(this.u)),this.Y.addEventListener(d.Ja.Qoa,this.wna),this.Y.m6a());else {this.xk.appendChild(this.Y.Vm());p=function(q){n.wna(q);n.Y.removeEventListener(d.Ja.loaded,p);};this.Y.addEventListener(d.Ja.loaded,p);}};k.prototype.observe=function(){var l,n,p;l=this;this.log.trace("Observing segment",h(this.u));if(this.mC)this.log.trace("Segment is currently observing",f(this.u));else if(this.u.qb && this.u.qb.H6)this.upa(this);else {n=this.SRb.PTa(this.config,function(){var q;if(l.Y){q=l.Y.Rq();if(q)return q;}return 0;});p=this.Ztb(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){l.log.trace("Segment has reached its loading point",f(l.u));l.upa(l);l.lK();});}};k.prototype.close=function(l){this.log.info("Closing segment",{segment:h(this.u),error:l});return this.Y?(this.Y.removeEventListener(d.Ja.Qoa,this.wna),this.Y.close(l)):Promise.resolve();};k.prototype.RSb=function(l){this.upa=l;};k.prototype.Ztb=function(l){var n,p;n=l.$i;l=l.qb?l.qb.H6:!1;p=0;n && !l && (p=n - this.config.SYa(),p < this.config.VYa() && (l=n - this.config.VYa(),p=n - l / 2));return p;};c.prototype.wIb=function(){return this.Rg && this.Rg.Y?this.Rg.Y.isReady():!1;};c.prototype.Vm=function(){return this.xk;};c.prototype.PF=function(){if(!this.Rg || !this.Rg.Y)throw Error("Player not ready");return this.Rg.Y;};c.prototype.u4b=function(l){var n,p;p=this.sla(l);p?this.Dcb(p,l):this.ib.Pd(l.id) || this.log.error("Tried to update a non-existent segment",{segment:h(l),currentMovieId:this.Rg.u.O,queuedMovieIds:this.AC.map(function(q){return q.u.O;}),xid:null === (n=this.Rg.Y) || void 0 === n?void 0:n.Ys()});};c.prototype.Df=function(l){var n;this.log.info("Adding segment",h(l));if(this.yF){this.log.trace("First segment, loading",f(l));n=this.B2a(l);this.yF=!1;}else (this.log.trace("Subsequent segment, caching",f(l)),(n=this.sla(l))?this.Dcb(n,l):(n=this.createSession(l),this.AC.push(n),this.Rg.observe()));return n?n.Q2b:null;};c.prototype.transition=function(l,n){var p,q,u;q=this.KG;u=null === q || void 0 === q?void 0:q.Y;if(q && u)return (this.KG=void 0,this.log.info("Transitioning segment",h(q.u)),u.rva(this.Fa.Fb().ba(g.na)),this.Qbb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Rg.u.O,xid:null === (p=this.Rg.Y) || void 0 === p?void 0:p.Ys(),nextSegmentId:l,currentSegment:h(this.Rg.u),nextSegment:n?h(n):void 0,queuedMovieIds:this.AC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(l){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Rg.u)),nextSession:this.KG?JSON.stringify(f(this.KG.u)):void 0});l=[this.Rg.close(l)];this.KG && l.push(this.KG.close());return Promise.all(l).then(function(){n.KG=void 0;n.AC=[];n.yF=!0;});};c.prototype.addListener=function(l,n,p){this.Eb.addListener(l,n,p);};c.prototype.removeListener=function(l,n){this.Eb.removeListener(l,n);};c.prototype.Dcb=function(l,n){this.rTb(l.u,n);this.log.trace("Overwrote existing segment data",h(l.u));};c.prototype.B2a=function(l){var n,p;n=this;this.log.info("Loading the next episode",f(l));if(this.Rg){this.config.cma()[l.O]=l.ab;p=this.sla(l);}else p=this.createSession(l);if(p)return (this.log.trace("Found the next session",f(l)),p.RSb(function(q){n.sbb(q);}),this.Rg?(this.log.trace("Subsequent playback, caching player and pausing",f(l)),this.KG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(l)),p.load(!1),this.Qbb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(l));};c.prototype.Qbb=function(l,n){var p,q,u,t,v;n=void 0 === n?{}:n;t=l.Y?null === (p=l.Y) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=l.Y) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Rg.u.O,mid:l.u.O,error:t,xid:null === (u=l.Y) || void 0 === u?void 0:u.Ys()}),Promise.reject());this.log.trace("Playing episode",f(l.u));p=this.Rg;this.Rg=l;l=this.Rg.Y;l.bva(!1);this.lI(l,p?p.Y:void 0);if(p && p.Y){v=p.Y.Vm();q=l.Vm();v.style.display="none";p=p.close();this.xk.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";l.I$(n);l.LN();l.play();}return Promise.resolve();};c.prototype.sbb=function(l){var n,p,q,u,t;if(this.AC.length && l.Y){n=l.Y.Rq();p=this.AC[0];q=this.Rg.u.$i;u=this.Rg.u.qb?this.Rg.u.qb.H6:!1;if(q || u){u?t=0:q && (t=q - this.config.SYa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",f(p.u)),this.B2a(p.u),this.AC.splice(0,1),this.sbb(l));}}};c.prototype.sla=function(l){return this.Rg.u.O === l.O?this.Rg:this.AC.find(function(n){return n.u.O === l.O;});};c.prototype.rTb=function(l,n){l.ab=n.ab || l.ab;l.$i=n.$i || l.$i;l.qb=n.qb || l.qb;l.W=n.W || l.W;};c.prototype.createSession=function(l){return new k(this.log,this.config,this.sM,this.wsa,this.zh,this.OV,this,l,this.xk,this.ib,this.Wj);};c.prototype.lI=function(l,n){this.hDb.forEach(function(p){n && n.removeEventListener(p.event,p.xv);l.addEventListener(p.event,p.xv);});this.Eb.Cc(d.HD.IW);};b.YKa=c;},17003:function(r,b,a){var k,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;r=a(70655);k=a(86700);f=a(17244);h=a(30818);c.prototype.dWb=function(d,g,m,l){this.config().JZb && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (m={isBranching:l || void 0,isPlaygraph:!l || void 0,mid:g.O,xid:g.la,srcxid:m.la,srcmid:m.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!l && d.auxMid && d.auxMid !== g.O && (m.moffms=(0,h.cg)(g.iS)),g.dM.cb.transition(m)));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.cc))],a);b.cMa=a;},5690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EO=b.Jeb=b.yaa=b.zaa=void 0;(function(a){a[a.sVa=0]="downloading";a[a.sBb=1]="downloaded";a[a.rd=2]="appended";a[a.buffered=3]="buffered";a[a.hN=4]="removed";a[a.jgc=5]="unused";})(b.zaa || (b.zaa={}));(function(a){a[a.waiting=1]="waiting";a[a.Bec=2]="ondeck";a[a.sVa=4]="downloading";a[a.sBb=8]="downloaded";a[a.$T=6]="inprogress";})(b.yaa || (b.yaa={}));b.Jeb="AseBufferViewSymbol";b.EO="AseBufferAccountingSymbol";},7282:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.hb.get(f.BBa);t.qa().then(function(){q(t);}).catch(function(v){u(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.wVa=void 0;r=a(86700);k=a(90029);f=a(3784);h=a(30796);d=a(5690);g=a(42338);m=a(32522);l=a(7636);n=a(2977);b.wVa=new r.Yc(function(p){p(m.hFa).to(l.gFa).da();p(k.yBa).to(n.iFa);p(d.EO).to(g.Aya).da();p(f.BBa).to(h.zBa).da();p(f.ABa).yX(c);});},90029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yBa="DxDisplaySymbol";},3784:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BBa="DxManagerSymbol";b.ABa="DxManagerProviderSymbol";},32522:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="LogDisplayConfigSymbol";},42338:function(r,b,a){var k,f;function c(){this.Nua="";this.ydb=[[],[],[]];this.La=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;r=a(70655);k=a(86700);a(2467);f=a(5690);c.prototype.downloadRequest=function(h){var d;"" === this.Nua && (this.Nua=h.I);if(!h.Hd){d=this.S2b(h);this.La[h.mediaType].push(d);this.ydb[h.mediaType].forEach(function(g){g.Mac(d);});}};c.prototype.S2b=function(h){return {id:h.Tg(),I:h.I,mediaType:h.mediaType,pp:h.pp,startTime:h.gH,endTime:h.Wy,offset:h.eW,gK:h.gK,eK:h.eK,duration:h.bB,bitrate:h.bitrate,state:f.zaa.sVa,Ah:!1,pdc:!1,n_a:!1,dcc:f.yaa.waiting};};c.prototype.update=function(h){this.ydb[h.mediaType].forEach(function(d){d.kgc(h);});};Wa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.Nua;}}});a=c;a=r.__decorate([(0,k.U)()],a);b.Aya=a;},21770:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;k=a(50876);c.xwb=function(f){var h;if(k.Og.queryCommandSupported && k.Og.queryCommandSupported("copy")){h=k.Og.createElement("textarea");h.textContent=f;h.style.position="fixed";k.Og.body.appendChild(h);h.select();try{k.Og.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{k.Og.body.removeChild(h);}}};b.lAa=c;},30796:function(r,b,a){var k,f;function c(h){this.cBb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;r=a(70655);k=a(86700);a=a(90029);c.prototype.qa=function(){var h;h=this;this.FB || (this.FB=new Promise(function(d,g){var m;m=[];h.cBb.forEach(function(l){m.push(l.qa());});Promise.all(m).then(function(){d();}).catch(function(l){g(l);});}));return this.FB;};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.IG)(a.yBa))],f);b.zBa=f;},7636:function(r,b,a){var k,f,h,d,g;function c(m,l){m=h.Qe.call(this,m,"LogDisplayConfigImpl") || this;m.lf=l;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(70655);k=a(86700);f=a(54662);h=a(90187);d=a(59578);a=a(65350);ia(c,h.Qe);Wa.Object.defineProperties(c.prototype,{mW:{configurable:!0,enumerable:!0,get:function(){return !0;}},cM:{configurable:!0,enumerable:!0,get:function(){return this.lf.cM;}},M2a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.Nc,"renderDomDiagnostics")],g.prototype,"mW",null);r.__decorate([f.config(f.IB,"logDisplayMaxEntryCount")],g.prototype,"cM",null);r.__decorate([f.config(f.IB,"logDisplayAutoshowLevel")],g.prototype,"M2a",null);g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.xl)),r.__param(1,(0,k.l)(a.ED))],g);b.gFa=g;},2977:function(r,b,a){var h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z;function c(B,C,D,F,G,E,J,K,N,I){var O;O=this;this.sa=B;this.$f=C;this.Dh=D;this.wc=F;this.ln=G;this.config=E;this.jF=J;this.owa=K;this.Lja=N;this.gl=I;this.x2b=function(){O.JX.Oj(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.e4a=function(){O.xe.RL=!O.xe.RL;O.aC && O.dC && (O.xe.RL?(O.aC.style.display="inline-block",O.dC.style.display="none"):(O.dC.style.display="inline-block",O.aC.style.display="none"));O.BH(!1);};this.JOb=function(L){var H;O.entries.push(L);H=O.config.cM;0 <= H && O.entries.length > H && O.entries.shift();void 0 === O.xe.Gx[L.Ln] && (O.xe.Gx[L.Ln]=!0,O.BH(!1));O.xe.isVisible && !O.hbb?O.x2b():O.JX.Oj();};this.kBb=function(){f.download("all",O.entries.map(function(L){return L.x$(!1,!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.GB=!1;this.xe={isVisible:!1,RL:!0,y3:!0,Cpa:t.jj.Zba,Gx:{}};this.JX=this.owa((0,p.Bh)(1));this.TDb=this.Lja((0,p.Lb)(250));this.entries=[];!1;!1;}function k(B){var C;this.elements=[];C=document.createElementNS(k.kX,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(70655);h=a(86700);d=a(89682);g=a(74509);m=a(40781);l=a(65428);n=a(35664);p=a(2467);q=a(58998);u=a(15303);t=a(71163);v=a(33456);w=a(97649);y=a(32522);x=a(7336);A=a(50364);z=a(21770);f.download=function(B,C){return f.TGb(B).then(function(D){return f.cJb(D,C.join("\r\n")).then(function(F){return f.iBb(F.filename,F.text);});});};f.TGb=function(B){return new Promise(function(C,D){var F,G,E,J,K,N,I;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();J=F.getFullYear().toString();K=F.getHours().toString();N=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === K.length && (K="0" + K);1 === N.length && (N="0" + N);1 === I.length && (I="0" + I);C(J + E + G + K + N + I + "." + B + ".log");}catch(O){D(O);}});};f.cJb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};f.iBb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};k.prototype.KN=function(){var B;B=document.createElementNS(k.kX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};k.prototype.NN=function(B,C,D){var F;F=document.createElementNS(k.kX,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};k.prototype.ZW=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(k.kX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};k.prototype.Z0b=function(){var B;B=document.createElementNS(k.kX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};k.prototype.end=function(){this.elements.pop();return this;};k.prototype.Lh=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};k.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Wa.Object.defineProperties(k,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},dF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});k.kX="http://www.w3.org/2000/svg";c.prototype.qa=function(){var B;B=this;this.FB || (this.FB=new Promise(function(C){pb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == A.Nz.Aib?B.toggle():D.keyCode == A.Nz.E && z.lAa.xwb(B.jF().jk));});B.ln.X8(w.vca.igb,B.JOb);C();}));return this.FB;};c.prototype.show=function(){document.body && (this.element || (this.lyb(),this.GB=!0),!this.xe.isVisible && this.element && (document.body.appendChild(this.element),this.xe.isVisible=!0,this.update(!0)));};c.prototype.yv=function(){this.GB && this.xe.isVisible && this.element && (document.body.removeChild(this.element),this.xe.isVisible=!1);};c.prototype.toggle=function(){this.xe.isVisible?this.yv():this.show();this.BH(!1);};c.prototype.lyb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.zo=this.czb());B.appendChild(this.dzb());B.appendChild(this.fyb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.czb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.hbb=!0;B.update();B.zo && (B.zo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.hbb=!1;B.update();B.zo && (B.zo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.dzb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Fyb());B.appendChild(this.uyb());B.appendChild(this.pyb());B.appendChild(this.ezb());B.appendChild(this.jyb());B.appendChild(this.Myb());B.appendChild(this.Jyb());B.appendChild(this.qyb());B.appendChild(this.kyb());return B;};c.prototype.fyb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.uv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(J){J.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.xe.Gx).sort()).forEach(function(J){G.appendChild(B.gyb(J,D));}),G.style.display="block");E=!E;});return C;};c.prototype.gyb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.xe.Gx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.xe.Gx).forEach(function(E){D.xe.Gx[E]="all" === B;}),C.click()):D.xe.Gx[B]=!D.xe.Gx[B];D.BH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Fyb=function(){var B,C;B=this;C=this.createElement("select",this.uv(22,NaN,1,2),'<option value="' + t.jj.Eh + '">Error</option><option value="' + (t.jj.yea + '">Warn</option><option value="') + (t.jj.Zba + '">Info</option><option value="') + (t.jj.LLa + '">Trace</option><option value="') + (t.jj.K + '">Debug</option>'));C.value=this.xe.Cpa.toString();C.addEventListener("change",function(D){B.xe.Cpa=parseInt(D.target.value);B.BH(!0);},!1);return C;};c.prototype.uyb=function(){var C,D;function B(F){return C.TDb.Oj(function(){var G;G=F.target.value;C.xe.filter=G?new RegExp(G):void 0;C.BH(!0);});}C=this;D=this.createElement("input",this.uv(14,150,1,2));D.value=this.xe.filter?this.xe.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.pyb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.uv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.xe.y3;D.addEventListener("change",function(G){B.xe.y3=G.target.checked;B.BH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.ezb=function(){var B,C,D;B=this;C=this.createElement("button",this.uv());D=new k("0 0 24 24").KN().Z0b().end().NN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",k.dF,"nonzero").end().end().Lh();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.jyb=function(){var B,C;B=this.createElement("button",this.uv());C=new k("0 0 24 24").KN().ZW(0,0,24,24,k.background).end().NN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",k.dF).end().end().Lh();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Myb=function(){var B;this.dC=this.createElement("button",this.uv());this.dC.style.display=this.xe.RL?"none":"inline-block";B=new k("0 0 24 24").KN().ZW(0,0,24,24,k.background).end().NN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",k.dF,"nonzero").end().end().Lh();this.dC.addEventListener("click",this.e4a,!1);this.dC.appendChild(B);this.dC.setAttribute("title","Shrink the log console");return this.dC;};c.prototype.Jyb=function(){var B;this.aC=this.createElement("button",this.uv());this.aC.style.display=this.xe.RL?"inline-block":"none";B=new k("0 0 24 24").KN().ZW(4,4,16,16,k.background).end().NN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",k.dF,"nonzero").end().end().Lh();this.aC.addEventListener("click",this.e4a,!1);this.aC.appendChild(B);this.aC.setAttribute("title","Expand the log console");return this.aC;};c.prototype.qyb=function(){var B,C;B=this.createElement("button",this.uv());C=new k("0 0 26 26").KN().ZW(0,0,24,24,k.background).end().NN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",k.dF,"nonzero").end().end().Lh();B.appendChild(C);B.addEventListener("click",this.kBb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.kyb=function(){var B,C,D;B=this;C=this.createElement("button",this.uv());D=new k("0 0 24 24").KN().ZW(0,0,24,24,k.background).end().NN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",k.dF,"nonzero").end().end().Lh();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.BH=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.mW && Promise.resolve(this.Btb() + this.UGb().join("\r\n")).then(function(D){C.element && C.zo && (C.zo.value=D,C.element.style.cssText=C.xe.RL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.wc.Pj(p.Ia,function(){C.zo.scrollTop=C.zo.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.UGb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.xe.Cpa && B.xe.Gx[D.Ln] && (D=D.x$(!B.xe.y3,!B.xe.y3),B.xe.filter && !B.xe.filter.test(D) || C.push(D));});return C;};c.prototype.Btb=function(){var B;B=this.jF();return "Version: 6.0040.799.911 \n" + ((B?"Esn: " + B.jk:"") + "\nJsSid: ") + (this.$f.id + ", Epoch: " + this.sa.ue.ba(p.vm) + ", Start: " + this.$f.xy.ba(p.vm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.Dh.createElement(B,C,D,F);};c.prototype.uv=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + k.dF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.i1b="logDxDisplay";a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.Fg)),r.__param(1,(0,h.l)(q.Jc)),r.__param(2,(0,h.l)(d.ph)),r.__param(3,(0,h.l)(l.Gi)),r.__param(4,(0,h.l)(v.JI)),r.__param(5,(0,h.l)(y.hFa)),r.__param(6,(0,h.l)(u.Ew)),r.__param(7,(0,h.l)(g.MD)),r.__param(8,(0,h.l)(m.OY)),r.__param(9,(0,h.l)(x.yw))],a);b.iFa=a;},36845:function(r,b,a){var f;function c(){return f.bQ.apply(this,arguments) || this;}function k(h){return new f.Xr(h,b.dD);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.rGa=b.kca=b.eu=b.dD=b.WPb=b.rNb=b.xa=b.Dq=b.zfb=void 0;f=a(66205);ia(c,f.bQ);b.zfb=c;b.Dq=k;b.xa=function(h){return new f.Xr(h,b.eu);};b.rNb=function(h){return new f.Xr(h,b.kca);};b.WPb=function(h){return new f.Xr(h,b.rGa);};b.dD=new c(1,"b");b.eu=new c(8 * b.dD.jg,"B",b.dD);b.kca=new c(1024 * b.eu.jg,"KB",b.dD);b.rGa=new c(1024 * b.kca.jg,"MB",b.dD);b.Ia=k(0);},2467:function(r,b,a){var f;function c(){return f.bQ.apply(this,arguments) || this;}function k(h){return new f.Xr(h,b.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.uDa=b.Oca=b.vm=b.na=b.zD=b.timestamp=b.xKb=b.s7=b.Bh=b.Lb=b.Z6a=b.dQb=b.Flb=void 0;f=a(66205);ia(c,f.bQ);b.Flb=c;b.dQb=function(h){return new f.Xr(h,b.zD);};b.Z6a=function(h){return new f.Xr(h * b.vm.jg,b.zD);};b.Lb=k;b.Bh=function(h){return new f.Xr(h,b.vm);};b.s7=function(h){return new f.Xr(h,b.Oca);};b.xKb=function(h){return new f.Xr(h,b.uDa);};b.timestamp=function(h){return k(h);};b.zD=new c(1,"\u03bcs");b.na=new c(1E3,"ms",b.zD);b.vm=new c(1E3 * b.na.jg,"s",b.zD);b.Oca=new c(60 * b.vm.jg,"min",b.zD);b.uDa=new c(60 * b.Oca.jg,"hr",b.zD);b.Ia=k(0);},66205:function(r,b,a){var f;function c(h,d){this.jg=d;this.By=Math.floor(h);this.display=this.By + " " + this.jg.name;}function k(h,d,g){this.jg=h;this.name=d;this.kp=g?g:this;(0,f.io)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Xr=b.bQ=void 0;f=a(60920);k.prototype.KS=function(h){return this.jg == h.jg;};k.prototype.toJSON=function(){return this.name;};b.bQ=k;c.prototype.ba=function(h){return this.jg.KS(h)?this.By:Math.floor(this.By * this.jg.jg / h.jg);};c.prototype.Y6a=function(h){return this.jg.KS(h)?this.By:this.By * this.jg.jg / h.jg;};c.prototype.as=function(h){return new c(this.ba(h),h);};c.prototype.to=function(h){return new c(this.ba(h),h);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.By,units:this.jg.name};};c.prototype.add=function(h){return this.ZSa(h);};c.prototype.wa=function(h){return this.ZSa(h,function(d){return -d;});};c.prototype.scale=function(h){return new c(this.ba(this.jg.kp) * h,this.jg.kp);};c.prototype.Lk=function(h){return this.ba(this.jg.kp) - h.ba(this.jg.kp);};c.prototype.KS=function(h){return 0 == this.Lk(h);};c.prototype.x1a=function(){return 0 == this.By;};c.prototype.Hoa=function(){return 0 > this.By;};c.prototype.l1a=function(){return 0 < this.By;};c.prototype.ZSa=function(h,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ba(this.jg.kp) + d(h.ba(this.jg.kp)),this.jg.kp);};b.Xr=c;},17244:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pm={qbc:"casttv",Hia:"chrome",wbc:"chromecast",rp:"edge",AVa:"edgeoss",aXa:"firefox",ndc:"ie",opera:"opera",o9a:"safari",fbb:"tesla"};b.wn={hha:"android",J0a:"ios",BSa:"chromeos",s2a:"linux",U2a:"mac",Dxa:"windows"};b.VZ={awb:"computer",phone:"phone",h2b:"tablet"};b.cc="ConfigSymbol";},54662:function(r,b,a){var h,d,g;function c(m){return function(l,n){return l.rta(n,m);};}function k(m,l){return m.N8.sWb[l] || f(m,l);}function f(m,l){m=m.oy.data[l];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.FE=b.xta=b.object=b.VCb=b.url=b.xa=b.tk=b.Nwa=b.OLb=b.LH=b.string=b.qz=b.Nc=b.IB=b.config=void 0;h=a(36845);d=a(2467);g=a(35032);b.config=function(m,l,n){n=void 0 === n?!1:n;return function(p,q,u){var t,v;t=void 0 !== l?l:q;v=u.get;void 0 !== v && (u.get=function(){var w;if(!this.EMb(q))return this.DIb(q);a:{w=(this.krb || n?k:f)(this,t.toString());if(void 0 !== w)if((w=m(this.oV,w),w instanceof g.Io))this.pXa(t,w);else break a;w=v.bind(this)();}this.gua(q,w);return w;});return u;};};b.IB=function(m,l){return m.U7a(l);};b.Nc=function(m,l){return m.ota(l);};b.qz=function(m,l){return m.Up(l);};b.string=function(m,l){return m.rta(l);};b.LH=function(m,l){return m.Gj(l,b.string);};b.OLb=function(m,l){return m.Gj(l,b.IB);};b.Nwa=function(m,l){return m.Gj(l,b.qz);};b.tk=function(m,l){m=m.Up(l);return m instanceof g.Io?m:(0,d.Lb)(m);};b.xa=function(m,l){m=m.Up(l);return m instanceof g.Io?m:(0,h.xa)(m);};b.url=c(/^\S+$/);b.VCb=function(m){return function(l,n){return l.T7a(n,m);};};b.object=function(){return function(m,l){return m.V7a(l);};};b.xta=c;b.FE=function(m,l){return function(n,p){return n.Gj(p,m,l);};};},59578:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gba="ConfigurableInputsSymbol";b.xl="ValidatingConfigurableInputsSymbol";b.zY="ConfigNameSymbol";b.nP="InitParamsSymbol";},53685:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sn=b.pu=b.Hw=void 0;(function(a){a[a.OLa=0]="Test";a[a.qEa=1]="Int";a[a.vlb=2]="Staging";a[a.Mkb=3]="Prod";})(b.Hw || (b.Hw={}));(function(a){a[a.QP=0]="PreferMsl";a[a.NJa=1]="PreferNoMsl";a[a.ujb=2]="NoMsl";})(b.pu || (b.pu={}));b.sn="GeneralConfigSymbol";},65350:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ED="PlatformConfigDefaultsSymbol";},62106:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.sda=void 0;c=a(2467);k=a(36845);f=a(56261);h={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.sda=function(){this.Wua=!0;this.HE=[];this.mm=[];this.cr=[];this.LK=!1;this.Aka=!0;this.Qt=[f.wl.iba,f.wl.flb,f.wl.NI,f.wl.GDa];this.Ul=void 0;this.Lka=!0;this.M3=!1;this.V1=(0,k.xa)(288E4);this.Y1=(0,k.xa)(335544320);this.Ey=(0,c.Lb)(15E3);this.vPb=(0,k.xa)(6291456);this.cM=1E3;this.nia=!0;this.v$=h;this.ZN=(0,k.xa)(0);this.FL=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.H5=("ro zh-Hans zh-Hant vi ar he hi th").split(" ");this.z6=["th"];this.y$=(0,c.Lb)(0);this.ST=!0;this.K$=!1;this.NK=this.pqa=this.s4=!0;this.gI=this.fB=this.jv=!1;this.aF=["start"];this.p$=!0;};},98757:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PlatformConfigOverridesSymbol";},10459:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(86700);c=a(17244);k=a(86322);f=a(59578);h=a(53685);d=a(76545);g=a(30949);m=a(49873);l=a(65872);n=a(69673);p=a(23152);q=a(85291);b.config=new r.Yc(function(u){u(c.cc).Vd(function(){return function(){return pb._cad_global.config;};});u(f.gba).to(k.tAa).da();u(f.xl).to(k.AMa).da();u(f.nP).to(k.mEa).da();u(h.sn).to(d.ECa).da();u(g.PGa).to(m.OGa).da();u(l.yCa).to(n.xCa).da();u(p.kq).to(q.VBa).da();});},90187:function(r,b,a){var f,h,d,g;function c(m,l){var n;n=g.call(this,m,l) || this;n.qTa=l;n.debug=m.debug;n.ja=m.If.Ta(n.qTa);return n;}function k(m,l){this.qTa=l;this.Zsa={};this.oy=m.oy;this.oV=m.oV;this.N8=m.N8;}Object.defineProperty(b,"__esModule",{value:!0});b.Qe=b.JO=b.KLa=void 0;r=a(70655);f=a(78479);h=a(86700);d=a(35032);b.KLa="isTestAccount";k.prototype.pXa=function(){};k.prototype.gua=function(m,l){this.Zsa[m]=[l,this.oy.m9];};k.prototype.EMb=function(m){return f.Zca.of(this.Zsa[m]).map(function(l){return l[1];}).or(-1) < this.oy.m9;};k.prototype.DIb=function(m){return f.Zca.of(this.Zsa[m]).map(function(l){return l[0];}).or(function(){throw Error("Invalid State Error");});};Wa.Object.defineProperties(k.prototype,{krb:{configurable:!0,enumerable:!0,get:function(){var m,l;if(this && this.oy && this.oy.data){m=this.oy.data[b.KLa];"undefined" !== typeof m && (l=m.toString());m=this.oV.ota(l);m=m instanceof d.Io?!1:m;}else m=!1;return m;}}});g=k;g=r.__decorate([(0,h.U)(),r.__param(0,(0,h.pn)()),r.__param(1,(0,h.pn)())],g);b.JO=g;ia(c,g);c.prototype.pXa=function(m,l){this.ja.error("Invalid configuration value.",{name:m},l);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,h.pn)()),r.__param(1,(0,h.pn)())],a);b.Qe=a;},86322:function(r,b,a){var h,d,g,m,l;function c(){this.Vx={};this.h9a=0;}function k(n,p,q,u,t){this.debug=n;this.oy=p;this.oV=q;this.If=u;this.N8=t;}function f(n,p,q){this.oy=n;this.oV=p;this.N8=q;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=b.AMa=b.tAa=void 0;r=a(70655);h=a(86700);d=a(78616);g=a(71163);m=a(35032);l=a(58236);a=a(59578);f=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.nP)),r.__param(1,(0,h.l)(m.V_)),r.__param(2,(0,h.l)(l.Pda))],f);b.tAa=f;k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Bw)),r.__param(1,(0,h.l)(a.nP)),r.__param(2,(0,h.l)(m.V_)),r.__param(3,(0,h.l)(g.Xa)),r.__param(4,(0,h.l)(l.Pda))],k);b.AMa=k;c.prototype.aQb=function(n){this.Vx=Object.assign({},this.Vx,n);this.h9a++;};Wa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Vx;}},m9:{configurable:!0,enumerable:!0,get:function(){return this.h9a;}}});a=c;a=r.__decorate([(0,h.U)()],a);b.mEa=a;},76545:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u){p=d.Qe.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.lf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=b.VK=void 0;r=a(70655);k=a(2467);f=a(86700);h=a(54662);d=a(90187);g=a(53685);m=a(59578);a=a(65350);l={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.VK=function(p,q){return p.T7a(l[q] || q,g.Hw);};ia(c,d.Qe);Wa.Object.defineProperties(c.prototype,{VK:{configurable:!0,enumerable:!0,get:function(){return g.Hw.Mkb;}},uab:{configurable:!0,enumerable:!0,get:function(){return (0,k.Bh)(8);}},YF:{configurable:!0,enumerable:!0,get:function(){return "";}},kK:{configurable:!0,enumerable:!0,get:function(){return "";}},FX:{configurable:!0,enumerable:!0,get:function(){return "";}},T1:{configurable:!0,enumerable:!0,get:function(){return !0;}},ST:{configurable:!0,enumerable:!0,get:function(){return this.lf.ST;}},kDb:{configurable:!0,enumerable:!0,get:function(){return !1;}},jd:{configurable:!0,enumerable:!0,get:function(){return {};}},Toa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Lr:{configurable:!0,enumerable:!0,get:function(){return !1;}},GS:{configurable:!0,enumerable:!0,get:function(){return !0;}},NC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},ay:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Hw.OLa,g.Hw.qEa].indexOf(this.VK);}}});n=c;r.__decorate([h.config(b.VK,"environment")],n.prototype,"VK",null);r.__decorate([h.config(h.tk,"storageTimeout")],n.prototype,"uab",null);r.__decorate([h.config(h.string,"groupName")],n.prototype,"YF",null);r.__decorate([h.config(h.string,"canaryGroupName",!0)],n.prototype,"kK",null);r.__decorate([h.config(h.string,"uiGroupName")],n.prototype,"FX",null);r.__decorate([h.config(h.Nc,"applyIndexedDbOpenWorkaround")],n.prototype,"T1",null);r.__decorate([h.config(h.Nc,"ignoreIdbOpenError")],n.prototype,"ST",null);r.__decorate([h.config(h.Nc,"executeStorageMigration")],n.prototype,"kDb",null);r.__decorate([h.config(h.object(),"browserInfo")],n.prototype,"jd",null);r.__decorate([h.config(h.Nc,"isTestAccount")],n.prototype,"Toa",null);r.__decorate([h.config(h.Nc,"useRangeHeader")],n.prototype,"Lr",null);r.__decorate([h.config(h.Nc,"enableMilestoneEventList")],n.prototype,"GS",null);r.__decorate([h.config(h.object,"storageRules")],n.prototype,"NC",null);n=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(m.xl)),r.__param(1,(0,f.l)(a.ED)),r.__param(2,(0,f.l)(m.zY)),r.__param(2,(0,f.optional)())],n);b.ECa=n;},40409:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bAa="CapabilityDetectorFactorySymbol";},83931:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dd=void 0;b.Dd=a;a.$Ca=/^hevc-main/;a.ZCa=/^hevc-hdr-|hevc-dv/;a.EI=/^hevc-hdr-/;a.gu=/^hevc-dv/;a.bZ=/h264mpl/;a.kD=/h264mpl30/;a.lD=/h264mpl31/;a.Dz=/h264hpl.*-dash$/;a.Pxa=/h264hpl.*-live$/;a.$z=/^vp9-/;a.Ei=/^av1-/;a.shb=/[l|L]4[0-1]-/;a.cJ=/-L5[0-1]-/;a.FEa=/-live/;a.gaa=/^heaac-2-/;a.Ehb=/^heaac-2hq-dash/;a.cx=/^xheaac-dash/;a.$fb=/ddplus-2/;a.agb=/ddplus-5/;a.bgb=/ddplus-atmos/;},39780:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.pd=void 0;k=a(77003);c.eUa=function(f){var h;h={};h[k.Re.UP]=c.bZ;h[k.Re.jZ]=c.bZ;h[k.Re.cJ]=c.Pba;h[k.Re.EI]=c.EI;h[k.Re.gu]=f || c.gu;h[k.Re.Dz]=c.bZ;h[k.Re.$z]=c.cQ;h[k.Re.Ei]=c.Ei;return h;};b.pd=c;c.yqa='video/mp4; codecs="avc1.4d0028"';c.bZ="avc1.4d0028";c.Pba="hev1.1.6.L93.B0";c.kba="dvhe.05.01";c.OAa="dvhe.05.04";c.lba="dvhe.05.05";c.mba="dvhe.05.06";c.nba="dvhe.05.07";c.oba="dvhe.05.09";c.gu=c.kba;c.EI=c.Pba;c.gaa="mp4a.40.2";c.cx="mp4a.40.42";c.Zfb="ec-3";c.cQ="vp09.00.11.08.02";c.Ei="av01.0.04M.08";},74039:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Om=void 0;r=a(86700);c=a(77003);k=a(17244);f=a(75977);h=a(65146);d=a(50563);g=a(72014);m=a(21788);l=a(51080);n=a(37239);p=a(40409);q=a(60885);u=a(50876);t=a(63626);v=a(43784);w=a(43101);y=a(82226);x=a(14756);A=a(86229);z=a(36875);B=a(63088);C=a(62470);D=a(41826);b.Om=new r.Yc(function(F){F(d.XP).to(g.jLa).da();F(c.Dw).to(f.bBa).da();F(m.vEa).to(l.uEa).da();F(p.bAa).to(q.aAa).da();F(m.IIa).ml({isTypeSupported:u.Rz && u.Rz.isTypeSupported});F(n.oCa).SC(function(G){return {RGb:function(){return G.hb.get(B.w_);}};});F(h.wI).SC(function(G){return G.hb.get(k.cc);});F(t.ZFa).to(v.WFa).da();F(C.VFa).to(D.UFa).da();F(w.YFa).to(y.XFa).da();F(x.Jba).to(A.nCa).da();F(z.WJa).ml(pb);});},77003:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw=b.JMa=b.Llb=b.Ho=b.Re=b.yl=b.du=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.CMa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.Cw=0]="Default";a[a.Pw=1]="Microsoft";})(b.du || (b.du={}));(function(a){a[a.Cw=0]="Default";a[a.vI=1]="Chrome";a[a.Pw=2]="Microsoft";})(b.yl || (b.yl={}));(function(a){a[a.UP=0]="SD";a[a.jZ=1]="HD";a[a.cJ=2]="UHD";a[a.gu=3]="DV";a[a.EI=4]="HDR10";a[a.Dz=5]="AVCHigh";a[a.$z=6]="VP9";a[a.Ei=7]="AV1";})(b.Re || (b.Re={}));(function(a){a[a.b_=0]="Level_1_4";a[a.uD=1]="Level_2_2";})(b.Ho || (b.Ho={}));b.Llb=function(){};(function(a){a[a.k$b=0]="Platform";a[a.C7b=1]="CurrentTitle";})(b.JMa || (b.JMa={}));b.Dw="DeviceCapabilitiesSymbol";},65146:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wI=b.Pgb=void 0;c=a(77003);b.Pgb=function(){this.HE=[];this.mm=[];this.cr=[];this.mQa=[];this.Bha=c.du.Cw;this.S$=c.yl.Cw;};b.wI="DeviceCapabilitiesConfigSymbol";},14756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba=b.Jw=void 0;r=b.Jw || (b.Jw={});r.Jlb="unknown";r.Qxa="absent";r.VJa="present";r.Error="error";b.Jba="ExternalDisplayLogHelperSymbol";},37239:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oCa="ExtraPlatformInfoProviderSymbol";},21788:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vEa="IsTypeSupportedProviderFactorySymbol";b.IIa="PlatformIsTypeSupportedSymbol";},13329:function(r,b,a){var k,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xI=b.eb=void 0;k=a(56594);f=a(56003);h=a(68172);c.mT=function(d){if(d){if(d.includes(b.xI.Ry))return k.Fk.Ry;if(d.includes("fps"))return k.Fk.kB;if(d.includes(b.xI.ZX))return k.Fk.ZX;}throw new f.Lc(h.V.dhb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.mma=function(d){switch(d){case k.Fk.Ry:return b.xI.Ry;case k.Fk.kB:return b.xI.kB;default:return b.xI.ZX;}};b.eb=c;c.Ww="com.microsoft.playready";c.wd="com.microsoft.playready.hardware";c.FD="com.microsoft.playready.software";c.uhb="com.apple.fps.2_0";c.h0="com.widevine.alpha";c.Rlb="com.widevine.alpha.experiment";c.uda="com.microsoft.playready.recommendation.3000";c.OIa="com.microsoft.playready.recommendation.2000";c.BDa=[c.uda];b.xI={kB:"fairplay",ZX:"widevine",Ry:"playready"};},63626:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZFa="MediaCapabilitiesSymbol";},62470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VFa="MediaCapabilitiesDetectorSymbol";},43101:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YFa="MediaCapabilitiesLogHelperSymbol";},56261:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={kD:"playready-h264mpl30-dash",lD:"playready-h264mpl31-dash",iZ:"playready-h264mpl40-dash",KCa:"h264mpl30-dash-playready-prk-qc",LCa:"h264mpl31-dash-playready-prk-qc",MCa:"h264mpl40-dash-playready-prk-qc",ICa:"playready-h264hpl22-dash",cZ:"playready-h264hpl30-dash",eZ:"playready-h264hpl31-dash",gZ:"playready-h264hpl40-dash",JCa:"h264hpl22-dash-playready-live",dZ:"h264hpl30-dash-playready-live",fZ:"h264hpl31-dash-playready-live",hZ:"h264hpl40-dash-playready-live",vea:"vp9-profile0-L21-dash-cenc",d0:"vp9-profile0-L30-dash-cenc",e0:"vp9-profile0-L31-dash-cenc",dQ:"vp9-profile0-L40-dash-cenc",Qba:"hevc-main10-L30-dash-cenc",Rba:"hevc-main10-L31-dash-cenc",Sba:"hevc-main10-L40-dash-cenc",Tba:"hevc-main10-L41-dash-cenc",eP:"hevc-main10-L50-dash-cenc",fP:"hevc-main10-L51-dash-cenc",EZ:"hevc-main10-L30-dash-cenc-prk",HZ:"hevc-main10-L31-dash-cenc-prk",KZ:"hevc-main10-L40-dash-cenc-prk",NZ:"hevc-main10-L41-dash-cenc-prk",FZ:"hevc-main10-L30-dash-cenc-prk-do",IZ:"hevc-main10-L31-dash-cenc-prk-do",LZ:"hevc-main10-L40-dash-cenc-prk-do",OZ:"hevc-main10-L41-dash-cenc-prk-do",QZ:"hevc-main10-L50-dash-cenc-prk-do",SZ:"hevc-main10-L51-dash-cenc-prk-do",DZ:"hevc-main10-L30-dash-cenc-live",GZ:"hevc-main10-L31-dash-cenc-live",JZ:"hevc-main10-L40-dash-cenc-live",MZ:"hevc-main10-L41-dash-cenc-live",PZ:"hevc-main10-L50-dash-cenc-live",RZ:"hevc-main10-L51-dash-cenc-live",DY:"hevc-dv5-main10-L30-dash-cenc-prk",FY:"hevc-dv5-main10-L31-dash-cenc-prk",WO:"hevc-dv5-main10-L40-dash-cenc-prk",IY:"hevc-dv5-main10-L41-dash-cenc-prk",KY:"hevc-dv5-main10-L50-dash-cenc-prk",MY:"hevc-dv5-main10-L51-dash-cenc-prk",pba:"hevc-dv5-main10-L40-dash-cenc-prk-qc",qba:"hevc-dv5-main10-L41-dash-cenc-prk-qc",rba:"hevc-dv5-main10-L50-dash-cenc-prk-qc",sba:"hevc-dv5-main10-L51-dash-cenc-prk-qc",EY:"hevc-dv5-main10-L30-dash-cenc-prk-do",GY:"hevc-dv5-main10-L31-dash-cenc-prk-do",HY:"hevc-dv5-main10-L40-dash-cenc-prk-do",JY:"hevc-dv5-main10-L41-dash-cenc-prk-do",LY:"hevc-dv5-main10-L50-dash-cenc-prk-do",NY:"hevc-dv5-main10-L51-dash-cenc-prk-do",lZ:"hevc-hdr-main10-L30-dash-cenc-prk",oZ:"hevc-hdr-main10-L31-dash-cenc-prk",dP:"hevc-hdr-main10-L40-dash-cenc-prk",tZ:"hevc-hdr-main10-L41-dash-cenc-prk",wZ:"hevc-hdr-main10-L50-dash-cenc-prk",zZ:"hevc-hdr-main10-L51-dash-cenc-prk",mZ:"hevc-hdr-main10-L30-dash-cenc-prk-do",pZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",rZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",uZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",xZ:"hevc-hdr-main10-L50-dash-cenc-prk-do",AZ:"hevc-hdr-main10-L51-dash-cenc-prk-do",kZ:"hevc-hdr-main10-L30-dash-cenc-live",nZ:"hevc-hdr-main10-L31-dash-cenc-live",qZ:"hevc-hdr-main10-L40-dash-cenc-live",sZ:"hevc-hdr-main10-L41-dash-cenc-live",vZ:"hevc-hdr-main10-L50-dash-cenc-live",yZ:"hevc-hdr-main10-L51-dash-cenc-live",Nxa:"av1-main-L20-dash-cbcs-prk",Oxa:"av1-main-L21-dash-cbcs-prk",Bz:"av1-main-L30-dash-cbcs-prk",Cz:"av1-main-L31-dash-cbcs-prk",pI:"av1-main-L40-dash-cbcs-prk",qI:"av1-main-L41-dash-cbcs-prk",lY:"av1-main-L50-dash-cbcs-prk",mY:"av1-main-L51-dash-cbcs-prk"};b.ed={wY:[b.H.kD,b.H.lD,b.H.iZ],hY:[b.H.cZ,b.H.eZ,b.H.gZ],gY:[b.H.dZ,b.H.fZ,b.H.hZ],haa:[b.H.d0,b.H.e0,b.H.dQ],o7b:[b.H.Qba,b.H.Rba,b.H.Sba,b.H.Tba,b.H.eP,b.H.fP],Zaa:[b.H.EZ,b.H.HZ,b.H.KZ,b.H.NZ,b.H.eP,b.H.fP],$aa:[b.H.FZ,b.H.IZ,b.H.LZ,b.H.OZ,b.H.QZ,b.H.SZ],Yaa:[b.H.DZ,b.H.GZ,b.H.JZ,b.H.MZ,b.H.PZ,b.H.RZ],Waa:[b.H.lZ,b.H.oZ,b.H.dP,b.H.tZ,b.H.wZ,b.H.zZ],Xaa:[b.H.mZ,b.H.pZ,b.H.rZ,b.H.uZ,b.H.xZ,b.H.AZ],Vaa:[b.H.kZ,b.H.nZ,b.H.qZ,b.H.sZ,b.H.vZ,b.H.yZ],Jza:[b.H.DY,b.H.WO,b.H.KY,b.H.FY,b.H.IY,b.H.MY],Kza:[b.H.EY,b.H.HY,b.H.LY,b.H.GY,b.H.JY,b.H.NY],Lza:[b.H.Bz,b.H.Cz,b.H.pI,b.H.qI,b.H.lY,b.H.mY]};b.vd={mD:"heaac-2-dash",BZ:"heaac-5.1-dash",nD:"heaac-2hq-dash",cx:"xheaac-dash",UO:"ddplus-2.0-dash",BY:"ddplus-5.1-dash",VO:"ddplus-atmos-dash"};b.wl={flb:"simplesdh",iba:"dfxp-ls-sdh",GDa:"imsc1.1",g0:"webvtt-lssdh-ios8",NI:"nflx-cmisc"};},36875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="PresentationAPISymbol";},50563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XP="SourceBufferTypeProviderSymbol";},60885:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A;function c(z,B,C,D,F,G,E,J,K,N){this.s1a=z;this.config=B;this.wc=C;this.sa=D;this.is=F;this.lo=G;this.Vl=E;this.platform=J;this.jc=K;this.Gy=N;}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;r=a(70655);k=a(86700);f=a(77003);h=a(21788);d=a(65146);g=a(65168);m=a(33561);l=a(9045);n=a(55024);p=a(65428);q=a(35664);u=a(89542);t=a(44668);v=a(1092);w=a(71163);y=a(811);x=a(31224);a=a(62470);c.prototype.byb=function(z){var B;B=this.s1a.TTa();switch(z){case f.du.Pw:return new g.xGa(this.config,B,this.is,this.platform,this.Gy);default:return new n.QY(this.config,B,this.Gy);}};c.prototype.hzb=function(z){var B;B=this.s1a.TTa();switch(z){case f.yl.vI:z=new t.iAa(this.config,B,this.is,this.lo,this.Vl,this.sa,this.Gy);break;case f.yl.Pw:z=new m.FFa(this.config,B,this.is,this.wc,this.sa,this.Vl,this.jc,this.Gy,this.lo);break;default:z=new l.Kz(this.config,B,this.is,this.Gy);}return z;};A=c;A=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.vEa)),r.__param(1,(0,k.l)(d.wI)),r.__param(2,(0,k.l)(p.Gi)),r.__param(3,(0,k.l)(q.Fg)),r.__param(4,(0,k.l)(u.Zf)),r.__param(5,(0,k.l)(v.Ow)),r.__param(6,(0,k.l)(w.Xa)),r.__param(7,(0,k.l)(y.yn)),r.__param(8,(0,k.l)(x.kh)),r.__param(9,(0,k.l)(a.VFa))],A);b.aAa=A;},55700:function(r,b,a){var k,f,h,d,g;function c(m,l,n,p){this.config=m;this.mo=l;this.mediaType=n;this.Gy=p;this.qqa={};this.qqa[k.v.Audio]="audio";this.qqa[k.v.CMa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.hD=void 0;k=a(77003);r=a(84540);f=a(83931);h=a(50876);d=a(59608);g=new r.LD().format;c.prototype.NZa=function(m){return this.NAb(this.qIb(this.vZa(),m));};c.prototype.QE=function(m){return this.mo.isTypeSupported(m);};c.prototype.wGb=function(){return [f.Dd.gaa,f.Dd.Ehb,f.Dd.kD,f.Dd.lD];};c.prototype.CLb=function(){this.so=[];this.Et=[];this.config().qTb && this.Et.push(f.Dd.cx);this.config().V5a && this.Et.push(f.Dd.$Ca);this.config().U5a && this.Et.push(f.Dd.ZCa);this.config().T5a && this.Et.push(f.Dd.gu);this.config().R5a && this.Et.push(f.Dd.Dz);this.config().S5a && this.Et.push(f.Dd.Pxa);this.config().W5a && this.Et.push(f.Dd.$z);this.config().Q5a && this.Et.push(f.Dd.Ei);this.Et=this.Et.concat(this.wGb());!this.config().DCb && this.so.push(f.Dd.cx);!this.config().LVa && this.so.push(f.Dd.$fb);!this.config().KVa && this.so.push(f.Dd.agb);!this.config().MK && this.so.push(f.Dd.bgb);!this.config().pCb && this.so.push(/prk$/);this.config().T5a || this.config().aCb || this.so.push(f.Dd.gu);this.config().V5a || this.config().dCb || this.so.push(f.Dd.$Ca);this.config().U5a || this.config().Cka || this.so.push(f.Dd.ZCa);this.config().R5a || this.config().LK || this.so.push(f.Dd.Dz);this.config().S5a || this.config().Aka || this.so.push(f.Dd.Pxa);this.config().W5a || this.config().zCb || this.so.push(f.Dd.$z);this.config().Q5a || this.config().RBb || this.so.push(f.Dd.Ei);!this.config().yCb && this.so.push(f.Dd.cJ);};c.prototype.qIb=function(m,l){var n;n=h.ze.hardwareConcurrency && h.ze.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === l || void 0 === l?void 0:l.ud) || !p.restrictToUILabels.includes(l.ud))?!1:!0;}).map(function(p){return p.name;});};c.prototype.QS=function(m){var l,n;l=this;n=m.map(function(p){for(var q=ma(l.Et),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=ma(l.so);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return l.PS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.z_(m,p);});};c.prototype.PS=function(m){var l;l=this;return this.Ooa(m).then(function(n){return n.supported?l.config().lCb?l.Gy.PS(m):l.mla(m):n;});};c.prototype.mla=function(m){var l;m=this.$V[m];l="";return m?(Array.isArray(m) && (l=1 < m.length?" " + m[1]:"",m=m[0]),m=g("{0}/mp4;codecs={1};{2}",this.qqa[this.mediaType],m,l),this.QE(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.NAb=function(m){this.CLb();return this.QS(m);};c.prototype.Ooa=function(){return Promise.resolve({supported:!0});};Wa.Object.defineProperties(c.prototype,{$V:{configurable:!0,enumerable:!0,get:function(){this.IOa || (this.IOa=this.Iq());return this.IOa;}}});b.hD=c;},44668:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u,t,v){l=k.Kz.call(this,l,n,p,v) || this;l.lo=q;l.Vl=u;l.sa=t;l.Gy=v;l.type=f.yl.vI;l.log=l.Vl.Ta("ChromeVideoCapabilityDetector");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;k=a(9045);f=a(77003);h=a(2467);d=a(85060);g=a(83931);m=a(13329);ia(c,k.Kz);c.prototype.NH=function(l){switch(l){case f.Ho.uD:return this.W1b;default:return Promise.resolve(!1);}};c.prototype.zT=function(){var l;l=this;return this.NH(f.Ho.uD).then(function(n){return n?f.Ho.uD:void 0;}).then(function(n){return l.X2(n);});};c.prototype.Gga=function(l){this.Op=l;};c.prototype.XMb=function(l){var n;return !(null === (n=l.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.ju;}));};c.prototype.Acb=function(){var l;if(this.Op){l=this.y_a && this.A_a && this.y_a.wa(this.A_a).ba(h.na);this.Op.itshdcp=JSON.stringify({hdcp2:this.Zs,time2:l});}};c.prototype.Ooa=function(l){var n;n=this;return this.lo.pB().then(function(p){var q;q=(0,d.P4)(p);p=q === d.ju || m.eb.BDa.includes(p.keySystem);return [g.Dd.Dz,g.Dd.$z,g.Dd.Ei].some(function(u){return u.test(l);}) && !g.Dd.FEa.test(l) && n.config().V3a && p?{supported:!1,reason:"mcclearen-restricted"}:g.Dd.shb.test(l) && !(n.config().cCb || n.config().NVa && q === d.ju) || g.Dd.cJ.test(l) && (!n.config().NVa || q !== d.ju)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Wa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.O3a || (this.O3a=this.lo.pB().then(function(l){return l.createMediaKeys();}));return this.O3a;}},W1b:{configurable:!0,enumerable:!0,get:function(){var l;l=this;this.jwa || (this.config().eCb?this.jwa=Promise.all([this.lo.pB(),this.mediaKeys]).then(function(n){var p;p=ma(n);n=p.next().value;p=p.next().value;if(!l.XMb(n))return (l.Zs="not HW_SECURE_ALL",l.log.trace("hdcpStatus: " + l.Zs),!1);if(p && p.getStatusForPolicy)return (l.A_a=l.sa.ue,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){l.y_a=l.sa.ue;l.Zs=q;l.log.trace("hdcpStatus: " + l.Zs);return "usable" === l.Zs;}));l.Zs="not available";l.log.trace("hdcpStatus: " + l.Zs);return !1;}).catch(function(n){l.Zs="exception";l.log.error("Exception in supportsHdcpLevel",{hdcpStatus:l.Zs},n);return !1;}).then(function(n){l.Acb();return n;}):(this.Zs="not enabled",this.log.trace("hdcpStatus: " + this.Zs),this.Acb(),this.jwa=Promise.resolve(!1)));return this.jwa;}}});b.iAa=c;},55024:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){p=f.hD.call(this,l,n,k.v.Audio,p) || this;p.config=l;p.mo=n;p.type=k.du.Cw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.QY=void 0;k=a(77003);f=a(55700);h=a(39780);r=a(84540);d=a(21973);g=a(59608);m=new r.LD().format;ia(c,f.hD);c.prototype.fX=function(){var l;l=m(c.E$,h.pd.Zfb);return Promise.resolve(this.config().MK && this.mo.isTypeSupported(l));};c.prototype.Iq=function(){return d.uba.Iq();};c.prototype.vZa=function(){return this.config().HE;};c.prototype.QS=function(l){return this.config().oTb?Promise.resolve(new g.z_(l,l.map(function(){return {supported:!0};}))):f.hD.prototype.QS.call(this,l);};b.QY=c;c.E$="audio/mp4;codecs={0};";},21973:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uba=void 0;k=a(56261);c.Iq=function(){var f;f={};return (f[k.vd.mD]="mp4a.40.2",f[k.vd.BZ]="mp4a.40.2",f[k.vd.nD]="mp4a.40.2",f[k.vd.cx]="mp4a.40.42",f[k.vd.UO]="ec-3",f[k.vd.BY]="ec-3",f[k.vd.VO]="ec-3",f);};b.uba=c;},9045:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u){var t;t=h.hD.call(this,n,p,k.v.CMa,u) || this;t.config=n;t.mo=p;t.is=q;t.W6=u;t.type=k.yl.Cw;t.B5b=d.pd.eUa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Kz=void 0;k=a(77003);f=a(56261);h=a(55700);r=a(84540);d=a(39780);g=a(73124);m=a(56170);l=a(59608);new r.LD();ia(c,h.hD);c.prototype.NH=function(){return Promise.resolve(!1);};c.prototype.LF=function(){return Promise.resolve("");};c.prototype.G4=function(){return Promise.resolve("");};c.prototype.hX=function(){return this.config().Cka?this.W6.Boa()?this.W6.PS(f.H.dP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.q$=function(){return this.config().Cka?this.W6.Boa()?this.W6.PS(f.H.WO).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.iX=function(){return Promise.resolve(!1);};c.prototype.fX=function(){return Promise.resolve(!1);};c.prototype.iT=function(n){return this.B5b[n];};c.prototype.Gga=function(){};c.prototype.gPb=function(n){switch(n){case k.Ho.b_:return "1.4";case k.Ho.uD:return "2.2";}};c.prototype.Iq=function(){return g.RY.Iq();};c.prototype.vZa=function(){var p;function n(q,u){return (0,m.hcb)(function(t,v){return t.name === v.name;},q,u);}p=n(this.config().mQa,this.config().mm);return n(p,this.config().cr);};c.prototype.zT=function(){return Promise.resolve(void 0);};c.prototype.U4=function(){return Promise.resolve(void 0);};c.prototype.X2=function(n){var p;p=[];this.is.wg(n) && p.push(this.gPb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.QS=function(n){return this.config().pTb?Promise.resolve(new l.z_(n,n.map(function(){return {supported:!0};}))):h.hD.prototype.QS.call(this,n);};b.Kz=c;c.E$="video/mp4;codecs={0};";},73124:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RY=void 0;k=a(56261);f=a(39780);c.Iq=function(){var h;h={};return (h[k.H.kD]="avc1.4D401E",h[k.H.lD]="avc1.4D401F",h[k.H.iZ]="avc1.4D4028",h[k.H.KCa]="avc1.4D401E",h[k.H.LCa]="avc1.4D401F",h[k.H.MCa]="avc1.4D4028",h[k.H.Qba]="hev1.2.6.L90.B0",h[k.H.Rba]="hev1.2.6.L93.B0",h[k.H.Sba]="hev1.2.6.L120.B0",h[k.H.Tba]="hev1.2.6.L123.B0",h[k.H.EZ]="hev1.2.6.L90.B0",h[k.H.HZ]="hev1.2.6.L93.B0",h[k.H.KZ]="hev1.2.6.L120.B0",h[k.H.NZ]="hev1.2.6.L123.B0",h[k.H.eP]="hev1.2.6.L150.B0",h[k.H.fP]="hev1.2.6.L153.B0",h[k.H.FZ]="hev1.2.6.L90.B0",h[k.H.IZ]="hev1.2.6.L93.B0",h[k.H.LZ]="hev1.2.6.L120.B0",h[k.H.OZ]="hev1.2.6.L123.B0",h[k.H.QZ]="hev1.2.6.L150.B0",h[k.H.SZ]="hev1.2.6.L153.B0",h[k.H.DZ]="hev1.2.6.L90.B0",h[k.H.GZ]="hev1.2.6.L93.B0",h[k.H.JZ]="hev1.2.6.L120.B0",h[k.H.MZ]="hev1.2.6.L123.B0",h[k.H.PZ]="hev1.2.6.L150.B0",h[k.H.RZ]="hev1.2.6.L153.B0",h[k.H.lZ]="hev1.2.6.L90.B0",h[k.H.oZ]="hev1.2.6.L93.B0",h[k.H.dP]="hev1.2.6.L120.B0",h[k.H.tZ]="hev1.2.6.L123.B0",h[k.H.wZ]="hev1.2.6.L150.B0",h[k.H.zZ]="hev1.2.6.L153.B0",h[k.H.mZ]="hev1.2.6.L90.B0",h[k.H.pZ]="hev1.2.6.L93.B0",h[k.H.rZ]="hev1.2.6.L120.B0",h[k.H.uZ]="hev1.2.6.L123.B0",h[k.H.xZ]="hev1.2.6.L150.B0",h[k.H.AZ]="hev1.2.6.L153.B0",h[k.H.kZ]="hev1.2.6.L90.B0",h[k.H.nZ]="hev1.2.6.L93.B0",h[k.H.qZ]="hev1.2.6.L120.B0",h[k.H.sZ]="hev1.2.6.L123.B0",h[k.H.vZ]="hev1.2.6.L150.B0",h[k.H.yZ]="hev1.2.6.L153.B0",h[k.H.DY]=f.pd.kba,h[k.H.FY]=f.pd.OAa,h[k.H.WO]=f.pd.lba,h[k.H.IY]=f.pd.mba,h[k.H.KY]=f.pd.nba,h[k.H.MY]=f.pd.oba,h[k.H.pba]=f.pd.lba,h[k.H.qba]=f.pd.mba,h[k.H.rba]=f.pd.nba,h[k.H.sba]=f.pd.oba,h[k.H.EY]=f.pd.kba,h[k.H.GY]=f.pd.OAa,h[k.H.HY]=f.pd.lba,h[k.H.JY]=f.pd.mba,h[k.H.LY]=f.pd.nba,h[k.H.NY]=f.pd.oba,h[k.H.ICa]="avc1.640016",h[k.H.cZ]="avc1.64001E",h[k.H.eZ]="avc1.64001F",h[k.H.gZ]="avc1.640028",h[k.H.JCa]="avc1.640016",h[k.H.dZ]="avc1.64001E",h[k.H.fZ]="avc1.64001F",h[k.H.hZ]="avc1.640028",h[k.H.vea]=f.pd.cQ,h[k.H.d0]=f.pd.cQ,h[k.H.e0]=f.pd.cQ,h[k.H.dQ]=f.pd.cQ,h[k.H.Nxa]=f.pd.Ei,h[k.H.Oxa]=f.pd.Ei,h[k.H.Bz]=f.pd.Ei,h[k.H.Cz]=f.pd.Ei,h[k.H.pI]=f.pd.Ei,h[k.H.qI]=f.pd.Ei,h[k.H.lY]=f.pd.Ei,h[k.H.mY]=f.pd.Ei,h);};b.RY=c;},75977:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){this.config=l;this.fSa=n;this.lUb=p;this.eWb=this.Uyb();}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;r=a(70655);k=a(77003);f=a(65146);h=a(86700);d=a(56261);g=a(37239);a=a(40409);c.prototype.MZa=function(l){return this.GXa().NZa(l);};c.prototype.OZa=function(l){return this.Xs().NZa(l);};c.prototype.GXa=function(){this.Aha && this.Aha.type == this.config().Bha || (this.Aha=this.fSa.byb(this.config().Bha));return this.Aha;};c.prototype.Xs=function(){this.R$ && this.R$.type == this.config().S$ || (this.R$=this.fSa.hzb(this.config().S$),this.R$.Gga(this.lUb.RGb()));return this.R$;};c.prototype.dHb=function(l){var q;if(!l || !l.length)return k.Re.jZ;l=this.rEb(l);for(var n=[k.Re.UP,k.Re.jZ,k.Re.cJ,k.Re.EI,k.Re.gu,k.Re.Dz,k.Re.$z,k.Re.Ei],p=n.length;p--;){q=n[p];if((0,this.eWb[q])(l))return q;}return k.Re.UP;};c.prototype.NH=function(l){return this.Xs().NH(l);};c.prototype.QE=function(l){return this.Xs().QE(l);};c.prototype.LF=function(){return this.Xs().LF();};c.prototype.G4=function(){return this.Xs().G4();};c.prototype.hX=function(){return this.Xs().hX();};c.prototype.fX=function(){return this.GXa().fX();};c.prototype.q$=function(){return this.Xs().q$();};c.prototype.iX=function(){return this.Xs().iX();};c.prototype.iT=function(l){return this.Xs().iT(l);};c.prototype.zT=function(){return this.Xs().zT();};c.prototype.U4=function(){return this.Xs().U4();};c.prototype.rEb=function(l){var n;n={};l.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.af]="";});return Object.keys(n);};c.prototype.Uyb=function(){var l;l={};l[k.Re.Ei]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};l[k.Re.Dz]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};l[k.Re.$z]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};l[k.Re.gu]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};l[k.Re.EI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};l[k.Re.cJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};l[k.Re.jZ]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=ma(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.lD]);l[k.Re.UP]=function(){return !0;};return l;};m=c;m=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.wI)),r.__param(1,(0,h.l)(a.bAa)),r.__param(2,(0,h.l)(g.oCa))],m);b.bBa=m;},86229:function(r,b,a){var k,f,h;function c(d){this.vVb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(70655);k=a(86700);f=a(14756);a=a(36875);c.prototype.LDb=function(){var d,g;d={ZK:f.Jw.Jlb};try{g=this.vVb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var l;d.ZK=m.value?f.Jw.VJa:f.Jw.Qxa;if(d.ZK === f.Jw.Qxa){l=function(){m.value && (d.ZK=f.Jw.VJa);m.removeEventListener("change",l);};m.addEventListener("change",l);}}).catch(function(){d.ZK=f.Jw.Error;});}catch(m){d.ZK=f.Jw.Error;}return d;};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.WJa))],h);b.nCa=h;},51080:function(r,b,a){var k,f,h,d,g;function c(m,l){this.config=m;this.aAb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;r=a(70655);k=a(86700);f=a(21788);h=a(65146);d=a(77003);g=a(52825);c.prototype.TTa=function(){switch(this.config().S$){case d.yl.Pw:return g.Pz.Cyb();default:return this.aAb;}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.wI)),r.__param(1,(0,k.l)(f.IIa))],a);b.uEa=a;},33561:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F;function c(G,E,J,K,N,I,O,L,H){G=f.Kz.call(this,G,E,J,L) || this;G.wc=K;G.sa=N;G.Vl=I;G.jc=O;G.Gy=L;G.lo=H;G.type=h.yl.Pw;G.uI="hvc1";G.Gfb="avc1";G.A6a={};G.log=G.Vl.Ta("MicrosoftVideoCapabilityDetector");G.Y0b();G.gX && G.config().eQb?G.tVa=G.syb():(G.tVa=Promise.resolve(""),G.config().gQb?G.yyb():G.config().fQb && G.xyb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;k=a(56261);f=a(9045);h=a(77003);r=a(84540);d=a(13329);g=a(2467);m=a(52275);l=a(39780);n=a(52825);p=a(85060);q=a(83931);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=["hdcp=1"];B=["hdcp=2"];C=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");D=new r.LD();F=new m.Qaa();ia(c,f.Kz);c.prototype.iT=function(G){return G === h.Re.gu && this.config().N4b?l.pd.Pba:f.Kz.prototype.iT.call(this,G);};c.prototype.NH=function(G){switch(G){case h.Ho.b_:return this.Tab();case h.Ho.uD:return this.bW;default:return Promise.resolve(!1);}};c.prototype.LF=function(){var E;function G(){return E.gX?E.FKb?E.Tab().then(function(J){return Promise.resolve(J?d.eb.wd:d.eb.FD);}):Promise.resolve(d.eb.FD):E.Z1b?Promise.resolve(d.eb.FD):Promise.resolve(d.eb.Ww);}E=this;this.keySystem || (this.keySystem=this.config().Mr?this.lo.pB().then(function(J){return J.keySystem;}):G());return this.keySystem;};c.prototype.G4=function(){return this.tVa;};c.prototype.hX=function(){return Promise.resolve({result:this.Sab(),reason:"is-type-supported"});};c.prototype.iX=function(){return this.gX && this.Vab()?this.bW:Promise.resolve(!1);};c.prototype.q$=function(){return Promise.resolve(this.Rab()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Gga=function(G){this.Op=G;Object.assign(this.Op,this.A6a);G.itshwdrm=this.gX;G.itsqhd=this.Uab();G.itshevc=this.Vab();G.itshdr=this.Sab();G.itsdv=this.Rab();G.itsav1=this.V1b();G.itshevccl=this.X1b();this.Zwa();};c.prototype.vR=function(G,E){(this.Op?this.Op:this.A6a)[G]=E;};c.prototype.zT=function(){var G;G=this;return this.NH(h.Ho.uD).then(function(E){return E?G.X2(h.Ho.uD):G.NH(h.Ho.b_).then(function(J){return J?G.X2(h.Ho.b_):G.X2(void 0);});});};c.prototype.U4=function(){return this.config().Mr?Promise.resolve(void 0):this.LF().then(function(G){return G === d.eb.wd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.mla=function(G){var E;E=this;return this.LF().then(function(J){var K,N,I;K=E.$V[G];if(K){N=[];if(E.is.ep(K))I=K;else (N=K.features,I=K.sd,J=K.keySystem);return E.fv(J,I,N)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Iq=function(){var G;G=f.Kz.prototype.Iq.call(this);G[k.H.dQ]=G[k.H.e0]=G[k.H.d0]=G[k.H.vea]={sd:"vp09.00.11.08.02",keySystem:d.eb.wd,features:u};G[k.H.FZ]=G[k.H.EZ]=G[k.H.DZ]={sd:"hev1.2.6.L90.B0",keySystem:d.eb.wd,features:t};G[k.H.IZ]=G[k.H.HZ]=G[k.H.GZ]={sd:"hev1.2.6.L93.B0",keySystem:d.eb.wd,features:t};G[k.H.LZ]=G[k.H.KZ]=G[k.H.JZ]={sd:"hev1.2.6.L120.B0",keySystem:d.eb.wd,features:t};G[k.H.OZ]=G[k.H.NZ]=G[k.H.MZ]={sd:"hev1.2.6.L123.B0",keySystem:d.eb.wd,features:t};G[k.H.QZ]=G[k.H.eP]=G[k.H.PZ]={sd:"hev1.2.6.L150.B0",keySystem:d.eb.wd,features:t};G[k.H.SZ]=G[k.H.fP]=G[k.H.RZ]={sd:"hev1.2.6.L153.B0",keySystem:d.eb.wd,features:t};G[k.H.mZ]=G[k.H.lZ]=G[k.H.kZ]={sd:"hev1.2.6.L90.B0",keySystem:d.eb.wd,features:w};G[k.H.pZ]=G[k.H.oZ]=G[k.H.nZ]={sd:"hev1.2.6.L93.B0",keySystem:d.eb.wd,features:w};G[k.H.rZ]=G[k.H.dP]=G[k.H.qZ]={sd:"hev1.2.6.L120.B0",keySystem:d.eb.wd,features:w};G[k.H.uZ]=G[k.H.tZ]=G[k.H.sZ]={sd:"hev1.2.6.L123.B0",keySystem:d.eb.wd,features:y};G[k.H.xZ]=G[k.H.wZ]=G[k.H.vZ]={sd:"hev1.2.6.L150.B0",keySystem:d.eb.wd,features:y};G[k.H.AZ]=G[k.H.zZ]=G[k.H.yZ]={sd:"hev1.2.6.L153.B0",keySystem:d.eb.wd,features:y};G[k.H.EY]=G[k.H.DY]={sd:"hev1.2.6.L90.B0",keySystem:d.eb.wd,features:x};G[k.H.GY]=G[k.H.FY]={sd:"hev1.2.6.L93.B0",keySystem:d.eb.wd,features:x};G[k.H.HY]=G[k.H.pba]=G[k.H.WO]={sd:"hev1.2.6.L120.B0",keySystem:d.eb.wd,features:x};G[k.H.JY]=G[k.H.qba]=G[k.H.IY]={sd:"hev1.2.6.L123.B0",keySystem:d.eb.wd,features:A};G[k.H.LY]=G[k.H.rba]=G[k.H.KY]={sd:"hev1.2.6.L150.B0",keySystem:d.eb.wd,features:A};G[k.H.NY]=G[k.H.sba]=G[k.H.MY]={sd:"hev1.2.6.L153.B0",keySystem:d.eb.wd,features:A};G[k.H.Bz]={sd:"av01.0.04M.10",keySystem:d.eb.wd,features:u};G[k.H.Cz]={sd:"av01.0.05M.10",keySystem:d.eb.wd,features:u};G[k.H.pI]={sd:"av01.0.08M.10",keySystem:d.eb.wd,features:u};G[k.H.qI]={sd:"av01.0.09M.10",keySystem:d.eb.wd,features:u};G[k.H.lY]={sd:"av01.0.12M.10",keySystem:d.eb.wd,features:v};G[k.H.mY]={sd:"av01.0.13M.10",keySystem:d.eb.wd,features:v};return G;};c.prototype.fv=function(G,E,J){G=n.Pz.Y2(G,E,J);return this.QE(G);};c.prototype.Uab=function(){return this.fv(d.eb.wd,this.uI,t);};c.prototype.Sab=function(){return this.fv(d.eb.wd,this.uI,w);};c.prototype.Rab=function(){return this.fv(d.eb.wd,this.uI,x);};c.prototype.V1b=function(){return this.fv(d.eb.wd,l.pd.Ei,u);};c.prototype.Vab=function(){return this.fv(d.eb.wd,this.uI,v);};c.prototype.X1b=function(){return this.fv(d.eb.wd,this.uI,C);};c.prototype.Tab=function(){var G;G=this;return this.bW.then(function(E){return E?Promise.resolve(E):G.z7a;});};c.prototype.Zwa=function(){this.Op && (this.Op.itshdcp=JSON.stringify({hdcp1:this.w_a,time1:this.qbb - this.jab,hdcp2:this.x_a,time2:this.rbb - this.kab}));};c.prototype.Y0b=function(){var G;G=this;this.gX?(this.bW=this.rZa(this.config().W3a,this.config().iQb,function(){var E;E=G.bHb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.z7a=this.bW.then(function(E){return E?!0:G.rZa(G.config().W3a,G.config().hQb,function(){var J;J=G.aHb();return ["maybe" !== J,J];}).then(function(J){return "probably" === J;});})):(this.z7a=Promise.resolve(!0),this.bW=Promise.resolve(!1));};c.prototype.rZa=function(G,E,J){var K;K=this;return new Promise(function(N){var I,O,L,H;I=ma(J());O=I.next().value;I=I.next().value;if(O)return N(I);L=K.wc.wN((0,g.Lb)(G),function(){var M,R;M=ma(J());R=M.next().value;M=M.next().value;R && (L.cancel(),H.cancel(),N(M));});H=K.wc.Pj((0,g.Lb)(E),function(){L.cancel();H.cancel();N("timeout");});});};c.prototype.aHb=function(){var G;G=n.Pz.Y2(d.eb.FD,this.Gfb,z).split("|");this.w_a=n.Pz.iwa(G[0],G[1]);this.qbb=this.sa.ue.ba(g.na);this.jab=this.jab || this.qbb;this.Zwa();return this.w_a;};c.prototype.bHb=function(){var G;G=n.Pz.Y2(d.eb.wd,this.uI,B).split("|");this.x_a=n.Pz.iwa(G[0],G[1]);this.rbb=this.sa.ue.ba(g.na);this.kab=this.kab || this.rbb;this.Zwa();return this.x_a;};c.prototype.syb=function(){var G;G=this;return this.vja(d.eb.wd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.uHa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.vR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.xyb=function(){var G;G=this;this.vja(d.eb.Ww,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.jc.decode(E));G.vR("itsHardwareInfo",J);G.log.debug("HardwareInfo: " + J);return E;}).catch(function(E){G.vR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.yyb=function(){var G;G=this;this.vja(d.eb.Ww,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.jc.decode(E));G.vR("itsHardwareReset",J);G.log.debug("ResetHardwareDRMDisabled: " + J);return E;}).catch(function(E){G.vR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.vja=function(G,E){var J;J=this;return new Promise(function(K,N){var R,Y,ea;function I(ca){try{H(ca.target,"Unexpectedly got an mskeyerror event: 0x" + F.CF(ca && ca.target && ca.target.error && ca.target.error.Qfc || 0,4));}catch(oa){H(ca.target,oa);}}function O(ca){H(ca.target,"Unexpectedly got an mskeyadded event");}function L(ca){var oa;try{oa=J.hla(ca.message,"PlayReadyKeyMessage","Challenge");M(ca.target);K(oa);}catch(Ga){H(ca.target,Ga);}}function H(ca,oa){J.log.error("PlayReadyChallenge error",{cdmData:E});M(ca);N(oa);}function M(ca){ca.removeEventListener("mskeymessage",L);ca.removeEventListener("mskeyadded",O);ca.removeEventListener("mskeyerror",I);ea && ea.cancel();}try{R=new Uint8Array(D.Fab(E));Y=new pb.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);Y.addEventListener("mskeymessage",L);Y.addEventListener("mskeyadded",O);Y.addEventListener("mskeyerror",I);ea=J.wc.Pj((0,g.Lb)(1E3),function(){H(Y,Error("timeout"));});}catch(ca){N(ca);}});};c.prototype.hla=function(G,E){var K,N,I;for(var J=1;J < arguments.length;++J){;}J="";N=G.length;for(K=0;K < N;K++){I=G[K];0 < I && (J+=String.fromCharCode(I));}N="\\s*(.*)\\s*";for(K=arguments.length - 1;0 < K;K--){I=arguments[K];if(0 > J.search(I))return;I="(?:[^:].*:|)" + I;N="[\\s\\S]*<" + I + "[^>]*>" + N + "</" + I + ">[\\s\\S]*";}if(J=J.match(new RegExp(N)))return J[1];};c.prototype.Ooa=function(G){var E;E=this;return this.LF().then(function(J){return [q.Dd.Dz,q.Dd.$z,q.Dd.Ei].some(function(K){return K.test(G);}) && !q.Dd.FEa.test(G) && E.config().V3a && ![d.eb.FD,d.eb.OIa].some(function(K){return K === J;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Wa.Object.defineProperties(c.prototype,{FKb:{configurable:!0,enumerable:!0,get:function(){return this.config().OVa && (!this.config().jQb || this.Uab());}},gX:{configurable:!0,enumerable:!0,get:function(){try{return this.QE(d.eb.wd + "|" + l.pd.yqa);}catch(G){return !1;}}},Z1b:{configurable:!0,enumerable:!0,get:function(){try{return this.QE(d.eb.FD);}catch(G){return !1;}}}});b.FFa=c;},41826:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Vl=u;this.mM=t;this.cRa={};this.ldb={};this.Sga={};this.log=this.Vl.Ta("MediaCapabilityDetector");this.cRa=this.ayb();this.ldb=this.gzb();}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(70655);k=a(86700);f=a(56261);h=a(71163);d=a(63088);g=a(1092);m=a(65146);l=a(85060);n=a(50876);c.prototype.PS=function(p){var q;q=this;return this.mM.pB().then(function(u){return q.ZDb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.nMb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Boa=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.ZDb=function(p,q){var u,t,v;try{u={type:"media-source"};t=this.cRa[p];v=this.ldb[p];if(t)u.audio=t;else if(v){u.video=v;if(this.nMb(v) && !this.Boa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.pHb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.Oub(u),this.Mub((t || v).contentType)]).then(function(w){var y;y=ma(w);w=y.next().value;y=y.next().value;return w?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(w){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",w),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.Oub=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.OMb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.Mub=function(p){var q;q=this;if(!this.config().mCb)return Promise.resolve(!0);this.Sga[p] || (this.Sga[p]=new Promise(function(u){var t;try{t=new n.Rz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}});}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}}));return this.Sga[p];};c.prototype.pHb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,l.P4)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.ayb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.vd.mD]=q;p[f.vd.BZ]=q;p[f.vd.nD]=q;p[f.vd.cx]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.vd.UO]=q;p[f.vd.BY]=q;p[f.vd.VO]=q;return p;};c.prototype.gzb=function(){var p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};v=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});w=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});A={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),v);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);C=Object.assign(Object.assign({},p),v);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),v),A);J=Object.assign(Object.assign(Object.assign({},p),w),A);K=Object.assign(Object.assign(Object.assign({},p),y),A);p=Object.assign(Object.assign(Object.assign({},p),x),A);A=Object.assign(Object.assign(Object.assign({},q),v),z);N=Object.assign(Object.assign(Object.assign({},q),w),z);I=Object.assign(Object.assign(Object.assign({},q),y),z);q=Object.assign(Object.assign(Object.assign({},q),x),z);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),v);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),w);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);z={};return (z[f.H.kD]=t,z[f.H.lD]=t,z[f.H.iZ]=t,z[f.H.KCa]=t,z[f.H.LCa]=t,z[f.H.MCa]=t,z[f.H.ICa]=u,z[f.H.cZ]=u,z[f.H.eZ]=u,z[f.H.gZ]=u,z[f.H.JCa]=u,z[f.H.dZ]=u,z[f.H.fZ]=u,z[f.H.hZ]=u,z[f.H.vea]=B,z[f.H.d0]=B,z[f.H.e0]=B,z[f.H.dQ]=B,z[f.H.Qba]=C,z[f.H.Rba]=C,z[f.H.Sba]=C,z[f.H.Tba]=D,z[f.H.EZ]=C,z[f.H.HZ]=C,z[f.H.KZ]=C,z[f.H.NZ]=D,z[f.H.eP]=F,z[f.H.fP]=G,z[f.H.FZ]=C,z[f.H.IZ]=C,z[f.H.LZ]=C,z[f.H.OZ]=D,z[f.H.QZ]=F,z[f.H.SZ]=G,z[f.H.DZ]=C,z[f.H.GZ]=C,z[f.H.JZ]=C,z[f.H.MZ]=D,z[f.H.PZ]=F,z[f.H.RZ]=G,z[f.H.lZ]=E,z[f.H.oZ]=E,z[f.H.dP]=E,z[f.H.tZ]=J,z[f.H.wZ]=K,z[f.H.zZ]=p,z[f.H.mZ]=E,z[f.H.pZ]=E,z[f.H.rZ]=E,z[f.H.uZ]=J,z[f.H.xZ]=K,z[f.H.AZ]=p,z[f.H.kZ]=E,z[f.H.nZ]=E,z[f.H.qZ]=E,z[f.H.sZ]=J,z[f.H.vZ]=K,z[f.H.yZ]=p,z[f.H.DY]=A,z[f.H.FY]=A,z[f.H.WO]=A,z[f.H.IY]=N,z[f.H.KY]=I,z[f.H.MY]=q,z[f.H.pba]=A,z[f.H.qba]=N,z[f.H.rba]=I,z[f.H.sba]=q,z[f.H.EY]=A,z[f.H.GY]=A,z[f.H.HY]=A,z[f.H.JY]=N,z[f.H.LY]=I,z[f.H.NY]=q,z[f.H.Nxa]=v,z[f.H.Oxa]=v,z[f.H.Bz]=v,z[f.H.Cz]=v,z[f.H.pI]=v,z[f.H.qI]=w,z[f.H.lY]=y,z[f.H.mY]=x,z);};c.prototype.OMb=function(p,q){return p.video && this.config().UUb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.wI)),r.__param(1,(0,k.l)(d.QI)),r.__param(2,(0,k.l)(h.Xa)),r.__param(3,(0,k.l)(g.Ow))],a);b.UFa=a;},43784:function(r,b,a){var k,f;function c(h){this.navigator=h;this.L3a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(70655);k=a(86700);a=a(63088);c.prototype.lla=function(h){return this.L3a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:h.contentType,width:h.width,height:h.height,bitrate:h.bitrate,framerate:h.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.QI))],f);b.WFa=f;},82226:function(r,b,a){var k,f,h,d;function c(g,m){this.mediaCapabilities=g;this.log=m.Ta("MediaCapabilities");this.$V=d.RY.Iq();}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(70655);k=a(63626);f=a(71163);h=a(86700);d=a(73124);c.prototype.lla=function(g){var m,l,n,p;m=this;n={te:void 0};if(this.mediaCapabilities.L3a){p={contentType:'video/mp4;codecs="' + (null !== (l=this.$V[g.af]) && void 0 !== l?l:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.lla(p).then(function(q){return n.te=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(k.ZFa)),r.__param(1,(0,h.l)(f.Xa))],a);b.XFa=a;},65168:function(r,b,a){var k,f,h,d,g;function c(m,l,n,p,q){m=d.QY.call(this,m,l,q) || this;m.is=n;m.platform=p;m.type=k.du.Pw;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;k=a(77003);f=a(56261);h=a(13329);d=a(55024);g=a(52825);ia(c,d.QY);c.prototype.fX=function(){return Promise.resolve(this.config().MK && this.fv(h.eb.Ww,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Iq=function(){var m,l;m={};m=(m[f.vd.mD]="mp4a.40.2",m[f.vd.nD]="mp4a.40.2",m);if("browser" === this.platform.eka){l={};return Object.assign(Object.assign({},m),(l[f.vd.UO]=this.config().MK?{sd:"avc1",keySystem:h.eb.Ww,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[f.vd.VO]=this.config().MK?{sd:"avc1",keySystem:h.eb.Ww,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[f.vd.BZ]=void 0,l[f.vd.cx]=void 0,l[f.vd.BY]=void 0,l));}l={};return Object.assign(Object.assign({},m),(l[f.vd.UO]=this.config().LVa?"ec-3":void 0,l[f.vd.BY]=this.config().KVa?"ec-3":void 0,l[f.vd.VO]=this.config().MK?{sd:"avc1",keySystem:h.eb.Ww,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[f.vd.BZ]=void 0,l[f.vd.cx]=void 0,l));};c.prototype.mla=function(m){var l,n,p;m=this.$V[m];l=[];n=h.eb.Ww;if(m){if(this.is.ep(m))p=m;else (l=m.features,p=m.sd,n=m.keySystem);return this.fv(n,p,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.fv=function(m,l,n){m=g.Pz.Y2(m,l,n);return this.QE(m);};b.xGa=c;},52825:function(r,b,a){var k,f,h;function c(){this.type=k.du.Pw;}Object.defineProperty(b,"__esModule",{value:!0});b.Pz=void 0;k=a(77003);r=a(84540);f=a(13329);h=new r.LD();c.Cyb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?pb.MSMediaKeys.isTypeSupported(f.eb.Ww,d):"probably" === c.iwa(g[0],g[1]);}catch(m){return !1;}}};};c.Y2=function(d,g,m){g=h.format(c.E$,g);if(0 === m.length)return g;m=h.format('features="{0}"',m.join());return h.format("{0}|{1}{2}",d,g,m);};c.iwa=function(d,g){var m;try{m=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(l){m="exception";}return m;};b.Pz=c;c.E$='video/mp4;codecs="{0},mp4a";';},59608:function(r,b){function a(c,k){var f;f=this;this.status={};c.forEach(function(h,d){f.status[h]=k[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.z_=void 0;a.prototype.yL=function(){return this.status;};a.prototype.b5=function(){return Object.entries(this.status).filter(function(c){c=ma(c);c.next();return c.next().value.supported;}).map(function(c){var k;c=ma(c);k=c.next().value;c.next();return k;});};b.z_=a;},72014:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u){this.Om=p;this.wb=q;this.Hab=u;this.Kpb="video/mp4;codecs={0}";this.emb="audio/mp4;codecs={0}";p=this.Om.iT(f.Re.gu);this.Jpb=d.pd.eUa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;r=a(70655);f=a(77003);h=a(86700);d=a(39780);g=a(89542);m=a(91402);l=a(98330);n=a(7942);c.prototype.c3=function(p){p=this.Om.dHb(p);p=this.wb.gF(p)?p:f.Re.UP;return this.Hab.format(this.Kpb,this.Jpb[p]);};c.prototype.W2=function(p){if(0 === p.length)return this.Hab.format(this.emb,d.pd.gaa);p=l.aza[p[0].af] || k.Mxa;return p === k.Mxa?n.BFa:p === k.reb?n.CFa:n.AFa;};a=k=c;a.Mxa="AAC";a.reb="XHEAAC";a=k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.Dw)),r.__param(1,(0,h.l)(g.Zf)),r.__param(2,(0,h.l)(m.mea))],a);b.jLa=a;},422:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;r=a(86700);c=a(15303);k=a(65898);f=a(29344);h=a(39465);d=a(43931);b.Mk=new r.Yc(function(g){g(c.Ew).Vd(function(){return function(){return pb._cad_global.device;};});g(h.gBa).to(d.fBa).da();g(k.dBa).to(f.cBa).da();});},15303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ew="DeviceFactorySymbol";},65898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dBa="DeviceIdGeneratorSymbol";},39465:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gBa="DeviceProviderSymbol";},29344:function(r,b,a){var k,f,h,d,g,m;function c(l,n){this.sa=l;this.lta=n;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;r=a(70655);k=a(35664);f=a(2467);h=a(16690);d=a(39784);g=a(60920);a=a(86700);c.prototype.wFb=function(){for(var l="",n=this.sa.ue.ba(f.na),p=6;p--;){l=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + l;n=Math.floor(n / 32);}for(;30 > l.length;){l+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.lta.M7a(new d.Tda(0,31,g.l5a))];}return l;};m=c;m=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.Fg)),r.__param(1,(0,a.l)(h.H_))],m);b.cBa=m;},98470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;b.eBa=function(a,c,k,f){this.jk=a;this.Qn=c;this.P3=f;};},43931:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t,v){this.OAb=p;this.gl=q;this.wb=t;this.RTb=v;this.NBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Ta("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;r=a(70655);k=a(68172);f=a(89542);h=a(98470);d=a(71163);g=a(65898);m=a(86700);l=a(7336);a=a(87005);c.prototype.vWa=function(p){try{return p.match(this.NBa)[2];}catch(q){}};c.prototype.BDb=function(p){try{return p.match(this.NBa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.gl.create().then(function(v){var y,x,A,z,B,C;function w(D){q.wb.Cm(D) && q.wb.Cm(y)?(x=new h.eBa(D,y,void 0,A,p.rS || "cadmium"),u(x)):t({za:k.R.JAa});}y=p.Qn;if(p.kma){A="bind_device";q.RTb.Hf(q.log,{}).then(function(D){w(D.esn);}).catch(function(D){t(D);});}else if(p.hL){B=p.jk;if(q.wb.Cm(B)){C=q.BDb(B);C != p.Qn && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Qn,ua:p.userAgent});}else p.Apa && q.log.error("esn from ui is missing");!p.nO && q.wb.Cm(B)?(A="config",w(B)):v.load(p.YUa).then(function(D){z=D.value;q.wb.Cm(z) && (!1,q.wb.Cm(B)?(D=q.vWa(B),A=D === z?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):A="storage_esn_not_in_config",w(y + z));}).catch(function(D){var E;function F(){v.save(p.YUa,E,!1).then(function(){w(y + E);}).catch(function(J){t(J);});}function G(){E=q.OAb.wFb();!1;F();}if(D.za === k.R.Zw){if(q.wb.Cm(p.jk)){E=q.vWa(p.jk);q.wb.Cm(E)?(A="config_since_not_in_storage",F()):(A="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.jk),G());}else (A="generated_since_not_in_config_and_storage",G());}else t(D);});}else w();}).catch(function(v){t(v);});});};n=c;n=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(g.dBa)),r.__param(1,(0,m.l)(l.yw)),r.__param(2,(0,m.l)(d.Xa)),r.__param(3,(0,m.l)(f.Zf)),r.__param(4,(0,m.l)(a.QHa))],n);b.fBa=n;},68511:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cba="CachedDrmDataSymbol";},94773:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yY="CannedChallengeProvider";},40517:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.JK=b.DVa=void 0;r=a(86700);c=a(96630);k=a(69557);f=a(85957);h=a(68511);d=a(97355);g=a(67937);m=a(1092);l=a(26041);n=a(68262);p=a(94773);q=a(31863);u=a(79220);t=a(8425);v=a(35912);w=a(76353);y=a(31341);x=a(42032);A=a(33662);z=a(41535);B=a(21410);C=a(52490);b.DVa=new r.Yc(function(D){D(k.qBa).to(f.pBa).da();D(h.cba).to(d.Yza).da();D(c.TY).yX(g.B7a);D(A.CEa).to(z.BEa).da();D(B.jca).to(C.DEa).da();D(m.Ow).SC(function(F){b.JK.parent=F.hb;return b.JK.get(m.Ow);});D(l.BP).Vd(function(){return function(){return new n.iGa();};});D(p.yY).to(q.$za).da();D(u.Eba).to(t.UBa).da();D(v.yba).to(w.vBa).da();D(y.fGa).to(x.eGa).da();});b.JK=new r.AY({DH:!0});},69557:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="DrmDataFactorySymbol";},26984:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zoa=b.hu=void 0;(function(a){a.Ocb="usable";a.Nq="expired";a.released="released";a.M5a="output-restricted";a.lTb="output-downscaled";a.d1b="status-pending";a.LLb="internal-error";})(b.hu || (b.hu={}));b.zoa=function(a){return !!a && !!a.keyStatuses;};},77960:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.vVa=b.Rr=void 0;(function(c){c[c.n2a=0]="licenseStarted";c[c.c8a=1]="receivedLicenseChallenge";c[c.b8a=2]="receivedLicense";c[c.d8a=3]="receivedRenewalChallengeComplete";c[c.e8a=4]="receivedRenewalLicenseComplete";c[c.f8a=5]="receivedRenewalLicenseFailed";c[c.LWb=6]="receivedIndivChallengeComplete";c[c.MWb=7]="receivedIndivLicenseComplete";c[c.VPa=8]="addLicenseComplete";c[c.bQa=9]="addRenewalLicenseComplete";c[c.cQa=10]="addRenewalLicenseFailed";})(a=b.Rr || (b.Rr={}));b.vVa=function(c){switch(c){case a.n2a:return "lg";case a.c8a:return "lc";case a.b8a:return "lr";case a.d8a:return "renew_lc";case a.e8a:return "renew_lr";case a.f8a:return "renew_lr_failed";case a.LWb:return "ilc";case a.MWb:return "ilr";case a.VPa:return "ld";case a.bQa:return "renew_ld";case a.cQa:return "renew_ld_failed";default:return "unknown";}};},96630:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="DrmServicesSymbol";b.TY="DrmServicesProviderSymbol";},35912:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yba="DrmTraitsFactorySymbol";},56594:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ygb=b.Fk=void 0;r=b.Fk || (b.Fk={});r[r.Ry=0]="playready";r[r.ZX=1]="widevine";r[r.kB=2]="fairplay";r[r.ybc=3]="clearkey";b.Ygb="DrmTypeSymbol";},99745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OD=void 0;r=b.OD || (b.OD={});r[r.Request=0]="Request";r[r.lKa=1]="Renewal";},79220:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eba="EmeApiFactorySymbol";},23152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kq="EmeConfigSymbol";},84131:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XBa="EmeSessionFactorySymbol";},33662:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="KeySystemProviderSymbol";},21410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jca="KeySystemRestrictorSymbol";},31341:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa="MediaKeySystemAccessInternalFactorySymbol";},1092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ow="MediaKeySystemAccessServicesSymbol";},26041:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BP="MediaKeysStorageFactorySymbol";},76427:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.EVa=void 0;r=a(86700);c=a(96630);k=a(66160);f=a(1092);h=a(96638);d=a(84131);g=a(51847);b.EVa=new r.Yc(function(m){m(c.uBa).to(k.tBa).da();m(f.Ow).to(h.hGa).da();m(d.XBa).to(g.WBa);});},97355:function(r,b,a){var h,d,g,m,l,n,p,q;function c(u,t,v){var w;w=this;this.is=u;this.gl=t;this.config=v;this.St=function(){return {version:w.version,drmData:w.D3.map(function(y){return y.St();})};};this.Sla=function(y){var x;w.is.Cm(y) && (y=k(y));1 === y.version && (y=f(w.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(A){return new q.SY(A);});}catch(A){throw new l.Lc(g.V.FI,g.R.Iz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",A);}}else {if(!y.version || !w.is.fk(y.version))throw new l.Lc(g.V.FI,g.R.Iz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new l.Lc(g.V.FI,g.R.Eza,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.yk=new n.cca(2,this.config.yS,this.is.Cm(this.config.yS),this.gl,this.St);}function k(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new l.Lc(g.V.FI,g.R.Iz);return {version:1,drmData:[u]};}function f(u,t){if(u.DA(t.drmData))return {version:2,drmData:t.drmData.map(function(v){var w;w=v.keySessionIds;return new q.SY({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(y){return {id:y,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).St();})};throw new l.Lc(g.V.FI,g.R.Iz);}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;r=a(70655);h=a(86700);d=a(23152);g=a(68172);m=a(89542);l=a(56003);n=a(133);p=a(7336);q=a(85957);c.prototype.S7a=function(){return this.$0b();};c.prototype.QPa=function(u){return this.yk.add(u);};c.prototype.lW=function(u){return this.yk.remove(u,function(t,v){return t.la === v.la;});};c.prototype.toString=function(){return JSON.stringify(this.St(),null,"  ");};c.prototype.$0b=function(){var u;u=this;this.W7a || (this.W7a=new Promise(function(t,v){u.yk.load(u.Sla).then(function(){t();}).catch(function(w){w.za && w.cause?v(new l.Lc(g.V.FI,w.za,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.W7a;};Wa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yk.version;}},D3:{configurable:!0,enumerable:!0,get:function(){return this.yk.Gl;}}});a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(m.Zf)),r.__param(1,(0,h.l)(p.yw)),r.__param(2,(0,h.l)(d.kq))],a);b.Yza=a;},31863:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t,v){this.pF=p;this.jc=q;this.nM=t;this.lo=v;this.log=u.Ta("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$za=void 0;r=a(70655);k=a(86700);f=a(96630);h=a(31224);d=a(71163);g=a(26041);m=a(1092);l=a(56594);n=a(78165);c.prototype.$ma=function(p){var q;q=this;return Promise.all([this.pF(),this.vma()]).then(function(u){var t;t=ma(u);u=t.next().value;t=t.next().value;return u.xFb({type:p,initData:t,V5:!1},q.nM());}).then(function(u){var t;t=ma(u);u=t.next().value;t=t.next().value;t=q.jc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {gz:u,wia:t};});};c.prototype.vma=function(){var p;p=this;return this.lo.pB().then(function(q){return q.Us();}).then(function(q){switch(q){case l.Fk.kB:return n.sCa;case l.Fk.Ry:return n.NIa;default:return n.PMa;}}).then(function(q){return q.map(p.jc.decode);});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.TY)),r.__param(1,(0,k.l)(h.kh)),r.__param(2,(0,k.l)(d.Xa)),r.__param(3,(0,k.l)(g.BP)),r.__param(4,(0,k.l)(m.Ow))],a);b.$za=a;},85957:function(r,b,a){var f;function c(){}function k(h){h?(this.active=!1,this.Sla(h)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=b.SY=void 0;r=a(70655);a=a(86700);k.prototype.Sla=function(h){this.ie=h.keySessionData?h.keySessionData.map(function(d){return {id:d.id,wG:d.licenseContextId,xU:d.licenseId};}):[];this.la=h.xid;this.O=h.movieId;};k.prototype.St=function(){return JSON.parse(JSON.stringify({keySessionData:this.ie?this.ie.map(function(h){return {id:h.id,licenseContextId:h.wG,licenseId:h.xU};}):[],xid:this.la,movieId:this.O}));};b.SY=k;c.prototype.create=function(){return new k();};c.prototype.load=function(h){return new k(h);};f=c;f=r.__decorate([(0,a.U)()],f);b.pBa=f;},66160:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v;function c(w,y,x,A,z,B,C,D,F){var G;G=this;this.wc=y;this.Vy=x;this.config=A;this.Ss=z;this.KBb=B;this.iK=C;this.nM=D;this.Yl=F;this.E1b=function(E,J){var K;G.Yl.mark(v.Oa.aZ,E.zi.la,"generate-challenge");K=!1;J.k_b(function(N){K || (K=!0,G.Yl.mark(v.Oa.$Y,E.zi.la,"generate-challenge"));G.NF(E,J,N).then(function(I){J.UPa(I);G.Ltb(J);}).catch(function(I){return J.Aqb(I);});});};this.log=w.Ta("DrmServices");this.Ss().Mr && this.iK.S7a().then(function(){G.vXb();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.t0a && this.RA(D(),m.Gh.sm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(65428);d=a(52022);g=a(85643);m=a(41047);l=a(23152);n=a(68511);p=a(85957);q=a(84131);u=a(17244);t=a(26041);v=a(3971);c.prototype.xFb=function(w,y){return this.RA(y,w.type,w.context).then(function(x){return x.AFb(w.initData,w.V5).then(function(A){return [x,{Qm:x.Us(),data:A.yj}];});});};c.prototype.Xg=function(w,y){var x;x=this;this.log.info("Requesting challenges",this.OYa(w,w.type));return this.RA(y,w.type,w.context).then(function(A){x.q4a(w,A);return A.BFb(w.initData,w.V5).then(function(){return A;});});};c.prototype.q4a=function(w,y){y.p_b(w.zi);this.E1b(w,y);};c.prototype.release=function(w,y){var x;x=this;this.log.info("Releasing server license",this.IZa(w));return this.yIb(w).then(function(){var A;A=Object.assign({active:!1,ie:[]},w.zi);x.iK.lW(A);y.IXb();return w;});};c.prototype.OYa=function(w,y){return {movieId:w.zi.O,xid:w.zi.la,type:(0,m.ppa)(y)};};c.prototype.IZa=function(w){return {movieId:w.zi?w.zi.O:void 0,xid:w.zi?w.zi.la:void 0,keySessionId:w.fy()};};c.prototype.NF=function(w,y,x){this.log.info("Sending license request",this.OYa(w,x.rf));return this.Vy.Xg({la:w.zi.la,Kf:w.zi.Kf,C3:[w.zi.Nk],yj:[{sessionId:y.fy() || "session",data:x.yj}],rf:x.rf,Qm:y.Us(),kSa:x.kSa,ri:w.zi.ri,ig:w.zi.ig});};c.prototype.yIb=function(w){this.log.info("Sending release request",this.IZa(w));return this.Vy.release({la:w.zi.la,ie:w.ie});};c.prototype.RA=function(w,y,x){return this.KBb.create().then(function(A){return A.createSession(w,y,x).then(function(){return A;});});};c.prototype.uXb=function(w){var y;y=this;return this.Vy.release({la:w.la,ie:w.ie}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.vXb=function(){var w;w=this;this.wc.Pj(this.config.jsa,function(){w.log.trace("Removing cached sessions",{"count:":w.iK.D3.length});w.iK.D3.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return w.uXb(x);}).then(function(){return w.iK.lW(x);});},Promise.resolve(void 0));});};c.prototype.Ltb=function(w){var y;if(w.fy() && w.zi){y=new p.SY();y.ie=w.ie;y.la=w.zi.la;y.O=w.zi.O;this.iK.QPa(y);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.Gi)),r.__param(2,(0,k.l)(d.sBa)),r.__param(3,(0,k.l)(l.kq)),r.__param(4,(0,k.l)(u.cc)),r.__param(5,(0,k.l)(q.XBa)),r.__param(6,(0,k.l)(n.cba)),r.__param(7,(0,k.l)(t.BP)),r.__param(8,(0,k.l)(g.GP))],a);b.tBa=a;},67937:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.B7a=void 0;c=a(68172);k=a(87704);f=a(96630);h=a(40517);b.B7a=function(g){h.JK.parent=g.hb;return function(){d || (d=new Promise(function(m,l){try{m(h.JK.get(f.uBa));}catch(n){l(new k.Ng(c.V.bib,c.R.lib,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},76353:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.jh=t;this.Si=v;this.jc=w;this.config=y;this.gi=x;this.Zg=A;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(70655);k=a(86700);f=a(5266);h=a(31224);d=a(53484);g=a(17244);m=a(95538);l=a(56594);n=a(23152);p=a(45165);q=a(48258);u=a(55783);c.prototype.create=function(t){switch(t){case l.Fk.Ry:return new q.TBa(this.Si,this.jc);case l.Fk.kB:return new u.LKa(this.Si,this.jc,this.jh,this.Zg);default:return new p.hAa(this.Si,this.jc,this.gi,this.config);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.oq)),r.__param(1,(0,k.l)(f.zw)),r.__param(2,(0,k.l)(h.kh)),r.__param(3,(0,k.l)(g.cc)),r.__param(4,(0,k.l)(n.kq)),r.__param(5,(0,k.l)(m.Vw))],a);b.vBa=a;},8425:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.Zd=t;this.jh=v;this.jc=w;this.is=y;this.fV=x;this.gi=A;}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;r=a(70655);k=a(86700);f=a(31224);h=a(89542);d=a(63088);g=a(53484);m=a(89682);l=a(56594);n=a(23152);p=a(56452);q=a(41996);u=a(8574);c.prototype.create=function(t){switch(t){case l.Fk.Ry:return new q.MJa(this.fV,this.is,this.jc,this.Zd,this.gi,this.jh);case l.Fk.kB:return new p.rCa(this.fV,this.is,this.jc,this.Zd,this.gi,this.jh);default:return new u.uu(this.fV,this.is,this.jc,this.Zd,this.gi,this.jh);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.ph)),r.__param(1,(0,k.l)(g.oq)),r.__param(2,(0,k.l)(f.kh)),r.__param(3,(0,k.l)(h.Zf)),r.__param(4,(0,k.l)(d.QI)),r.__param(5,(0,k.l)(n.kq))],a);b.UBa=a;},85291:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){l=f.Qe.call(this,l,void 0 === p?"EmeConfigImpl":p) || this;l.jd=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(2467);g=a(54662);a=a(20642);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{t6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},t0a:{configurable:!0,enumerable:!0,get:function(){return this.jd.T0a || this.jd.Z5 || this.jd.lU?!0:!1;}},WB:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(5);}},jsa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(10);}},yS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},ZS:{configurable:!0,enumerable:!0,get:function(){return !1;}},hka:{configurable:!0,enumerable:!0,get:function(){return !1;}},qr:{configurable:!0,enumerable:!0,get:function(){return !0;}},yQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},zQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},BQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},Q1:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},CQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},Xua:{configurable:!0,enumerable:!0,get:function(){return "";}},N5a:{configurable:!0,enumerable:!0,get:function(){return this.jd.ty?!1:!0;}},O5a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([g.config(g.Nc,"persistentStateRequired")],m.prototype,"t6a",null);r.__decorate([g.config(g.Nc,"initializeKeySystemAtStartup")],m.prototype,"t0a",null);r.__decorate([g.config(g.tk,"licenseRenewalRequestDelay")],m.prototype,"WB",null);r.__decorate([g.config(g.tk,"persistedReleaseDelay")],m.prototype,"jsa",null);r.__decorate([g.config(g.string,"drmPersistKey")],m.prototype,"yS",null);r.__decorate([g.config(g.Nc,"forceLimitedDurationLicense")],m.prototype,"ZS",null);r.__decorate([g.config(g.Nc,"disableLicenseRenewal")],m.prototype,"hka",null);r.__decorate([g.config(g.Nc,"prepareCadmium")],m.prototype,"qr",null);r.__decorate([g.config(g.tk,"apiCloseTimeout")],m.prototype,"yQa",null);r.__decorate([g.config(g.tk,"apiCreateMediaKeysTimeout")],m.prototype,"zQa",null);r.__decorate([g.config(g.tk,"apiSetServerCertificateTimeout")],m.prototype,"BQa",null);r.__decorate([g.config(g.tk,"apiGenerateRequestTimeout")],m.prototype,"Q1",null);r.__decorate([g.config(g.tk,"apiUpdateTimeout")],m.prototype,"CQa",null);r.__decorate([g.config(g.string,"serverCertificate")],m.prototype,"Xua",null);r.__decorate([g.config(g.Nc,"outputRestrictedIsFatal")],m.prototype,"N5a",null);r.__decorate([g.config(g.Nc,"outputRestrictedIsFatalForUhd")],m.prototype,"O5a",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl)),r.__param(1,(0,k.l)(a.fD)),r.__param(2,(0,k.l)(h.zY)),r.__param(2,(0,k.optional)())],m);b.VBa=m;},87704:function(r,b,a){var k,f;function c(h,d,g,m,l){h=void 0 === h?k.V.Lo:h;return f.Lc.call(this,h,d,g,void 0,void 0,m,f.Lc.ve(l),l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ng=void 0;k=a(68172);f=a(56003);ia(c,f.Lc);b.Ng=c;},51847:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t,v,w){this.Vl=p;this.Fa=q;this.jc=u;this.config=t;this.uo=v;this.lo=w;}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(58998);d=a(31224);g=a(23152);m=a(29853);l=a(41901);a=a(1092);c.prototype.create=function(){var p;p=this;return this.lo.pB().then(function(q){return new l.YBa(p.Vl,p.Fa,p.jc,p.config,p.uo,q);});};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.Jc)),r.__param(2,(0,k.l)(d.kh)),r.__param(3,(0,k.l)(g.kq)),r.__param(4,(0,k.l)(m.Wz)),r.__param(5,(0,k.l)(a.Ow))],n);b.WBa=n;},41901:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w;function c(y,x,A,z,B,C){var D;D=this;this.Fa=x;this.HA=A;this.config=z;this.uo=B;this.gC=C;this.keyStatuses=new p.Hb({});this.tra=function(F){var G,E,J,K,N,I;try{E=D.nl.qja(F);J=E.DG;K=E.messageType;N=E.sessionId;D.Bv=D.Bv || E.Bv;D.NW(N);D.log.trace("Received " + F.type + " event",{sessionId:N,messageType:K,keyIds:D.Bv});if(K === b.Dca){if(D.config.hka){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.rf=h.Gh.sm;D.po=t.kH;}D.po === t.Xg && D.fp(d.Rr.c8a);D.po === t.kH && D.fp(d.Rr.d8a);I={yj:J,kSa:K,rf:D.rf};null === (G=D.v5a) || void 0 === G?void 0:G.call(D,I);D.wU && (D.Bna(J)?D.SB(new n.Lc(f.V.IBa)):(D.wU.resolve(I),D.wU=void 0));}catch(O){D.SB(O);}};this.rra=function(F){var G,E,J,K,N,L,H,M,R,Y,ea,ca,Fa,Ja,Xa,cb,W;E=F.target;J=E.keyStatuses;D.NW(E.sessionId);D.log.trace("Received event: " + F.type);try{N=null === (G=D.context) || void 0 === G?void 0:G.n6;F=[];for(var I=ma(J),O=I.next();!O.done;O=I.next()){L=ma(O.value);H=L.next().value;M=L.next().value;R=D.HA.encode(new Uint8Array(H));F.push({eo:R,status:M,height:null === N || void 0 === N?void 0:N[R]});}F.sort(function(aa,Q){return (aa.height || 0) - (Q.height || 0);});Y=F.map(function(aa){return aa.eo;});ea=F.map(function(aa){return aa.height;});ca=F.map(function(aa){return aa.status;});D.bpa=Y + ", " + ea + ", " + ca;D.log.trace("KeyStatus: " + D.bpa);N={};for(var oa=ma(J),Ga=oa.next();!Ga.done;Ga=oa.next()){Fa=ma(Ga.value);Ja=Fa.next().value;Xa=Fa.next().value;cb=D.HA.encode(new Uint8Array(Ja));W=v[Xa];N[cb]=W.status;D.jG(cb,W.error) && (K=new m.Ng(W.error));}D.keyStatuses.set(N);}catch(aa){K=new m.Ng(f.V.lkb);K.qS(aa);}K?D.ar?D.h6(K):D.nU(K):(D.nl.L2() || D.z1a(),D.rf !== h.Gh.tn || D.nl.Dha() || (D.config.hka?D.log.trace("Disabling license renewal"):D.NXb()));};this.Jp=function(F){var G;G=D.nl.Sx(F);D.log.error("Received event: " + F.type,G);D.SB(G);D.h6(G);D.xp || D.ar || D.nU(G);};this.nSb=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.nU(new n.Lc(f.V.Cba,w[F]));};this.SB=function(F){var G;D.xp && D.close().then(function(){var E;D.log.trace("Issuing a generate challenge error");null === (E=D.xp) || void 0 === E?void 0:E.reject(F);D.xp=void 0;},function(E){var J;D.log.error("EmeSession closed with an error.",D.nl.Sx(E));null === (J=D.xp) || void 0 === J?void 0:J.reject(F);D.xp=void 0;});null === (G=D.wU) || void 0 === G?void 0:G.reject(F);};this.ZMb=function(){var F;null === (F=D.xp) || void 0 === F?void 0:F.resolve();D.xp=void 0;};this.h6=function(F){D.log.error("Failed to add license",F);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.xp=void 0;null === (G=D.ar) || void 0 === G?void 0:G.reject(F);D.ar=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.nl.Sx(G));D.po === t.kH && D.fp(d.Rr.cQa);D.xp=void 0;null === (E=D.ar) || void 0 === E?void 0:E.reject(F);D.ar=void 0;}).then(function(){throw F;});};this.z1a=function(){D.ar && (D.log.info("Successfully added license"),D.po === t.Xg?D.fp(d.Rr.VPa):D.po === t.kH && D.fp(d.Rr.bQa),D.ar.resolve(),D.ar=void 0);};this.nU=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.xp=void 0;D.ar=void 0;null === (G=D.s5a) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.nl.Sx(G));D.xp=void 0;D.ar=void 0;null === (E=D.s5a) || void 0 === E?void 0:E.call(D,F);});};this.fp=function(F){D.Rc.push({time:D.Fa.Fb(),ZU:F});};this.E8a=!1;this.log=y.Ta("EmeSession");this.po=t.O3b;this.sh=C.MTa();this.nl=C.LTa();this.Rc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=b.Dca=b.Eca=void 0;k=a(2467);f=a(68172);h=a(41047);d=a(77960);r=a(26984);g=a(99745);m=a(87704);l=a(29853);n=a(56003);p=a(14414);q=a(86684);u=a(85060);(function(y){y[y.O3b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Xg=3]="license";y[y.kH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Eca="license-request";b.Dca="license-renewal";v={usable:{status:r.hu.Ocb},expired:{status:r.hu.Nq,error:f.V.dda},released:{status:r.hu.released},"output-not-allowed":{status:r.hu.M5a,error:f.V.xHa},"output-restricted":{status:r.hu.M5a,error:f.V.eda},"output-downscaled":{status:r.hu.lTb},"status-pending":{status:r.hu.d1b},"internal-error":{status:r.hu.LLb,error:f.V.kkb}};w={"internal-error":f.R.chb,"closed-by-application":f.R.Zgb,"release-acknowledged":f.R.ghb,"hardware-context-reset":f.R.Aba,"resource-evicted":f.R.ihb};c.prototype.qL=function(){return this.gC.o6;};c.prototype.KYa=function(){return this.bpa;};c.prototype.fy=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.v5a=this.context=void 0;this.po=t.closed;this.Rc=[];void 0 !== this.c9 && (pb.clearTimeout(this.c9),this.c9=void 0);return this.sh.JMb()?(this.log.trace("Closing the session"),this.sh.w8a(this.tra),this.sh.t8a(this.rra),this.sh.r8a(this.Jp),this.mediaKeys=void 0,this.uo.Xp(this.config.yQa,this.sh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.nl.Sx(x).code=f.V.nkb;throw x;})):Promise.resolve(void 0);};c.prototype.Us=function(){return this.gC.Us();};c.prototype.m_a=function(){return void 0 !== this.Tk;};c.prototype.createSession=function(y,x,A){var z;z=this;this.context=A;this.rf=x;this.po=t.create;this.fp(d.Rr.n2a);return (y.o_a()?Promise.resolve():this.uo.Xp(this.config.zQa,this.sh.createMediaKeys(this.gC)).then(function(B){z.log.trace("Created media keys");return z.Brb(B).then(function(){return y.WPa(B);}).catch(function(C){return Promise.reject(z.Usa(C,f.V.jhb));});})).then(function(){z.mediaKeys=y.mediaKeys;try{z.sh.createSession(z.mediaKeys,u.TEMPORARY);z.sh.XPa(z.tra);z.sh.TPa(z.rra);z.sh.RPa(z.Jp);z.sh.qqb(z.nSb);z.NW(z.sh.fy());}catch(B){return Promise.reject(z.Usa(B,f.V.$gb));}}).catch(function(B){return Promise.reject(z.Usa(B,f.V.$O));});};c.prototype.p_b=function(y){this.zi=y;this.log.OPa("xid",y.la);};c.prototype.AFb=function(y,x){var A;A=this;return this.generateRequest(y,x).then(function(){A.log.trace("Returning the challenge promise");return A.wU.promise;});};c.prototype.BFb=function(y,x){this.generateRequest(y,x);return this.xp.promise;};c.prototype.UPa=function(y){this.ie=y.ie;y=y.Tk.map(function(x){return x.data;});this.Bna(y)?(this.log.error("The license buffer is empty"),this.SB(new m.Ng(f.V.HBa,f.R.FBa))):(this.po === t.Xg && (this.fp(d.Rr.b8a),this.Tk=y,this.uVa=this.nl.oL(this.Bv,y),this.ZMb()),this.po === t.kH && (this.fp(d.Rr.e8a),this.Tk=y,this.uVa=this.nl.oL(this.Bv,y),this.nha()));};c.prototype.Aqb=function(y){this.po === t.kH?(this.fp(d.Rr.f8a),this.nU(y)):this.SB(y);};c.prototype.nha=function(){var y,x;y=this;if(!this.Tk)return this.h6(new m.Ng(f.V.HBa,f.R.KBa));this.ar=new q.SP();x=this.Tk;this.Tk=void 0;this.uo.Xp(this.config.CQa,this.sh.update(x,this.po === t.Xg?g.OD.Request:g.OD.lKa,this.Bv)).then(function(){y.nl.L2() && y.z1a();}).catch(function(A){A=y.nl.Sx(A);A.code=f.V.t_;A.message="Unable to update the EME";y.log.error(A.message,A);y.h6(A);});return this.ar.promise;};c.prototype.k_b=function(y){this.v5a=y;};c.prototype.d_b=function(y){this.s5a=y;};c.prototype.oL=function(){return this.uVa;};c.prototype.generateRequest=function(y,x){var A;A=this;this.po=t.Xg;this.log.trace("Generating a license challenge");this.xp=new q.SP();this.wU=new q.SP();return y?this.Bna(y)?(y=new m.Ng(f.V.GBa,f.R.FBa),this.SB(y),Promise.reject(y)):this.uo.Xp(this.config.Q1,this.sh.generateRequest(this.nl.wma(),y,x)).then(function(){A.NW(A.sh.fy());}).catch(function(z){var B,C;B=new m.Ng(f.V.VY,z instanceof l.mq?f.R.aP:f.R.ql);try{C=A.nl.Sx(z);B.Oc=C.Oc;B.message="Unable to generate request.";B.qS(z);}catch(D){}A.log.error("Unable to generate a license request",B);A.SB(B);return Promise.reject(B);}):(y=new m.Ng(f.V.GBa,f.R.KBa),this.SB(y),Promise.reject(y));};c.prototype.Brb=function(y){return this.uo.Xp(this.config.BQa,this.sh.setServerCertificate(y,this.nl.A4()));};c.prototype.NW=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.OPa("sessionId",y));};c.prototype.NXb=function(){var y;y=this;this.E8a || (this.E8a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.WB}),this.c9=pb.setTimeout(function(){y.c9=void 0;y.jH();},this.config.WB.ba(k.na)));};c.prototype.QMb=function(y){var x,A,z;return 1080 < (null !== (z=null === (A=null === (x=this.context) || void 0 === x?void 0:x.n6) || void 0 === A?void 0:A[y]) && void 0 !== z?z:0);};c.prototype.jG=function(y,x){return x === f.V.eda?this.QMb(y)?this.config.O5a:this.config.N5a:!!x;};c.prototype.jH=function(){this.log.trace("Initiating a renewal request");this.rf=h.Gh.sm;this.po=t.kH;this.nl.oia()?this.nl.roa(this.sh):this.b3();};c.prototype.b3=function(){var y;y=this;this.sh.b3(this.mediaKeys,u.TEMPORARY,this.tra,this.rra,this.Jp).then(function(){y.log.debug("Creating session to renew license");y.NW(y.sh.fy());}).catch(function(){y.nU(new m.Ng(f.V.VY));});};c.prototype.Bna=function(y){return 0 === y.length || y.reduce(function(x,A){return x || 0 === A.length;},!1);};c.prototype.Usa=function(y,x){var A,z;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ec))return y;z=(0,u.Nma)(null === y || void 0 === y?void 0:y.message);return new m.Ng(x,y instanceof l.mq?f.R.aP:f.R.ql,null === (A=null === z || void 0 === z?void 0:z.toString(16)) || void 0 === A?void 0:A.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.YBa=c;},78165:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.sCa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.NIa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},41535:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t){this.Vl=p;this.config=q;this.AS=u;this.TB=t;this.log=this.Vl.Ta("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(70655);k=a(86700);f=a(60920);h=a(71163);d=a(17244);g=a(13329);m=a(85060);l=a(35912);a=a(21410);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().O1a || [this.config().Ul]).map(function(t){var v;v=g.eb.mT(t);v=p.AS.create(v).Xma();return (0 < v.length?v:[void 0]).map(function(w){return {keySystem:t,robustness:w};});});u=(0,f.flatten)(q).filter(function(t){return p.XDb(t);});return this.TB.get().then(function(t){return p.$Db(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.XDb=function(p){var q;p=g.eb.BDa.includes(p.keySystem) || m.CDa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().OVa || !p;};c.prototype.$Db=function(p,q){var u;u=this;return p.reduce(function(t,v,w){var y;y=u.SJb(v);w=p.length - 1 === w;y=(0,m.lTa)(y);q.includes(y) && !w || t.push(v);return t;},[]);};c.prototype.SJb=function(p){var q;q={keySystem:p.keySystem === g.eb.Rlb?g.eb.h0:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(d.cc)),r.__param(2,(0,k.l)(l.yba)),r.__param(3,(0,k.l)(a.jca))],n);b.BEa=n;},52490:function(r,b,a){var k,f,h,d;function c(g,m,l){this.config=g;this.Vl=m;this.hia=l;this.log=this.Vl.Ta("KeySystemRestrictor");this.uOb=this.config().RVa?this.hia.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(17244);a=a(24060);c.prototype.get=function(){var g;g=this;try{return this.config().RVa?this.uOb.then(function(m){return g.gEb(m);}):Promise.resolve([]);}catch(m){return (this.log.error("KeySystemRestrictor failed.",m),Promise.resolve([]));}};c.prototype.gEb=function(g){var m,n;this.d9a={};m=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(m));g=[];m=ma(Object.entries(m));for(var l=m.next();!l.done;l=m.next()){n=ma(l.value);l=n.next().value;n=n.next().value;this.jKb(n) && g.push(l);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.CYb=g;};c.prototype.jKb=function(g){var m,l;m=this;l=g.reduce(function(n,p){m.config().bDb.includes(p.code) && (p=m.tyb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.d9a[g[0].keySystem]=l;return Object.values(l).some(function(n){return n >= m.config().cDb;});};c.prototype.tyb=function(g){return [g.code,g.ec,g.Oc].filter(Boolean).join(".");};Wa.Object.defineProperties(c.prototype,{P1a:{configurable:!0,enumerable:!0,get:function(){return this.CYb;}},Q1a:{configurable:!0,enumerable:!0,get:function(){return this.d9a;}}});d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.cc)),r.__param(1,(0,k.l)(f.Xa)),r.__param(2,(0,k.l)(a.eba))],d);b.DEa=d;},42032:function(r,b,a){var k,f,h,d;function c(g,m){this.AS=g;this.CS=m;}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;r=a(70655);k=a(86700);f=a(35912);h=a(79220);d=a(1214);c.prototype.create=function(g,m,l){return new d.gGa(g,this.AS,this.CS,m,l);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.yba)),r.__param(1,(0,k.l)(h.Eba))],a);b.eGa=a;},1214:function(r,b,a){var k,f;function c(h,d,g,m,l){this.keySystem=h;this.AS=d;this.CS=g;this.gC=m;this.Qm=l;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;k=a(13329);f=a(85060);c.prototype.createMediaKeys=function(){return this.gC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.gC.getConfiguration();};c.prototype.Us=function(){return k.eb.mT(this.gC.keySystem);};c.prototype.MTa=function(){return this.CS.create(this.Qm);};c.prototype.LTa=function(){return this.AS.create(this.Qm);};Wa.Object.defineProperties(c.prototype,{o6:{configurable:!0,enumerable:!0,get:function(){var h,d;h=this.keySystem;d=(0,f.P4)(this.gC);d && (h+="." + d);return h;}}});b.gGa=c;},96638:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w;function c(y,x,A,z,B,C,D){this.Vl=y;this.jc=x;this.config=A;this.gi=z;this.FQb=B;this.CS=C;this.nNb=D;this.log=this.Vl.Ta("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(71163);d=a(87704);g=a(56594);m=a(31224);l=a(17244);n=a(13329);p=a(85060);q=a(78165);u=a(31341);t=a(79220);v=a(33662);a=a(23152);c.prototype.pB=function(){this.promise || (this.promise=this.PYb());return this.promise;};c.prototype.Kyb=function(y,x){var A;A={initDataTypes:[p.fu],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};y === g.Fk.ZX && this.gi.t6a && (A.persistentState="required");y=A.videoCapabilities[0];x && (y.robustness=x);return [A];};c.prototype.Dyb=function(y,x){var A;A=this;return new Promise(function(z,B){var C;C=n.eb.mT(y);A.CS.create(C).ZXb(y,A.Kyb(C,x)).then(function(D){A.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=A.FQb.create(y,D,C);A.o6=D.o6;z(D);}).catch(function(D){A.log.warn("Unable to create the media key system access object",{keySystem:y,error:D.message});B(new d.Ng(f.V.EBa,f.R.ql,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.KGb=function(){var y;y=this.config().O1a || [this.config().Ul];if(1 < y.length)return (y=y.map(function(x){return n.eb.mma(n.eb.mT(x));}),1 === new Set(y).size?Promise.resolve(y[0]):this.pB().then(function(x){return x.Us();}).then(function(x){return n.eb.mma(x);}));y=n.eb.mT(y[0]);return Promise.resolve(n.eb.mma(y));};c.prototype.mxa=function(y){var x,A,z,B;x=this;A=y.Us();z=y.MTa();B=y.LTa();return y.createMediaKeys().then(function(C){z.createSession(C,p.TEMPORARY);return z.setServerCertificate(C,B.A4());}).then(function(){return z.generateRequest(p.fu,x.vma(A),!1);}).then(function(){return z.close();}).then(function(){return y;}).catch(function(C){x.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.vma=function(y){switch(y){case g.Fk.kB:y=q.sCa;break;case g.Fk.Ry:y=q.NIa;break;default:y=q.PMa;}return y.map(this.jc.decode);};c.prototype.PYb=function(){var y;y=this;try{return this.nNb.get().then(function(x){return x.map(function(A,z){return function(){var B,C;B=z === x.length - 1;C=y.config().mxa && !B;return y.Dyb(A.keySystem,A.robustness).then(function(D){return C?y.mxa(D):Promise.resolve(D);});};});}).then(function(x){return y.QYb(x);});}catch(x){return Promise.reject(x);}};c.prototype.QYb=function(y){return y.reduce(function(x,A){return x.then(function(z){return Promise.resolve(z);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Wa.Object.defineProperties(c.prototype,{N1a:{configurable:!0,enumerable:!0,get:function(){return this.o6;}}});w=c;w=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(m.kh)),r.__param(2,(0,k.l)(l.cc)),r.__param(3,(0,k.l)(a.kq)),r.__param(4,(0,k.l)(u.fGa)),r.__param(5,(0,k.l)(t.Eba)),r.__param(6,(0,k.l)(v.CEa))],w);b.hGa=w;},68262:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;a.prototype.o_a=function(){return void 0 !== this.mediaKeys;};a.prototype.WPa=function(c){this.mediaKeys=c;};a.prototype.IXb=function(){this.o_a() && (this.mediaKeys=void 0);};b.iGa=a;},17664:function(r,b){function a(c,k,f){var h;h=this;this.jc=c;this.Dh=k;this.jh=f;this.oHb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=h.jc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.uCa={fu:1667591779,Bfb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;a.prototype.jwb=function(c,k){k=k?this.uCa.Bfb:this.uCa.fu;c=c.map(function(f){return {Cdc:"",oNb:f,wha:f,P0b:f,m5b:[1]};});return this.WOb(k,c);};a.prototype.VOb=function(c){var k;k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,c);return this.Spa("fpsi",[k]);};a.prototype.UOb=function(c,k,f,h){c=[this.Spa("fkri",[c])];k.byteLength && c.push(this.IU("fkai",[k]));f.byteLength && c.push(this.IU("fkcx",[f]));h.length && c.push(this.IU("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.IU("fpsk",c);};a.prototype.WOb=function(c,k){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.VOb(c)];for(var h in k){d=k[h];c.push(this.UOb(d.oNb,d.wha,d.P0b,d.m5b));}k=this.IU("fpsd",c);h=new Uint8Array(4);new DataView(h.buffer).setUint32(0,k.byteLength);return this.Spa("pssh",[f,h,k]);};a.prototype.Spa=function(c,k){var f,h,d;f=0;for(d in k){f+=k[d].byteLength;}f=new Uint8Array(12 + f);h=new DataView(f.buffer);d=0;h.setUint32(d,f.byteLength);d+=4;f.set(this.jh.decode(c),d);d+=4;h.setUint32(d,0);d+=4;for(var g in k){c=k[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.IU=function(c,k){var f,h;f=0;for(h in k){f+=k[h].byteLength;}f=new Uint8Array(8 + f);h=0;new DataView(f.buffer).setUint32(h,f.byteLength);h+=4;f.set(this.jh.decode(c),h);h+=4;for(var d in k){c=k[d];f.set(c,h);h+=c.byteLength;}return f;};b.qCa=a;},56452:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){t=f.uu.call(this,t,v,w,y,x,A) || this;t.jc=w;t.Dh=y;t.gi=x;t.jh=A;t.D_a=new h.qCa(t.jc,t.Dh,t.jh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;r=a(70655);k=a(86700);f=a(8574);h=a(17664);d=a(63088);g=a(89542);m=a(31224);l=a(89682);n=a(23152);p=a(53484);q=a(99745);u=a(26271);ia(c,f.uu);c.prototype.generateRequest=function(t,v,w){var y,x,A;y=this;try{x=v.map(function(z){return y.D_a.oHb(z);});this.k0a=x.map(function(z){return y.jc.encode(z);});A=this.D_a.jwb(x,w);return f.uu.prototype.generateRequest.call(this,t,[A],!1);}catch(z){return Promise.reject(z);}};c.prototype.update=function(t,v,w){var y,x,A,z,B;y=this;if(w)try{x=this.jh.encode(t[0]);A=JSON.parse(x).RESPONSES.map(function(C){var D;D=u.R_.Gab(C.ID);return {keyID:v === q.OD.lKa?y.k0a[y.k0a.length - 1]:w[D],payload:C.PAYLOAD};});if(v === q.OD.Request){z=A.map(function(C){return C.keyID;});w.forEach(function(C){-1 === z.indexOf(C) && A.push({keyID:C,error:1});});}B=JSON.stringify(A);t=[this.jh.decode(B)];}catch(C){return Promise.reject(C);}return f.uu.prototype.update.call(this,t,v);};c.prototype.jH=function(){return f.uu.prototype.update.call(this,[this.jh.decode("renew")],q.OD.Request);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.QI)),r.__param(1,(0,k.l)(g.Zf)),r.__param(2,(0,k.l)(m.kh)),r.__param(3,(0,k.l)(l.ph)),r.__param(4,(0,k.l)(n.kq)),r.__param(5,(0,k.l)(p.oq))],a);b.rCa=a;},41996:function(r,b,a){var k,f,h,d;function c(){return f.uu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;r=a(70655);k=a(86700);f=a(8574);h=a(87704);d=a(68172);ia(c,f.uu);c.prototype.b3=function(g,m,l,n,p){this.w8a(l);this.t8a(n);this.r8a(p);this.cOa=this.pe;this.pe=g.createSession(m);this.XPa(l);this.TPa(n);this.RPa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var m;function g(l){return l && l.sessionId?l.close():Promise.resolve();}m=this;this.Tia=void 0;return this.pe?Promise.all([g(this.pe),g(this.cOa)]).then(function(){}).finally(function(){m.pe=void 0;m.cOa=void 0;}):Promise.reject(new h.Ng(d.V.DBa,d.R.zI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,m,l){this.initDataType=g;this.initData=m;return f.uu.prototype.generateRequest.call(this,g,m,l);};a=c;a=r.__decorate([(0,k.U)()],a);b.MJa=a;},8574:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.fV=t;this.is=v;this.jc=w;this.Dh=y;this.gi=x;this.jh=A;(0,h.io)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.uu=void 0;r=a(70655);f=a(86700);h=a(60920);d=a(68172);g=a(63088);m=a(89542);l=a(87704);n=a(89682);p=a(31224);q=a(23152);a=a(53484);c.prototype.fy=function(){if(this.pe)return this.pe.sessionId;};c.prototype.ZXb=function(t,v){return this.fV.requestMediaKeySystemAccess(t,v);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,v){this.pe=t.createSession(v);};c.prototype.b3=function(){return Promise.reject(new l.Ng(d.V.VY));};c.prototype.JMb=function(){return !!this.pe;};c.prototype.setServerCertificate=function(t,v){return this.is.y1(t.setServerCertificate) && v?t.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(t,v){return this.pe?this.pe.generateRequest(t,v[0]):Promise.reject(new l.Ng(d.V.VY,d.R.zI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.pe?this.pe.update(t[0]):Promise.reject(new l.Ng(d.V.LBa,d.R.zI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.pe?this.pe.load(t):Promise.reject(new l.Ng(d.V.fhb,d.R.zI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Tia=void 0;if(!this.pe)return Promise.reject(new l.Ng(d.V.DBa,d.R.zI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.fy() && (t=this.pe.close());this.pe=void 0;return t;};c.prototype.remove=function(){return this.pe?this.pe.remove():Promise.reject(new l.Ng(d.V.hhb,d.R.zI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.jH=function(){return Promise.reject(new l.Ng(d.V.Bba,void 0,"Unable to renew a key session, not supported"));};c.prototype.XPa=function(t){if(!this.pe)throw ReferenceError("Unable to add message handler, key session is not valid");this.pe.addEventListener(k.QBa,t);};c.prototype.TPa=function(t){if(!this.pe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.pe.addEventListener(k.PBa,t);};c.prototype.RPa=function(t){if(!this.pe)throw ReferenceError("Unable to add error handler, key session is not valid");this.pe.addEventListener(k.OBa,t);};c.prototype.qqb=function(t){var v;v=this;if(!this.pe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Tia=t;this.pe.closed.then(function(w){var y;return null === (y=v.Tia) || void 0 === y?void 0:y.call(v,w);});};c.prototype.w8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.pe.removeEventListener(k.QBa,t);};c.prototype.t8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.pe.removeEventListener(k.PBa,t);};c.prototype.r8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.pe.removeEventListener(k.OBa,t);};u=k=c;u.QBa="message";u.PBa="keystatuseschange";u.OBa="error";u=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.QI)),r.__param(1,(0,f.l)(m.Zf)),r.__param(2,(0,f.l)(p.kh)),r.__param(3,(0,f.l)(n.ph)),r.__param(4,(0,f.l)(q.kq)),r.__param(5,(0,f.l)(a.oq))],u);b.uu=u;},45165:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w){this.Si=u;this.jc=t;this.gi=v;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(5266);d=a(31224);g=a(87704);m=a(29853);l=a(23152);n=a(17244);p=a(56003);q=a(85060);c.prototype.L2=function(){return !1;};c.prototype.Dha=function(){return !0;};c.prototype.oia=function(){return !0;};c.prototype.wma=function(){return q.fu;};c.prototype.A4=function(){return this.gi.Xua?this.jc.decode(this.gi.Xua):this.jc.decode(q.OMa);};c.prototype.Xma=function(){return [q.ju,q.Q_,q.P_];};c.prototype.roa=function(){Promise.reject(new p.Lc(f.V.Bba));};c.prototype.qja=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,DG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Sx=function(u){var t,v,w;t=new g.Ng(f.V.lq);v=null === u || void 0 === u?void 0:u.code;null != v && void 0 !== v?(v=parseInt(v,10),t.ec=1 <= v && 9 >= v?f.R.Sr + v:f.R.Sr):t.ec=u instanceof m.mq?f.R.aP:f.R.ql;try{w=u.message.match(/\((\d*)\)/)[1];t.Oc=this.Si.CF(w,4);}catch(y){}t.qS(u);return t;};c.prototype.oL=function(){};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.zw)),r.__param(1,(0,k.l)(d.kh)),r.__param(2,(0,k.l)(l.kq)),r.__param(3,(0,k.l)(n.cc))],a);b.hAa=a;},48258:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q){this.Si=p;this.jc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(5266);d=a(31224);g=a(87704);m=a(29853);l=a(56003);n=a(85060);c.prototype.L2=function(){return !0;};c.prototype.Dha=function(){return !1;};c.prototype.oia=function(){return !1;};c.prototype.wma=function(){return n.fu;};c.prototype.A4=function(){};c.prototype.Xma=function(){return [];};c.prototype.roa=function(){Promise.reject(new l.Lc(f.V.Bba));};c.prototype.qja=function(p){var q;q=new Uint8Array(p.message);q=this.hla(q,"PlayReadyKeyMessage","Challenge");q=this.jc.decode(q);return {type:p.type,sessionId:p.target.sessionId,DG:[q],messageType:p.messageType};};c.prototype.Sx=function(p){var q,u,t;q=new g.Ng(f.V.lq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ec=1 <= u && 9 >= u?f.R.Sr + u:f.R.Sr):q.ec=p instanceof m.mq?f.R.aP:f.R.ql;try{t=(/\((\d+)\)/).exec(p.message);q.Oc=this.Si.CF(Number(t && t[1]),4);}catch(v){}q.qS(p);return q;};c.prototype.hla=function(p,q){var t,v,w;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";v=p.length;for(t=0;t < v;t++){w=p[t];0 < w && (u+=String.fromCharCode(w));}v="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){w=arguments[t];if(0 > u.search(w))return "";w="(?:[^:].*:|)" + w;v="[\\s\\S]*<" + w + "[^>]*>" + v + "</" + w + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.oL=function(){};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.zw)),r.__param(1,(0,k.l)(d.kh))],a);b.TBa=a;},26271:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.R_=void 0;a.hLb=function(c){return "ID" + (c + 1);};a.Gab=function(c){return Number(c.substr(2)) - 1;};b.R_=a;},55783:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t;function c(v,w,y,x){this.Si=v;this.jc=w;this.jh=y;this.Zg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.LKa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(5266);d=a(53484);g=a(87704);m=a(29853);l=a(31224);n=a(85060);p=a(41901);q=a(56003);u=a(95538);t=a(26271);c.prototype.L2=function(){return !1;};c.prototype.Dha=function(){return !1;};c.prototype.oia=function(){return !0;};c.prototype.wma=function(){return n.fu;};c.prototype.A4=function(){return this.jc.decode(n.YY);};c.prototype.Xma=function(){return [];};c.prototype.roa=function(v){v.jH();};c.prototype.qja=function(v){var w,y;w=[];if(v.messageType === p.Eca || v.messageType === p.Dca){if(v.messageType === p.Eca){y=this.jh.encode(new Uint8Array(v.message));w=JSON.parse(y);y=w.map(function(x){return x.keyID;});w=w.map(function(x){return x.payload;});}else w=[this.jc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(x){return x && x.length;}))throw new q.Lc(f.V.IBa);w=this.T2b(w);w=this.jh.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,DG:[w],messageType:v.messageType,Bv:y};};c.prototype.Sx=function(v){var w,y,x,A;y=null === (w=v.target) || void 0 === w?void 0:w.error;if(y)(x=y.systemCode,A=y.code);w=new g.Ng(f.V.lq,v instanceof m.mq?f.R.aP:f.R.Sr,x?this.Si.CF(x,4):A,"",y);w.qS(v);return w;};c.prototype.T2b=function(v){v=v.map(function(w,y){return {ID:t.R_.hLb(y),PAYLOAD:w};});return {VERSION:this.Zg.jv?3:1,CHALLENGES:v};};c.prototype.oL=function(v,w){var y,x;y=this;if(w && this.Zg.jv)try{x=this.jh.encode(w[0]);return JSON.parse(x).RESPONSES.sort(function(A,z){return A.ID > z.ID?1:-1;}).map(function(A){var z;z=t.R_.Gab(A.ID);A=y.jc.decode(A.DHB).subarray(4,12);z=y.jc.decode(v[z]).subarray(0,8);return {from:A,to:z};});}catch(A){throw new g.Ng(f.V.jkb,void 0,void 0,void 0,A);}};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.zw)),r.__param(1,(0,k.l)(l.kh)),r.__param(2,(0,k.l)(d.oq)),r.__param(3,(0,k.l)(u.Vw))],a);b.LKa=a;},83245:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.vXa=void 0;r=a(86700);c=a(61597);k=a(71490);f=a(45168);h=a(91705);d=a(34703);g=a(24935);m=a(73240);l=a(65872);b.vXa=new r.Yc(function(n){n(l.ACa).to(c.zCa).da();n(l.pKa).to(k.oKa).da();n(l.nKa).to(f.mKa).da();n(g.wCa).to(h.vCa).da();n(m.zDa).to(d.yDa).da();});},24935:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wCa="FtlDataParserSymbol";},65872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pKa="ReportSyncSymbol";b.nKa="ReportApiErrorSyncSymbol";b.yCa="FtlProbeConfigSymbol";b.ACa="FtlProbeSymbol";},73240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zDa="HttpRequesterSymbol";},91705:function(r,b,a){var k,f,h,d,g;function c(m,l){this.is=m;this.json=l;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;r=a(70655);k=a(86700);f=a(60920);h=a(63088);d=a(2467);a=a(89542);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.vga(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.iR(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.iR(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.DA(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.iR(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.DA(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Cm(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.yR(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var l=0;l < m.urls.length;++l){n=m.urls[l];if(!this.is.vga(n))throw Error("FtlProbe: param.urls[" + l + "]: not an object");if(!this.is.ep(n.name))throw Error("FtlProbe: param.urls[" + l + "].name: not a string");if(!this.is.ep(n.url))throw Error("FtlProbe: param.urls[" + l + "].url: not a string");}return {pWb:m.pulses,F7a:m.pulse_delays?m.pulse_delays.map(d.Lb):[],oWb:(0,d.Lb)(m.pulse_timeout),I1a:m.next?(0,d.Lb)(m.next):void 0,urls:m.urls,Hpa:m.logblob,context:m.ctx};};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Zf)),r.__param(1,(0,k.l)(h.sD))],g);b.vCa=g;},69673:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t){p=d.Qe.call(this,p,"FtlProbeConfigImpl") || this;p.sh=q;p.sa=u;p.lf=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;r=a(70655);k=a(35664);f=a(86700);h=a(2467);d=a(90187);g=a(39141);m=a(54662);l=a(59578);a=a(65350);ia(c,d.Qe);Wa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.lf.s4;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Tla + (-1 === this.Tla.indexOf("?")?"?":"&") + "monotonic=" + this.sa.t4a + "&device=web";}},eab:{configurable:!0,enumerable:!0,get:function(){return h.Ia;}},Mla:{configurable:!0,enumerable:!0,get:function(){return "";}},Tla:{configurable:!0,enumerable:!0,get:function(){return this.sh.endpoint + "/ftl/probe" + (this.Mla?"?force=" + this.Mla:"");}}});n=c;r.__decorate([m.config(m.Nc,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([m.config(m.tk,"ftlStartDelay")],n.prototype,"eab",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"Mla",null);r.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"Tla",null);n=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.xl)),r.__param(1,(0,f.l)(g.oY)),r.__param(2,(0,f.l)(k.Fg)),r.__param(3,(0,f.l)(a.ED))],n);b.xCa=n;},61597:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t,v,w,y){this.config=p;this.N_a=q;this.wc=u;this.sf=t;this.VXb=v;this.Mta=w;this.bNb=0;this.ja=y.Ta("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(70655);f=a(86700);h=a(2467);d=a(65428);g=a(71163);m=a(24935);l=a(73240);a=a(65872);c.prototype.start=function(){this.config.enabled && !this.yr && (this.yr=this.wc.Pj(this.config.eab,this.tN.bind(this)));};c.prototype.stop=function(){this.yr && (this.yr.cancel(),this.yr=void 0);};c.prototype.tN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.bNb++;this.bJb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.RJb(u,t.url,t.name);})).then(function(t){0 < t.length && p.VXb.oW({data:t,context:u.context,Hpa:u.Hpa});}).then(function(){return u;});}).then(function(u){p.yr && (u.I1a?p.yr=p.wc.Pj(u.I1a,p.tN.bind(p)):p.stop());}).catch(function(u){return p.ja.error("FTL run failed",u);});};c.prototype.bJb=function(p){var q;q=this;return this.N_a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.Mta.oW({url:p,status:u.status,ksa:"FTL API request failed",no:u.no}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.sf.parse(u.body);return t instanceof Error?(q.Mta.oW({url:p,status:4,ksa:"FTL Probe API JSON parsing error",no:u.no}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.Mta.oW({url:p,status:0,ksa:u.message}),q.ja.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.RJb=function(p,q,u){var t;t=this;return new Promise(function(v,w){var F;for(var y,x,A,z,B=[],C={},D=0;D < p.pWb;(C={eaa:C.eaa,faa:C.faa},++D)){C.eaa=D < p.F7a.length?p.F7a[D]:h.Ia;C.faa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(E,J){t.wc.Pj(G.eaa,function(){k.PVb(t.N_a,G.faa,p.oWb).then(function(K){function N(I,O,L){I || (I=L.headers[O]);return I;}y=N(y,"via",K);x=N(x,"x-ftl-probe-data",K);A=N(A,"x-ftl-error",K);z=N(z,"latency-trace",K);K={status:K.status,no:K.no,p5b:y || "",hvb:x || "",LS:A || "",CNb:t.LTb(z)};E(K);}).catch(function(K){J(K);});});});};})(C);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){v({url:q,name:u,data:G});}).catch(function(G){w(G);});});};c.prototype.LTb=function(p){var q;if(p){q={};p=ma(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.PVb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=k=c;n=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.yCa)),r.__param(1,(0,f.l)(l.zDa)),r.__param(2,(0,f.l)(d.Gi)),r.__param(3,(0,f.l)(m.wCa)),r.__param(4,(0,f.l)(a.pKa)),r.__param(5,(0,f.l)(a.nKa)),r.__param(6,(0,f.l)(g.Xa))],n);b.zCa=n;},34703:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u,t){this.sa=q;this.c6b=u;this.performance=t;(0,f.io)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;r=a(70655);f=a(60920);h=a(40152);d=a(36845);g=a(63088);m=a(35664);l=a(86700);n=a(55749);p=a(2467);c.prototype.get=function(q,u,t){var v;v=this;return new Promise(function(w,y){var x,A,z;try{x=v.c6b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ba(p.na));A=v.sa.ue;z=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:z=v.sa.ue.wa(A);break;case XMLHttpRequest.DONE:B=v.sa.ue.wa(A);B={body:x.responseText,status:x.status,headers:k.Sra(x.getAllResponseHeaders()),no:v.Gma(q,(0,d.xa)(x.responseText.length),B,z)};w(B);}};x.send();}catch(B){y(B);}});};c.Sra=function(q){var u,v,w;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){v=q[t];w=v.indexOf(": ");0 < w && (u[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return u;};c.prototype.Gma=function(q,u,t,v){u={size:u,duration:t,twa:v};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,h.gM)(u);q.decodedBodySize && (u.size=(0,d.xa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.gVa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.mwa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.twa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.zwa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.zwa=(0,p.timestamp)(t),u.mwa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return u;};a=k=c;a=k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(m.Fg)),r.__param(1,(0,l.l)(n.VMa)),r.__param(2,(0,l.l)(g.qda)),r.__param(2,(0,l.optional)())],a);b.yDa=a;},45168:function(r,b,a){var k,f,h,d,g,m;function c(l,n){this.Sf=l;this.tqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(70655);f=a(86700);h=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.oW=function(l){l=this.tqa.Hs("ftlProbeError","info",k.Y5b({url:l.url,sc:l.status,pf_err:l.ksa},l));this.Sf.vc(l);};c.Y5b=function(l,n){n.no && (n=n.no,k.$u(l,"d",n.duration),k.$u(l,"dns",n.gVa),k.$u(l,"tcp",n.mwa),k.$u(l,"tls",n.zwa),k.$u(l,"ttfb",n.twa),l.sz=n.size.ba(h.eu));return l;};c.$u=function(l,n,p){p && (l[n]=p.ba(d.na));};m=k=c;m=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.rm)),r.__param(1,(0,f.l)(a.Lw))],m);b.mKa=m;},71490:function(r,b,a){var k,f,h,d,g,m;function c(l,n){this.Sf=l;this.tqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;r=a(70655);f=a(86700);h=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.oW=function(l){var n;n={ctx:l.context,data:l.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return k.Z5b({d:q.no.duration.ba(d.na),sc:q.status,sz:q.no.size.ba(h.eu),via:q.p5b,cip:q.hvb,err:q.LS},q);})};})};l=this.tqa.Hs(l.Hpa,"info",n);this.Sf.vc(l);};c.Z5b=function(l,n){k.$u(l,"dns",n.no.gVa);k.$u(l,"tcp",n.no.mwa);k.$u(l,"tls",n.no.zwa);k.$u(l,"ttfb",n.no.twa);k.Dqb(l,n.CNb);return l;};c.Dqb=function(l,n){n && (l.rtts=n);};c.$u=function(l,n,p){p && (l[n]=p.ba(d.na));};m=k=c;m=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.rm)),r.__param(1,(0,f.l)(a.Lw))],m);b.oKa=m;},10561:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Sk=void 0;r=a(86700);c=a(55463);k=a(77053);b.Sk=new r.Yc(function(f){f(c.LEa).to(k.KEa);});},55463:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LEa="LicenseBrokerFactorySymbol";},70219:function(r,b,a){var k,f,h,d,g;function c(m,l){this.Rb=m;this.j=l;this.uU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.KO=void 0;r=a(70655);k=a(68172);f=a(86700);h=a(95919);d=a(30818);g=a(89082);c.prototype.g4=function(m){this.uU.forEach(function(l){return l(m);});};c.prototype.kd=function(m,l,n){this.j.kd(m,l,n);};c.prototype.zqb=function(m){-1 === this.uU.indexOf(m) && this.uU.push(m);};c.prototype.HXb=function(m){m=this.uU.indexOf(m);0 <= m && this.uU.splice(m,1);};c.prototype.VZa=function(m){var l,n;l={};(0,h.Qc)(m.code)?l.za=(0,k.iCa)(m.code):l.za=k.R.ql;try{n=m.message.match(/\((\d*)\)/)[1];l.De=(0,g.Nha)(n,4);}catch(p){}l.Kb=(0,d.ve)(m);return l;};a=c;a=r.__decorate([(0,f.U)()],a);b.KO=a;},89868:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t;function c(v,w,y,x,A){x=p.KO.call(this,x,A) || this;x.config=v;x.gi=w;x.Xc=y;x.log=(0,f.Nh)(x.j,"LegacyLicenseBroker");x.Ul=x.config().Ul;x.config().y7a?(0,d.m1a)()?x.M$=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.CD}):x.M$=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.GEa=void 0;r=a(70655);k=a(68172);f=a(89082);h=a(50563);d=a(24133);g=a(50876);m=a(86700);l=a(42029);n=a(811);p=a(70219);q=a(41047);u=a(2467);ia(c,p.KO);c.prototype.KTa=function(v){var w;w=void 0 === w?this.j:w;return new this.nr.yI(v,function(y){return w.U2.NF(y);},function(y){return w.U2.release(y);},{pf:!1,nk:!1});};c.prototype.RA=function(v){var w,y,x,A,z,B;w=this;v=void 0 === v?this.j:v;y=a(61831).Im;this.nr.yI || this.kd(k.V.HI,k.R.ahb);x=(0,f.Nh)(v,"Eme");A=this.KTa(x);z=f.Aa.get(h.XP);B=z.W2(v.tc.value.streams);z=z.c3(v.Mg.value.streams);return this.nr.AI(x,function(C){return v.ke(C);},{pf:!1,nk:!1,sa:{getTime:y},xo:A,aW:!!this.M$,$:this.Rb.$,xz:this.config().MVa,onerror:function(C,D,F){return w.kd(C,D,F);},bra:function(){},VG:!0,ksb:B,u5b:z,opa:this.gi.Q1.ba(u.na)});};c.prototype.setMediaKeys=function(v){var w;w=this;return this.M$?new Promise(function(y,x){if(w.Rb.$)w.Rb.$.setMediaKeys(v).then(function(){y();}).catch(function(A){var z;z=w.VZa(A);x({ka:!1,code:k.V.SI,ec:z.za,Oc:z.De,Kb:z.Kb,message:"Set media keys is a failure",cause:A});});else return Promise.resolve();}):Promise.resolve();};c.prototype.lWa=function(v){return {code:v.code,subCode:v.ec,extCode:v.Oc,edgeCode:v.Rm,message:v.message,errorDetails:v.Kb,errorData:v.iB,state:v.state};};c.prototype.eva=function(v,w,y){var A,z,B;function x(){z.jH().catch(function(C){A.log.error("Unable to set the license",A.lWa(C));C.cause && C.cause.Kb && (C.Kb=C.Kb?C.Kb + C.cause.Kb:C.cause.Kb);A.kd(C.code,C,C.Oc);});}A=this;y=void 0 === y?this.j:y;z=y.ee;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return z.Xg(A.N4(!1),v);};return (w?function(){return z.S1(A.Rb.$);}:function(){return z.create(A.Ul).then(function(){return Promise.resolve();});})().then(B).then(function(){return A.setMediaKeys(z.mediaKeys);}).then(function(){A.log.info("license set");A.g4(y.O);A.Rb.Edb.then(function(){A.config().WB && (w || A.config().ZS) && (A.F8a=pb.setTimeout(x,A.config().WB));});}).catch(function(C){A.log.error("Unable to set the license",A.lWa(C));C.cause && C.cause.Kb && (C.Kb=C.Kb?C.Kb + C.cause.Kb:C.cause.Kb);if(w)throw Error(C && C.message?C.message:"failed to set license");A.kd(C.code,C,C.Oc);});};c.prototype.$y=function(){return Promise.resolve();};c.prototype.X7=function(){var w;function v(){var y;w.j.ee=w.RA();y=[];w.j.Ft.forEach(function(x){y.push((0,f.Bq)(x));});w.eva(y);}w=this;this.vU || (this.vU=!0,this.nr.AI?this.j.Ft?this.config().FS && this.config().qr?this.Xc.UXa(this.j.O).then(function(y){w.j.ee=y;return y.xxa.then(function(){var x;x=[];w.j.Ft.forEach(function(A){x.push((0,f.Bq)(A));});return w.eva(x,!0).then(function(){var A;if(y.zbc)w.kd(k.V.ehb);else {A=(0,f.Nh)(w.j,"Eme");y.Ccb({log:A,cn:function(z){return w.j.ke(z);}},{xo:w.KTa(A),onerror:function(z,B,C){return w.kd(z,B,C);}});w.j.ny(y.Rc || ({}));w.j.OE="videopreparer";}});});}).catch(function(y){w.log.warn("eme not in cache",y);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.kd(k.V.mkb)):this.kd(k.V.HI,k.R.bhb));};c.prototype.K8a=function(v){var w;v=void 0 === v?this.j:v;v.ee=this.RA();w=[];v.Ft.forEach(function(y){w.push((0,f.Bq)(y));});return this.eva(w,!1,v);};c.prototype.N4=function(v){return this.config().ZS?q.Gh.tn:v?q.Gh.tn:q.Gh.sm;};Wa.Object.defineProperties(c.prototype,{nr:{configurable:!0,enumerable:!0,get:function(){return f.Aa.get(n.x_);}},jC:{configurable:!0,enumerable:!0,get:function(){return this.M$?"encrypted":this.Rb.RBa + "needkey";}}});t=c;r.__decorate([l.y6],t.prototype,"nr",null);r.__decorate([l.y6],t.prototype,"jC",null);t=r.__decorate([(0,m.U)()],t);b.GEa=t;},77053:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t,v){this.pF=p;this.gi=q;this.config=u;this.nM=t;this.Xc=v;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;r=a(70655);k=a(86700);f=a(96630);h=a(31134);d=a(89868);g=a(23152);m=a(17244);l=a(26041);a=a(76820);c.prototype.create=function(p,q,u){return p?new h.MEa(this.config(),this.gi,this.Xc,q,u,this.pF,this.nM()):new d.GEa(this.config,this.gi,this.Xc,q,u);};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.TY)),r.__param(1,(0,k.l)(g.kq)),r.__param(2,(0,k.l)(m.cc)),r.__param(3,(0,k.l)(l.BP)),r.__param(4,(0,k.l)(a.PD))],n);b.KEa=n;},31134:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y,x,A){w=l.KO.call(this,w,y) || this;w.config=u;w.gi=t;w.Xc=v;w.pF=x;w.a7=A;w.log=(0,f.Nh)(w.j,"LicenseBroker");w.vU=new Set();w.oqa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;r=a(70655);k=a(68172);f=a(89082);h=a(77960);d=a(2467);g=a(86700);m=a(42029);l=a(70219);n=a(41047);p=a(34202);q=a(85060);ia(c,l.KO);c.prototype.X7=function(){var u,t;u=this;t=this.j.aa;this.vU.has(t.O) || (this.vU.add(t.O),this.Arb(t).catch(function(){return u.L8a(t);}).then(function(){return u.MQa(t);}).catch(function(v){return u.LQa(t,v);}).catch(function(v){return u.kd(v.code,v,v.Oc);}));};c.prototype.Arb=function(u){var t;t=this;return Promise.all([this.Xc.UXa(u.O),this.pF()]).then(function(v){var w,y;v=ma(v);w=v.next().value;y=v.next().value;return w.H9.then(function(x){var A;A=t.a7.mediaKeys;if(A && A !== x.mediaKeys)return (t.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === w.source && (A=t.PYa(u),y.q4a(A,x));return x;}).then(function(x){return t.S1(x,u,w.source);});}).catch(function(v){t.log.warn("eme not in cache",v);throw v;});};c.prototype.S1=function(u,t,v){this.p7a(u,t);t.OE=v;this.a7.WPa(u.mediaKeys);return u.nha();};c.prototype.UEb=function(u){var t;t={};u.forEach(function(v){t[(0,h.vVa)(v.ZU)]=v.time.ba(d.na);});return t;};c.prototype.p7a=function(u,t){var v;v=this;t.ee=u;u.d_b(function(w){v.kd(w.code,w,w.Oc);});};c.prototype.MQa=function(u){this.log.info("Successfully applied license for xid: " + u.la + ", viewable: " + u.O + ", segment: " + u.I);this.ny(u);this.oqa?this.g4(u.O):this.setMediaKeys(u);};c.prototype.LQa=function(u,t){this.ny(u);throw t;};c.prototype.ny=function(u){u.ee && u.ny(this.UEb(u.ee.Rc));};c.prototype.PYa=function(u){var t,v;t=u.rw[0];v=t.streams[0].af;v=(0,q.xoa)(v);t=(0,q.Bma)(t.streams);return {type:this.N4(!1),initData:u.Ft.map(function(w){return (0,f.Bq)(w);}),V5:v,context:{$:this.Rb.$,n6:t},zi:{O:u.O,la:u.la,Kf:u.Kf,Nk:u.Nk,ri:u.W.ri,ig:u.W.Ga.ig}};};c.prototype.L8a=function(u){var t;t=this;return this.pF().then(function(v){var w;w=t.PYa(u);t.vU.add(u.O);return v.Xg(w,t.a7).then(function(y){t.p7a(y,u);t.j.fireEvent(p.ea.yU,{O:u.O});return y.nha();});});};c.prototype.setMediaKeys=function(u){var t;t=this;if(this.oqa)this.log.trace("Media Keys already set");else try{this.Rb.$?(this.oqa=!0,this.Rb.$.setMediaKeys(u.ee.mediaKeys).then(function(){t.g4(u.O);}).catch(function(v){v=t.VZa(v);t.kd(k.V.SI,v,v.De);})):this.g4(u.O);}catch(v){this.kd(k.V.SI,v,void 0);}};c.prototype.$y=function(){var u,t;u=this;t=this.j.aa.ee;return t?this.pF().then(function(v){return v.release(t,u.a7).then(function(w){u.log.trace("Successfully released the license");return w.close();}).catch(function(w){u.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.K8a=function(u){var t;t=this;u=void 0 === u?this.j:u;return this.L8a(u).then(function(){return t.MQa(u);}).catch(function(v){return t.LQa(u,v);});};c.prototype.N4=function(u){return this.gi.ZS?n.Gh.tn:u?n.Gh.tn:n.Gh.sm;};Wa.Object.defineProperties(c.prototype,{jC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Ul:{configurable:!0,enumerable:!0,get:function(){return this.config.Ul;}}});a=c;r.__decorate([m.y6],a.prototype,"jC",null);a=r.__decorate([(0,g.U)()],a);b.MEa=a;},55714:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vya="AppLogSinkSymbol";},99088:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.O2a=void 0;r=a(86700);c=a(53713);k=a(21745);f=a(99530);h=a(30927);d=a(37856);g=a(29588);m=a(17244);l=a(75448);n=a(72464);p=a(20278);q=a(65428);u=a(15303);t=a(55714);v=a(32411);w=a(51340);y=a(91022);x=a(32841);A=a(14959);z=a(95114);B=a(2052);C=a(86491);D=a(49976);F=a(61952);G=a(14697);E=a(58031);b.O2a=new r.Yc(function(J){J(A.rm).to(f.eFa).da();J(v.wGa).to(h.vGa).da();J(w.tFa).to(d.sFa).da();J(x.pFa).to(g.oFa).da();J(A.rca).to(l.dFa).da();J(y.Lw).to(n.lFa).da();J(x.nFa).to(p.mFa).da();J(z.tP).to(B.sP).da();J(z.uca).to(F.qFa).da();J(G.wP).to(E.vP).da();J(C.mBa).to(D.lBa).da();J(t.vya).to(k.uya).da();J(A.fFa).yX(function(K){return function(){return K.hb.get(c.HP)().then(function(N){return new Promise(function(I){var L,H,M;function O(){H() && M() && N.eV?I(K.hb.get(A.rm)):L.Oj(O);}L=K.hb.get(q.Gi);H=K.hb.get(m.cc);M=K.hb.get(u.Ew);L.Oj(O);});});};});});},86491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mBa="DownloadReportBuilderSymbol";},14959:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rca="LogBatcherConfigSymbol";b.rm="LogBatcherSymbol";b.fFa="LogBatcherProviderSymbol";},51340:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tFa="LogblobSenderSymbol";},91022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lw="LogMessageFactorySymbol";},32841:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nFa="LogMessageRulerConfigSymbol";b.pFa="LogMessageRulerSymbol";},95114:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tP="LogblobBuilderFactorySymbol";b.uca="LogblobBuilderCommonSymbol";},63563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;r=b.Ec || (b.Ec={});r.$sb="bitraterestriction";r.iSa="cdnsel";r.Ix="chgstrm";r.debug="debug";r.eBb="dlreport";r.Zx="endplay";r.bU="intrplay";r.Hy="midplay";r.PM="playbackaborted";r.nW="renderstrmswitch";r.DC="repos";r.It="resumeplay";r.PZb="serversel";r.Er="startplay";r.bX="statechanged";r.transition="transition";r.Mua="segmentdropped";r.Nrb="asereport";r.qOb="livereport";r.pOb="livepipelinefailover";r.fRa="audioswitch";r.yRa="blockedautoplay";r.config="config";r.Jcc="ftlProbeError";r.M1b="subtitleerror";r.N1b="subtitleqoe";r.O2b="timedtextrebuffer";r.wbb="timedtextswitch";r.bab="speedchanged";},14697:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="LogblobMonitorFactorySymbol";},32411:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="MessageQueueSymbol";},21745:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u){var t;t=this;this.KOb=n;this.yy=p;this.config=u;this.wta=[];this.KOb.X8(k.ceb,this.HJb.bind(this));q().then(function(v){var w;w=u().rp.NEb;t.xPb=w?l.jj[w.toUpperCase()]:l.jj.Eh;t.Sf=v;t.GZb();});}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;r=a(70655);f=a(86700);h=a(17244);d=a(33456);g=a(14959);m=a(91022);l=a(71163);c.prototype.HJb=function(n,p){this.Sf?this.H7a(n,p):this.wta.push([n,p]);};c.prototype.GZb=function(){var n,p;n=this;p=this.wta;this.wta=[];p.forEach(function(q){n.H7a(q[0],q[1]);});};c.prototype.H7a=function(n,p){var q;if(this.Sf && this.X_b(n)){q={debugMessage:n.message,debugCategory:n.Ln};n.Hc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.yy.Hs("debug",l.jj[n.level].toLowerCase(),q,p);this.Sf.vc(n);}};c.prototype.X_b=function(n){var p;p=this.xPb;return void 0 !== p && n.level <= p && !n.Hc.find(function(q){return q.KS(l.YO);});};a=k=c;a.ceb="adaptorAll";a=k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.JI)),r.__param(1,(0,f.l)(m.Lw)),r.__param(2,(0,f.l)(g.fFa)),r.__param(3,(0,f.l)(h.cc))],a);b.uya=a;},49976:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;r=a(70655);k=a(12648);f=a(20736);h=a(30818);d=a(68172);g=a(70633);m=a(50876);l=a(86700);a=a(17244);c.prototype.construct=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.url;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,h.bg)(t,function(w,y){v.push(u.pJb(y,q));});return {urls:v};};c.prototype.pJb=function(p,q){var u,t,v,w,y;u=this;v=p[0];w={url:v.url,bitrate:v.bitrate,cdnid:null === (t=v.Ac) || void 0 === t?void 0:t.id,dltype:v.gBb,id:v.Vb};y={};p.forEach(function(x){var A;A=u.hMb(x)?"fail":"success";y[A] || (y[A]=[]);y[A].push(x);});(0,h.bg)(y,function(x,A){"fail" === x?w.failures=u.SGb(A,q):"success" === x && (w.downloads=u.IGb(A,q));});return w;};c.prototype.IGb=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.zvb;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,h.bg)(t,function(w,y){var x;x=[];y.forEach(function(A){x.push(A);u.SLb(A) && (v.push(u.mYa(x,q,w)),x=[]);});0 < x.length && v.push(u.mYa(x,q,w));});return v;};c.prototype.mYa=function(p,q,u){var t,v,w,y,A;t=p.sort(function(z,B){return z.Wl.cj < B.Wl.cj?-1:z.Wl.cj > B.Wl.cj?1:0;});v=t[0].Wl;w=v.ew;y=v.cj;v=v.Yp;for(var x=1;x < p.length;x++){A=p[x].Wl;A.ew < w && (w=A.ew);A.cj < y && (y=A.cj);A.Yp > v && (v=A.Yp);}x=this.uIb(t);A=t[t.length - 1];return {time:w - q,tcpid:u?parseInt(u):-1,tresp:y - w,first:x,ranges:this.vIb(t,x),dur:v - y,trace:this.uB(p),status:this.yL(A),enctimeinfo:A.Gka};};c.prototype.uIb=function(p){var q;q=0;p.forEach(function(u){u.Vv && (q=(0,m.Nw)(q,u.Vv[0]));});return q;};c.prototype.vIb=function(p,q){var u;u=[];p.forEach(function(t){t.Vv?u.push([t.Vv[0] - q,t.Vv[1] - q]):u.push([0,-1]);});return u;};c.prototype.uB=function(p){var q,u;q=[];p.forEach(function(t){var v;t=t.Wl;if(u){v=t.ew - u.Yp;0 < v && q.push([v,-2]);v=(0,m.Wr)(u.Yp,t.ew);v=t.cj - v;0 < v && q.push([v,-3]);}q.push([t.Yp - t.cj,t.S2 || 0]);u=t;});return q;};c.prototype.SLb=function(p){if(p.za === d.R.oD || p.za === d.R.pD)return !0;};c.prototype.yL=function(p){if(p.ka)return "complete";if(p.za === d.R.oD)return "abort";if(p.za === d.R.pD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.SGb=function(p,q){var u,t;u=this;t=[];p.forEach(function(v){var w;w=v.Wl;v={time:w.cj - q,tresp:w.cj - w.ew,dur:w.Yp - w.cj,range:v.Vv,reason:u.xIb(v),httpcode:v.Ll,nwerr:(0,k.dZa)(v.za),enctimeinfo:v.Gka};t.push(v);});return t;};c.prototype.xIb=function(p){return p.Ll || p.za === d.R.iP?"http":p.za === d.R.kP?"timeout":"network";};c.prototype.hMb=function(p){return p.ka || void 0 === p.ka || p.za === d.R.oD || p.za === d.R.pD?!1:!0;};c.prototype.swb=function(p){var q,u,t,v,w,y;q=p.request;u=q.stream;t=q.track;v=q.url;w=this.FGb(t,v);switch(w){case f.Zj.audio:case f.Zj.video:y=q.stream.Vb;break;case f.Zj.vwa:case f.Zj.Jwa:y=t.Vb;}p={bitrate:u && u.bitrate,gBb:w,Vb:y,Wl:p.Wl,Ac:q.Ac,url:v,De:p.De,Ll:p.Ll,za:p.za,ka:p.ka,zvb:this.yDb(p),Gka:q.QK};void 0 !== q.offset && void 0 != q.length && (p.Vv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.FGb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.yDb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,h.bj)(p):p;};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.cc))],n);b.lBa=n;},75448:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p){n=m.Qe.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.sPb=(0,k.xa)(5E5);n.EZb=(0,f.s7)(1);n.w3a=(0,k.xa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(70655);k=a(36845);f=a(2467);h=a(86700);d=a(17244);g=a(54662);m=a(90187);a=a(59578);ia(c,m.Qe);Wa.Object.defineProperties(c.prototype,{Hga:{configurable:!0,enumerable:!0,get:function(){return this.config().Hga;}},H$a:{configurable:!0,enumerable:!0,get:function(){return [];}},G$a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});l=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],l.prototype,"H$a",null);r.__decorate([g.config(g.FE("string"),"shedDebugTypes")],l.prototype,"G$a",null);l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.xl)),r.__param(1,(0,h.l)(d.cc))],l);b.dFa=l;},99530:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.config=t;this.json=v;this.wc=w;this.COb=y;this.YU=A;this.b6=this.GB=!1;this.listeners=[];(0,f.io)(this,"json");this.ja=x.Ta("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;r=a(70655);k=a(86700);f=a(60920);h=a(63088);d=a(51340);g=a(65428);m=a(71163);l=a(14959);n=a(32411);p=a(68172);q=a(1265);a(64168);u=a(63563);c.prototype.qa=function(){this.GB=!0;};c.prototype.vc=function(t){var v;v=this;this.h0b(t) || (!1,0 < t.size.Lk(this.config.sPb)?this.ja.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(w){return w.bQb(t);}),!1,this.YU.Nga(t),this.wc.Oj(function(){v.vEb();})));};c.prototype.flush=function(t){var v;v=this;t=void 0 === t?!1:t;return this.b6?(this.ja.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,y){v.ja.trace("Flushing",m.YO);v.bq();v.wc.Oj(function(){v.Sua(t).then(function(){w();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Sua=function(t){var v,w;v=this;t=void 0 === t?!1:t;if(!this.GB)return (this.ja.trace("LogBatcher is not initialized"),Promise.resolve());if(this.b6)return (this.ja.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.YU.ZFb();if(0 === w.length && !t)return (this.ja.trace("No logblobs to send"),Promise.resolve());!1;this.bq();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ma(w),A=x.next();!A.done;(y={daa:y.daa},A=x.next())){y.daa=A.value;t=t.then((function(z){return function(){return v.DZb(z.daa);};})(y));}return t.then(function(){return v.gB();}).catch(function(z){w.filter(function(B){return !B.sy;}).forEach(function(B){return B.Os();});v.gB();throw Error("Send failure. " + z);});};c.prototype.DZb=function(t){var v;v=this;this.ja.trace("Sending batch: " + t.size,m.YO);return Promise.resolve(this.YU.BXb(t)).then(function(){return v.COb.send(t.DG);}).then(function(){return t.TN();}).catch(function(w){v.ja.warn("Failed to send batch of logblobs.",w,m.YO);t.Os();v.U_b(w) && v.YU.oqb(t);v.i0b(w) && (v.b6=!0);throw w;});};c.prototype.U_b=function(t){return t.Oc === p.WZ.KHa?!1:this.config.Hga;};c.prototype.i0b=function(t){return t.ec === p.R.CCa || t.ec === p.R.hP || t.ec === p.R.lP?!0:!1;};c.prototype.vEb=function(){var t;t=this;0 < this.YU.size.Lk(this.config.w3a)?this.Sua().catch(function(v){return t.ja.warn("Failed to send log messages on size threshold. " + v);}):this.gB();};c.prototype.bq=function(){this.l6 && (!1,this.l6.cancel(),this.l6=void 0);};c.prototype.gB=function(){this.l6 || (!1,this.l6=this.wc.Pj(this.config.EZb,this.DM.bind(this)));};c.prototype.DM=function(){var t;t=this;this.b6=!1;this.bq();this.Sua().catch(function(v){return t.ja.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(t){var v;v="";try{v=this.json.stringify(t.data,void 0,"  ");}catch(w){}return v;};c.prototype.h0b=function(t){return 0 <= this.config.H$a.indexOf(t.type)?!0:t.type === u.Ec.debug?0 <= this.config.G$a.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.rca)),r.__param(1,(0,k.l)(h.sD)),r.__param(2,(0,k.l)(g.Gi)),r.__param(3,(0,k.l)(d.tFa)),r.__param(4,(0,k.l)(m.Xa)),r.__param(5,(0,k.l)(n.wGa)),r.__param(6,(0,k.l)(q.PY))],a);b.eFa=a;},72464:function(r,b,a){var f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A,z,B,C,D,F){this.platform=v;this.Dja=w;this.userAgentData=y;this.type=x;this.severity=A;this.timestamp=z;this.Fa=C;this.data=B;this.data.type=x;this.data.sev=A;this.data.devmod=this.platform.YA;this.data.clver=this.platform.version;t && t.jd && (t.jd.os && (this.data.osplatform=t.jd.os.name,this.data.osver=y.platformVersion.pU?y.platformVersion.version:t.jd.os.version),this.data.browsername=t.jd.name,this.data.browserver=t.jd.version);t.Toa && (this.data.tester=!0);t.YF && !this.data.groupname && (this.data.groupname=t.YF);t.kK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.kK:t.kK);t.FX && (this.data.uigroupname=t.FX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Fa.AHb();this.data.uniqueLogId=D.BXa();this.data.appId=this.Fa.id;F && (t=this.Fa.Fb(),this.data.soffms=t.wa(F.Rh).ba(g.na),this.data.mid=this.data.mid || F.O,this.data.lvpi=F.N2a,this.data.uiLabel=F.ud,this.data.uxLabels=F.N$,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.la,F.zH && (x=F.zH,(F=F.zH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function k(t,v,w,y,x,A,z){this.sa=t;this.Dja=v;this.config=w;this.Fa=y;this.c5b=x;this.platform=A;this.userAgentData=z;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;r=a(70655);f=a(36845);h=a(86700);d=a(35664);g=a(2467);m=a(50746);l=a(53685);n=a(58998);p=a(91026);q=a(811);a=a(64615);k.prototype.Hs=function(t,v,w,y){return new c(this.config,this.platform,this.Dja,this.userAgentData,t,v,this.sa.ue,w,this.Fa,this.c5b,y);};u=k;u=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Fg)),r.__param(1,(0,h.l)(m.EAa)),r.__param(2,(0,h.l)(l.sn)),r.__param(3,(0,h.l)(n.Jc)),r.__param(4,(0,h.l)(p.zMa)),r.__param(5,(0,h.l)(q.yn)),r.__param(6,(0,h.l)(a.c0))],u);b.lFa=u;Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.RRa || (this.RRa=(0,f.xa)(this.Dja.encode(this.data).length));return this.RRa;}}});},20278:function(r,b,a){var k,f,h;function c(d){this.Mk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;r=a(70655);k=a(86700);f=a(36845);a=a(15303);c.prototype.EOb=function(){var d;d=this.Mk()?this.Mk().jk.length:40;return (0,f.xa)(d + 33);};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Ew))],h);b.mFa=h;},29588:function(r,b,a){var k,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;r=a(70655);k=a(86700);f=a(32841);h=a(36845);c.prototype.measure=function(d){var g;g=this;return d.map(function(m){return m.size.add(g.config.EOb());}).reduce(function(m,l){return m.add(l);},(0,h.xa)(0));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.nFa))],a);b.oFa=a;},61952:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y){this.platform=t;this.config=v;this.Fa=w;this.userAgentData=y;this.IMa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(68172);d=a(811);g=a(2467);m=a(17244);l=a(30818);n=a(50876);p=a(12648);q=a(64615);u=a(18920);c.prototype.Cp=function(t,v,w){w && (t.adlid=w.Vb,t.abitrate=w.bitrate);v && (t.vdlid=v.Vb,t.vbitrate=v.bitrate);};c.prototype.b0a=function(t,v,w){w?t=Object.assign(t,(0,p.oZa)(this.platform.Kq,w)):t.errorcode=h.V.Lo;t.errorcode === this.platform.Kq + h.V.wHa && (t.lastSyncWithVideoElement=this.getTime() - v.mX);};c.prototype.g0a=function(t,v){var w;try{Object.assign(t,(0,p.Yma)());w=v.getBoundingClientRect();t.rendersize=w.width + "x" + w.height;t.renderpos=w.left + "x" + w.top;}catch(y){}};c.prototype.f0a=function(t,v){var w,y,x;w=v.Ac[u.v.Z].value;y=v.Ac[u.v.ga].value;x=v.tf.value;v=v.Td.value;w && (t.cdnid=w.id,t.cdnname=w.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Vb,t.abitrate=x.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(t.vdlid=v.stream.Vb,t.vbitrate=v.stream.bitrate,t.vheight=v.stream.height,t.vwidth=v.stream.width);};c.prototype.d0a=function(t,v,w){0 <= v.mediaTime.value && (v=w && !v.Wa.dg?v.iS:v.mediaTime.value,t.moff=(0,l.Nl)(v),t.moffms=(0,l.cg)(v));};c.prototype.$_a=function(t,v){v.Gf && (t.pbcid=v.Gf);v.Kf && (t.playbackcontextid=v.Kf);};c.prototype.boa=function(t){var v,w;t.browserua=n.CD;t.browseruad=null === (w=null === (v=n.ze.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === w?void 0:w.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.pU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(v=n.ze && n.ze.connection && n.ze.connection.type) && (t.nettype=v);};c.prototype.IL=function(t){var v,w,y,x,A;if(this.config().sCb){A=null === (v=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === v?void 0:v.effectiveType;v=null === n.ze || void 0 === n.ze?void 0:n.ze.deviceMemory;A && (t.effectiveType=A);v && (t.deviceMemory=v);}(A=null === (w=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === w?void 0:w.type) && (t.connectionType=A);w=null === (y=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === y?void 0:y.downlink;"number" === typeof w && isFinite(w) && (t.downlink=w);y=null === (x=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.G5=function(t,v){if(v=v.Wa.dm)(v.isUIAutoPlay && (t.isUIAutoPlay=!0),v.clLogId && (t.cl_log_id=v.clLogId));};c.prototype.JL=function(t,v,w,y){var x,A,z,B,C;x=this;if(w=w && w.streams){z=new Set();B=new Set();C=new Set();w.forEach(function(D){D=D.af;z.add(D);B.add(D.replace(x.IMa,""));(D=D.match(x.IMa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(da(z));t.videoProfile=0 === B.size?"none":[].concat(da(B))[0];t.videoProfileLevels=[].concat(da(C));w && w.length && (t.isMcClearen=!!w[0].Di.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}v && (null === (A=y.W) || void 0 === A?0:A.SX) && (t.videoProfilesStatus=this.f3a(y.W.SX));};c.prototype.f3a=function(t){return this.iPb(t.yL(),function(v){return v.supported?!0:v.reason;});};c.prototype.iPb=function(t,v){return Object.entries(t).reduce(function(w,y){var x;x=ma(y);y=x.next().value;x=x.next().value;w[y]=v(x);return w;},{});};c.prototype.X_a=function(t,v,w){var y,x;if(v=v && v.streams){x={};v.forEach(function(A){x[A.af]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=w.W) || void 0 === y?0:y.GR) && (t.audioProfilesStatus=this.f3a(w.W.GR));};c.prototype.a0a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Fa.Fb().ba(g.na);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.yn)),r.__param(1,(0,k.l)(m.cc)),r.__param(2,(0,k.l)(f.Jc)),r.__param(3,(0,k.l)(q.c0))],a);b.qFa=a;},2052:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F;function c(G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb){this.pbb=G;this.Sf=E;this.mqa=J;this.gla=K;this.Zd=N;this.z3=I;this.He=O;this.config=L;this.Xc=H;this.sa=M;this.Fa=R;this.platform=Y;this.Op=ea;this.yy=ca;this.Ai=oa;this.Ss=Ga;this.EG=Fa;this.uc=Ja;this.mM=Xa;this.TB=cb;}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;r=a(70655);k=a(59415);f=a(14959);h=a(89682);d=a(43101);g=a(14756);m=a(86700);l=a(95114);n=a(61087);p=a(86491);q=a(5485);u=a(17244);t=a(35664);v=a(58998);w=a(811);y=a(91022);x=a(76820);A=a(72611);z=a(63088);B=a(53685);C=a(4988);D=a(1092);a=a(21410);c.prototype.create=function(G,E){return new n.uP(G,E,this.pbb,this.Sf,this.mqa,this.gla,this.Zd,this.z3,this.He,this.config,this.Xc,this.sa,this.Fa,this.Op,this.yy,this.Ai,this.Ss,this.EG,this.uc,this.mM,this.TB);};F=c;F=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(k.TLa)),r.__param(1,(0,m.l)(f.rm)),r.__param(2,(0,m.l)(d.YFa)),r.__param(3,(0,m.l)(g.Jba)),r.__param(4,(0,m.l)(h.ph)),r.__param(5,(0,m.l)(p.mBa)),r.__param(6,(0,m.l)(q.ku)),r.__param(7,(0,m.l)(u.cc)),r.__param(8,(0,m.l)(x.PD)),r.__param(9,(0,m.l)(t.Fg)),r.__param(10,(0,m.l)(v.Jc)),r.__param(11,(0,m.l)(w.yn)),r.__param(12,(0,m.l)(z.w_)),r.__param(13,(0,m.l)(y.Lw)),r.__param(14,(0,m.l)(A.GD)),r.__param(15,(0,m.l)(B.sn)),r.__param(16,(0,m.l)(C.Nca)),r.__param(17,(0,m.l)(l.uca)),r.__param(18,(0,m.l)(D.Ow)),r.__param(19,(0,m.l)(a.jca))],F);b.sP=F;},61087:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J;function c(K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka){var P;P=this;this.j=K;this.Ba=N;this.pbb=I;this.Sf=O;this.mqa=L;this.gla=H;this.Zd=M;this.z3=R;this.He=Y;this.config=ea;this.Xc=ca;this.sa=oa;this.Fa=Ga;this.Op=Fa;this.yy=Ja;this.Ai=Xa;this.Ss=cb;this.EG=W;this.uc=aa;this.mM=Q;this.TB=ka;this.uX=[];this.wqa=this.JB=this.qW=0;this.FK=[];this.Rga=!1;this.Er=function(fa){var ta,pa,Ra,Pa,db,wb;pa={};try{pa={playdelaysdk:(0,n.cg)(P.j.UR()),applicationPlaydelay:(0,n.cg)(P.j.jia()),playdelay:(0,n.cg)(P.j.kia()),trackid:P.j.Uj,bookmark:(0,n.cg)(P.j.Fl || 0),pbnum:P.j.index,endianness:(0,g.sYa)()};P.config().ACb && (pa.transitiontime=P.j.jm,pa.uiplaystarttime=P.j.Wa.VC,pa.playbackrequestedat=P.j.Rh.ba(p.na),pa.clockgettime=P.getTime(),pa.clockgetpreciseepoch=P.sa.ue.ba(p.na),pa.clockgetpreciseappepoch=P.Fa.xy.ba(p.na),pa.absolutestarttime=P.j.EF(),pa.relativetime=P.j.yZa());P.v4(pa,"startplay");}catch(ob){P.log.error("error in startplay log fields",ob);}P.j.Kh && (pa.blocked=P.j.Kh);P.uc.a0a(pa);(0,x.rb)(P.j.BRa) && (pa.bookmarkact=(0,n.cg)(P.j.BRa));Ra=P.j.Rc.at && P.j.Rc.ats?P.j.Rc.at - P.j.Rc.ats:void 0;Ra && (pa.nccpat=Ra);(Ra=P.j.Rc.lr && P.j.Rc.lc?P.j.Rc.lr - P.j.Rc.lc:void 0) && (pa.nccplt=Ra);(Ra=P.j.Rc.lc && P.j.Rc.lg?P.j.Rc.lc - P.j.Rc.lg:void 0) && (pa.lct=Ra);(Ra=P.nF()) && (pa.downloadables=Ra);pb._cad_global.device && (0,x.Qc)(pb._cad_global.device.P3) && (pa.esnSource=pb._cad_global.device.P3);(0,n.Rd)(pa,P.Op,{prefix:"pi_"});P.j.Kn && P.j.Kn.initBitrate && (pa.initvbitrate=P.j.Kn.initBitrate);P.j.Kn && P.j.Kn.selector && (pa.selector=P.j.Kn.selector);pa.fullDlreports=P.Scb;if(P.j.state.value >= y.Ub.ae)try{Pa=P.j.Gs();if(Pa){P.maxBitrate=(0,g.DO)(Pa.map(function(ob){return ob.bitrate;}));P.E3a=(0,g.DO)(Pa.map(function(ob){return ob.height;}));db=0 < Pa.length?(0,C.c_a)(function(ob,Fb){return ob.height === Fb.height;},Pa).map(function(ob){return (0,A.bqa)(ob,function(Fb){return Fb.bitrate;});}):void 0;pa.maxbitrate=P.maxBitrate;pa.maxresheight=P.E3a;}}catch(ob){P.log.error("Exception computing max bitrate",ob);}try{wb=(0,g.QF)();wb && (pa.pdltime=wb);}catch(ob){}try{(0,n.Rd)(pa,P.j.Rc,{prefix:"sm_"});(0,n.Rd)(pa,P.j.i5(),{prefix:"vd_"});}catch(ob){}fa && P.j.Ft && (pa.pssh=P.j.Ft);P.e0a(P.j,pa);pa.avtp=P.RH.Xm().rwa;(null === (ta=P.j.$a) || void 0 === ta?0:ta.ix) && P.F5(pa);if(P.j.xb.value)try{pa.ttTrackFields=P.j.xb.value.zg;}catch(ob){}P.uc.X_a(pa,P.j.tc.value,P.Ba);P.uc.JL(pa,!0,P.j.Mg.value,P.Ba);P.j.W && (pa.packageId=P.j.W.Ga.hn);P.j.W && P.j.W.Ga.np && (pa.hasChoiceMap=!0);P.qNb(db);P.pNb();fa && (P.coa(pa),P.eoa(pa));P.Z_a(P.j,pa);P.dG(P.j,pa);P.eG(P.j,pa);P.Xq(P.j,pa);P.EB(P.j,pa,P.Rga);P.VT(P.j,pa);P.YKb(P.j,pa);P.doa(pa);P.goa(pa);P.uc.IL(pa);P.Y_a(pa);P.uc.G5(pa,P.Ba);P.foa(pa);P.vc(z.Ec.Er,fa,J.Ld | J.Zr | J.Fi | J.$r | J.gD | J.vY | J.jD | J.Fo,pa);};this.It=function(fa,ta,pa){ta={playdelay:(0,n.cg)(fa),reason:pa,intrplayseq:P.JB - 1,skipped:ta};"repos" === pa && (ta.prstate=!0 === P.j.paused.value?"paused":"playing");P.HL(ta,f.Wh.It);P.eG(P.j,ta);P.Xq(P.j,ta);P.vc(z.Ec.It,!1,J.Ld | J.Zr | J.Fi,ta);"rebuffer" !== pa && "force_rebuffer" !== pa || P.j.Xk.xqb(Number((0,n.cg)(fa)));};this.Ix=function(fa,ta,pa,Ra){fa={moff:(0,n.Nl)(pa),moffms:(0,n.cg)(pa),vbitrate:ta.bitrate,vbitrateold:fa.bitrate,vdlid:ta.Vb,vdlidold:fa.Vb,vheight:ta.height,vheightold:fa.height,vwidth:ta.width,vwidthold:fa.width,bw:Ra};P.eG(P.j,fa);P.Xq(P.j,fa);P.EB(P.j,fa);P.HL(fa,f.Wh.Ix);P.vc(z.Ec.Ix,!1,J.Fi,fa);};this.Ita=function(fa,ta,pa){fa={moff:(0,n.Nl)(pa),moffms:(0,n.cg)(pa),vdlidold:fa.Vb,vbitrateold:fa.bitrate};P.eG(P.j,fa);P.Xq(P.j,fa);P.EB(P.j,fa);P.uc.Cp(fa,ta,P.j.tf.value && P.j.tf.value.stream);P.HL(fa,f.Wh.nW);P.vc(z.Ec.nW,!1,J.Fi,fa);};this.osa=function(){var fa,ta;fa={waittime:(0,n.cg)(P.j.yZa()),abortedevent:"startplay",trackid:P.j.Uj,prstate:P.hy(),paustate:P.j.paused.value};P.v4(fa,"endplay");P.HL(fa,f.Wh.PM);P.Ss.GS && (fa.eventlist_version=1,fa.eventlist=P.EG.mZa(P.j));P.j.Kn && P.j.Kn.initBitrate && (fa.initvbitrate=P.j.Kn.initBitrate);try{ta=(0,g.QF)();ta && (fa.pdltime=ta);(0,n.Rd)(fa,P.j.Rc,{prefix:"sm_"});}catch(pa){}P.$na(fa);P.uc.G5(fa,P.Ba);P.uc.JL(fa,!1,P.j.Mg.value,P.Ba);P.coa(fa);P.uc.Cp(fa,P.j.Ne.value,P.j.Qg.value);P.e0a(P.j,fa);P.dG(P.j,fa);P.VT(P.j,fa);P.foa(fa);P.eoa(fa);P.Xq(P.j,fa);P.vc(z.Ec.PM,!1,J.Ld | J.Fi | J.gD | J.$r | J.Fo,fa);};this.nsa=function(fa,ta){fa={waittime:(0,n.cg)(fa),abortedevent:"resumeplay",resumeplayreason:ta};P.j.Kn && P.j.Kn.initBitrate && (fa.initvbitrate=P.j.Kn.initBitrate);P.uc.Cp(fa,P.j.Ne.value,P.j.Qg.value);P.VT(P.j,fa);P.Xq(P.j,fa);P.vc(z.Ec.PM,!1,J.Ld | J.Fi | J.Fo,fa);};this.Tva=function(fa,ta,pa){fa={newstate:ta?"Paused":"Playing",oldstate:fa?"Paused":"Playing",reason:pa};P.eG(P.j,fa);P.Xq(P.j,fa);P.EB(P.j,fa);P.uc.Cp(fa,P.j.Td.value && P.j.Td.value.stream,P.j.tf.value && P.j.tf.value.stream);P.HL(fa,f.Wh.bX);P.vc(z.Ec.bX,!1,J.Ld | J.Fi,fa);};this.bU=function(fa,ta,pa){var Ra,Pa;fa=(0,n.Rd)({vdlid:P.j.Ne.value.Vb,playingms:fa,pausedms:ta,intrplayseq:P.JB++,prstate:P.hy(),paustate:P.j.paused.value},pa);P.v4(fa,"intrplay");ta=P.j.Ac[D.v.Z].value;pa=P.j.Ac[D.v.ga].value;fa.cdnid=fa.vcdnid=ta && ta.id;fa.acdnid=pa && pa.id;fa.locid=P.qU && P.qU.zpa;fa.loclv=P.qU && P.qU.K2a;fa.avtp=P.RH.Xm().rwa;fa.mediabuffered=null === (Ra=P.j.je) || void 0 === Ra?void 0:Ra.w4();if(null === (Pa=P.j.$a) || void 0 === Pa?0:Pa.ix)(P.$na(fa),P.F5(fa),P.c0a(fa));try{(0,n.Rd)(fa,P.j.i5(),{prefix:"vd_"});}catch(db){}P.eG(P.j,fa);P.Xq(P.j,fa);P.EB(P.j,fa);P.uc.Cp(fa,P.j.Td.value && P.j.Td.value.stream,P.j.tf.value && P.j.tf.value.stream);P.vc(z.Ec.bU,!1,J.Ld | J.Fi,fa);};this.DC=function(fa,ta,pa){fa={moffold:(0,n.Nl)(fa),reposseq:P.qW++,prstate:P.hy(),paustate:P.j.paused.value};P.EB(P.j,fa);P.uc.Cp(fa,pa && pa.stream,ta && ta.stream);P.HL(fa,f.Wh.DC);P.vc(z.Ec.DC,!1,J.Ld | J.Fi,fa);};this.Cha=function(){var fa,ta,pa,Ra;ta=P.j.tc.value;pa=P.j.Qg.value.Vb;ta=ta?{trackId:ta.trackId,bcp47:ta.re,downloadableId:pa,rank:ta.bc,chan:ta.channels}:{};pa=P.vy;Ra=null === (fa=P.cpa) || void 0 === fa?void 0:fa.Vb;fa=pa?{trackId:pa.trackId,bcp47:pa.re,downloadableId:Ra,rank:pa.bc,chan:pa.channels}:{};P.vc(z.Ec.fRa,!1,J.Ld | J.Fi,{switchdelay:(0,n.cg)(P.getTime() - P.dpa),track:ta,oldtrack:fa});};this.XW=function(fa){P.vc(z.Ec.bab,!1,J.Ld | J.Fi,{speedold:Math.floor(1E3 * fa.oldValue),speed:Math.floor(1E3 * fa.newValue)});};this.YN=function(){P.vc(z.Ec.O2b,!1,J.Ld | J.Fi,{track:P.j.xb.value.zg});};this.nz=function(fa){var ta,pa;ta=P.j.xb.value;if(fa.newValue || ta && ta.co() && !ta.$m()){pa=(fa=null !== (pa=fa.newValue) && void 0 !== pa?pa:ta)?{trackId:fa.trackId,bcp47:fa.re,downloadableId:fa.Vb,rank:fa.bc,isImageBased:fa.pk}:{};fa=(fa=P.kpa)?{trackId:fa.trackId,bcp47:fa.re,downloadableId:fa.Vb,rank:fa.bc,isImageBased:fa.pk}:{};pa={switchdelay:(0,n.cg)(P.getTime() - P.jpa),track:pa,oldtrack:fa};P.uc.Cp(pa,P.j.Td.value && P.j.Td.value.stream,P.j.tf.value && P.j.tf.value.stream);P.vc(z.Ec.wbb,!1,J.Ld | J.Fi,pa);}};this.lp=function(fa){P.vc(z.Ec.$sb,!1,J.Ld | J.Fi,fa.newValue);};this.Dub=function(fa,ta){var pa,Ra;pa=ta.serverid;Ra={locid:ta.location,loclv:ta.locationlv,selocaid:pa,selcdnid:pa,selocaname:ta.servername};Ra.mediatype=ta.mediatype;Ra.selreason=ta.selreason || "unknown";Ra.seldetail=ta.seldetail;Ra.cdnbwdata=JSON.stringify([{id:pa}]);fa && (Ra.oldlocid=fa.zpa,Ra.oldloclv=fa.K2a,Ra.oldocaid=fa.NZb,Ra.oldocaname=fa.MW);P.vc(z.Ec.iSa,!1,J.vY,Ra);};this.eVa=function(){var fa,ta,pa;if(P.j.tg)try{fa=!1;P.Scb || (fa=!0,P.FK=P.FK.filter(function(Ra){return !Ra.ka;}));if(0 < P.FK.length){ta=P.z3.construct(P.FK,P.j.Rh.ba(p.na));P.FK=[];ta.erroronly=fa;pa={};(0,n.bg)(ta,function(Ra,Pa){pa[Ra]=JSON.stringify(Pa);});P.vc(z.Ec.eBb,!1,J.Fi,pa);}}catch(Ra){P.log.error("Exception in dlreport.",Ra);}};this.hy=function(){var fa;fa=P.j.mb.value;return fa === y.bb.me?"playing":fa === y.bb.Xh?"paused":fa === y.bb.jq?"ended":"waiting";};this.Hy=function(){var fa,ta,pa;if(P.j.state.value == y.Ub.ae){pa=P.PV();P.config().Pta && (pa.avtp=P.RH.Xm().rwa,(null === (fa=P.j.$a) || void 0 === fa?0:fa.ix) && P.F5(pa));pa.mediabuffered=null === (ta=P.j.je) || void 0 === ta?void 0:ta.w4();pa.midplayseq=P.wqa++;pa.prstate=P.hy();pa.paustate=P.j.paused.value;P.config().IZb && P.Mab("midplay");P.config().qr && P.hoa(pa);P.doa(pa);P.goa(pa);P.Xq(P.j,pa);P.uc.IL(pa);P.vc(z.Ec.Hy,!1,J.Ld | J.Fi | J.gD | J.$r,pa);}};this.Mab=function(fa){var ta,pa;ta={};ta.trigger=fa;try{pa=P.j.Qma();ta.subtitleqoescore=P.j.nn.$Ib(pa);ta.metrics=JSON.stringify(P.j.nn.ina(pa));}catch(Ra){P.log.error("error getting subtitle qoe data",Ra);}P.vc(z.Ec.N1b,!1,J.Ld | J.gD | J.Zr,ta);};this.transition=function(fa){P.EB(P.j,fa);P.VT(P.j,fa);P.vc(z.Ec.transition,!1,0,fa);};this.Mua=function(fa,ta){P.vc(z.Ec.Mua,ta,0,fa);};this.Zx=function(fa){var ta,pa,Ra,Pa,db,wb,ob;pa=P.PV();P.v4(pa,"endplay");pa.prstate=P.hy();pa.paustate=P.j.paused.value;pa.muted=P.j.muted.value;P.j.oz && "downloaded" === P.j.oz.yL() && (pa.trickplay_ms=P.j.DX.offset,pa.trickplay_res=P.j.DX.R8a);P.config().Ycb && (pa.rtinfo=P.j.EIb());P.config().Pta && (null === (ta=P.j.$a) || void 0 === ta?0:ta.ix) && P.F5(pa);pa.endreason=fa?"error":P.j.mb.value === y.bb.jq?"ended":"stopped";(ta=P.Op) && (0,n.Rd)(pa,ta,{prefix:"pi_"});try{(0,n.Rd)(pa,P.j.Rc,{prefix:"sm_"});}catch(Za){}P.j.Zna && (pa.inactivityTime=P.j.Zna);P.$na(pa);P.c0a(pa);if(P.j.s2){ta=P.j.s2;Ra=P.config().FRa;Pa=P.j.loadTime;db={iv:Ra,seg:[]};wb=function(Za,hb,lb){return 0 === hb || void 0 === lb[hb - 1]?Za:Za - lb[hb - 1];};ob=ta.ssb.map(wb);wb=ta.z5b.map(wb);for(var Fb,Qa=0;Qa < ob.length;Qa++){if(ob[Qa] || wb[Qa])Fb?(Fb.ams.push(ob[Qa]),Fb.vms.push(wb[Qa])):Fb={ams:[ta.ssb[Qa]],vms:[ta.z5b[Qa]],soffms:ta.startTime + Qa * Ra - Pa};Qa !== ob.length - 1 && ob[Qa] && wb[Qa] || !Fb || (db.seg.push(Fb),Fb=void 0);}pa.bt=JSON.stringify(db);}fa && (P.coa(pa),P.eoa(pa));P.Mab("endplay");P.config().qr && P.hoa(pa);P.uc.JL(pa,!1,P.j.Mg.value,P.Ba);P.Z_a(P.j,pa);P.dG(P.j,pa);P.eG(P.j,pa);P.EB(P.j,pa,P.Rga);P.Xq(P.j,pa);P.VT(P.j,pa);P.doa(pa);P.goa(pa);P.uc.IL(pa);P.$Kb(pa);P.Y_a(pa);P.bLb(pa);P.aLb(pa);P.dLb(pa);P.foa(pa);P.eLb(pa);P.vc(z.Ec.Zx,fa,J.Ld | J.Zr | J.Fi | J.gD | J.$r | J.jD | J.Fo,pa);};this.lBb=function(fa){P.FK.push(P.z3.swb(fa.response));};this.Kh=function(){P.vc(z.Ec.yRa,!1,J.Ld | J.gD | J.Fo,{});};this.Mvb=function(fa){var ta,pa;ta=fa.response.Wl;fa=(0,p.Lb)(ta.cj);pa=(0,p.Lb)(ta.Yp);ta=(0,u.xa)(ta.S2 || 0);ta.x1a() || ta.Hoa() || (fa=new t.Tda(fa,pa),P.RH.rqb(new v.kBa(fa,ta)));};this.l8=function(fa){var ta,pa,Ra;Ra=fa.newValue;fa.Mh && fa.Mh.yM && Ra && (null === (ta=fa.Mh) || void 0 === ta || !ta.reason) || Ra == P.rG || (P.Tva(P.rG,Ra,null === (pa=fa.Mh) || void 0 === pa?void 0:pa.reason),P.rG=Ra);};this.Dx=function(fa){function ta(pa){var Ra;if(P.j.Rb && P.j.Rb.sourceBuffers){Ra=P.j.Rb.sourceBuffers.filter(function(Pa){return Pa.type === pa;}).pop();if(Ra)return {busy:Ra.wh(),updating:Ra.updating(),ranges:Ra.x4()};}}fa={cause:fa.cause};fa.cause && fa.cause === d.vda && (fa.mediaTime=P.j.mediaTime.value,fa.buf_audio=ta(h.d_),fa.buf_video=ta(h.zP));P.bU(P.uX[y.bb.me] || 0,P.uX[y.bb.Xh] || 0,fa);};this.Lbb=function(fa){var ta;fa=fa.oldValue;ta=P.getTime();fa === y.bb.Mf?P.uX=[]:P.uX[fa]=(P.uX[fa] || 0) + (ta - P.yNb);P.yNb=ta;};this.El=function(fa){P.dpa=P.getTime();P.vy=fa.oldValue;};this.ll=function(fa){P.jpa=P.getTime();P.kpa=fa.oldValue;};this.IR=function(fa){P.cpa=fa.oldValue;};this.EU=function(fa){function ta(pa,Ra){var Pa;if(!pa || pa.zpa !== Ra.location){Pa={zpa:Ra.location,K2a:Ra.locationlv,NZb:Ra.serverid,MW:Ra.servername};P.Dub(pa,Ra);return Pa;}}if("audio" === fa.mediatype){if(fa=ta(P.tNb,fa))P.tNb=fa;}else if(fa=ta(P.qU,fa))P.qU=fa;};this.LW=function(fa){var ta,pa;ta=fa.mediatype;pa=fa.reason;"video" === ta?"serverswitchaway" === pa?(P.fj.summary.Adb++,P.fj.w6=P.sa.ue.ba(p.na)):"serverswitchback" === pa && (P.fj.summary.Bdb++,P.fj.w6 && (P.fj.summary.Cdb.push(P.sa.ue.ba(p.na) - P.fj.w6),P.fj.w6=void 0)):"audio" === ta && ("serverswitchaway" === pa?(P.fj.summary.TQa++,P.fj.p6=P.sa.ue.ba(p.na)):"serverswitchback" === pa && (P.fj.summary.UQa++,P.fj.p6 && (P.fj.summary.VQa.push(P.sa.ue.ba(p.na) - P.fj.p6),P.fj.p6=void 0)));P.vc(z.Ec.PZb,!1,J.Ld | J.Fi,{mediatype:fa.mediatype,server:fa.server,selreason:fa.reason,location:fa.location,bitrate:fa.bitrate,confidence:fa.confidence,throughput:fa.throughput,oldserver:fa.oldserver});};this.GE=function(fa){P.vc(z.Ec.Nrb,!1,J.Fi,{strmsel:fa.strmsel});};this.F6=function(fa){fa=k.__rest(fa,["type"]);P.Xq(P.j,fa);P.vc(z.Ec.qOb,!1,J.Ld,fa);};this.E6=function(fa){var ta,pa;ta=fa.mediaType;pa=fa.current;fa=fa.am;ta === D.v.Z && (ta={mediatype:(0,E.CG)(ta),curr:{enc:pa.tF,origin:pa.sF},prev:{enc:fa.tF,origin:fa.sF}},P.Xq(P.j,ta),P.vc(z.Ec.pOb,!1,J.Ld,ta));};this.SN=function(fa){fa=Object.assign({},fa);fa.details && (fa.details=JSON.stringify(fa.details));P.vc(z.Ec.M1b,!0,J.Ld | J.Zr | J.vY,fa);};this.Rga=Xa.kxa || Xa.L$ || Xa.lXa;this.RH=I();this.log=(0,m.Nh)(K,"LogblobBuilder");this.rG=K.paused.value;this.la=this.Ba.la;this.fj={summary:{Adb:0,Bdb:0,Cdb:[],TQa:0,UQa:0,VQa:[]},w6:void 0,p6:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;k=a(70655);f=a(91854);h=a(7942);d=a(58680);g=a(24133);m=a(89082);l=a(70633);n=a(30818);p=a(2467);q=a(68172);u=a(36845);t=a(39784);v=a(5099);w=a(50876);y=a(34202);x=a(95919);A=a(99275);z=a(63563);B=a(73374);C=a(56170);D=a(18920);F=a(79426);G=a(75183);E=a(91854);c.prototype.e0a=function(K,N){var I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa;if(this.config().qr)try{I={};O=this.Xc.getStats(void 0,void 0,K.O);L=K.EF();H=O.QH.Yvb || [];I.attempts=O.B8 || 0;I.num_completed_tasks=H.length;M=this.Zd.QDb;R={};Y=B.lj.TN;ea=B.lj.Os;ca=B.lj.pia;O.Ok && (R.scheduled=O.Ok - L);oa=K.W;oa && (0,x.rb)(oa.nH) && (R.preauthsent=oa.nH - K.loadTime,R.preauthreceived=oa.mN - K.loadTime);Ga=H.filter(function(Q){return "manifest" === Q.type;});I.mf_succ=Ga.filter(M("status",Y)).length;I.mf_fail=Ga.filter(M("status",ea)).length;Fa=K.Rc;(0,x.Qc)(Fa.lg) && 0 > Fa.lg && K.loadTime && (R.ldlsent=Fa.lc,R.ldlreceived=Fa.lr);Ja=H.filter(function(Q){return "ldl" === Q.type;});I.ldl_succ=Ja.filter(M("status",Y)).length;I.ldl_fail=Ja.filter(M("status",ea)).length;O=!0;L=[];"notcached" === K.PE && (O=!1,L.push("Missing cached manifest"));this.config().FS || (O=!1,L.push("LDL prefetch disabled"));Xa=Ja.filter(M("status",ca)).length;this.config().FS && 0 === Xa && (!R.ldlreceived || 0 <= R.ldlreceived) && (O=!1,L.push("LDL received after start"));if(this.config().VVa)if(N.isPrefetchItem){cb=N.prefetchedAudioMs / N.bcABufferLevelMs;if(1 > N.prefetchedVideoMs / N.bcVBufferLevelMs || 1 > cb)(O=!1,L.push("Insufficient media fetched"));}else (O=!1,L.push("aseStats not initialized"));W=H.filter(function(Q){return "getHeaders" === Q.type;});I.header_succ=W.filter(M("status",Y)).length;I.header_fail=W.filter(M("status",ea)).length;aa=H.filter(function(Q){return "getMedia" === Q.type;});I.media_succ=aa.filter(M("status",Y)).length;I.media_fail=aa.filter(M("status",ea)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.Rd)(N,I,{prefix:"pr_"});this.Ss.GS && (N.eventlist_version=1,N.eventlist=this.EG.mZa(K));(N.prefetchCompleted=O) || (N.prefetchFailed=L,(0,n.Rd)(N,R,{prefix:"pe_"}));this.hoa(N);}catch(Q){this.log.warn("error in collecting video prepare data",Q);}};c.prototype.IIb=function(K,N){if(K=K.hT())if(N=K[N])return N.va;};c.prototype.Z_a=function(K,N){K.Wa.dg && (N.isBranching=!0);};c.prototype.dG=function(K,N){var I,O;O=(null === (I=K.W) || void 0 === I?void 0:I.Eoa) || "videopreparer" === K.OE;N.cachedManifest=K.PE;N.cachedLicense=K.OE;N.usedldl=this.config().FS?O.toString():"not_capable";};c.prototype.eG=function(K,N){var I,O;if(this.config().cLb){I=K.Rma();O=K.aa.W;I && O && (N.segment=I,O=K.sB(),N.segmenttime=O,K=this.IIb(K,I),null !== O && void 0 !== K && (N.segmentoffset=O - K));}};c.prototype.EB=function(K,N,I){N.pxid=K.w8;(void 0 === I?0:I) && (N.playgraph_trace=K.Q6a);};c.prototype.VT=function(K,N){N.hasContentPlaygraph=K.o5();};c.prototype.YKb=function(K,N){var I,O;if(K.o5()){I=K.VA;O=K.W.Ga.Lm.fa;N.auxViewables=Object.keys(O.L).map(function(L){return O.L[L].J;}).filter(function(L,H,M){return L !== I && M.indexOf(L) === H;});}};c.prototype.c0a=function(K){var N,I;N=this.j.fdc;I=N && N.Yec;N && N.EKb && (K.htwbr=N.EKb,K.pbtwbr=N.Jec,K.hptwbr=N.jdc);N && N.NYb && (K.rr=N.NYb,K.ra=N.Vec);N && I && 0 < (I.length || 0) && (K.qe=JSON.stringify(I));};c.prototype.coa=function(K){var N,I,O;try{N=this.Zd.createElement("canvas");I=N.getContext("webgl") || N.getContext("experimental-webgl");if(I){O=I.getExtension("WEBGL_debug_renderer_info");O && (K.WebGLRenderer=I.getParameter(O.UNMASKED_RENDERER_WEBGL),K.WebGLVendor=I.getParameter(O.UNMASKED_VENDOR_WEBGL));}}catch(L){}};c.prototype.dLb=function(K){K.switchAwaySummary={vsa:this.fj.summary.Adb,vsb:this.fj.summary.Bdb,vsbt:this.fj.summary.Cdb,asa:this.fj.summary.TQa,asb:this.fj.summary.UQa,asbt:this.fj.summary.VQa};};c.prototype.Smb=function(K){var N;N=[];return K?Object.keys(K).map(function(I){return +I;}):N;};c.prototype.nF=function(){var K,N;K=this;if(this.j.rw && this.j.ci){N=[];this.j.rw.concat(this.j.ci).forEach(function(I){I.streams.forEach(function(O){N.push({dlid:O.Vb,type:O.type,bitrate:O.bitrate,vmaf:O.zb,cdn_ids:K.Smb(O.lka)});});});return JSON.stringify(N);}};c.prototype.Cub=function(){var N,I,O;function K(L,H){var M,R,Y;M=L.cdnId + "$" + L.correlationId;R=O[M];R || (R={cdnid:L.cdnId,pbcid:L.correlationId,dls:[]},O[M]=R,I.push(R));(0,l.AK)(L.bitrate);(0,l.AK)(L.duration);M={bitrate:L.bitrate,tm:(0,w.vn)(L.duration)};Y=L.vmaf;Y && ((0,l.AK)(L.vmaf),M.vf=Y);M[H]=(0,n.bj)(L.downloadableId);R.dls.push(M);}N=this.j.Xk.VFb();I=[];O={};N.audio.forEach(function(L){K(L,"adlid");});N.video.forEach(function(L){K(L,"dlid");});return JSON.stringify(I);};c.prototype.PV=function(){var K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga;K=this.j.Xk;N={totaltime:(0,n.Nl)(K.zp("content")),totalcontenttime:(0,n.Nl)(K.ET("content")),totaladtime:(0,n.Nl)(K.zp("ads")),totalothertime:(0,n.Nl)(K.zp("other")),cdndldist:this.Cub(),reposcount:this.qW,intrplaycount:this.JB};try{I={numskip:0,numlowqual:0};O=this.j.je;L=O.vv();(0,x.rb)(L) && (N.totfr=L,I.numren=L);L=O.JF();(0,x.rb)(L) && (N.totdfr=L,I.numrendrop=L);L=O.lT();(0,x.rb)(L) && (N.totcfr=L,I.numrenerr=L);N.playqualvideo=JSON.stringify(I);H=this.j.Ne.value;H && (N.videofr=H.framerate.toFixed(3));M=K.ama();M && (N.abrdel=M);R=K.v5() && K.MXa();R && (N.tw_vmaf=R);Y=K.KXa();Y && (0,n.Rd)(N,Y);N.rbfrs=this.JB;N.maxbitrate=this.maxBitrate;N.maxresheight=this.E3a;ea=this.j.vB();for(K=0;K < ea.length;K++){ca=ea[K];oa=this.Ba.pM.iz(ca);if(oa){(0,l.oa)(Ga);N.maxbitrate=Ga?Ga.bitrate:0;N.maxresheight=Ga?Ga.height:0;N.bitratefilters=oa.join("|");break;}Ga=ca;}this.j.oz && (N.trickplay=this.j.oz.yL());null !== this.j.nn.nRa && (N.avg_subt_delay=this.j.nn.nRa);}catch(Fa){this.log.error("Exception reading some of the endplay fields",Fa);}(0,n.Rd)(N,this.j.i5(),{prefix:"vd_"});return N;};c.prototype.getTime=function(){return this.Fa.Fb().ba(p.na);};c.prototype.ana=function(){return this.getTime() - this.Ba.Rh.ba(p.na);};c.prototype.hoa=function(K){var N;try{N=this.Xc.getStats();K.pr_cache_size=JSON.stringify(N.cache);K.pr_stats=JSON.stringify(N.vFb);}catch(I){}};c.prototype.doa=function(K){this.log.debug("httpstats",this.He.Wf);(0,n.Rd)(K,this.He.Wf,{prefix:"http_"});};c.prototype.Xq=function(K,N){K=K.$c;K.ha && (N.intenttoplayatedge=K.MT(),K=K.rB(),N.livestage=this.vHb(K));};c.prototype.vHb=function(K){switch(K){case F.Ur.VP:case F.Ur.mca:case F.Ur.Dba:return K.toLowerCase();default:return (0,G.MS)(K);}};c.prototype.$na=function(K){var N,I,O;N=this.config().wUa && !(this.la % this.config().wUa);I=this.j.$a;O=null === I || void 0 === I?void 0:I.Ih;N && O && (K.ASEstats=JSON.stringify(I.G0a()));};c.prototype.F5=function(K){Object.assign(K,this.j.$a.Sd.gJb());};c.prototype.goa=function(K){var N;try{N=w.ru.memory;(0,x.u1a)(N) && (K.totalJSHeapSize=N.totalJSHeapSize,K.usedJSHeapSize=N.usedJSHeapSize,K.jsHeapSizeLimit=N.jsHeapSizeLimit);}catch(I){}};c.prototype.Y_a=function(K){var N;try{if(this.config().WR){N=this.j.aGb();K.battery=N;this.log.trace("batterystatuses",N);}}catch(I){}};c.prototype.$Kb=function(K){this.j.j3 && (K.dqec=this.j.j3);};c.prototype.foa=function(K){var N,I,O;(null === (N=this.j.ee) || void 0 === N?0:N.qL)?K.keysys=this.j.ee.qL():(null === (O=null === (I=this.j.ee) || void 0 === I?void 0:I.mediaKeys) || void 0 === O?0:O.keySystem)?K.keysys=this.j.ee.mediaKeys.keySystem:this.mM.N1a && (K.keysys=this.mM.N1a);this.TB.P1a && (K.keySystemRestrictions=this.TB.P1a);this.TB.Q1a && (K.keySystemRestrictionsDebug=this.TB.Q1a);};c.prototype.eoa=function(K){var N;if(null === (N=this.j.ee) || void 0 === N?0:N.KYa)K.keystatus=this.j.ee.bpa;};c.prototype.aLb=function(K){this.fla && (K.externaldisplay=this.fla.ZK);};c.prototype.bLb=function(K){var N,I;if(this.pxa){N=this.pxa.map(function(O){return O.te;}).filter(function(O){return void 0 !== O;});I=(0,A.bqa)(N,function(O){return O.height;});I && (K.media_capabilities_smooth=I.smooth,K.media_capabilities_efficient=I.powerEfficient,K.media_capabilities_bitrate=I.bitrate,K.media_capabilities_height=I.height,K.media_capabilities_width=I.width);K.media_capabilities=N.map(function(O){return {smooth:O.smooth,efficient:O.powerEfficient,bitrate:O.bitrate,height:O.height,width:O.width};});}};c.prototype.eLb=function(K){K.didHydrateTracks=this.j.v3;};c.prototype.pNb=function(){void 0 === this.fla && (this.fla=this.gla.LDb());};c.prototype.qNb=function(K){var N;N=this;void 0 === this.pxa && void 0 !== K && (this.pxa=K.map(function(I){return N.mqa.lla(I);}));};c.prototype.v4=function(K,N){(N=this.j.sL(N)) && Object.entries(N).forEach(function(I){var O;O=ma(I);I=O.next().value;O=O.next().value;K[I]=O;});};c.prototype.HL=function(K,N){var I;(N=null === (I=this.j.$a) || void 0 === I?void 0:I.O4(void 0,N)) && Object.entries(N).forEach(function(O){var L;L=ma(O);O=L.next().value;L=L.next().value;K[O]=L;});};c.prototype.vc=function(K,N,I,O){var L,H;H=N?"error":"info";N && this.j.vh && (0,q.XY)(this.j.vh.errorCode,this.j.vh.za,this.ana(),null === (L=this.j.je) || void 0 === L?void 0:L.vv()) && (H="info");this.Ega(O,this.j,N,I);K=this.yy.Hs(K,H,O,this.Ba);this.Sf.vc(K);};c.prototype.ZKb=function(K,N){var I,O;O=null === (I=N.$a) || void 0 === I?void 0:I.tzb;O && (null === O || void 0 === O?void 0:O.J) !== N.VA && (K.auxMid || (K.auxMid=O.J),K.auxPlaybackcontextid || (K.auxPlaybackcontextid=N.Pk(O.J).Kf));};c.prototype.Ega=function(K,N,I,O){var L,H,M,R,Y;this.uc.$_a(K,N);this.ZKb(K,N);O & J.Ld && ((0,l.oa)(!K || void 0 === K.moff),this.uc.d0a(K,N,N.o5()));O & J.Zr && this.uc.f0a(K,N);O & J.Fi && (null === (L=N.$a) || void 0 === L?0:L.Ih) && (K.abuflbytes=null !== (H=K.abuflbytes) && void 0 !== H?H:N.yha(),K.abuflmsec=null !== (M=K.abuflmsec) && void 0 !== M?M:N.ER(),K.vbuflbytes=null !== (R=K.vbuflbytes) && void 0 !== R?R:N.nxa(),K.vbuflmsec=null !== (Y=K.vbuflmsec) && void 0 !== Y?Y:N.PX());O & J.$r && this.uc.g0a(K,N.xk);O & J.gD && (L=w.ze.hardwareConcurrency,0 <= L && (K.numcores=L),L=this.Ba.ska) && (H=L.bma(),K.droppedFrames=JSON.stringify(H),L=L.yT(this.config().BBb),(0,n.bg)(L,function(ea,ca){K["droppedFramesP" + ea]=JSON.stringify(ca);}));if(O & J.vY)try{N.tg && (K.cdninfo=JSON.stringify(N.tg.map(function(ea){return {id:ea.id,nm:ea.name,rk:ea.bc,wt:ea.location.weight,lv:ea.location.level};})));}catch(ea){}I && O & J.jD && ((0,l.oa)(N.vh),this.uc.b0a(K,N,N.vh));O & J.Fo && this.uc.boa(K);};Wa.Object.defineProperties(c.prototype,{Scb:{configurable:!0,enumerable:!0,get:function(){return this.j.eB || this.j.DS;}}});b.uP=c;(function(K){K[K.Ld=1]="MOFF";K[K.Zr=2]="PRESENTEDSTREAMS";K[K.Fi=4]="BUFFER";K[K.$r=8]="SCREEN";K[K.gD=16]="CPU";K[K.vY=32]="CDN";K[K.jD=64]="FATALERROR";K[K.Fo=128]="BROWSERINFO";})(J || (J={}));},58031:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t){this.Sf=n;this.config=p;this.sa=q;this.Fa=u;this.Gpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;r=a(70655);k=a(14959);f=a(86700);h=a(95114);d=a(17244);g=a(35664);m=a(58998);l=a(17899);c.prototype.create=function(n,p,q,u){var t;t=this.Gpa.create(n,p);return new l.xP(n,p,q,u,this.Sf,this.config,this.Fa,t);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.rm)),r.__param(1,(0,f.l)(d.cc)),r.__param(2,(0,f.l)(g.Fg)),r.__param(3,(0,f.l)(m.Jc)),r.__param(4,(0,f.l)(h.tP))],a);b.vP=a;},17899:function(r,b,a){var k,f,h,d;function c(g,m,l,n,p,q,u,t){var v;v=this;this.j=g;this.Ba=m;this.UF=n;this.Sf=p;this.config=q;this.Fa=u;this.cb=t;this.XB=function(w,y){return function(x){var A;A=y(x);if("number" !== typeof A)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");A === v.O && w(x);};};this.d3a=this.XB(function(w){v.b$(w.jG);},function(w){return w.O;});this.a3a=this.XB(function(){v.XR();},function(w){return w.O;});this.SSa=this.XB(function(){v.XR();},function(w){return w.movieId;});this.Bia=this.XB(function(){v.j.mb.value === d.bb.me && (v.j.mb.removeListener(v.Bia),v.zt());},function(){return v.j.O;});this.nz=function(w){v.Pp && v.cb.nz(w);};this.XSa=this.XB(this.cb.Mvb,function(w){return w.O;});this.mVa=this.XB(this.cb.lBb,function(w){return w.O;});this.H2a=this.XB(this.cb.EU,function(w){return v.j.ii(w.segmentId).O;});this.R9a=this.XB(this.cb.LW,function(w){return v.j.ii(w.segmentId).O;});this.Hj=function(w){w.skip && (v.FH=!0);switch(w.cause){case d.Vc.Yw:case d.Vc.pP:case d.Vc.W_:v.xr && v.Do && v.cb.nsa(v.getTime() - v.Do,v.xr);v.xr="repos";v.cb.DC(w.lra,w.tf,w.Td);v.Do=v.getTime();(0,h.Qf)(v.gv);break;case d.Vc.ZY:(v.xr="force_rebuffer",v.Do=v.getTime(),(0,h.Qf)(v.gv));}};this.El=function(w){v.vy=w.oldValue;v.cb.El(w);};this.gv=function(){var w;if(v.Do && v.j.mb.value !== d.bb.Mf){w=v.getTime() - v.Do;v.cb.It(w,v.FH,v.xr);v.vy && v.vy != v.j.tc.value && v.cb.Cha();v.Do=void 0;v.xr=void 0;v.FH=void 0;}};this.zt=function(){v.Pp || (v.Pp=!0,v.cb.Er(!1),v.koa(),v.config().N5 && (v.py=pb.setTimeout(function(){v.Sf.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.py=void 0;},v.config().N5)));};this.ug=function(){v.py && (pb.clearTimeout(v.py),v.py=void 0);if(v.config().A3 || v.config().DR)(v.kka && (pb.clearInterval(v.kka),v.kka=void 0),v.cb.eVa());v.HX && v.HX();v.Pp?v.cb.Zx(!!v.j.vh):v.j.vh?v.cb.Er(!0):v.Ba.background.value || v.cb.osa();};this.UX=function(w){w.oldValue && w.Mh && w.Mh.TE && v.cb.Ix(w.oldValue,w.newValue,w.Mh.TE,w.Mh.NR);};this.XV=function(w){var y;if(w.newValue){y=w.newValue.stream;v.sG != y && (v.sG && y && v.cb.Ita(v.sG,y,v.UF(w.newValue.nK.startTime)),v.sG=y);}};this.O=m.O;this.log=(0,k.Nh)(g,"LogblobBuilder");this.qa();l && this.b$();}Object.defineProperty(b,"__esModule",{value:!0});b.xP=void 0;k=a(89082);f=a(2467);h=a(66052);d=a(34202);c.prototype.qa=function(){this.j.addEventListener(d.ea.yG,this.d3a);this.j.addEventListener(d.ea.Tpa,this.a3a);this.j.addEventListener(d.ea.EU,this.H2a);this.j.addEventListener(d.ea.LW,this.R9a);this.j.addEventListener(d.ea.ug,this.SSa);if(this.config().A3 || this.config().DR)(this.j.addEventListener(d.ea.lF,this.mVa),this.kka=pb.setInterval(this.cb.eVa,this.config().pBb));this.config().Pta && this.j.addEventListener(d.ea.lF,this.XSa);};c.prototype.b$=function(g){var m;m=this;this.r4a || (this.j.mb.value !== d.bb.me || (void 0 === g?0:g)?this.j.mb.addListener(this.Bia):this.zt(),this.j.$h.addListener(this.nz),this.j.xb.addListener(this.cb.ll),this.j.tc.addListener(this.El),this.j.Qg.addListener(this.cb.IR),this.j.paused.addListener(this.cb.l8),this.j.Td.addListener(this.XV),this.j.mb.addListener(this.gv),this.j.mb.addListener(this.cb.Lbb),this.j.Ne.addListener(this.UX),this.j.playbackRate.addListener(this.cb.XW),this.j.addEventListener(d.ea.Kh,this.cb.Kh),this.j.addEventListener(d.ea.GE,this.cb.GE),this.j.addEventListener(d.ea.F6,this.cb.F6),this.j.addEventListener(d.ea.E6,this.cb.E6),this.j.addEventListener(d.ea.SN,this.cb.SN),this.j.addEventListener(d.ea.Dx,function(l){m.xr="rebuffer";m.cb.Dx(l);m.Do=m.getTime();(0,h.Qf)(m.gv);}),this.j.addEventListener(d.ea.Hj,this.Hj),this.j.addEventListener(d.ea.YN,this.cb.YN),this.Ba.lp && this.Ba.lp.addListener(this.cb.lp),this.r4a=!0);};c.prototype.XR=function(){this.ug();this.r4a && (this.j.removeEventListener(d.ea.yG,this.d3a),this.j.removeEventListener(d.ea.Tpa,this.a3a),this.j.removeEventListener(d.ea.EU,this.H2a),this.j.removeEventListener(d.ea.LW,this.R9a),this.j.$h.removeListener(this.nz),this.j.xb.removeListener(this.cb.ll),this.j.tc.removeListener(this.El),this.j.Qg.removeListener(this.cb.IR),this.j.paused.removeListener(this.cb.l8),this.j.Td.removeListener(this.XV),this.j.mb.removeListener(this.gv),this.j.mb.removeListener(this.Bia),this.j.mb.removeListener(this.cb.Lbb),this.j.Ne.removeListener(this.UX),this.j.playbackRate.removeListener(this.cb.XW),this.j.removeEventListener(d.ea.ug,this.SSa),this.j.removeEventListener(d.ea.Kh,this.cb.Kh),this.j.removeEventListener(d.ea.GE,this.cb.GE),this.j.removeEventListener(d.ea.SN,this.cb.SN),this.j.removeEventListener(d.ea.Dx,this.cb.Dx),this.j.removeEventListener(d.ea.Hj,this.Hj),this.j.removeEventListener(d.ea.YN,this.cb.YN),this.Ba.lp && this.Ba.lp.removeListener(this.cb.lp),this.j.removeEventListener(d.ea.lF,this.mVa),this.j.removeEventListener(d.ea.lF,this.XSa));};c.prototype.getTime=function(){return this.Fa.Fb().ba(f.na);};c.prototype.koa=function(){var g,m,l;g=this;l=[];this.config().X3a && (this.config().Y3a.forEach(function(n){l.push(pb.setTimeout(g.cb.Hy,n));}),this.config().h7 && (m=pb.setInterval(this.cb.Hy,this.config().h7)),this.HX=function(){l.forEach(function(n){pb.clearTimeout(n);});m && pb.clearInterval(m);});};b.xP=c;},37856:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t;function c(v,w,y,x,A,z,B,C){this.Fa=v;this.platform=y;this.Mk=x;this.json=A;this.Dh=z;this.Zg=B;this.IOb=C;(0,h.io)(this,"json");this.ja=w.Ta("LogblobSender");}function k(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(70655);f=a(86700);h=a(60920);d=a(63088);g=a(2467);m=a(89682);l=a(58998);n=a(811);p=a(15303);q=a(71163);u=a(4048);a=a(95538);c.prototype.send=function(v){var w;w=this;return new Promise(function(y,x){var A;try{A=v.reduce(function(z,B){z.entries.push(w.Gyb(B));return z;},new k());y(w.zFb(A));}catch(z){w.ja.error(z.message);x(z);}}).then(function(y){return w.Uua(y);});};c.prototype.Gyb=function(v){return this.Dh.fC(this.Dh.fC({},v.data),{esn:this.Mk().jk,sev:v.severity,type:v.type,lver:this.platform.Epa,jssid:this.Fa.id,devmod:this.platform.YA,jsoffms:v.timestamp.wa(this.Fa.xy).ba(g.na),clienttime:v.timestamp.ba(g.na),client_utc:v.timestamp.ba(g.vm),uiver:this.Zg.nw});};c.prototype.zFb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(A){for(var y={},x=0;x < v.entries.length;(y={AO:y.AO,$t:y.$t},++x)){y.$t=Object.assign({},v.entries[x]);try{this.json.stringify(y.$t);}catch(z){y.AO=void 0;this.Dh.hB(y.$t,(function(B){return function(C,D){try{w.json.stringify(D);}catch(F){B.AO=F.message;B.$t[C]=B.AO;}};})(y));y.$t.stringifyException=y.AO;y.$t.originalType=y.$t.type;y.$t.type="debug";y.$t.sev="error";}}return this.json.stringify(v);}};c.prototype.Uua=function(v){var w;w=this;return this.IOb.Hf(this.ja,{logblobs:v}).then(function(){!1;}).catch(function(y){w.ja.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.Jc)),r.__param(1,(0,f.l)(q.Xa)),r.__param(2,(0,f.l)(n.yn)),r.__param(3,(0,f.l)(p.Ew)),r.__param(4,(0,f.l)(d.sD)),r.__param(5,(0,f.l)(m.ph)),r.__param(6,(0,f.l)(a.Vw)),r.__param(7,(0,f.l)(u.hIa))],t);b.sFa=t;},12648:function(r,b,a){var k,f;function c(h){switch(h){case k.R.iP:return "http";case k.R.kP:return "connectiontimeout";case k.R.pD:return "readtimeout";case k.R.kDa:return "corruptcontent";case k.R.oD:return "abort";case k.R.lP:case k.R.Yba:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Yma=b.oZa=b.dZa=void 0;k=a(68172);f=a(50876);b.dZa=c;b.oZa=function(h,d){h={errorcode:h + (d.errorCode || k.V.Lo)};d.za && (h.errorsubcode=d.za);d.De && (h.errorextcode=d.De);d.Oka && (h.erroredgecode=d.Oka);d.Kb && (h.errordetails=d.Kb);d.Ll && (h.httperr=d.Ll);d.x7 && (h.aseneterr=d.x7);d.iB && (h.errordata=d.iB);d.XU && (h.mediaerrormessage=d.XU);(d=c(Number(d.za))) && (h.nwerr=d);return h;};b.Yma=function(){return {screensize:f.su.width + "x" + f.su.height,screenavailsize:f.su.availWidth + "x" + f.su.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight,devicePixelRatio:f.JGa};};},30927:function(r,b,a){var f,h,d,g,m,l,n;function c(p){this.LJ=d.Ia;this.Nfa=[];this.GQ=this.H0=!1;p && (this.LJ=p.size,this.Nfa=p.DG);}function k(p,q,u,t){this.cQb=p;this.config=q;this.If=u;this.json=t;(0,h.io)(this,"json");this.ja=this.If.Ta("MessageQueue");this.Es=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(70655);f=a(86700);h=a(60920);d=a(36845);g=a(32841);m=a(71163);l=a(63088);a=a(14959);k.prototype.Nga=function(p){var q,u;0 === this.Es.length && this.Es.push(this.oma());if(p=this.FIb(p)){q=this.cQb.measure([p]);u=this.Es[this.Es.length - 1];0 < u.size.add(q).Lk(this.config.w3a) && (u=this.oma(),this.Es.push(u));u.Nga(p);}};k.prototype.ZFb=function(){var p;p=this.Es.filter(function(q){return q.wub;});this.Es.push(this.oma());p.forEach(function(q){return q.lPb();});return p;};k.prototype.oqb=function(p){p.sy || this.Es.unshift(new c(p));};k.prototype.BXb=function(p){p=this.Es.indexOf(p);0 <= p && this.Es.splice(p,1);};k.prototype.FIb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ja.error("JSON.stringify error: " + t.message,q);}};k.prototype.oma=function(){return new c();};Wa.Object.defineProperties(k.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Es.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});n=k;n=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.pFa)),r.__param(1,(0,f.l)(a.rca)),r.__param(2,(0,f.l)(m.Xa)),r.__param(3,(0,f.l)(l.sD))],n);b.vGa=n;c.prototype.TN=function(){this.H0=!1;this.GQ=!0;};c.prototype.Os=function(){this.H0=!1;};c.prototype.Nga=function(p){this.Nfa.push(p);this.LJ=this.LJ.add(p.size);};c.prototype.lPb=function(){this.H0=!0;};Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.LJ;}},DG:{configurable:!0,enumerable:!0,get:function(){return this.Nfa;}},wub:{configurable:!0,enumerable:!0,get:function(){return 0 < this.DG.length && !1 === this.H0;}},sy:{configurable:!0,enumerable:!0,get:function(){return this.GQ;}}});},98330:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},65906:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.c3a=void 0;r=a(86700);c=a(69379);k=a(62722);f=a(87286);h=a(81818);d=a(67443);g=a(93592);m=a(65840);l=a(23251);n=a(29350);p=a(78927);q=a(31451);b.c3a=new r.Yc(function(u){u(f.LFa).to(h.KFa).da();u(c.Hca).to(k.MFa).da();u(d.rJa).ml(function(t){for(var v=[],w=0;w < arguments.length;++w){v[w - 0]=arguments[w];}w=a(31360).ND;return new (Function.prototype.bind.apply(w,[null].concat(da(v))))();});u(g.PFa).Vd(function(){return function(t){return new m.QFa(t);};});u(l.LI).to(n.IFa).da();u(p.HFa).to(q.GFa).da();});},87286:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LFa="ManifestProviderConfigSymbol";},69379:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hca="ManifestParserFactorySymbol";},93592:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PFa="ManifestVerifyErrorFactorySymbol";},67443:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rJa="PlayerTextTrackFactorySymbol";},95562:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q){n=f.DP.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;k=a(98330);f=a(87450);h=a(56170);d=a(20736);g=a(65853);m=a(68172);l=a(56003);ia(c,f.DP);c.prototype.f6a=function(n,p,q){var u,t;u=this;t=this.config.o$;p=p.filter(function(v){var w,y;w=v.NB || !v.xg || v.streams && 0 < v.streams.length;w || u.log.warn("Audio track is missing streams",u.c5(v));y=0 === t.length || 0 <= t.indexOf(v.Ch);y || u.log.warn("Audio track is not supported",u.c5(v));return w && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return u.e6a(n,v,u.OFb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.GTb=function(n,p,q,u){var t,v,w,y;t=this;v=ma((0,h.pC)(function(x){return x.NB;},p));p=v.next().value;v=v.next().value;v=ma((0,h.pC)(function(x){return x.streams && 0 < x.streams.length;},v));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.c5(x));});y=this.config.o$;v=ma((0,h.pC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.Ch);},w));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.c5(x));});p=[].concat(da(w),da(p)).map(function(x){return t.e6a(n,x,t.sHb(x.Jf,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Asb=function(n){var p,q;p=this;q=this.config.Jla;if(q){if(n=ma(n.filter(function(u){return u.re == q || u.trackId == q;})).next().value)return n;}else if(this.j.m4 && (n=ma(n.filter(function(u){return u.trackId == p.j.m4;})).next().value))return n;};c.prototype.YDb=function(n,p){this.config.lRa.forEach(function(q){var u,t,v;u=p.Cs.filter(function(w){return w.profile === q;}).reduce(function(w,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){w.add(x);});return w;},new Set());t=!1;v=n.Ga.Cs.map(function(w){var y;if(w.profile === q){y=w.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === w.streams.length)return w;t=!0;if(0 === y.length)throw new l.Lc(m.V.xFa,m.R.ueb);return Object.assign(Object.assign({},w),{streams:y});}return w;});t && (n.Ga=Object.assign(Object.assign({},n.Ga),{Cs:v}));});return n;};c.prototype.e6a=function(n,p,q){var u,t,v,w;w=p.Ch;n=Object.assign(Object.assign({},n),{type:d.Zj.audio,MH:p.MH,variant:p.variant,trackId:p.Jf,hG:p.hO,Ch:g.Z_[w.toLowerCase()] || g.Jo.UI,CC:w,re:p.language,displayName:p.UB,bc:null !== (u=p.bc) && void 0 !== u?u:-1,xg:null !== (t=p.xg) && void 0 !== t?t:!0,channels:p.channels,vbc:p.channels,hh:q,zg:{Bcp47:p.language,TrackId:p.Jf},streams:[],isNative:p.isNative,co:p.NB,jX:p.jX});n.streams=this.Pbb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.hh.length});n.Ivb=k.aza[null === (v=n.streams[0]) || void 0 === v?void 0:v.af];return n;};c.prototype.c5=function(n){return {language:n.UB,bcp47:n.language,type:n.Ch};};c.prototype.OFb=function(n,p){return p.filter(function(q){if(0 <= n.$Ab.indexOf(q.hG))return !1;if(n.KUa){if(n.KUa !== q.hG && (q.co() || q.$m()))return !1;}else if(n.XRb){if(q.co() || q.$m())return !1;}else if(q.$m())return !1;return !0;});};c.prototype.sHb=function(n,p,q){return p.filter(function(u){return u.Xd.ga === n;}).map(function(u){return u.Xd.Ya;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.$ya=c;},17668:function(r,b,a){var k,f;function c(h,d){this.log=h;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;k=a(56170);f=a(40152);c.prototype.g6a=function(h,d){var g,m,l,n;g=this;m=this.config.tia;l=this.config.sia;h=ma((0,k.pC)(function(p){return (!m.length || 0 <= m.indexOf(p.id)) && 0 > l.indexOf(p.id);},h || []));n=h.next().value;h.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});h=n.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,bc:p.bc,type:p.type,F2a:p.key,uMb:p.T2a,location:{id:q.key,bc:q.bc,level:q.level,weight:q.weight}};});h.sort(function(p,q){return p.bc - q.bc;});this.log.trace("Transformed cdns",{Count:h.length});if(!h.length)throw Error("no valid cdns");return h;};c.prototype.JKb=function(h,d,g,m){var l;l=h.filter(function(n){return -1 === g.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {I5a:!0,dc:n};}).concat(g.map(function(n){return {I5a:!1,dc:n};})).sort(function(n,p){return n.dc.bc === p.dc.bc?n.I5a?-1:1:n.dc.bc - p.dc.bc;}).map(function(n,p){(0,f.gM)(n.dc).bc=p + 1;return n.dc;});h=d.filter(function(n){return -1 === m.findIndex(function(p){return p.key === n.key;});}).concat(m).map(function(n){var p;p=l.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=l[p],(0,f.gM)(n).bc=p.bc,n);}).filter(function(n){return void 0 !== n;});return {MZb:l,zOb:h};};b.eAa=c;},81818:function(r,b,a){var k,f,h,d,g,m;function c(l,n){l=f.Qe.call(this,l,"ManifestParserConfigImpl") || this;l.lf=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(54662);g=a(65350);m=a(36845);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{o$:{configurable:!0,enumerable:!0,get:function(){return [];}},Jla:{configurable:!0,enumerable:!0,get:function(){return "";}},tia:{configurable:!0,enumerable:!0,get:function(){return [];}},sia:{configurable:!0,enumerable:!0,get:function(){return [];}},Nla:{configurable:!0,enumerable:!0,get:function(){return "";}},Una:{configurable:!0,enumerable:!0,get:function(){return 0;}},ZN:{configurable:!0,enumerable:!0,get:function(){return this.lf.ZN.ba(m.eu);}},Qt:{configurable:!0,enumerable:!0,get:function(){return this.lf.Qt;}},FL:{configurable:!0,enumerable:!0,get:function(){return this.lf.FL;}},lRa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.LH,"supportedAudioTrackTypes")],a.prototype,"o$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Jla",null);r.__decorate([d.config(d.Nwa,"cdnIdWhiteList")],a.prototype,"tia",null);r.__decorate([d.config(d.Nwa,"cdnIdBlackList")],a.prototype,"sia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Nla",null);r.__decorate([d.config(d.qz,"imageSubsResolution")],a.prototype,"Una",null);r.__decorate([d.config(d.qz,"timedTextSimpleFallbackThreshold")],a.prototype,"ZN",null);r.__decorate([d.config(d.LH,"timedTextProfiles")],a.prototype,"Qt",null);r.__decorate([d.config(d.LH,"imscLanguageList")],a.prototype,"FL",null);r.__decorate([d.config(d.LH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"lRa",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl)),r.__param(1,(0,k.l)(g.ED))],a);b.KFa=a;},62722:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y){this.If=t;this.config=v;this.Asa=w;this.Hwa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(87286);d=a(17668);g=a(87216);m=a(89509);l=a(36779);n=a(95562);p=a(25864);q=a(67443);a=a(51017);c.prototype.create=function(t){var v,w;v=this.If.Ta("ManifestParser",t);w=new d.eAa(v,this.config);return new m.NFa(w,new g.PLa(v,this.config,t,this.Asa),new l.hMa(v,t,this.Hwa),new n.$ya(v,this.config,t),new p.LMa(v));};u=c;u=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.LFa)),r.__param(2,(0,k.l)(q.rJa)),r.__param(3,(0,k.l)(a.gMa))],u);b.MFa=u;},89509:function(r,b,a){var k;function c(f,h,d,g,m){this.uia=f;this.nwa=h;this.r3b=d;this.KR=g;this.sdb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;k=a(40152);c.prototype.i6a=function(f){var h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B;g=f.Ga;m={Gf:null !== (d=null === (h=g.NA) || void 0 === h?void 0:h.Np) && void 0 !== d?d:"",tC:g.voa?"ads":"content"};l=!!g.iW;h=this.uia.g6a(g.zk,g.si);d=this.nwa.k6a(m,g.aO);f=this.r3b.MTb(g.u3b);n=l?this.KR.f6a(m,g.Cs,d):this.KR.GTb(m,g.Cs,g.media,d);m=this.sdb.NTb(m,g.Xt);p=m[0];q=this.KR.Asb(n) || n.find(function(C){return l?C.trackId === g.iW.ip:C.hG === g.n3[0].ip;}) || n[0];u=this.nwa.N2b(q.hh) || d.find(function(C){return l?C.trackId === g.iW.$N:C.hG === g.n3[0].Nab;}) || q.hh[0];t=this.sdb.JTb(g.Xt);v=g.Kf;w=g.yvb;y=g.yB;x=g.Nk;A=g.Cs.findIndex(function(C){return C.Jf == q.trackId;});z=g.Xt.findIndex(function(C){return C.Jf == p.trackId;});B=g.aO.findIndex(function(C){return C.Jf == u.trackId;});return {Ft:t,tg:h,ci:n,rw:m,hh:d,pz:f,Kf:v,QZb:w,nG:y,Nk:x,Xzb:A,dAb:z,cAb:B,o3:p,nS:q,oS:u};};c.prototype.KKb=function(f,h,d){var g,m,l,n,p,q;g=this;n=this.uia.JKb(f.Ga.zk,f.Ga.si,d.Ga.zk,d.Ga.si);p=n.MZb;n=n.zOb;(0,k.gM)(f.Ga).zk=p;(0,k.gM)(f.Ga).si=n;h.tg=this.uia.g6a(p,n);q={Gf:null !== (l=null === (m=d.Ga.NA) || void 0 === m?void 0:m.Np) && void 0 !== l?l:"",tC:d.Ga.voa?"ads":"content"};d=d.Ga;m=d.Cs;d.aO.forEach(function(u){var t;if(u.xg){t=g.H8a(f.Ga.aO,h.hh,u,function(v){return g.nwa.k6a(q,[v])[0];});t && h.ci.forEach(function(v){var w;v=v.hh;w=v.findIndex(function(y){return y.trackId === t.trackId;});-1 !== w && (v[w]=t);});}});m.forEach(function(u){u.xg && g.H8a(f.Ga.Cs,h.ci,u,function(t){return g.KR.f6a(q,[t],h.hh)[0];});});return {W:f,yc:h};};c.prototype.YYb=function(f,h){return this.KR.YDb(f,h);};c.prototype.H8a=function(f,h,d,g){var m,l,n,p;m=f.findIndex(function(q){return q.Jf === d.Jf;});l=-1 !== m?f[m]:void 0;n=h.findIndex(function(q){return q.trackId === d.Jf;});p=-1 !== n?h[n]:void 0;if(l && !l.xg && p && !p.xg)return (g=g(d),f[m]=d,h[n]=g);};b.NFa=c;},65840:function(r,b){function a(c){this.yc=c;this.Kb=JSON.stringify(this.CHb());}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;a.prototype.CHb=function(){var c;c=[];(!this.yc.tg || 0 >= this.yc.tg.length) && c.push({error:"No CDN."});this.yc.nS || c.push({error:"No default audio track.",foundTracks:this.qma(this.yc.ci)});this.yc.o3 || c.push({error:"No default video track.",foundTracks:this.qma(this.yc.rw)});this.yc.oS || c.push({error:"No default subtitle track.",foundTracks:this.qma(this.yc.hh)});return c;};a.prototype.qma=function(c){return c && 0 < c.length?c.map(function(k){return k.trackId;}):"No tracks found.";};b.QFa=a;},87450:function(r,b,a){var k;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.DP=void 0;k=a(94181);c.prototype.Pbb=function(f,h){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + h.type + " track - " + h.trackId),[]);g=f.map(function(m){var l,n,p,q,u,t,v,w;w=new k.MediaStream(h,h.type,m.Pm,m.bitrate,m.zb,m.size,d.GGb(m.urls),m.QA,m.tXa / m.sXa,m.ki,m.Di);w.I_b(m.S8a,m.aua,m.x6a,m.w6a);w.XZb(null !== (l=m.qzb) && void 0 !== l?l:void 0,null !== (n=m.rzb) && void 0 !== n?n:void 0,null !== (p=m.pzb) && void 0 !== p?p:void 0,null !== (q=m.ozb) && void 0 !== q?q:void 0,null !== (u=m.x6a) && void 0 !== u?u:void 0,null !== (t=m.w6a) && void 0 !== t?t:void 0);h.Nk && (w.Nk=h.Nk);m.oF && (w.oF=null !== (v=m.oF) && void 0 !== v?v:void 0);m.QA && (w.af=m.QA);return w;});g.sort(function(m,l){return m.bitrate - l.bitrate;});g.forEach(function(m,l){m.lower=g[l - 1];m.edc=g[l + 1];});return g;};c.prototype.GGb=function(f){return f.reduce(function(h,d){h[d.Ig]=d.url;return h;},{});};b.DP=c;},87216:function(r,b,a){var k,f,h,d;function c(g,m,l,n){this.log=g;this.config=m;this.j=l;this.Asa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;k=a(56261);f=a(50876);h=a(65853);d=a(36437);c.prototype.k6a=function(g,m){var l;l=this;m=m.map(function(n){var p,q,u,t;u=l.i3b(n);n.NB || !n.xg || u && 0 < u.length || l.log.error("track without downloadables",l.zHb(n));t={};0 < u.length && (t=n.language && 0 <= l.config.FL.indexOf(n.language)?u[1] && u[1].profile === k.wl.GDa?u[1]:u[0]:u[0],t.profile == k.wl.NI && (t=l.vZb(u),!1));n=l.Asa(l.j,n.Jf,n.id,null !== (p=n.bc) && void 0 !== p?p:-1,null !== (q=n.xg) && void 0 !== q?q:!0,g,t.Vb,t.urls || [],n.language,n.UB,h.Z_[n.Ch.toLowerCase()] || h.Jo.UI,n.MH,n.variant,n.CC.toUpperCase(),t.profile,l.KHb(t) || ({}),n.NB,n.a6,n.c6,n.$s);l.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.N2b=function(g){var m,l;m=this;l=this.config.Nla;if(l){if(g=ma(g.filter(function(n){return n.re == l || n.trackId == l;})).next().value)return g;}else if(this.j.n4 && (g=ma(g.filter(function(n){return n.trackId == m.j.n4;})).next().value))return g;};c.prototype.i3b=function(g){var m,l;m=this;l=g.rVa;g=Object.entries(g.Mwa || ({})).map(function(n){var p;p=ma(n);n=p.next().value;p=p.next().value;return {Vb:l[n],profile:n,size:p.size || 0,priority:m.HGb(n,p),offset:p.xqa || 0,fUb:p.width,v6a:p.height,urls:p.urls};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.HGb=function(g,m){var l,n;l=this.config.Qt.indexOf(g);m=m.size;n=this.config.ZN;return g === k.wl.iba && 0 < n && m > n?this.config.Qt.length + 1:0 <= l?l:this.config.Qt.length;};c.prototype.KHb=function(g){if(g.profile === k.wl.NI)return {offset:g.offset,length:g.size,cl:{width:g.fUb,height:g.v6a}};};c.prototype.vZb=function(g){var m,l;m=this.config.Una || d.nea.uZa();l=ma(g.filter(function(n){return n.profile === k.wl.NI;}).filter(function(n){return n.v6a === m;})).next().value;if(l)return l;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.su.height,intendedResolution:m});return g[0];};c.prototype.zHb=function(g){return {isNone:g.NB,isForced:g.a6,bcp47:g.language,id:g.Jf};};b.PLa=c;},36779:function(r,b){function a(c,k,f){this.log=c;this.j=k;this.Hwa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;a.prototype.MTb=function(c){var k;k=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return k.Hwa(k.j,f.id,f.height,f.width,f.iUb,f.jUb,f.size,f.$s,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,h){return f.size - h.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.hMa=a;},25864:function(r,b,a){var k,f,h,d;function c(g){return f.DP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;k=a(56170);f=a(87450);h=a(20736);d=a(65853);ia(c,f.DP);c.prototype.NTb=function(g,m){var l,n;l=this;m=ma((0,k.pC)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return l.log.warn("Video track is missing streams",{trackId:p.Jf});});m=n.map(function(p){var q;q=p.Ch;q=Object.assign(Object.assign({},g),{type:h.Zj.video,trackId:p.Jf,hG:p.hO,Ch:d.Z_[q.toLowerCase()] || d.Jo.UI,CC:q,streams:[],zg:{},ZV:p.ZV});q.streams=l.Pbb(p.streams,q);l.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.JTb=function(g){var m;m=g.map(function(l){return l.ZV;}).filter(Boolean);m=[].concat.apply([],da(m)).map(function(l){return l.xa;});g=g.map(function(l){return l.pka;}).filter(Boolean).map(function(l){return l.xa;});return 0 < m.length?m:g;};b.LMa=c;},3797:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(86700);c=a(3774);k=a(76586);b.W=new r.Yc(function(f){f(k.yD).to(c.JFa).da();});},78927:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HFa="ManifestEnricherSymbol";},23251:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LI="ManifestFactorySymbol";},76586:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yD="ManifestFetcherSymbol";},11430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qza="BookmarkSymbol";},47403:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oza="BookmarkConfigSymbol";},44906:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nza="BookmarkConfigParserSymbol";},31731:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.aK=void 0;r=a(86700);c=a(11430);k=a(47403);f=a(44906);h=a(10657);d=a(70880);g=a(88901);b.aK=new r.Yc(function(m){m(c.qza).to(h.pza).da();m(k.oza).to(d.lza).da();m(f.nza).to(g.mza).da();});},70880:function(r,b,a){var k,f;function c(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;r=a(70655);k=a(86700);a=a(17244);c.prototype.tma=function(){return this.HF().btb;};c.prototype.uma=function(){return this.HF().ctb;};c.prototype.fHb=function(){return this.HF().dtb;};c.prototype.cma=function(){return this.HF().zRa;};c.prototype.HF=function(){return this.config();};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.cc))],f);b.lza=f;},88901:function(r,b,a){var k,f,h;function c(d){this.wb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;r=a(70655);k=a(86700);f=a(89542);h=a(2467);c.prototype.x1b=function(d,g){var m,l;m=parseFloat(d);l=0;"%" === d[d.length - 1] && this.wb.fk(m)?l=Math.round(m * g.ba(h.na) / 100):(d=parseInt(d),this.wb.zR(d) && (l=d));return (0,h.Lb)(Math.min(l,g.ba(h.na)));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Zf))],a);b.mza=a;},10657:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q){this.p2=n;this.wb=p;this.atb=q;this.ja=l.Ta("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;r=a(70655);k=a(86700);f=a(47403);h=a(44906);d=a(71163);g=a(89542);m=a(2467);c.prototype.arb=function(l){var n,p;n=l.Wa.playbackState && l.Wa.playbackState.currentTime;p=this.pGb(l.O);n=this.wb.gF(n)?(0,m.Lb)(n):p;p=0;this.wb.wg(n)?(this.ja.info("Overriding bookmark",{From:l.uz.ba(m.na),To:n.ba(m.na)}),n=Object.assign({},l,{uz:n})):n=l;l.$c.ha && (l=l.$c.Cma(l.uz.ba(m.na)),n=Object.assign({},n,{uz:(0,m.Lb)(l.Fl),uC:(0,m.Lb)(l.uC)}),p=l.IUa);return n.uz.Hoa()?(this.ja.trace("Ignoring bookmark because it's negative"),(0,m.Lb)(p)):this.RKb(n)?(this.ja.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Lb)(p)):this.QKb(n)?(this.ja.trace("Ignoring bookmark because it's too close to end"),(0,m.Lb)(p)):this.PKb(n)?(this.ja.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Lb)(p)):n.uz;};c.prototype.RKb=function(l){return 0 > l.uz.Lk(this.tma(l));};c.prototype.tma=function(l){return this.ARa(this.p2.tma(),l.uC);};c.prototype.QKb=function(l){return 0 < l.uz.Lk(this.uma(l));};c.prototype.uma=function(l){var n;n=l.Wa.dg?this.p2.fHb():this.p2.uma();return l.uC.wa(this.ARa(n,l.uC));};c.prototype.PKb=function(l){return 0 < l.uz.Lk(this.OGb(l));};c.prototype.OGb=function(l){return l.uC.wa((0,m.Lb)(l.oC));};c.prototype.pGb=function(l){var n;l=this.p2.cma()[l];n=-1;this.wb.ep(l)?n=parseInt(l):this.wb.fk(l) && (n=l);if(this.wb.zR(n))return (0,m.Lb)(n);};c.prototype.ARa=function(l,n){return this.atb.x1b(l,n);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(f.oza)),r.__param(2,(0,k.l)(g.Zf)),r.__param(3,(0,k.l)(h.nza))],a);b.pza=a;},5872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iza="CDMAttestedDescriptorProvider";},23541:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.SRa=void 0;r=a(86700);c=a(5872);k=a(76396);b.SRa=new r.Yc(function(f){f(c.Iza).to(k.Hza).da();});},76396:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u,t,v,w,y){this.config=q;this.iC=t;this.profile=v;this.B$=w;this.VR=y;this.log=u.Ta("CDMAttestedDescriptor");this.ZXa(n.pu.QP);}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;r=a(70655);k=a(86700);f=a(17244);h=a(71163);d=a(53713);g=a(60070);m=a(98540);l=a(94773);n=a(53685);p=a(41047);c.prototype.ZXa=function(q){var u;u=this;return this.B$.R9(q)?this.config().XBb?this.XXa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.m2a || (!1,u.m2a=u.VR.$ma(p.Gh.tn));return u.m2a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.gz.close();return null === t || void 0 === t?void 0:t.wia;}).then(function(t){return Promise.all([Promise.resolve(t),u.XXa()]);}).then(function(t){var v;t=ma(t);v=t.next().value;if(t.next().value)!1;else return v;}):this.iC().then(function(t){t.eV.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.XXa=function(){var q;q=this;return this.iC().then(function(u){return (u=u.eV.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.cc)),r.__param(1,(0,k.l)(h.Xa)),r.__param(2,(0,k.l)(d.HP)),r.__param(3,(0,k.l)(m.XI)),r.__param(4,(0,k.l)(g.a0)),r.__param(5,(0,k.l)(l.yY))],a);b.Hza=a;},31451:function(r,b,a){var k,f;function c(h){this.QCb=h;this.$2a={Qm:"drmType",hcc:"drmVersion",expiration:"expiration",O:"movieId",hn:"packageId",duration:"duration",Kf:"playbackContextId",n3:["defaultTrackOrderList",{lM:"mediaId",rO:"videoTrackId",Nab:"subtitleTrackId",ip:"audioTrackId",Pec:"preferenceOrder"}],lcc:["eligibleABTestMap",{oj:f.oj}],bbc:["badgingInfo",{bcc:"dolbyDigitalAudio",$cc:"hdrVideo",ccc:"dolbyVisionVideo",igc:"ultraHdVideo","3dVideo":"3dVideo",acc:"dolbyAtmosAudio",Sac:"assistiveAudio",qfc:"sdVideo",Zcc:"hdVideo"}],type:"type",Xac:["audioTextShortcuts",{id:"id",ip:"audioTrackId",gbb:"textTrackId"}],Iec:"partiallyHydrated",C3a:"maxRecommendedAudioRank",D3a:"maxRecommendedTextRank",Nk:"drmContextId",YJb:"hasDrmProfile",WJb:"hasClearProfile",yB:"hasDrmStreams",n5:"hasClearStreams",si:["locations",{bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],zk:["servers",{id:"id",name:"name",type:"type",bc:"rank",T2a:"lowgrade",hBb:["dns",{host:"host",QLb:"ipv4",RLb:"ipv6",PEb:"forceLookup"}],key:"key"}],Cs:["audio_tracks",{type:"type",MH:"subType",variant:"variant",Ch:"trackType",Jf:"new_track_id",hO:"track_id",fWb:"profileType",g1b:"stereo",profile:"profile",channels:"channels",language:"language",Lub:"channelsFormat",jX:"surroundFormatLabel",UB:"languageDescription",$Ab:"disallowedSubtitleTracks",KUa:"defaultTimedText",isNative:"isNative",NB:"isNoneTrack",streams:["streams",{Pm:"downloadable_id",size:"size",QA:"content_profile",Ch:"trackType",bitrate:"bitrate",ki:"isDrm",urls:["urls",{Ig:"cdn_id",url:"url",D6:"liveOcaCapabilities"}],fRb:"new_stream_id",type:"type",channels:"channels",Lub:"channelsFormat",jX:"surroundFormatLabel",language:"language",Vac:"audioKey",KQb:["moov",{size:"size",offset:"offset"}],Ak:["sidx",{size:"size",offset:"offset"}],Q0b:["ssix",{size:"size",offset:"offset"}],Di:"tags",XXb:"representationId"}],Ivb:"codecName",CC:"rawTrackType",id:"id",bc:"rank",xg:"hydrated",XRb:"offTrackDisallowed"}],Xt:["video_tracks",{Ch:"trackType",Jf:"new_track_id",type:"type",hO:"track_id",YJb:"hasDrmProfile",WJb:"hasClearProfile",yB:"hasDrmStreams",n5:"hasClearStreams",YF:"groupName",streams:["streams",{Pm:"downloadable_id",size:"size",QA:"content_profile",Ch:"trackType",oF:"drmHeaderId",bitrate:"bitrate",ki:"isDrm",urls:["urls",{Ig:"cdn_id",url:"url",D6:"liveOcaCapabilities"}],fRb:"new_stream_id",type:"type",Kec:"peakBitrate",TAb:"dimensionsCount",UAb:"dimensionsLabel",x6a:"pix_w",w6a:"pix_h",S8a:"res_w",aua:"res_h",qzb:"crop_x",rzb:"crop_y",pzb:"crop_w",ozb:"crop_h",tXa:"framerate_value",sXa:"framerate_scale",dab:"startByteOffset",zb:"vmaf",KQb:["moov",{size:"size",offset:"offset"}],Ak:["sidx",{size:"size",offset:"offset"}],Q0b:["ssix",{size:"size",offset:"offset"}],vH:["segmentVmaf",{offset:"offset",zb:"vmaf"}],Di:"tags",XXb:"representationId"}],fWb:"profileType",g1b:"stereo",profile:"profile",TAb:"dimensionsCount",UAb:"dimensionsLabel",Ifc:["snippets",{oj:[f.oj,{Hfc:"snippetSpec",va:"startTimeMs",ta:"endTimeMs"}]}],pka:["drmHeader",{xa:"bytes",fvb:"checksum",oF:"drmHeaderId",eo:"keyId",cl:["resolution",{height:"height",width:"width"}]}],ZV:["prkDrmHeaders",{xa:"bytes",fvb:"checksum",oF:"drmHeaderId",eo:"keyId",cl:["resolution",{height:"height",width:"width"}]}],Oq:"flavor",ldc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",lsa:"pixelAspectX",msa:"pixelAspectY",Tdc:"maxCroppedWidth",Sdc:"maxCroppedHeight",Udc:"maxCroppedX",Vdc:"maxCroppedY",lqa:"max_framerate_value",kqa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",iec:"minCroppedWidth",hec:"minCroppedHeight",jec:"minCroppedX",kec:"minCroppedY",Xg:["license",{GNb:"licenseResponseBase64",Tec:"providerSessionToken",ufc:"secureStopExpected",gcc:"drmSessionId",links:["links",{}]}]}],NA:["cdnResponseData",{zH:"sessionABTestCell",Np:"pbcid"}],np:["choiceMap",{we:"initialSegment",type:"type",J:"viewableId",L:["segments",{oj:[f.oj,{va:"startTimeMs",ta:"endTimeMs",next:["next",{oj:[f.oj,{weight:"weight"}]}],Jb:"defaultNext",Mq:"exitZones"}]}]}],Lm:["contentPlaygraph",{fa:["playgraph",{we:"initialSegment",L:["segments",{oj:[f.oj,{J:"viewableId",va:"startTimeMs",ta:"endTimeMs",next:["next",{oj:[f.oj,{weight:"weight"}]}],Jb:"defaultNext"}]}]}],Jfc:["startIdent",{mdc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Xd:["tracks",{ga:"AUDIO",Ya:"TEXT",Z:"VIDEO"}]}],iW:["recommendedMedia",{rO:"videoTrackId",ip:"audioTrackId",$N:"timedTextTrackId"}],aO:["timedtexttracks",{Ch:"trackType",Jf:"new_track_id",type:"type",MH:"subType",variant:"variant",CC:"rawTrackType",UB:"languageDescription",language:"language",id:"id",NB:"isNoneTrack",a6:"isForcedNarrative",rVa:["downloadableIds",{}],rbc:["cdnlist",{id:"id",name:"name",type:"type",bc:"rank",T2a:"lowgrade",hBb:["dns",{host:"host",QLb:"ipv4",RLb:"ipv6",PEb:"forceLookup"}],key:"key"}],Mwa:["ttDownloadables",{oj:[f.oj,{id:"id",size:"size",Vfc:"textKey",Ycc:"hashValue",Xcc:"hashAlgo",wdc:"isImage",xqa:"midxOffset",Z3a:"midxSize",height:"height",width:"width",lka:["downloadUrls",{}],urls:["urls",{url:"url",Ig:"cdn_id",D6:"liveOcaCapabilities"}]}]}],c6:"isLanguageLeftToRight",$s:"headIdentDuration",bc:"rank",xg:"hydrated"}],u3b:["trickplays",{Pm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",jUb:"pixelsAspectY",iUb:"pixelsAspectX",width:"width",height:"height",$s:"headIdentDuration"}],Idb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],fcc:"dpsid",dg:"isBranching",wgc:"viewableType",voa:"isAd",TL:"isSupplemental",yvb:"clientIpAddress",lgc:"urlExpirationDuration",Ndc:"manifestExpirationDuration",f1b:["steeringAdditionalInfo",{Lfc:"steeringId",Nac:"additionalGroupNames",u1b:["streamingClientConfig",{}]}],mc:"auxiliaryManifestToken",Ej:["liveMetadata",{mka:["downloadableIdToSegmentTemplateId",{oj:f.oj}],Oua:["segmentTemplateIdToSegmentTemplate",{oj:[f.oj,{m2:"availabilityStartTime",yLb:"initialization",media:"media",wVb:"presentationTimeOffset",MN:"startNumber",duration:"duration",T:"timescale"}]}],WRb:"ocLiveWindowDurationSeconds",S3:"eventAvailabilityOffsetMs",Zka:"eventStartTime",T3:"eventEndTime",WAb:"disableLiveUi"}],ig:"streamingType"};this.bPb=Object.assign(Object.assign({},this.$2a),{jp:["auxiliaryManifests",this.$2a],Dm:["adverts",{de:["adBreaks",{qk:"locationMs",Oi:"adBreakToken",Ze:["ads",{id:"id",va:"startTimeMs",ta:"endTimeMs",u$:["timedAdEvents",{event:"event",Xu:"adEventToken",swa:"timeMs"}],xA:["actionAdEvents",{start:["start",{event:"event",Xu:"adEventToken"}],complete:["complete",{event:"event",Xu:"adEventToken"}],stop:["stop",{event:"event",Xu:"adEventToken"}]}],ft:"is3pVerificationEnabled",VN:"thirdPartyVerificationToken"}],yga:["actionAdBreakEvents",{complete:["complete",{event:"event",Xu:"adEventToken"}]}],i2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;r=a(70655);k=a(86700);f=a(99423);c.prototype.TK=function(h){this.QCb.TK(h,this.bPb);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.dCa))],a);b.GFa=a;},29350:function(r,b,a){var k,f,h,d,g;function c(m,l){this.r2a=m;this.aPb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(70655);k=a(86700);f=a(98011);h=a(78927);d=a(56003);g=a(68172);c.prototype.create=function(m){var l,n,p,q;l=this;if(m && !this.rMb(m)){if(this.xMb(m))throw d.Lc.X5b(g.V.KI,g.R.rlb,m);q=this.r2a();q.Jga(m.links);this.aPb.TK(m);return {Ga:m,ri:q,Eoa:!1,Doa:!1,jp:null !== (p=null === (n=m.jp) || void 0 === n?void 0:n.map(function(u){var t;t=l.r2a();t.Jga(u.links);return {Ga:u,ri:t,Eoa:!1,Doa:!1,jp:[]};})) && void 0 !== p?p:[]};}};c.prototype.xMb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.rMb=function(m){return ("runtime" in m) && !!m.runtime;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.dIa)),r.__param(1,(0,k.l)(h.HFa))],a);b.IFa=a;},3774:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y,x){this.$f=t;this.b3a=w;this.LU=x;this.kW=new Map();this.log=u.Ta("ManifestFetcher");this.sg=v.sg;this.Mtb=y().kCb;}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(56003);d=a(71163);g=a(2467);m=a(17244);l=a(93);n=a(61831);p=a(19419);a=a(23251);c.prototype.gy=function(u,t,v){var w;w=this;t=void 0 === t?!0:t;v && this.Jqb(u.J,v);return t && this.m5(u.J)?this.y4(u.J).catch(function(){return w.M8a(u,t);}):this.M8a(u,t);};c.prototype.m5=function(u){return this.sg.LT(u,"manifest");};c.prototype.dX=function(u,t){var v;v=this;this.Mtb && this.sg.setData(u,"manifest",t,function(){return v.IJb(u,t?Promise.resolve(t):void 0);});};c.prototype.y4=function(u){var t;t=this;return this.sg.getData(u,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Ga.expiration <= (0,n.H2)())throw (t.sg.clearData(u,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.IJb=function(u,t){var v;null === (v=this.kW.get(u)) || void 0 === v?void 0:v.forEach(function(w){return w(t);});this.kW.delete(u);};c.prototype.Jqb=function(u,t){this.kW.has(u) || this.kW.set(u,[]);this.kW.get(u).push(t);};c.prototype.M8a=function(u,t){var v,w,y;v=this;this.log.trace("Requesting a new manifest",u.J);w=this.$f.Fb().ba(g.na);y=(u.Of && !u.Of.Oi?this.E3b(u).catch(function(x){v.log.warn(x.message);return v.b3a.Hf(v.log,u);}):this.b3a.Hf(this.log,u)).then(function(x){var A,z;if(x.Yx && (null === (A=u.Of) || void 0 === A || !A.Oi)){z=x.Yx;A={H9:Promise.resolve(z),source:"manifest"};delete x.Yx;v.sg.setData(u.J,"ldl",A,function(){z.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}u.Oq === l.rl.TI && (x.nH=w,x.mN=v.$f.Fb().ba(g.na));return x;}).catch(function(x){t && v.dX(u.J,void 0);v.log.error("Failed to fetch manifest",h.Lc.ve(x));throw x;});t && this.dX(u.J,y);return y;};c.prototype.E3b=function(u){var t;t=this;return new Promise(function(v,w){var y,x,A,z,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);z=null === (y=u.Of) || void 0 === y?void 0:y.IV;if(!z)return w(Error("Parent manifest does not exist."));B=null === (x=u.Of) || void 0 === x?void 0:x.mc;y=null === (A=z.jp) || void 0 === A?void 0:A.find(function(C){return C.O === u.J && (void 0 === B || C.mc === B);});if(!y)return w(Error("Auxiliary manifest not found in parent manifest."));v(t.LU.create(y));});};q=c;q=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(f.Jc)),r.__param(2,(0,k.l)(p.bba)),r.__param(3,(0,k.l)(l.nda)),r.__param(4,(0,k.l)(m.cc)),r.__param(5,(0,k.l)(a.LI))],q);b.JFa=q;},99230:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kj=void 0;r=b.kj || (b.kj={});r[r.aab=1]="sourceopen";r[r.On=2]="currentTimeChanged";r[r.FW=3]="seeked";r[r.o2a=5]="licenseadded";r[r.Z$a=6]="sourceBuffersAdded";r[r.X7=7]="onNeedKey";},43357:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.x4a=void 0;r=a(86700);c=a(83577);k=a(96699);b.x4a=new r.Yc(function(f){f(c.Pca).to(k.CGa).da();});},83577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pca=b.gjb=void 0;b.gjb=function(){};b.Pca="MseConfigSymbol";},96699:function(r,b,a){var k,f,h,d,g;function c(m){return f.Qe.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(70655);k=a(54662);f=a(90187);h=a(86700);d=a(59578);g=a(2467);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{l4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(5E3);}},G5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E3);}},H5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E3);}}});a=c;r.__decorate([k.config(k.tk,"minDecoderBufferMilliseconds")],a.prototype,"l4a",null);r.__decorate([k.config(k.tk,"optimalDecoderBufferMilliseconds")],a.prototype,"G5a",null);r.__decorate([k.config(k.tk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"H5a",null);a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.xl))],a);b.CGa=a;},56243:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.iC=void 0;r=a(86700);c=a(55689);k=a(36217);f=a(53713);b.iC=new r.Yc(function(h){h(c.Qca).to(k.DGa).da();h(f.HP).yX(function(d){return function(){return d.hb.get(c.Qca).TQb;};});});},53713:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HP="MslProviderSymbol";},55689:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qca="MslReadyNotifierSymbol";},36217:function(r,b,a){var k;function c(){var f;f=this;this.ready=!1;this.TQb=new Promise(function(h){f.tYb=h;});}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;r=a(70655);a=a(86700);c.prototype.UQb=function(f){this.ready || (this.tYb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};k=c;k=r.__decorate([(0,a.U)()],k);b.DGa=k;},78113:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.F4a=void 0;r=a(86700);c=a(56116);k=a(5485);f=a(55749);h=a(31329);d=a(51943);g=a(72976);m=a(24865);l=a(2381);n=a(77049);b.F4a=new r.Yc(function(p){p(f.VMa).to(c.UMa).da();p(k.ku).SC(function(){return pb._cad_global.http;});p(d.RGa).to(h.QGa).da();p(g.SGa).ml(m.default);p(l.wDa).to(n.vDa).da();});},2381:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wDa="HttpDispatcherSymbol";},5485:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ku=b.JP=b.ResponseType=void 0;b.ResponseType={Text:1,nac:2,dfb:3};b.JP="OPEN_CONNECT_APPLIANCE";b.ku="LegacyHttpSymbol";},72976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SGa="NetworkMonitorSymbol";},30949:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="NetworkMonitorConfigSymbol";},51943:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RGa="NetworkMonitorFactorySymbol";},55749:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="XhrFactorySymbol";},77049:function(r,b,a){var k,f,h;function c(d,g){this.He=g;this.ja=d.Ta("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(5485);c.prototype.download=function(d,g){var m;m=this;g=void 0 === g?{F3a:0}:g;return new Promise(function(l,n){var q;function p(u){if(u.ka)return l(u.content);if(q === g.F3a)return n({za:u.za,ly:u.Ll});q++;!1;m.He.download(d,p);}q=0;m.He.download(d,p);});};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.ku))],h);b.vDa=h;},49873:function(r,b,a){var k,f,h,d;function c(g,m){return h.Qe.call(this,g,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(70655);k=a(86700);f=a(54662);h=a(90187);a=a(59578);ia(c,h.Qe);Wa.Object.defineProperties(c.prototype,{Vcb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.Nc,"useNetworkMonitor")],d.prototype,"Vcb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.xl)),r.__param(1,(0,k.l)(a.zY)),r.__param(1,(0,k.optional)())],d);b.OGa=d;},31329:function(r,b,a){var k,f,h,d;function c(g,m,l){this.config=g;this.yOb=m;this.Sd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(70655);k=a(30949);f=a(86700);h=a(56646);a=a(72976);c.prototype.Oyb=function(){if(this.config.Vcb)return this.Sd(this.yOb());};d=c;d=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.PGa)),r.__param(1,(0,f.l)(h.LGa)),r.__param(2,(0,f.l)(a.SGa))],d);b.QGa=d;},56116:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(70655);a=a(86700);c.prototype.create=function(){return new XMLHttpRequest();};k=c;k=r.__decorate([(0,a.U)()],k);b.UMa=k;},73475:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q){this.log=l;this.NF=n;this.$y=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});k=a(68172);f=a(89082);h=a(89682);d=a(53484);g=a(31224);m=a(85060);c.prototype.Xg=function(l){var n,p;n=this;(this.context.pf || this.context.nk) && this.log.debug("Requesting a license",l);if(f.Aa.get(h.ph).PA(f.Aa.get(d.oq).decode("certificate"),l.yj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Tk:[{sessionId:l.yj[0].sessionId,data:f.Aa.get(g.kh).decode(m.YY)}]});}else p=f.Aa.get(h.ph).PA(f.Aa.get(d.oq).decode("content"),l.yj[0].data)?Promise.resolve({Tk:[{sessionId:l.yj[0].sessionId,data:l.eo}]}):(function(){n.log.trace("Requesting license",{drmType:l.Qm});return n.NF(l).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:k.V.HI,ec:q.ec,Oc:q.Oc,Rm:q.Rm,Bj:q.message || q.Bj,iB:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Bj),cause:q};});})();return p;};c.prototype.release=function(l){var n;n=this;this.log.trace("Requesting stop data");return this.$y(l).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ec,extCode:p.Oc,edgeCode:p.Rm,message:p.message || p.Bj});throw {ka:!1,code:k.V.Rda,ec:p.ec,Oc:p.Oc,Rm:p.Rm,Bj:p.message || p.Bj,message:"Unable to release the FairPlay license. " + (p.message || p.Bj),cause:p};});};r.exports=c;},92975:function(r,b,a){var k;function c(f,h,d,g){this.log=f;this.NF=h;this.$y=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;k=a(68172);c.prototype.Xg=function(f){var h;h=this;(this.context.pf || this.context.nk) && this.log.trace("Requesting license",{drmType:f.Qm});return this.NF(f).catch(function(d){h.log.error("Unable to get the Playready license",d);if(h.context.mgc)throw d;throw {ka:!1,code:k.V.HI,ec:d.ec,Oc:d.Oc,Rm:d.Rm,Bj:d.message || d.Bj,iB:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Bj)};});};c.prototype.release=function(f){var h;h=this;this.log.trace("Requesting stop data");return this.$y(f).catch(function(d){h.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ec,extCode:d.Oc,edgeCode:d.Rm,message:d.message || d.Bj});throw {ka:!1,code:k.V.Rda,ec:d.ec,Oc:d.Oc,Rm:d.Rm,Bj:d.message || d.Bj,message:"Unable to release the PlayReady license. " + (d.message || d.Bj)};});};b.TMa=c;pb._cad_global.WindowsDrmRequests=c;},72186:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aea=void 0;c=a(68172);k=a(84722);f=a(91402);h=a(89682);d=a(5266);g=a(31224);m=a(77003);l=a(3971);(function(){var A;function n(z,B,C){var D;D=this;this.log=z;this.cn=B || x.bind(this);this.context=C;this.KV=this.challenge=this.keySystem=this.keySessionId=this.Ab=this.mediaKeys=void 0;this.Rc={};this.rpa=this.Xva=!1;this.uV=t.bind(this);this.KV=void 0;this.xxa=new Promise(function(F,G){D.fua=F;D.Ata=G;});this.xxa.catch(function(F){D.log.error("wait for license rejected",F);});k.ac.get(m.Dw).G4().then(function(F){(D.context.pf || D.context.nk) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Jp=function(F,G){D.Ata(F,G);D.context.onerror(F,G);};this.sra=function(){D.fua();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return k.ac.get(g.kh);}function q(){return k.ac.get(h.ph);}function u(z){var B,C;B=k.ac.get(f.mea);C="";z.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});z='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Fab(z));(this.context.pf || this.context.nk) && this.log.trace("LICENSE: proactive license cdm data",{xml:z,b64:p().encode(B)});return B;}function t(z){var B;B=z.target.error?z.target.error.msExtendedCode:void 0;this.log.error("Received " + z.type + " event",{sessionId:this.Ab.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(A.Yf.lq,A.Zz.Sr,B);this.Ab=void 0;}function v(z,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=z.length;for(F=0;F < G;F++){E=z[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function w(z,B,C,D){var F,G;F=z.target && z.target.sessionId;G=p().decode(v(z.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + z.type + " event",{keySystem:z.target && z.target.keySystem,sessionId:F});(C.context.pf || C.context.nk || C.context.xz) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=F;z={rf:B,messageType:"license-request",Qm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",yj:[{data:G,sessionId:F}]};12 === C.state && (C.cn("lc"),G={data:G,Qm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.VG || (C.KV=G));C.context.xo.Xg(z).then(function(E){if(12 === C.state && (C.cn("lr"),C.sra(),!C.context.VG))(C.LV=E.Tk[0].data,C.state=13,D({ka:!0,state:C.state}));else if(C.Ab)return y(C,E.Tk[0].data,C.Ab).then(function(){C.state=30;D({ka:!0,state:C.state});});}).catch(function(E){D(q().fC(E,{state:C.state}));});}function y(z,B,C){z.W5() && z.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{z.Ab.update(B);D(void 0);z.W5() && z.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ka:!1,code:A.Yf.t_,message:"Unable to update the EME.",Kb:q().ve(G)});}});}function x(z){this.context.sa && (this.Rc[z]=this.context.sa.getTime(),this.log.trace("Milestone: " + z + ", " + this.Rc[z]));}A={Yf:c.V,Zz:c.R};n.prototype.qL=function(){return this.keySystem;};n.prototype.Ccb=function(z,B){z.log && (this.log=z.log);z.cn && (this.cn=z.cn);B.xo && (this.context.xo=B.xo);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(z){var B;B=this;return (z?Promise.resolve(z):k.ac.get(m.Dw).LF()).then(function(C){B.cn("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.aW)C=Promise.reject({ka:!1,code:A.Yf.$O,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new pb.MSMediaKeys(C);}catch(D){C=Promise.reject({ka:!1,code:A.Yf.vHa,message:"create MSMediaKeys(" + C + ") failed",Kb:q().ve(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ka:!1,code:A.Yf.SI,message:"set MSMediaKeys failed",Kb:q().ve(D)});break a;}C=Promise.resolve({ka:!0,mediaKeys:B.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ab){this.log.info("Closing the session",{sessionId:this.Ab.sessionId});this.Ab.removeEventListener("mskeyerror",this.uV);try{this.Ab.close();}catch(z){this.log.error("Failed to close the key sessions",z);}this.Ab=void 0;}};n.prototype.Xg=function(z,B,C){var D;if(1 < B.length)return Promise.reject({code:A.Yf.zHa});if(0 === B.length)return Promise.reject({code:A.Yf.yHa});B=B[0];D=this;D.context.pf && D.log.trace("LICENSE: Setting license");return D.context.aW?Promise.reject({ka:!1,code:A.Yf.JBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,J,K,N,I,O,L;try{J=function(H){D.Ab && (D.Ab.removeEventListener("mskeymessage",N),D.Ab.removeEventListener("mskeyadded",I),D.Ab.removeEventListener("mskeyerror",O),D.Ab.addEventListener("mskeyerror",D.uV));H.state=11;H.ka?F(H):(D.close(),G(H));};K=function(H){var M,R;M=[];R=Array.prototype.map.call(H,function(ea){return ea?String.fromCharCode(ea):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)M.push(R[1]);else {H=v(H,"KIDS");R=/VALUE="(.+?)">/g;for(var Y=R.exec(H);null != Y;){M.push(Y[1]);Y=R.exec(H);}}return M;};N=function(H){E && clearTimeout(E);w(H,z,D,J);};I=function(H){(D.context.pf || D.context.nk) && D.log.trace("LICENSE: Received " + H.type + " event",{keySystem:H.target.keySystem,sessionId:H.target.sessionId});J({ka:!0});};O=function(H){var M,R;E && clearTimeout(E);if(H.target && H.target.error)(M=H.target.error.systemCode,R=H.target.error.code);M={code:A.Yf.lq,ec:A.Zz.Sr,Oc:M?k.ac.get(d.zw).CF(M,4):R,details:q().ve(H),cause:H.target && H.target.error,r$:M,V3:R};D.log.error("LICENSE: Received " + H.type + " event",{sessionId:D.Ab && D.Ab.sessionId,keySystem:H.target.keySystem,systemCode:M.r$,code:M.V3});D.cn("le");D.Jp && D.Jp(A.Yf.lq,M);J({ka:!1,code:A.Yf.lq,ec:A.Zz.Sr,Oc:M.Oc,message:"Received a key error.",Kb:M.details,cause:M.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.pf || D.context.nk) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Bv || (D.Bv=K(B));if(C){L=u.call(D,D.Bv);D.Ab=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),L);}else D.Ab=D.mediaKeys.createSession("video/mp4",B,null);(D.context.pf || D.context.nk) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ab.keySystem,sessionId:D.Ab.sessionId});D.Ab.addEventListener("mskeymessage",N);D.Ab.addEventListener("mskeyadded",I);D.Ab.addEventListener("mskeyerror",O);D.context.opa && (E=setTimeout(function(){J({ka:!1,code:A.Yf.MP,ec:A.Zz.khb});},D.context.opa));}catch(H){G({code:A.Yf.MP,ec:A.Zz.ql});}});})();};n.prototype.jH=function(){var z;(this.context.pf || this.context.nk) && this.log.trace("LICENSE: Renewing license");z=[new Uint8Array(0)];return this.Xg(l.qm.lca.sm,z,!0);};n.prototype.S1=function(z){this.LV || this.log.error("pending license must exist at this point");this.context.VG=!0;try{z && (this.context.$=z,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ka:!1,code:A.Yf.SI,message:"setMediaKeys failed",Kb:q().ve(B)});}return y(this,this.LV,this.Ab);};n.prototype.sWa=function(z){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(z));C={la:z.la,ie:z.ie};return new Promise(function(D,F){(function(){B.context.xo.release.call(B.context.xo,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(z));G={ka:!0};B.close();G.ka?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.ec,extCode:G.Oc,edgeCode:G.Rm,message:G.Bj});B.close();G.ka?D(G):F(G);});})();});};n.prototype.W5=function(){return this.context.pf || this.context.nk;};b.Aea=n;pb._cad_global.WindowsEmeSession=b.Aea;})();},4497:function(r,b,a){var w,y,x,A,z,B,C,D,F,G,E,J;function c(K,N,I){var O;O=this;this.log=K;this.cn=N || v.bind(this);this.context=I;this.KV=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Rc={};this.mo=void 0;this.url="";this.rpa=this.Xva=!1;this.uV=l.bind(this);this.xk=this.KV=void 0;this.xxa=new Promise(function(L,H){O.fua=L;O.Ata=H;});this.Jp=function(L,H){O.Ata(L,H);O.context.onerror(L,H);};this.sra=function(){O.fua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function k(){return w.Aa.get(z.oq);}function f(){return w.Aa.get(A.kh);}function h(){return w.Aa.get(y.ph);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function g(K){var N;K=(function(I){var L,H;function O(M,R,Y,ea){var ca,oa;ca=new Uint8Array("piff" == R?88:72);oa=new G.XO(ca);oa.Az(12);oa.zz("frma");oa.zz(M);oa.Az(20);oa.zz("schm");oa.bY(0);oa.bY(0);oa.zz(R);oa.Az(Y);"piff" == R?(oa.Az(56),oa.zz("schi"),oa.Az(48),oa.zz("uuid"),oa.aY([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(oa.Az(40),oa.zz("schi"),oa.Az(32),oa.zz("tenc"));oa.bY(0);oa.bY(0);oa.Az(264);oa.aY(ea);return ca;}L=O("avc1","piff",65537,I);L=k().decode(f().encode(L));I=O("avc1",E.fu,65536,I);I=k().decode(f().encode(I));H=new Uint8Array(7 + L.length + 8 + I.length + 5);H.set([91,10,32,32,32,32,34],0);H.set(L,7);H.set([34,44,10,32,32,32,32,34],7 + L.length);H.set(I,7 + L.length + 8);H.set([34,10,32,32,93],7 + L.length + 8 + I.length);return H;})(K);N=new Uint8Array(13 + K.length + 2);N.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);N.set(K,13);N.set([10,125],13 + K.length);return N;}function m(K){var N;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=f().decode(K);K=K.subarray(4);N=new Uint8Array(16);N.set(K);return N;}function l(K){var N;N=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Ab?this.Ab.sessionId:void 0,keySystem:K.target.keySystem,systemCode:N.r$,code:N.V3});this.Jp && this.Jp(J.Yf.lq,N);this.Ab=void 0;}function n(K){var N,I;if(K.target.error)(N=K.target.error.systemCode,I=K.target.error.code);return {code:J.Yf.lq,ec:J.Zz.Sr,Oc:N?w.Aa.get(x.zw).CF(N,4):I,details:h().ve(K),cause:K.target.error,r$:N,V3:I};}function p(K,N,I,O){var L,H,M;L=K.target.sessionId;H=K.message;M=h().PA(H,k().decode("certificate"));I.rpa=N === F.qm.lca.tn;I.state=M?2:12;I.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:L});(I.context.pf || I.context.nk || I.context.xz) && I.log.debug("LICENSE: License challenge",f().encode(H));I.keySessionId=L;K={eo:I.eo,rf:N,messageType:"license-request",Qm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",yj:[{data:H,sessionId:L}]};12 === I.state && (I.cn("lc"),H={data:H,Qm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.VG || (I.KV=H));I.context.xo.Xg(K).then(function(R){if(12 === I.state && (I.cn("lr"),I.sra(),!I.context.VG))(I.LV=R.Tk[0].data,I.state=13,O({ka:!0,state:I.state}));else if(I.Ab)return (R=t(I,M,R.Tk[0].data,I.Ab),2 === I.state?R:R.then(function(){I.state=30;O({ka:!0,state:I.state});}));}).catch(function(R){O(h().fC(R,{state:I.state}));});}function q(K,N,I){N.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});I({ka:!0});}function u(K,N,I){var O;O=n(K);N.Jp && N.Jp(J.Yf.lq,O);N.log.error("LICENSE Error: Received event: " + K.type,{sessionId:N.Ab?N.Ab.sessionId:void 0,keySystem:K.target.keySystem,systemCode:O.r$,code:O.V3});I({ka:!1,code:J.Yf.lq,ec:J.Zz.Sr,Oc:O.Oc,message:"Received a key error.",Kb:O.details,cause:O.cause});}function t(K,N,I,O){O={sessionId:O.sessionId};K.W5() && (O.license=f().encode(I));K.log.trace("calling keysession update",O);return new Promise(function(L,H){function M(){K.Ab.removeEventListener("webkitkeyadded",M);L(void 0);}try{N || K.Ab.addEventListener("webkitkeyadded",M);K.Ab.update(I);N && L(void 0);}catch(R){H({ka:!1,code:J.Yf.t_,message:"Unable to update the EME.",e:R});}});}function v(K){this.Rc[K]=w.Aa.get(B.Jc).Fb().ba(C.na);this.log.trace("Milestone: " + K + ", " + this.Rc[K]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(89082);b=a(68172);y=a(89682);x=a(5266);A=a(31224);z=a(53484);B=a(58998);C=a(2467);D=a(50876);F=a(3971);G=a(70834);E=a(85060);J={Yf:b.V,Zz:b.R};c.prototype.qL=function(){return this.keySystem;};c.prototype.Ccb=function(K,N){K.log && (this.log=K.log);K.cn && (this.cn=K.cn);N.xo && (this.context.xo=N.xo);N.onerror && (this.context.onerror=N.onerror);};c.prototype.create=function(K){var N;N=this;N.cn("lg");N.log.trace("CREATE: Creating the media keys",{keySystem:K});N.keySystem=K;return N.context.aW?Promise.reject({ka:!1,code:J.Yf.$O,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var O,L;O=h().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");L=O.lastChild;N.xk=O;N.context.$=D.Og.createElement("VIDEO");L?N.xk.insertBefore(N.context.$,L):N.xk.appendChild(N.context.$);}return new Promise(function(O,L){function H(M){(N.context.pf || N.context.nk || N.context.xz) && N.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{N.mediaKeys=new pb.WebKitMediaKeys(K);N.context.$.webkitSetMediaKeys(N.mediaKeys);O({ka:!0,mediaKeys:N.mediaKeys});}catch(R){N.log.error("CREATE: Exception on webkitSetMediaKeys",R);L({ka:!1,code:J.Yf.MP,Kb:h().ve(R)});}}if(d(N.keySystem))try{N.mediaKeys=new pb.WebKitMediaKeys(K);N.context.$ && (N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.$.webkitSetMediaKeys(N.mediaKeys));O({ka:!0,mediaKeys:N.mediaKeys});}catch(M){L({ka:!1,code:J.Yf.MP,Kb:h().ve(M)});}else (N.mediaKeys=new pb.WebKitMediaKeys(K),N.context.$?(N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.$.webkitSetMediaKeys(N.mediaKeys)):(I(),N.mo=new D.Rz(),N.mo.addEventListener("sourceopen",H),N.url=URL.createObjectURL(N.mo),N.context.$.src=N.url),O({ka:!0,mediaKeys:N.mediaKeys}));});})();};c.prototype.close=function(){this.Ab && (this.log.info("Closing the session",{sessionId:this.Ab.sessionId}),this.Ab.removeEventListener("webkitkeyerror",this.uV),this.Ab.close(),this.Ab=void 0);};c.prototype.Xg=function(K,N){var I;if(1 < N.length)return Promise.reject({code:J.Yf.zHa});if(0 === N.length)return Promise.reject({code:J.Yf.yHa});N=N[0];I=this;I.context.pf && I.log.trace("LICENSE: Setting license",{initData:f().encode(N)});return I.context.aW?Promise.reject({ka:!1,code:J.Yf.JBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,L){var M,R,Y;function H(ea){I.Ab && (I.Ab.removeEventListener("webkitkeymessage",M),I.Ab.removeEventListener("webkitkeyadded",R),I.Ab.removeEventListener("webkitkeyerror",Y),I.Ab.addEventListener("webkitkeyerror",I.uV));ea.ka?O(ea):(I.close(),L(ea));}M=function(ea){p(ea,K,I,H);};R=function(ea){q(ea,I,H);};Y=function(ea){u(ea,I,H);};d(I.keySystem) && (I.eo=m(N),N=g(I.eo));I.log.trace("LICENSE: Executing prefix based EME");I.context.pf | I.context.nk && I.log.debug("LICENSE: PSSH",f().encode(N));I.Ab=I.mediaKeys.createSession("video/mp4",N,null);(I.context.pf || I.context.nk) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ab.keySystem,sessionId:I.Ab.sessionId});I.Ab.addEventListener("webkitkeymessage",M);I.Ab.addEventListener("webkitkeyadded",R);I.Ab.addEventListener("webkitkeyerror",Y);});})();};c.prototype.jH=function(){var K;K=this;return K.Xva?Promise.resolve({ka:!0}):new Promise(function(N,I){var L,H,M;function O(R){K.Ab && (K.Ab.removeEventListener("webkitkeymessage",L),K.Ab.removeEventListener("webkitkeyadded",H),K.Ab.removeEventListener("webkitkeyerror",M));R.ka?N(R):(I(R),K.close());}L=function(R){p(R,F.qm.lca.sm,K,O);};H=function(R){q(R,K,O);N({ka:!0});};M=function(R){u(R,K,O);};K.rpa=!1;K.Ab.addEventListener("webkitkeymessage",L);K.Ab.addEventListener("webkitkeyadded",H);K.Ab.addEventListener("webkitkeyerror",M);K.Ab.update(k().decode("renew"));});};c.prototype.S1=function(K){this.LV || this.log.error("pending license must exist at this point");this.context.VG=!0;try{K && (this.context.$=K,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(N){return new Promise(function(I,O){O({ka:!1,code:J.Yf.SI,message:"setMediaKeys failed",Kb:h().ve(N)});});}return t(this,!1,this.LV,this.Ab);};c.prototype.sWa=function(K){var N,I;N=this;N.log.trace("Releasing the license of the current session",JSON.stringify(K));N.Xva=!0;I={la:K.la,ie:K.ie};return new Promise(function(O,L){(function(){N.context.xo.release.call(N.context.xo,I).then(function(){var H;N.log.trace("successfully released the license",JSON.stringify(K));H={ka:!0};H.ka?O(H):(N.close(),L(H));}).catch(function(H){N.log.error("RELEASE: Unable to get the release the license",{sessionId:N.Ab?N.Ab.sessionId:void 0,code:H.code,subCode:H.ec,extCode:H.Oc,edgeCode:H.Rm,message:H.Bj});H.ka?O(H):(N.close(),L(H));});})();});};c.prototype.W5=function(){return this.context.pf || this.context.nk;};r.exports=c;},38298:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.o6a=void 0;r=a(86700);c=a(94669);k=a(737);f=a(95538);h=a(48350);d=a(86945);g=a(58820);m=a(98011);l=a(52463);n=a(19391);p=a(96026);b.o6a=new r.Yc(function(q){q(f.Vw).to(h.UHa).da();q(c.WHa).to(k.VHa).da();q(m.fIa).to(l.eIa);q(m.dIa).Vd(function(u){return function(){return u.hb.get(m.fIa);};});q(d.BIa).to(g.AIa).da();q(n.pda).to(p.xIa).da();});},95538:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vw="PboConfigSymbol";},94669:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="PboDispatcherSymbol";},98011:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fIa="PboLinksManagerSymbol";b.dIa="PboLinksManagerFactorySymbol";},19391:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pda="PboPublisherSymbol";},86945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BIa="PboRequestFactorySymbol";},82092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.raa="AdEventPboCommandSymbol";b.qaa="AdBreakEventPboCommandSymbol";},21060:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca;Object.defineProperty(b,"__esModule",{value:!0});b.bTa=void 0;r=a(86700);c=a(4048);k=a(10143);f=a(93);h=a(27299);d=a(50055);g=a(52779);m=a(29766);l=a(13878);n=a(92582);p=a(78679);q=a(10707);u=a(33403);t=a(8010);v=a(30859);w=a(48529);y=a(56003);x=a(68172);A=a(8522);z=a(41596);B=a(62538);C=a(20743);D=a(42239);F=a(47758);G=a(64558);E=a(87005);J=a(6123);K=a(59713);N=a(5794);I=a(17445);O=a(91393);L=a(95538);H=a(9571);M=a(73953);R=a(9270);Y=a(10058);ea=a(82092);ca=a(9684);b.bTa=new r.Yc(function(oa){oa(C.ul).to(D.THa);oa(c.hIa).to(k.gIa);oa(F.OHa).to(G.NHa);oa(E.QHa).to(J.PHa);oa(f.nda).to(h.iIa);oa(H.jIa).Vd(function(Ga){return function(){var Fa;Fa=Ga.hb.get(L.Vw);return Fa && Fa.$cb?Ga.hb.resolve(R.CIa):Ga.hb.resolve(M.kIa);};});oa(d.MHa).to(g.LHa);oa(m.zIa).to(l.yIa);oa(n.bIa).to(p.aIa);oa(q.mda).to(u.cIa);oa(t.qLa).to(v.pLa);oa(t.wLa).to(w.vLa);oa(t.zEa).to(A.yEa);oa(t.lLa).to(z.kLa);oa(t.aCa).to(B.$Ba);oa(N.Akb).to(K.lIa);oa(I.$Ha).to(O.ZHa);oa(ea.raa).to(Y.Xxa);oa(ea.qaa).to(ca.Rxa);oa(t.Hba).Vd(function(Ga){return function(Fa){switch(Fa){case t.Go.start:return Ga.hb.get(t.qLa);case t.Go.stop:return Ga.hb.get(t.wLa);case t.Go.oU:return Ga.hb.get(t.zEa);case t.Go.splice:return Ga.hb.get(t.lLa);case t.Go.RK:return Ga.hb.get(t.aCa);}throw new y.Lc(x.V.Mjb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Fa);};});});},8010:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Go={start:"start",stop:"stop",oU:"keepAlive",RK:"engage",splice:"splice"};b.Hba="EventPboCommandFactorySymbol";b.qLa="StartEventPboCommandSymbol";b.wLa="StopEventPboCommandSymbol";b.zEa="KeepAliveEventPboCommandSymbol";b.lLa="SpliceEventPboCommandSymbol";b.aCa="EngageEventPboCommandSymbol";},50055:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MHa="PboAcquireLicenseCommandSymbol";},47758:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OHa="PboBindCommandSymbol";},87005:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="PboBindDeviceCommandSymbol";},88052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hg={Fpa:"logblob",W:"manifest",INb:"licensedmanifest",Xg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Tkb={tKa:"X-Netflix.Request.Attempt",Vda:"X-Netflix.Client.Request.Name",zza:"x-netflix.browsername",Aza:"x-netflix.browserversion",fHa:"x-netflix.osname",gHa:"x-xetflix.osversion",kAa:"x-netflix.clienttype",pMa:"x-netflix.uiversion"};b.Xz={tKa:"reqAttempt",Vda:"reqName",zza:"browsername",Aza:"browserversion",fHa:"osname",gHa:"osversion",kAa:"clienttype",pMa:"uiversion"};},20743:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ul="PboCommandContextSymbol";},17445:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="PboGenerateScreenshotsCommandSymbol";},92582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bIa="PboLicenseRequestTransformerSymbol";},10707:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="PboLicenseResponseTransformerSymbol";},4048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hIa="PboLogblobCommandSymbol";},93:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda=b.rl=void 0;r=b.rl || (b.rl={});r.TI="PRE_FETCH";r.Nkb="QC";r.sm="STANDARD";r.O_="SUPPLEMENTAL";r.F7b="DOWNLOAD";b.nda="PboManifestCommandSymbol";},9571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jIa="PboManifestRequestTransformerSymbol";},5794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Akb="PboPingCommandSymbol";},29766:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zIa="PboReleaseLicenseCommandSymbol";},9684:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Jxa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);g=a(20743);a(64168);ia(c,d.mh);c.prototype.Hf=function(m,l){var n,p,q;n=this;p=l.event;q=this.KA(l);!1;!1;return this.send(m,{url:l.href,name:h.Hg.events,Ij:h.Hg.events + "/" + p},q).then(function(){return l;}).catch(function(u){throw n.Ol(u);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.KA=function(m){return {xid:m.la,event:m.event,adEventToken:m.Xu,adBreakLocationMs:m.AE,position:m.position,clientTime:m.Kx,sessionStartTime:m.em,appId:m.appId,sessionId:m.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.ul))],a);b.Rxa=a;},10058:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Jxa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);g=a(20743);a(64168);ia(c,d.mh);c.prototype.Hf=function(m,l){var n,p,q;n=this;p=l.event;q=this.KA(l);!1;!1;return this.send(m,{url:l.href,name:h.Hg.events,Ij:h.Hg.events + "/" + p},q).then(function(){return l;}).catch(function(u){throw n.Ol(u);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.KA=function(m){return {xid:m.la,event:m.event,adEventToken:m.Xu,adBreakLocationMs:m.AE,position:m.position,clientTime:m.Kx,sessionStartTime:m.em,appId:m.appId,sessionId:m.sessionId,playTimes:this.bia(m.Qv),mainManifestPlaybackContextId:m.ROb,thirdPartyAdVerificationMetadata:m.v2b};};c.prototype.bia=function(m){return {total:m.total,audio:m.audio.map(function(l){return {duration:l.duration,downloadableId:l.Vb,cdnId:l.Hm};}),video:m.video.map(function(l){return {duration:l.duration,downloadableId:l.Vb,cdnId:l.Hm};}),text:m.text.map(function(l){return {duration:l.duration,downloadableId:l.Vb,cdnId:l.Hm};})};};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.ul))],a);b.Xxa=a;},1841:function(r,b,a){var k,f,h;function c(d,g,m,l){g=h.mh.call(this,d,g,l) || this;g.context=d;g.Xka=m;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.iq=void 0;r=a(70655);k=a(86700);f=a(88052);h=a(92933);a(64168);ia(c,h.mh);c.prototype.Y4=function(d){return "LIVE" === d.ig?f.Hg.events + "/live/" + this.Xka:f.Hg.events + "/" + this.Xka;};c.prototype.Hf=function(d,g){var m,l;m=this;l=this.KA(g);!1;!1;return this.send(d,{url:g.href,name:f.Hg.events,Ij:this.Y4(g)},l).then(function(){return g;}).catch(function(n){throw m.Ol(n);});};c.prototype.Sn=function(d,g,m){var l,n,p;l=this;n=this.KA(m);!1;!1;p={url:g.rL("events").href,name:f.Hg.events,Ij:this.Y4(m)};return this.send(d,p,n).then(function(q){g.Jga(q.result.links);return m;}).catch(function(q){throw l.Ol(q);});};c.prototype.KA=function(d){return {event:this.Xka,xid:d.la,position:d.position || 0,clientTime:d.Kx,sessionStartTime:d.em,videoTrackId:d.rO,audioTrackId:d.ip,timedTextTrackId:d.$N,mediaId:d.lM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.bia(d.Qv),sessionParams:d.dm};};c.prototype.aia=function(d){return {downloadableId:d.Vb,duration:d.duration};};c.prototype.bia=function(d){var g;g={total:d.total,audio:d.audio.map(this.aia),video:d.video.map(this.aia),text:d.text.map(this.aia)};d.total !== d.WH && (g.totalContentTime=d.WH);0 !== d.TC && (g.totalAdDuration=d.TC);0 !== d.UC && (g.totalOtherDuration=d.UC);if(0 !== d.UC || 0 !== d.TC)g.totalCombinedDuration=d.cO;0 !== d.XH && (g.totalLiveEdgeDuration=d.XH);0 !== d.YH && (g.totalStartSlateDuration=d.YH);return g;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.pn)()),r.__param(1,(0,k.pn)()),r.__param(2,(0,k.pn)()),r.__param(3,(0,k.pn)())],a);b.iq=a;},92933:function(r,b,a){var k,f,h,d,g;function c(m,l,n){this.context=m;this.errorCode=l;this.HYb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mh=void 0;r=a(70655);k=a(86700);f=a(55727);h=a(2467);d=a(56003);g=a(53685);c.prototype.send=function(m,l,n,p,q,u){var t;t=this;u=void 0 === u?g.pu.QP:u;return this.EGb(m,l,n,u,p,q).then(function(v){return t.context.aBb.send(v.context,v.request);});};c.prototype.EGb=function(m,l,n,p,q,u){var t,v;try{t=this.context.aYb.create(this.context.my.SA(),l.url,n,q,p);v=this.Atb(l,m,p,u);return Promise.resolve({context:v,request:t});}catch(w){return Promise.reject(w);}};c.prototype.Atb=function(m,l,n,p){return {He:this.context.He,log:l,Jm:m.name,url:this.context.L4b((0,f.PRa)(this.context.sh,this.context.Zg,m.name,n)),jua:this.HYb,timeout:(0,h.Bh)(59),headers:(0,f.ORa)(this.context.Zg,this.context.jF),Ij:m.Ij,Ysb:p};};c.prototype.Ol=function(m){return m instanceof d.Lc?m:(0,f.Ol)(this.errorCode,m);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.pn)()),r.__param(1,(0,k.pn)()),r.__param(2,(0,k.pn)())],a);b.mh=a;},62538:function(r,b,a){var k,f,h,d,g;function c(m){return h.iq.call(this,m,f.V.lhb,d.Go.RK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(1841);d=a(8010);a=a(20743);ia(c,h.iq);c.prototype.KA=function(m){return Object.assign(Object.assign({},h.iq.prototype.KA.call(this,m)),{action:m.action});};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.$Ba=g;},91393:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.yhb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:h.Hg.W,Ij:"generateScreenshots"},l).then(function(p){return p.result;}).catch(function(p){throw n.Ol(p);});};c.prototype.Sn=function(m,l,n){var p;p=this;l={url:l.rL("generateScreenshots").href,name:h.Hg.W,Ij:"generateScreenshots"};return this.send(m,l,n).then(function(q){return q.result;}).catch(function(q){throw p.Ol(q);});};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.ZHa=g;},8522:function(r,b,a){var k,f,h,d,g;function c(m){return h.iq.call(this,m,f.V.hca,d.Go.oU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(1841);d=a(8010);a=a(20743);ia(c,h.iq);g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.yEa=g;},52779:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.HI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Y4=function(m){var l;l="ldl" === m.q2a?"prefetch/license":"license";"LIVE" === m.ig && (l+="/live");return l;};c.prototype.Sn=function(m,l,n){var p;p=this;l={url:l.rL(n.q2a).href,name:h.Hg.Xg,Ij:this.Y4(n)};return this.send(m,l,n.inputs,"drmSessionId").then(function(q){q=q.result;p.Rub(q);return q;}).catch(function(q){throw p.Ol(q);});};c.prototype.Rub=function(m){m.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.LHa=g;},64558:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Oeb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + h.Hg.bind,name:h.Hg.bind,Ij:h.Hg.bind},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Ol(q);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.NHa=g;},6123:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Peb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:h.Hg.bind,Ij:h.Hg.bind},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Ol(q);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.PHa=g;},42239:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u,t,v,w,y,x,A,z){this.sh=q;this.He=u;this.Zg=t;this.aBb=v;this.my=w;this.L4b=y;this.aYb=A;this.jF=z;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;r=a(70655);k=a(86700);f=a(39141);h=a(95538);d=a(86945);g=a(94669);m=a(24166);l=a(5485);n=a(28933);p=a(1265);a=a(15303);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.oY)),r.__param(1,(0,k.l)(l.ku)),r.__param(2,(0,k.l)(h.Vw)),r.__param(3,(0,k.l)(g.WHa)),r.__param(4,(0,k.l)(m.Kw)),r.__param(5,(0,k.l)(n.sMa)),r.__param(6,(0,k.l)(p.PY)),r.__param(7,(0,k.l)(d.BIa)),r.__param(8,(0,k.l)(a.Ew))],c);b.THa=c;},55727:function(r,b,a){var m,l;function c(n){return !(!n || !n.qC && !n.pboc || !n.code && !n.code);}function k(n){return !(!n || !n.ec);}function f(n){return !!(n instanceof Error);}function h(n){switch(n){case "ACCOUNT_ON_HOLD":return l.R.Cjb;case "STREAM_QUOTA_EXCEEDED":return l.R.Ljb;case "INSUFFICICENT_MATURITY":return l.R.Qjb;case "TITLE_OUT_OF_WINDOW":return l.R.Zjb;case "CHOICE_MAP_ERROR":return l.R.Kjb;case "BadRequest":return l.R.Ujb;case "Invalid_SemVer_Format":return l.R.Rjb;case "RESTRICTED_TO_TESTERS":return l.R.Xjb;case "AGE_VERIFICATION_REQUIRED":return l.R.Ijb;case "BLACKLISTED_IP":return l.R.Jjb;case "DEVICE_EOL_WARNING":return l.R.ada;case "DEVICE_EOL_FINAL":return l.R.nHa;case "INCORRECT_PIN":return l.R.rHa;case "MOBILE_ONLY":return l.R.Wjb;case "MDX_CONTROLLER_CTICKET_INVALID":return l.R.Vjb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return l.R.$jb;case "RESET_DEVICE":return l.R.qHa;case "RELOAD_DEVICE":return l.R.pHa;case "EXIT_DEVICE":return l.R.oHa;case "FREE_PREVIEW_ENDED":return l.R.Pjb;case "STREAMING_LOCATION_DISALLOWED":return l.R.Yjb;case "EXTRA_MEMBER_STREAM_HOLD":return l.R.Ojb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return l.R.Njb;case "ADS_UNAVAILABLE_VIEWABLE":return l.R.Djb;case "ADS_UNSUPPORTED_DEVICE":return l.R.Gjb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return l.R.Ejb;case "ADS_UNSUPPORTED_COUNTRY":return l.R.Fjb;case "ADS_VPN_USE_DETECTED":return l.R.Hjb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return l.R.Tjb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return l.R.Sjb;default:return l.R.CCa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Lc(n,h(p.code),"BadRequest" === p.code?l.WZ.cfb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function g(n,p){return new m.Lc(n,p.ec,p.Oc,void 0,p.Jy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=b.PRa=b.iFb=b.nFb=b.Ol=b.mFb=b.hU=b.S0a=b.f1a=void 0;m=a(56003);l=a(68172);b.f1a=c;b.S0a=k;b.hU=f;b.mFb=h;b.Ol=function(n,p){return k(p)?g(n,p):c(p)?d(n,p):f(p)?m.Lc.Rla(n,p):new m.Lc(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.nFb=d;b.iFb=g;b.PRa=function(n,p,q,u,t){var v,w,y,x;v=p.T9a[q];if(void 0 === v)throw {qC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {qC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=v.service;if(void 0 === y)throw {qC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=v.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {qC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.gIb(u) + "/" + x + "/" + y + "/" + w:n.WHb(u) + "/" + x + "/" + y + "/" + w + "/" + (void 0 === t?"router":t);};b.ORa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.jQa && p && (q["X-Esn"]=p.jk);return q;};},78679:function(r,b,a){var k,f,h,d,g;function c(m,l,n){this.sa=m;this.platform=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(70655);k=a(86700);f=a(35664);h=a(2467);d=a(811);a=a(17244);c.prototype.h3b=function(m){var l,n;l=this;n=this.sa.ue.ba(h.vm);return {inputs:m.yj.map(function(p){var q,u,t,v,w;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:m.la.toString(),clientVersion:l.platform.version,platform:null === (q=l.config().jd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=l.config().jd) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (w=null === (v=l.config().jd) || void 0 === v?void 0:v.os) || void 0 === w?void 0:w.name};}),q2a:"standard" === m.rf.toLowerCase()?"license":"ldl",ig:m.ig};};c.prototype.k3b=function(m){var l,n;l=this;n=[];return m.ie.map(function(p){n.push(p.id);return {url:l.Ctb(p.wG,p.xU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:m.la.toString()}};});};c.prototype.Ctb=function(m,l){return "/releaseLicense?drmLicenseContextId=" + m + (l?"&licenseId=" + l:"");};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Fg)),r.__param(1,(0,k.l)(d.yn)),r.__param(2,(0,k.l)(a.cc))],g);b.aIa=g;},33403:function(r,b,a){var k,f,h;function c(d,g){this.Dh=d;this.HA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;r=a(70655);k=a(86700);f=a(89682);a=a(31224);c.prototype.Obb=function(d){var g,m;g=this;m=d.map(function(l){return l.links.releaseLicense.href;}).map(function(l){return g.Dh.JV(l.substring(l.indexOf("?") + 1));});return {ka:!0,ie:d.map(function(l,n){return {id:l.drmSessionId,wG:m[n].drmlicensecontextid,xU:m[n].licenseid};}),Tk:d.map(function(l){return {data:g.HA.decode(l.licenseResponseBase64),sessionId:l.drmSessionId};})};};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.ph)),r.__param(1,(0,k.l)(a.kh))],h);b.cIa=h;},10143:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Eib,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l){var n;n=this;return this.send(m,{url:"/" + h.Hg.Fpa,name:h.Hg.Fpa,Ij:h.Hg.Fpa},l).then(function(p){return p.result;}).catch(function(p){throw n.Ol(p);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.gIa=g;},27299:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x){t=d.mh.call(this,t,f.V.KI,3) || this;t.platform=v;t.LU=w;t.HNb=y;t.cPb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(70655);k=a(93);f=a(68172);h=a(88052);a(64168);d=a(92933);g=a(20743);m=a(811);l=a(53685);n=a(23251);p=a(10707);q=a(86700);a=a(9571);ia(c,d.mh);c.prototype.BIb=function(t,v){var w,y;y=v?h.Hg.INb:h.Hg.W;v=v?"licensedManifest":"manifest";t.Oq === k.rl.TI && (v="prefetch/" + v);"live" === t.Wa.ud && (v+="/live");if(null === (w=t.Of) || void 0 === w?0:w.Oi)v="adBreakHydration";return {Ij:v,Qvb:y};};c.prototype.Hf=function(t,v){var w,y;w=this;y=v.Oq === k.rl.O_?l.pu.NJa:l.pu.QP;return this.cPb().transform(v,y).then(function(x){var A,z;A=ma(x);x=A.next().value;z=A.next().value;!1;A=w.BIb(v,"licensedManifest" === z.Jm);return w.send(t,{url:z.Jm,name:A.Qvb,Ij:A.Ij},x,void 0,void 0,y).then(function(B){var C;B=w.LU.create(B.result);C=B.Ga;z.Yx && (C=C.Xt.map(function(D){return D.Xg;}).filter(Boolean),0 < C.length?(C=w.HNb.Obb(C),z.Yx.UPa(C),B.Yx=z.Yx,B.Eoa=v.Oq === k.rl.TI,B.Doa=!0):z.Yx.close());B.GR=z.GR;B.SX=z.SX;!1;return B;});}).catch(function(x){!1;throw w.Ol(x);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(g.ul)),r.__param(1,(0,q.l)(m.yn)),r.__param(2,(0,q.l)(n.LI)),r.__param(3,(0,q.l)(p.mda)),r.__param(4,(0,q.l)(a.jIa))],u);b.iIa=u;},73953:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C,D,F,G,E,J){this.Zg=x;this.platform=A;this.config=z;this.Aub=B;this.qUb=C;this.lo=D;this.VR=F;this.sa=G;this.Z6=E;this.Om=J;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(70655);k=a(86700);f=a(93);h=a(17244);d=a(36437);g=a(5872);m=a(69447);l=a(1092);n=a(811);p=a(35664);q=a(2467);u=a(94773);t=a(95538);v=a(66602);w=a(77003);y=a(41047);c.prototype.transform=function(x,A){var z,B,C,D,F,G,E,J;z=this;B=x.Wa;C=Object.assign({},B.j2,B.dm);D={};F=x.J;G=this.config();D[F]={unletterboxed:!!C.preferUnletterboxed || G.$Ub};E=G.U4b?30:25;G=G.Mr?this.lo.KGb():Promise.resolve(this.Z6.Us());J={ud:null === B || void 0 === B?void 0:B.ud};return Promise.all([this.Om.MZa(J),this.Om.OZa(J),this.Om.zT(),this.Om.U4(),this.gGb(x.la,A),this.MGb(x),G]).then(function(K){var N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W;N=ma(K);I=N.next().value;O=N.next().value;L=N.next().value;H=N.next().value;M=N.next().value;K=N.next().value;R=N.next().value;N=I.b5().concat(O.b5()).concat(z.config().Qt).concat(["BIF240","BIF320"]).filter(Boolean);H=H?H.DEVICE_SECURITY_LEVEL:void 0;W="postplay" === B.ud?!0:!!C.isUIAutoPlay;L={type:"standard",manifestVersion:z.Zg.$Va?"v2":"v1",viewableId:F,profiles:N,flavor:x.Oq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.Wa.dg,useHttpsStreams:!0,supportsUnequalizedDownloadables:z.config().$1b,imageSubtitleHeight:d.nea.uZa(),uiVersion:z.Zg.nw,uiPlatform:z.Zg.F$,clientVersion:z.platform.version,platform:null === (Y=z.config().jd) || void 0 === Y?void 0:Y.version,osVersion:null === (ca=null === (ea=z.config().jd) || void 0 === ea?void 0:ea.os) || void 0 === ca?void 0:ca.version,osName:null === (Ga=null === (oa=z.config().jd) || void 0 === oa?void 0:oa.os) || void 0 === Ga?void 0:Ga.name,supportsPreReleasePin:z.config().rp.S1b,supportsWatermark:z.config().rp.T1b,packageId:z.dIb(B),deviceSecurityLevel:H,videoOutputInfo:L,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:W,challenge:M,isNonMember:z.Zg.d1a,pin:B.u6a,desiredVmaf:z.config().Ucb?z.config().VUa:z.config().WUa,desiredSegmentVmaf:z.config().Ucb?z.config().VUa:z.config().WUa,requestSegmentVmaf:z.config().fYb,supportsPartialHydration:z.Zg.NK,contentPlaygraph:x.Wa.dg?[]:z.Zg.aF,supportsAdBreakHydration:x.Wa.dg?!1:z.Zg.p$,auxiliaryManifestToken:x.Wa.dg?void 0:null === (Fa=x.Of) || void 0 === Fa?void 0:Fa.mc,adBreakToken:x.Wa.dg?void 0:null === (Ja=x.Of) || void 0 === Ja?void 0:Ja.Oi,originalPlaybackContextId:!x.Wa.dg && (null === (Xa=x.Of) || void 0 === Xa?0:Xa.mc)?null === (cb=x.Of) || void 0 === cb?void 0:cb.DV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.uWa && (L.extraParams=B.uWa);B.UUa && (L.desiredDownloadables=B.UUa);B.Vta && (L.requestReference=B.Vta);Y={Jm:L.adBreakToken?"adBreakHydration":K?"licensedManifest":"manifest",Yx:null === K || void 0 === K?void 0:K.gz,GR:I,SX:O};K && (K={drmSessionId:K.gz.fy() || "session",clientTime:z.sa.xH.ba(q.vm),challengeBase64:K.wia},L.challenges={"default":[K]},L.profileGroups=[{name:"default",profiles:N}],L.licenseType=x.rf == y.Gh.tn?"limited":"standard",x.la && (L.xid=x.la.toString()));z.Zg.NK || (L.showAllSubDubTracks=z.config().rp.m0b || !!C.showAllSubDubTracks,z.Zg.SVa && x.Oq === f.rl.O_ && (L.maxSupportedLanguages=2));x.fO && (L.originalPlaybackContextId=x.fO.DV,L.requiredAudioTrackId=x.fO.jYb,L.requiredTextTrackId=x.fO.mYb);return [L,Y];});};c.prototype.dIb=function(x){if(this.config().M8.enabled){if(void 0 !== x.hn)return x.hn;if(void 0 !== this.config().M8.hn)return Number(this.config().M8.hn);}};c.prototype.gGb=function(x,A){var z;z=this;return this.Aub.ZXa(A).then(function(B){var C;C=x && z.qUb.iIb(x);C && C.fp("cad");return B;});};c.prototype.MGb=function(x){var A;if(void 0 === x.rf || !this.config().Mr)return Promise.resolve(void 0);A=x.rf === y.Gh.sm && this.Zg.jv;return x.rf === y.Gh.tn && this.Zg.fB || A?this.VR.$ma(x.rf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(t.Vw)),r.__param(1,(0,k.l)(n.yn)),r.__param(2,(0,k.l)(h.cc)),r.__param(3,(0,k.l)(g.Iza)),r.__param(4,(0,k.l)(m.Bda)),r.__param(5,(0,k.l)(l.Ow)),r.__param(6,(0,k.l)(u.yY)),r.__param(7,(0,k.l)(p.Fg)),r.__param(8,(0,k.l)(v.Jca)),r.__param(9,(0,k.l)(w.Dw))],a);b.kIa=a;},59713:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.akb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + h.Hg.ping,name:h.Hg.ping,Ij:h.Hg.ping},l,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Ol(q);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.lIa=g;},13878:function(r,b,a){var k,f,h,d,g;function c(m){return d.mh.call(this,m,f.V.Rda,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(88052);d=a(92933);a=a(20743);ia(c,d.mh);c.prototype.Hf=function(m,l){var n;n=this;return this.send(m,{url:"/bundle",name:h.Hg.Xg,Ij:"release/license"},l).then(function(p){return p.result;}).catch(function(p){throw n.Ol(p);});};c.prototype.Sn=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.yIa=g;},9270:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q){this.platform=l;this.config=n;this.VR=p;this.Om=q;}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;r=a(70655);k=a(86700);f=a(17244);h=a(811);d=a(94773);g=a(77003);m=a(41047);c.prototype.transform=function(l){var n,p,q;n=this;p=l.Wa;q={ud:void 0};return Promise.all([this.Om.MZa(q),this.Om.OZa(q),this.VR.$ma(m.Gh.sm)]).then(function(u){var t,v;t=ma(u);u=t.next().value;v=t.next().value;t=t.next().value;return [{viewableId:l.J,packageId:p.hn,assetId:p.wha,challenge:t.wia,audioProfiles:u.b5(),textProfiles:n.config().Qt,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.b5(),audioLanguages:p.lsb,textLanguages:p.s2b,videoLanguages:p.ndb?[p.ndb]:void 0,requestReference:p.Vta,additionalAudioAssets:p.Tqb,additionalTextAssets:p.Xqb,useBetterTextUrls:!0},{Yx:null === t || void 0 === t?void 0:t.gz,Jm:"studioManifest",GR:u,SX:v}];});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.yn)),r.__param(1,(0,k.l)(f.cc)),r.__param(2,(0,k.l)(d.yY)),r.__param(3,(0,k.l)(g.Dw))],a);b.CIa=a;},41596:function(r,b,a){var k,f,h,d,g;function c(m){return h.iq.call(this,m,f.V.EKa,d.Go.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(1841);d=a(8010);a=a(20743);ia(c,h.iq);g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.kLa=g;},30859:function(r,b,a){var k,f,h,d,g;function c(m){return h.iq.call(this,m,f.V.klb,d.Go.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(1841);d=a(8010);a=a(20743);ia(c,h.iq);g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.pLa=g;},48529:function(r,b,a){var k,f,h,d,g;function c(m){return h.iq.call(this,m,f.V.llb,d.Go.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(70655);k=a(86700);f=a(68172);h=a(1841);d=a(8010);a=a(20743);ia(c,h.iq);g=c;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ul))],g);b.vLa=g;},48350:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u){n=f.Qe.call(this,n,"PboConfigImpl") || this;n.config=p;n.srb=q;n.lf=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(54662);g=a(17244);m=a(39141);a=a(65350);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{nw:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.nw || "";}},F$:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.F$ || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.Hsa;}},d1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},T9a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.srb.vRa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.U9a);}},U9a:{configurable:!0,enumerable:!0,get:function(){return {};}},j8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Nna:{configurable:!0,enumerable:!0,get:function(){return 10;}},jQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},jv:{configurable:!0,enumerable:!0,get:function(){return this.lf.jv;}},fB:{configurable:!0,enumerable:!0,get:function(){return this.lf.fB;}},gI:{configurable:!0,enumerable:!0,get:function(){return this.lf.gI;}},$cb:{configurable:!0,enumerable:!0,get:function(){return !1;}},SVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Tcb:{configurable:!0,enumerable:!0,get:function(){return [];}},$Va:{configurable:!0,enumerable:!0,get:function(){return !0;}},NK:{configurable:!0,enumerable:!0,get:function(){return this.lf.NK;}},aF:{configurable:!0,enumerable:!0,get:function(){return this.lf.aF;}},p$:{configurable:!0,enumerable:!0,get:function(){return this.lf.p$;}}});l=c;r.__decorate([d.config(d.string,"uiVersion")],l.prototype,"nw",null);r.__decorate([d.config(d.string,"uiPlatform")],l.prototype,"F$",null);r.__decorate([d.config(d.qz,"pboVersion")],l.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],l.prototype,"organization",null);r.__decorate([d.config(d.LH,"pboLanguages")],l.prototype,"languages",null);r.__decorate([d.config(d.Nc,"hasLimitedPlaybackFunctionality")],l.prototype,"d1a",null);r.__decorate([d.config(d.object(),"pboCommands")],l.prototype,"T9a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],l.prototype,"U9a",null);r.__decorate([d.config(d.Nc,"pboRecordHistory")],l.prototype,"j8a",null);r.__decorate([d.config(d.qz,"pboHistorySize")],l.prototype,"Nna",null);r.__decorate([d.config(d.Nc,"pboAddXEsnHeader")],l.prototype,"jQa",null);r.__decorate([d.config(d.Nc,"combineManifestAndLicense")],l.prototype,"jv",null);r.__decorate([d.config(d.Nc,"enableLicensedManifestForPrefetch")],l.prototype,"fB",null);r.__decorate([d.config(d.Nc,"useLdlForPrefetchLicensedManifest")],l.prototype,"gI",null);r.__decorate([d.config(d.Nc,"pboUseStudioManifest")],l.prototype,"$cb",null);r.__decorate([d.config(d.Nc,"pboEnableLeanManifest")],l.prototype,"SVa",null);r.__decorate([d.config(d.Nc,"useHeaderForRequestNames")],l.prototype,"Tcb",null);r.__decorate([d.config(d.Nc,"pboEnableV2OptimizedManifest")],l.prototype,"$Va",null);r.__decorate([d.config(d.Nc,"pboEnableManifestPartialHydrationSupport")],l.prototype,"NK",null);r.__decorate([d.config(d.LH,"pboContentPlaygraphTypes")],l.prototype,"aF",null);r.__decorate([d.config(d.Nc,"pboSupportsAdBreakHydration")],l.prototype,"p$",null);l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl)),r.__param(1,(0,k.l)(g.cc)),r.__param(2,(0,k.l)(m.oY)),r.__param(3,(0,k.l)(a.ED))],l);b.UHa=l;},737:function(r,b,a){var h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B;function c(C){this.config=C;this.Lx=[];}function k(C,D,F){this.Fa=C;this.iO=D;this.context=F;this.startTime=this.Fa.Fb();}function f(C,D,F,G,E,J,K,N,I,O){this.Tbb=D;this.json=F;this.Fa=G;this.Ss=E;this.lta=J;this.wc=K;this.config=N;this.Eb=I;this.receiver=O;this.log=C.Ta("Pbo");N.j8a && (this.Lx=new c(N));this.iO=this.Tbb();}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;r=a(70655);h=a(86700);d=a(2467);g=a(79596);m=a(71163);l=a(63088);n=a(58998);p=a(53685);q=a(16690);u=a(65428);t=a(55727);v=a(95538);w=a(1265);y=a(34202);x=a(88052);A=a(14944);a=a(19391);z={"shakti-":"akira"};f.prototype.send=function(C,D){var F;F=new k(this.Fa,this.iO,C);this.Lx && this.Lx.append(F);return this.Uua(C,D,F);};f.prototype.Uua=function(C,D,F){var G;G=this;return new Promise(function(E,J){G.retry(C,D).then(function(K){var N,I;G.HZb(K);N=ma(G.k5b(K));I=N.next().value;N=N.next().value;I && (G.receiver.hta({command:C.Jm,inputs:D,outputs:I}),G.Gvb(F),E(K));N && (G.receiver.hta({command:C.Jm,inputs:D,outputs:N}),G.TSa(F,N),J(N));}).catch(function(K){var N;G.receiver.hta({command:C.Jm,inputs:D,outputs:K});N=G.TSa(F,K);K.Kb && (K.Kb=[K.Kb," ",N].join(""));J(K);});});};f.prototype.HZb=function(C){(C=C.serverTime) && this.Eb.Cc(y.eca.S9a,(0,d.Lb)(C));};f.prototype.k5b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{qC:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.fsb=function(C,D,F){var G;G=this;this.E4b(D,C);this.iO=this.Tbb(F);return this.iO.send(D,F).then(function(E){return {retry:!1,result:A.u_.KTb(G.json,E.body)};}).catch(function(E){var J,K;J=A.u_.EHb(E);K=void 0 !== J?Math.min(J,D.jua):D.jua;return G.Q9(D,E,C,K)?(J=G.fub(E,C,K),G.log.warn("Method failed, retrying",Object.assign({Method:D.Jm,Attempt:C + 1,WaitTime:J,MaxRetries:K},G.Pja(E))),Promise.resolve({retry:!0,delay:J,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.EFb=function(C){var D,F;if(!this.wga || this.wga.gTb !== C){D="";F=C;Object.entries(z).find(function(G){var E;E=ma(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.wga={PSa:D,nw:C,gTb:F};}return this.wga;};f.prototype.E4b=function(C,D){var F,G,E,J;J=C.url.searchParams;J.set(x.Xz.tKa,(D + 1).toString());this.config.Tcb.includes(C.Ij)?C.headers[x.Tkb.Vda]=C.Ij:J.set(x.Xz.Vda,C.Ij);C=this.EFb(null !== (F=this.config.nw) && void 0 !== F?F:"");C.PSa && (J.set(x.Xz.kAa,C.PSa),C.nw && J.set(x.Xz.pMa,encodeURIComponent(C.nw)),F=this.Ss.jd,(null === F || void 0 === F?0:F.name) && J.set(x.Xz.zza,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && J.set(x.Xz.Aza,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && J.set(x.Xz.fHa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && J.set(x.Xz.gHa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.fsb(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.Q9=function(C,D,F,G){var E;E=A.u_.GMb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Jm,Attempt:F + 1,MaxRetries:G},this.Pja(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Jm},this.Pja(D)));return !1;};f.prototype.fub=function(C,D,F){if(C && C.FC && void 0 !== C.FC.retryAfterSeconds)return (0,d.Bh)(C.FC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Lb)(this.lta.M7a(C,D));};f.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.wc.Pj(C || d.Ia,F);});};f.prototype.Pja=function(C){return (0,t.f1a)(C)?C:{message:C.message,subCode:C.ec,extCode:C.Oc,mslCode:C.Jy,data:C.data};};f.prototype.Gvb=function(C){C.TN();};f.prototype.TSa=function(C,D){var F;C.Os(D);if(this.Lx)try{F=this.json.stringify(this.Lx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(m.Xa)),r.__param(1,(0,h.l)(g.fMa)),r.__param(2,(0,h.l)(l.sD)),r.__param(3,(0,h.l)(n.Jc)),r.__param(4,(0,h.l)(p.sn)),r.__param(5,(0,h.l)(q.H_)),r.__param(6,(0,h.l)(u.Gi)),r.__param(7,(0,h.l)(v.Vw)),r.__param(8,(0,h.l)(w.Mba)),r.__param(9,(0,h.l)(a.pda))],B);b.VHa=B;k.prototype.TN=function(){this.ka=!0;this.elapsedTime=this.Fa.Fb().wa(this.startTime);};k.prototype.Os=function(C){this.ka=!1;this.elapsedTime=this.Fa.Fb().wa(this.startTime);this.B1b=C.ec || C.subCode;this.vDb=C.Oc || C.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var C;C=Object.assign({success:this.ka,method:this.context.Jm,startTime:this.startTime.ba(d.na),elapsedTime:this.elapsedTime?this.elapsedTime.ba(d.na):"in progress"},this.iO.kja());return this.ka?C:Object.assign(Object.assign(Object.assign({},C),this.iO.kja()),{subcode:this.B1b,extcode:this.vDb});};c.prototype.append=function(C){this.Lx.push(C);0 < this.config.Nna && this.Lx.length > this.config.Nna && this.Lx.shift();};c.prototype.toJSON=function(){return this.Lx;};},14944:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.u_=void 0;k=a(68172);c.GMb=function(f){var h,d;h=f && f.code;d=f && (f.za || f.ec);f=f.Oc !== k.WZ.KHa;d=!!d && d >= k.R.lP && d <= k.R.jP && f;return !("RETRY" !== h && "FAIL" !== h) || d;};c.EHb=function(f){var h,d;d=null === (h=null === f || void 0 === f?void 0:f.FC) || void 0 === h?void 0:h.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.KTb=function(f,h){var d;if(h){try{d=f.parse(h);}catch(g){throw {qC:!0,code:"FAIL",message:"Unable to parse the response body",data:h};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {qC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {qC:!0,code:"FAIL",message:"There is no body property on the response"};};b.u_=c;},52463:function(r,b,a){var k,f,h;function c(d,g){this.jF=g;this.log=d.Ta("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(15303);c.prototype.Jga=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.rL=function(d){!1;return this.links[d];};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.Ew))],h);b.eIa=h;},96026:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(70655);a=a(86700);c.prototype.l_b=function(f){this.listener=f;};c.prototype.hta=function(f){var h;null === (h=this.listener) || void 0 === h?void 0:h.call(this,f);};k=c;k=r.__decorate([(0,a.U)()],k);b.xIa=k;},58820:function(r,b,a){var f,h;function c(d,g,m,l,n,p,q){this.version=d;this.url=g;this.id=m;this.languages=l;this.qb=n;this.DBb=p;this.RQb=q;}function k(d){this.Zg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(70655);f=a(86700);a=a(95538);k.prototype.create=function(d,g,m,l,n){return new c(this.Zg.version,g,d,this.Zg.languages,m,l,n);};h=k;h=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.Vw))],h);b.AIa=h;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.qb,echo:this.DBb};};},96658:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(86700);c=a(60070);k=a(79596);f=a(71946);h=a(17895);d=a(80778);g=a(53685);b.transports=new r.Yc(function(m){m(c.a0).to(d.eMa).da();m(k.FGa).to(f.EGa);m(k.nLa).to(h.mLa);m(k.fMa).Vd(function(l){return function(n){var p;return l.hb.get(c.a0).R9(null !== (p=null === n || void 0 === n?void 0:n.RQb) && void 0 !== p?p:g.pu.QP)?l.hb.get(k.FGa):l.hb.get(k.nLa);};});});},79596:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fMa="TransportFactorySymbol";b.FGa="MslTransportSymbol";b.nLa="SslTransportSymbol";},60070:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a0="TransportConfigSymbol";},71946:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){var q;q=this;this.iC=n;this.profile=p;this.log=l.Ta("MslTransport");this.iC().then(function(u){return q.v7=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(53713);d=a(2467);a=a(98540);g={license:!0};c.prototype.send=function(l,n){var p,q;p=this;q={Kqa:Object.assign({He:l.He,log:l.log,profile:this.profile},l.Ysb),method:l.Jm,url:l.url.href,body:JSON.stringify(n),timeout:l.timeout.ba(d.na),bdb:this.profile,RXb:!g[l.Jm],T4a:!!g[l.Jm],uF:!0,Zp:l.jua,headers:l.headers};!1;return this.iC().then(function(u){return u.send(q).catch(function(t){var v;if(!t.error)throw (t.ec=t.za || t.ec,t);v=t.error;v.FC=t.FC;p.log.error("Error sending MSL request",{mslCode:v.Jy,subCode:v.ec,data:v.data,message:v.message});throw v;});});};c.prototype.kja=function(){var l;return {userTokens:null === (l=this.v7) || void 0 === l?void 0:l.eV.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.HP)),r.__param(2,(0,k.l)(a.XI))],m);b.EGa=m;},17895:function(r,b,a){var k,f,h,d;function c(g,m){this.He=m;this.log=g.Ta("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;r=a(70655);k=a(86700);f=a(2467);h=a(71163);a=a(5485);c.prototype.send=function(g,m){var l,n;l=this;n={url:g.url.href,ZA:"nq-" + g.Jm,V6a:JSON.stringify(m),Q2:g.timeout.ba(f.na),headers:g.headers,withCredentials:!0,zr:"pbo"};!1;return new Promise(function(p,q){l.He.download(n,function(u){u.ka?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ec=p.za || p.ec,p);q=p.error;q.FC=p.FC;l.log.error("Error sending SSL request",{subCode:q.ec,data:q.content,message:q.message});throw q;});};c.prototype.kja=function(){return {};};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(a.ku))],d);b.mLa=d;},80778:function(r,b,a){var k,f,h,d,g;function c(m){return f.Qe.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(54662);g=a(53685);ia(c,f.Qe);c.prototype.R9=function(m){var l,n;l=this.nO;n=this.sQa;switch(m){case g.pu.QP:return l;case g.pu.NJa:return l && !n;case g.pu.ujb:return !1;}};Wa.Object.defineProperties(c.prototype,{nO:{configurable:!0,enumerable:!0,get:function(){return !0;}},sQa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Nc,"usesMsl")],a.prototype,"nO",null);r.__decorate([d.config(d.Nc,"allowRequestsWithoutMsl")],a.prototype,"sQa",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl))],a);b.eMa=a;},62298:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tda="PlatformEmeSymbol";},64615:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c0="UserAgentDataPlatformVersionProviderSymbol";},20401:function(r,b,a){var g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C;function c(D,F,G){this.Ln=D;this.groups=F;this.prefix=G;D=w(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function k(){}function f(){}function h(){return v?v:"0.0.0.0";}function d(D){D({Fec:0,Rfc:0,adc:0,ycc:0});}g=a(28075);k.prototype.set=function(D,F){n[D]=F;p.save(D,F);};k.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ka?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};k.prototype.remove=function(D){p.remove(D);};k.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.Da=function(){return u();};f.prototype.Iqa=function(D){return D + q() - u();};f.prototype.gra=function(D){return D + u() - q();};c.prototype.aUa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,da(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Ln,this.groups,F);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){m=D.q8;w=D.Yi;p=D.storage;n=D.aM;q=D.VHb;u=D.getTime;t=D.Irb;x=D.Yj;C=D.mj;A=D.ZO;z=D.SourceBuffer;B=D.MediaSource;v=D.sdc;l=D.Gs;return {name:"cadmium",Gs:l,q8:m,storage:new k(),Storage:k,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,Yj:x,ZO:A,h9b:z,MediaSource:B,mj:C,oo:{name:h},memory:{Ncc:d},sT:D.sT,g3:D.g3,Rja:D.Rja,ping:function(F){fetch(F).catch(function(){});}};};},33888:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.qt,minHCInitVideoBitrate:a.sQb,maxInitVideoBitrate:a.Fy,minInitAudioBitrate:a.bV,maxInitAudioBitrate:a.QU,minHCInitAudioBitrate:a.m7,minAcceptableVideoBitrate:a.i7,minRequiredBuffer:a.eC,minPrebufSize:a.hr,minCheckBufferingCompleteInterval:a.Bqa,rebufferingFactor:a.tta,useMaxPrebufSize:a.jxa,maxPrebufSize:a.bC,maxRebufSize:a.hqa,maxBufferingTime:a.fr,minAudioMediaRequestSizeBytes:a.Aqa,minVideoMediaRequestSizeBytes:a.Eqa,initialBitrateSelectionCurve:a.L5,initSelectionLowerBound:a.n0a,initSelectionUpperBound:a.o0a,throughputPercentForAudio:a.sX,bandwidthMargin:a.Kha,bandwidthMarginContinuous:a.Lha,bandwidthMarginCurve:a.Mha,conservBandwidthMargin:a.gja,switchConfigBasedOnInSessionTput:a.kwa,conservBandwidthMarginTputThreshold:a.ija,conservBandwidthMarginCurve:a.hja,switchAlgoBasedOnHistIQR:a.Yab,switchConfigBasedOnThroughputHistory:a.lwa,maxPlayerStateToSwitchConfig:a.B3a,lowEndMarkingCriteria:a.Q2a,IQRThreshold:a.bEa,histIQRCalcToUse:a.J_a,maxTotalBufferLevelPerSession:a.TU,highWatermarkLevel:a.E_a,toStableThreshold:a.Dbb,toUnstableThreshold:a.y$,skipBitrateInUpswitch:a.Iva,watermarkLevelForSkipStart:a.Bxa,highStreamRetentionWindow:a.Jna,lowStreamTransitionWindow:a.Kpa,highStreamRetentionWindowUp:a.Lna,lowStreamTransitionWindowUp:a.Mpa,highStreamRetentionWindowDown:a.Kna,lowStreamTransitionWindowDown:a.Lpa,highStreamInfeasibleBitrateFactor:a.Ina,lowestBufForUpswitch:a.zy,lockPeriodAfterDownswitch:a.FU,lowWatermarkLevel:a.Ppa,lowestWaterMarkLevel:a.Ay,lowestWaterMarkLevelBufferRelaxed:a.Qpa,mediaRate:a.b7,maxTrailingBufferLen:a.T6,audioBufferTargetAvailableSize:a.zha,videoBufferTargetAvailableSize:a.oxa,maxVideoTrailingBufferSize:a.J3a,maxAudioTrailingBufferSize:a.n3a,fastUpswitchFactor:a.Z3,fastDownswitchFactor:a.kla,maxMediaBufferAllowed:a.BG,simulatePartialBlocks:a.Q$a,simulateBufferFull:a.P$a,considerConnectTime:a.jja,connectTimeMultiplier:a.fja,lowGradeModeEnterThreshold:a.NOb,lowGradeModeExitThreshold:a.OOb,maxDomainFailureWaitDuration:a.q3a,maxAttemptsOnFailure:a.aqa,enableMaxAttemptsOnFailure:a.Dka,exhaustAllLocationsForFailure:a.rWa,maxNetworkErrorsDuringBuffering:a.x3a,maxBufferingTimeAllowedWithNetworkError:a.O6,fastDomainSelectionBwThreshold:a.CWa,throughputProbingEnterThreshold:a.lbb,throughputProbingExitThreshold:a.mbb,locationProbingTimeout:a.G2a,finalLocationSelectionBwThreshold:a.JWa,throughputHighConfidenceLevel:a.jbb,throughputLowConfidenceLevel:a.kbb,locationStatisticsUpdateInterval:a.xpa,enablePerfBasedLocationSwitch:a.XVa,probeServerWhenError:a.eH,probeRequestTimeoutMilliseconds:a.Ssa,allowSwitchback:a.xR,probeDetailDenominator:a.l7a,maxDelayToReportFailure:a.P6,countGapInBuffer:a.Awb,bufferThresholdForAbort:a.rtb,allowCallToStreamSelector:a.hrb,pipelineScheduleTimeoutMs:a.eUb,maxPartialBuffersAtBufferingStart:a.iM,maxActiveRequestsSABCell100:a.l3a,maxStreamingSkew:a.IPb,maxPendingBufferPercentage:a.BPb,headerRequestSize:a.w5,estimateHeaderSize:a.Ska,minBufferLenForHeaderDownloading:a.k7,reserveForSkipbackBufferMs:a.bua,numExtraFragmentsAllowed:a.IRb,pipelineEnabled:a.qo,maxParallelConnections:a.fqa,socketReceiveBufferSize:a.X$a,audioSocketReceiveBufferSize:a.f2,videoSocketReceiveBufferSize:a.U$,headersSocketReceiveBufferSize:a.Gna,updatePtsIntervalMs:a.t4b,bufferTraceDenominator:a.utb,bufferLevelNotifyIntervalMs:a.FRa,aseReportDenominator:a.DR,aseReportIntervalMs:a.uha,enableAbortTesting:a.SBb,abortRequestFrequency:a.Rpb,streamingStatusIntervalMs:a.v1b,prebufferTimeLimit:a.TV,minBufferLevelForTrackSwitch:a.a4a,penaltyFactorForLongConnectTime:a.csa,longConnectTimeThreshold:a.Ipa,additionalBufferingLongConnectTime:a.Xga,additionalBufferingPerFailure:a.Yga,rebufferCheckDuration:a.gW,enableLookaheadHints:a.jCb,lookaheadFragments:a.LOb,enableOCSideChannel:a.OK,OCSCBufferQuantizationConfig:a.o_,updateDrmRequestOnNetworkFailure:a.rcb,deferAseScheduling:a.pAb,maxDiffAudioVideoEndPtsMs:a.rPb,defaultHeaderCacheSize:a.Wja,defaultHeaderCacheDataPrefetchMs:a.Vja,neverWipeHeaderCache:a.Qqa,networkFailureResetWaitMs:a.Oqa,networkFailureAbandonMs:a.Nqa,maxThrottledNetworkFailures:a.S6,throttledNetworkFailureThresholdMs:a.s$,lowThroughputThreshold:a.Opa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.ala,mp4ParsingInNative:a.NQb,sourceBufferInOrderAppend:a.K0b,requireAudioStreamToEncompassVideo:a.nN,allowAudioToStreamPastVideo:a.grb,enableManagerDebugTraces:a.UVa,managerDebugMessageInterval:a.Z2a,managerDebugMessageCount:a.Y2a,bufferThresholdToSwitchToSingleConnMs:a.ttb,bufferThresholdToSwitchToParallelConnMs:a.stb,netIntrStoreWindow:a.XQb,minNetIntrDuration:a.uQb,fastHistoricBandwidthExpirationTime:a.EDb,bandwidthExpirationTime:a.Lsb,failureExpirationTime:a.DDb,historyTimeOfDayGranularity:a.tKb,expandDownloadTime:a.nDb,minimumMeasurementTime:a.DQb,minimumMeasurementBytes:a.CQb,throughputMeasurementTimeout:a.C2b,initThroughputMeasureDataSize:a.uLb,throughputMeasureWindow:a.B2b,throughputIQRMeasureWindow:a.A2b,IQRBucketizerWindow:a.wib,connectTimeHalflife:a.ewb,responseTimeHalflife:a.xYb,historicBandwidthUpdateInterval:a.sKb,throughputWarmupTime:a.H2b,minimumBufferToStopProbing:a.BQb,throughputPredictor:a.D2b,ase_stream_selector:a.Mrb,enableFilters:a.bCb,filterDefinitionOverrides:a.UDb,defaultFilter:a.Zzb,secondaryFilter:a.jZb,defaultFilterDefinitions:a.$zb,initBitrateSelectorAlgorithm:a.joa,bufferingSelectorAlgorithm:a.Yha,ase_ls_failure_simulation:a.Hzb,ase_dump_fragments:a.Nja,ase_location_history:a.Oja,ase_throughput:a.xUa,ase_simulate_verbose:a.Izb,secondThroughputEstimator:a.Iua,secondThroughputMeasureWindowInMs:a.A9a,marginPredictor:a.Xpa,networkMeasurementGranularity:a.Pqa,HistoricalTDigestConfig:a.sDa,maxIQRSamples:a.v3a,minIQRSamples:a.d4a,periodicHistoryPersistMs:a.n8,saveVideoBitrateMs:a.w9,needMinimumNetworkConfidence:a.Mqa,biasTowardHistoricalThroughput:a.Pha,maxFastPlayBufferInMs:a.cqa,maxFastPlayBitThreshold:a.s3a,minAudioMediaRequestDuration:a.Iv,minVideoMediaRequestDuration:a.Iy,minAudioMediaRequestDurationCache:a.Iv,minVideoMediaRequestDurationCache:a.Iy,addHeaderDataToNetworkMonitor:a.Iga,hindsightDenominator:a.H_a,hindsightDebugDenominator:a.G_a,hindsightParam:a.I_a,minimumTimeBeforeBranchDecision:a.r7,minimumTimeBeforeDelayedSeekToQueuedSegment:a.m4a,enableSessionHistoryReport:a.YVa,earlyStageEstimatePeriod:a.zVa,lateStageEstimatePeriod:a.i2a,maxNumSessionHistoryStored:a.y3a,minSessionHistoryDuration:a.h4a,appendMediaRequestOnComplete:a.EQa,waitForDrmToAppendMedia:a.wxa,forceAppendHeadersAfterDrm:a.Ila,startMonitorOnLoadStart:a.Pva,reportFailedRequestsToNetworkMonitor:a.Ota,reappendRequestsOnSkip:a.HWb,maxActiveRequestsPerSession:a.PU,limitAudioDiscountByMaxAudioBitrate:a.qpa,appendFirstHeaderOnComplete:a.iha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.JBb,declareBufferingCompleteAtSegmentEnd:a.zUa,applyProfileTimestampOffset:a.BR,applyProfileStreamingOffset:a.Em,mediaSourceSupportsNegativePts:a.d7,requireDownloadDataAtBuffering:a.Xta,requireSetupConnectionDuringBuffering:a.Yta,recordFirstFragmentOnSubBranchCreate:a.i8a,earlyAppendSingleChildBranch:a.yVa,selectStartingVMAFMethod:a.zN,activateSelectStartingVMAF:a.nR,minStartingVideoVMAF:a.st,minAcceptableVMAF:a.$U,minAllowedVmaf:a.FG,alwaysNotifyEOSForPlaygraph:a.prb,enableNewAse:a.nCb,useNewApi:a.P4b,enableCombinedPlaygraphs:a.ES,enableAdPlaygraphs:a.rF,retainSbrOnFade:a.l9,excludedContentPlaygraphIds:a.bla,enableDiscontiguousBuffering:a.J3,forceImmediateTransitionTypeForTitles:a.Lla,forceImmediateTransitionExitZone:a.Kla,useBufferSizeLimiter:a.J$,useLegacyFragmentRounding:a.O4b,maxAllowedOutstandingRequests:a.N6,alwaysRunUnderflowTimer:a.XJ,minStreamableConcurrencyWindow:a.Cqa,streamableConcurrencyFactor:a.awa,bufferingConcurrencyWindow:a.SR,singleStreamablePerBranch:a.v0b,enableResolutionVMAFStreamFilter:a.L3,resolutionVMAFCappingRuleList:a.k9,percentCapTitlesForResolutionVMAFStreamFilter:a.fsa,useExitZones:a.ixa,perFragmentVMAFConfig:a.MM,enableInitialTputLogging:a.QVa,maxResponsesInitialTput:a.DPb,paddingDurationMs:a.Ora,paddingMediaType:a.Pra,supportsPtsChanged:a.Wab,ciPredictorSource:a.Iia,experimentalFilter:a.oDb,simulationDurationStrategy:a.Gva,liveTargetBufferDuration:a.BU,liveEdgeCushion:a.B6,liveSwitchStreamsOnErrorInPipeline:a.G6};};},19618:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M;Object.defineProperty(b,"__esModule",{value:!0});b.y2a=void 0;c=a(56432);k=a(23975);f=a(26620);h=a(8436);d=a(32408);g=a(6474);m=a(90642);l=a(74039);n=a(8028);p=a(31731);q=a(23541);u=a(65906);t=a(56243);v=a(422);w=a(99088);y=a(78113);x=a(83245);A=a(907);z=a(34886);B=a(7282);C=a(40517);D=a(38229);F=a(99216);G=a(45086);E=a(43357);J=a(38298);K=a(38246);N=a(21060);I=a(96658);O=a(10561);L=a(38184);H=a(4871);M=a(3797);b.y2a=function(R){R.load(c.Nx,m.RH,k.P2a,l.Om,f.p4a,h.L,d.qdb,g.K_a,n.storage,p.aK,q.SRa,u.c3a,t.iC,v.Mk,w.O2a,y.F4a,x.vXa,A.C7a,z.YG,B.wVa,C.DVa,D.Zd,F.Xc,G.$a,E.x4a,J.o6a,K.j,N.bTa,I.transports,O.Sk,L.Kg,H.aRa,M.W);};},84722:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;r=a(86700);c=a(98540);k=a(97546);f=a(40517);h=a(10459);d=a(76427);g=a(19618);a=a(72288);b.ac=new r.AY({DH:!0});(0,g.y2a)(b.ac);b.ac.load(k.platform);b.ac.load(h.config);f.JK.load(d.EVa);b.ac.load(a.AQa);b.ac.load(a.profile);b.ac.bind(c.oEa).ml(b.ac);},31020:function(r,b,a){var k,f,h,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;r=a(70655);h=a(86700);a=a(50876);d={pU:!1,reason:"uninitialized"};null === (f=null === (k=null === a.ze || void 0 === a.ze?void 0:a.ze.userAgentData) || void 0 === k?void 0:k.getHighEntropyValues) || void 0 === f?void 0:f.call(k,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{pU:!0,version:g}:{pU:!1,reason:"undefined"};}).catch(function(){d={pU:!1,reason:"exception"};});Wa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});k=c;k=r.__decorate([(0,h.U)()],k);b.uMa=k;},69780:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.aYa=b.$Xa=b.bYa=void 0;c=a(77003);k=a(56261);f=a(77878);h=a(77828);b.bYa=function(d){return Object.assign(Object.assign({},(0,h.lL)()),{Kq:d.q1a?"T":d.eU?"C":"M",Qn:d.q1a?"NFCDTS-01-":d.uy?"NFCDCH-02-":d.MB?"NFCDCH-MC-":d.eU?"NFCDCH-01-":d.T5?"NFCDCH-AP-":d.cU?"NFCDCH-AT-":d.OL?"NFCDCH-PH-":"NFCDCH-LX-",YA:d.eU?"chromeos-cadmium":"chrome-cadmium"});};b.$Xa=function(d){var g,m,l,n,p;g=(0,h.kL)();m=Object.assign(Object.assign({},g),{LK:!0,jv:!0,fB:!0,gI:!0});l=[k.H.iZ,k.H.gZ,k.H.dQ];n=[k.H.hZ];if(d.uy){p={minimumCores:5};m.mm=[].concat(da((0,f.qV).apply(null,[g.mm].concat(da(l)))),da((0,f.Sh)([k.H.Bz,k.H.Cz].concat(da(l),[k.H.pI,k.H.qI]),p)));m.cr=[].concat(da((0,f.qV).apply(null,[g.cr].concat(da(n)))),da((0,f.Sh)([].concat(da(n)),p)));}d.MB && (p={minimumCores:3},m.mm=[].concat(da((0,f.qV).apply(null,[g.mm].concat(da(l)))),da((0,f.Sh)([k.H.Bz,k.H.Cz].concat(da(l),[k.H.pI,k.H.qI]),p))),m.cr=[].concat(da((0,f.qV).apply(null,[g.cr].concat(da(n)))),da((0,f.Sh)([].concat(da(n)),p))));d.eU && (m.mm=(0,f.Sh)([].concat(da(k.ed.wY),da(k.ed.hY),da(k.ed.haa),da(k.ed.Zaa),da(k.ed.$aa),da(k.ed.Waa),da(k.ed.Xaa))),m.cr=(0,f.Sh)([].concat(da(k.ed.gY),da(k.ed.Yaa),da(k.ed.Vaa))));return m;};b.aYa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.yl.vI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.Jn && (g=Object.assign(Object.assign({},g),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.cU && (g=Object.assign(Object.assign({},g),{enableFullHdForWidevineL1:!0}));d.eU && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.Jn && (g=Object.assign(Object.assign({},g),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.Jn && d.uy && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(d.uy || d.MB)g=Object.assign(Object.assign({},g),{enableFullHdForWidevineL3:!0});d.uy && 99 <= d.Jn && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));d.MB && 113 <= d.Jn && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},22861:function(r,b,a){var k,f,h,d,g,m;function c(){var l,n,p;p=null === (l=pb.MSMediaKeys) || void 0 === l?void 0:l.isTypeSupported(f.eb.wd,g.pd.yqa);l=p || (null === (n=pb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.eb.FD,g.pd.yqa));return {i1a:p,h1a:l};}Object.defineProperty(b,"__esModule",{value:!0});b.pYa=b.JGb=b.oYa=b.qYa=void 0;k=a(77003);f=a(13329);h=a(56261);d=a(77828);g=a(39780);m=a(77878);b.qYa=function(l){return Object.assign(Object.assign({},(0,d.lL)()),{Kq:l.ty?"D":"H",Qn:l.ty?l.MB?"NFCDIE-04-":l.sMb?"NFCDIE-LX-":l.T5?"NFCDIE-AP-":l.cU?"NFCDIE-AT-":l.OL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",YA:"edge-cadmium",K1:!1});};b.oYa=function(){var l,n,p;l=Object.assign(Object.assign({},(0,d.kL)()),{HE:(0,m.Sh)([h.vd.mD,h.vd.nD,h.vd.UO,h.vd.VO]),mm:(0,m.Sh)([].concat(da(h.ed.wY),da(h.ed.hY),da(h.ed.haa),da(h.ed.Zaa),da(h.ed.$aa),da(h.ed.Waa),da(h.ed.Xaa),da(h.ed.Jza),da(h.ed.Kza),da(h.ed.Lza))),cr:(0,m.Sh)([].concat(da(h.ed.gY),da(h.ed.Yaa),da(h.ed.Vaa))),Ul:void 0,ST:!1});n=c();p=n.i1a;n.h1a || (l.jv=!0,l.fB=!0,l.gI=!0);l.aF=p?[]:["start"];return l;};b.JGb=c;b.pYa=function(l){var n,p,q,u,t,v,w;n=l.gU;p=l.ty;q=l.uy;u=c();t=u.h1a;v=u.i1a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:k.du.Pw,videoCapabilityDetectorType:k.yl.Pw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,enableAdPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};v={prepareCadmium:!0,enableLdlPrefetch:!t || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:k.du.Cw,videoCapabilityDetectorType:k.yl.vI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.eb.h0],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.Sh)([h.vd.mD,h.vd.nD]),videoProfiles:(0,m.Sh)([h.H.kD,h.H.lD,h.H.cZ,h.H.eZ]),liveVideoProfiles:(0,m.Sh)([h.H.dZ,h.H.fZ]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= l.Jn && (u=Object.assign(Object.assign(Object.assign({},u),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= l.Jn && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= l.Jn && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= l.Jn && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),v),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.eb.uda,f.eb.OIa]}),94 === l.Jn && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= l.Jn && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),w));return u;};},72545:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.wYa=b.vYa=b.xYa=void 0;c=a(77003);k=a(56261);f=a(77878);h=a(77828);b.xYa=function(d){return Object.assign(Object.assign({},(0,h.lL)()),{Kq:"F",Qn:d.MB?"NFCDFF-MC-":d.uy?"NFCDFF-02-":d.T5?"NFCDFF-AP-":d.cU?"NFCDFF-AT-":d.OL?"NFCDFF-PH-":"NFCDFF-LX-",YA:"firefox-cadmium"});};b.vYa=function(d){var g,m;g=(0,h.kL)();m=Object.assign(Object.assign({},g),{LK:!0,jv:!0,fB:!0,gI:!0});d.uy && (m.mm=[].concat(da(g.mm),da((0,f.Sh)([k.H.Bz,k.H.Cz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.MB && (m.mm=[].concat(da(g.mm),da((0,f.Sh)([k.H.Bz,k.H.Cz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.wYa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.yl.vI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.uy || d.MB) && 95 <= d.Jn && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},77828:function(r,b,a){var k,f,h,d;function c(g,m){var l,n,p,q,u,t;l=g.Cy;n=g.rM;g=g.JM;p=m.Cy;q=m.rM;m=m.JM;u=void 0 === l || void 0 === p;t=u || void 0 === n || void 0 === q;return u || l > p || l === p && (t || n > q) || l === p && n === q && (t || void 0 === g || void 0 === m || g >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.kL=b.lL=b.VMb=b.dU=b.jU=void 0;k=a(2467);f=a(13329);h=a(56261);d=a(77878);b.jU=function(g,m,l,n){return c({Cy:g.hTb,rM:g.iTb,JM:g.jTb},{Cy:m,rM:l,JM:n});};b.dU=function(g,m){return c({Cy:g.Jn},{Cy:m});};b.VMb=c;b.lL=function(){return {version:"6.0040.799.911",v7:!0,hL:!0,eka:"browser",JUa:["en-US"],Epa:"",rS:"cadmium",edb:!0,K1:!0};};b.kL=function(){return {HE:(0,d.Sh)([h.vd.mD,h.vd.nD]),mm:(0,d.Sh)([].concat(da(h.ed.wY),da(h.ed.hY),da(h.ed.haa))),cr:(0,d.Sh)([].concat(da(h.ed.gY))),Ul:f.eb.h0,Ey:(0,k.Lb)(31E3)};};},31367:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.gZa=b.fZa=b.hZa=void 0;c=a(77003);k=a(77828);b.hZa=function(f){return Object.assign(Object.assign({},(0,k.lL)()),{Kq:"O",Qn:f.T5?"NFCDOP-AP-":f.cU?"NFCDOP-AT-":f.OL?"NFCDOP-PH-":"NFCDOP-01-",YA:"opera-cadmium"});};b.fZa=function(){return Object.assign(Object.assign({},(0,k.kL)()),{LK:!0,jv:!0,fB:!0,gI:!0});};b.gZa=function(f){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.yl.vI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= f.Jn && (h=Object.assign(Object.assign({},h),{enableVP9:!0}));return h;};},13711:function(r,b,a){var k,f,h,d,g,m;function c(l){var n;n=Object.assign(Object.assign({},(0,m.kL)()),{HE:(0,g.Sh)([d.vd.mD,d.vd.nD,d.vd.cx]),mm:(0,g.Sh)([].concat(da(d.ed.wY),da(d.ed.hY),da(d.ed.Zaa),da(d.ed.$aa),da(d.ed.Waa),da(d.ed.Xaa),da(d.ed.Jza),da(d.ed.Kza),da(d.ed.Lza))),cr:(0,g.Sh)([].concat(da(d.ed.gY),da(d.ed.Yaa),da(d.ed.Vaa))),Ul:h.eb.uhb,Ey:(0,k.Lb)(7E3),aF:[]});(0,m.dU)(l,14) && (n.aF=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BZa=b.AZa=b.FYa=b.CZa=void 0;k=a(2467);f=a(77003);h=a(13329);d=a(56261);g=a(77878);m=a(77828);b.CZa=function(l){return Object.assign(Object.assign({},(0,m.lL)()),{Kq:"S",Qn:l.OL?"NFCDSF-PH-":"NFCDSF-01-",YA:"safari-cadmium"});};b.FYa=function(l){return Object.assign(Object.assign({},c(l)),{K$:!0,NK:!1,Qt:[d.wl.g0]});};b.AZa=c;b.BZa=function(l){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.yl.Cw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,m.dU)(l,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.jU)(l,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.jU)(l,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.jU)(l,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.jU)(l,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,m.dU)(l,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,m.dU)(l,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},97546:function(r,b,a){var d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C;function c(){}function k(D){this.jd=D;}function f(D){var F;F=l.sda.call(this) || this;D.OL?Object.assign(F,(0,y.FYa)(D)):D.Z5?Object.assign(F,(0,w.vYa)(D)):D.Joa?Object.assign(F,(0,v.fZa)()):D.ty || D.gU?Object.assign(F,(0,t.oYa)()):D.lU?Object.assign(F,(0,y.AZa)(D)):Object.assign(F,(0,u.$Xa)(D));return F;}function h(D){this.data=D.Z5?(0,w.xYa)(D):D.Joa?(0,v.hZa)(D):D.ty || D.gU?(0,t.qYa)(D):D.lU?(0,y.CZa)(D):(0,u.bYa)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.xfb=b.wfb=b.vfb=b.ufb=void 0;r=a(70655);d=a(86700);g=a(811);m=a(65350);l=a(62106);n=a(20642);p=a(98757);q=a(62298);u=a(69780);t=a(22861);v=a(31367);w=a(72545);y=a(13711);x=a(92975);A=a(72186);Wa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},v7:{configurable:!0,enumerable:!0,get:function(){return this.data.v7;}},Kq:{configurable:!0,enumerable:!0,get:function(){return this.data.Kq;}},Qn:{configurable:!0,enumerable:!0,get:function(){return this.data.Qn;}},hL:{configurable:!0,enumerable:!0,get:function(){return this.data.hL;}},YA:{configurable:!0,enumerable:!0,get:function(){return this.data.YA;}},eka:{configurable:!0,enumerable:!0,get:function(){return this.data.eka;}},JUa:{configurable:!0,enumerable:!0,get:function(){return this.data.JUa;}},Epa:{configurable:!0,enumerable:!0,get:function(){return this.data.Epa;}},rS:{configurable:!0,enumerable:!0,get:function(){return this.data.rS;}},edb:{configurable:!0,enumerable:!0,get:function(){return this.data.edb;}},K1:{configurable:!0,enumerable:!0,get:function(){return this.data.K1;}}});z=h;z=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.fD))],z);b.ufb=z;ia(f,l.sda);B=f;B=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.fD))],B);b.vfb=B;k.prototype.apply=function(){this.jd.Z5?Object.assign(this,(0,w.wYa)(this.jd)):this.jd.Joa?Object.assign(this,(0,v.gZa)(this.jd)):this.jd.ty || this.jd.gU?Object.assign(this,(0,t.pYa)(this.jd)):this.jd.lU?Object.assign(this,(0,y.BZa)(this.jd)):Object.assign(this,(0,u.aYa)(this.jd));return this;};C=k;C=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.fD))],C);b.wfb=C;c=r.__decorate([(0,d.U)()],c);b.xfb=c;b.platform=new d.Yc(function(D){D(g.yn).to(z).da();D(m.ED).to(B).da();D(p.HIa).to(C).da();D(g.x_).to(c).da();D(q.tda).Vd(function(F){return function(){var G;G=F.hb.get(n.fD);return G.ty || G.gU?{gz:function(E,J,K){return new A.Aea(E,J,K);},request:x.TMa}:G.lU?{gz:function(E,J,K){return new (a(4497))(E,J,K);},request:a(73475)}:{};};});});},25509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.saa={mqb:"adStart",KPa:"adProgress",Lac:"adComplete",nqb:"adStop"};b.Sxa={yA:"adBreakComplete"};b.taa={error:"error",mDb:"exit",icb:"unload"};b.$xa="AdImpressionLoggerrFactorySymbol";},1414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eya="AdManagerFactorySymbol";},63033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CO="AdTrackerBaseSymbol";},27825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oya="AdFocusMonitorSymbol";},63406:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hza="BandwidthMeterFactorySymbol";},38246:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb,Qa,Za,hb,lb,yb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(86700);c=a(51017);k=a(53113);f=a(26277);h=a(63406);d=a(89491);g=a(56281);m=a(8715);l=a(9518);n=a(70858);p=a(17244);q=a(58998);u=a(78616);t=a(89542);v=a(71163);w=a(93091);y=a(21182);x=a(69444);A=a(2467);z=a(87933);B=a(81853);C=a(62155);D=a(45277);F=a(1265);G=a(35054);E=a(2408);J=a(74509);K=a(89682);N=a(50563);I=a(15303);O=a(4988);L=a(69447);H=a(64155);M=a(85643);R=a(53685);Y=a(17);ea=a(33769);ca=a(57046);oa=a(77003);Ga=a(67789);Fa=a(76330);Ja=a(1414);Xa=a(95129);cb=a(35664);W=a(82092);aa=a(25509);Q=a(22141);ka=a(16261);P=a(72170);fa=a(24016);ta=a(27825);pa=a(90657);Ra=a(79426);Pa=a(27334);db=a(65428);wb=a(37565);ob=a(17097);Fb=a(29219);Qa=a(63033);Za=a(7353);hb=a(24104);lb=a(82503);yb=a(27138);b.j=new r.Yc(function(Hb){Hb(L.Bda).to(H.cJa).da();Hb(ca.Fya).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb,Rb){return new (a(29471).zca)(Lb,Rb,Db.get(u.Bw),Db.get(F.PY),Db.get(yb.Haa));};});Hb(c.gMa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac){return new (a(73198).z)(Db.get(z.lMa),Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac);};});Hb(z.lMa).to(B.kMa).da();Hb(k.jMa).to(f.iMa).da();Hb(m.YIa).to(l.XIa).da();Hb(P.WKa).to(fa.VKa).da();Hb(Y.sKa).to(ea.rKa);Hb(Y.qKa).Abb(Y.sKa);Hb(g.iBa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb){return new (a(16994).Lba)(Db.get(F.hBa),Db.get(u.Bw),Db.get(q.Jc),Lb);};});Hb(h.hza).Vd(function(){return function(Jb){return new d.iza(Jb);};});Hb(Ga.Eda).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb){return new Fa.iJa(Lb,Db.get(v.Xa),Db.get(t.Zf));};});Hb(aa.$xa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb){return new Q.aya(Lb,Db.get(v.Xa).Ta("AdImpressionLogger"),Db.get(cb.Fg),Db.get(p.cc),Db.get(q.Jc),Db.get(W.raa),Db.get(W.qaa));};});Hb(ta.oya).to(pa.nya);Hb(Qa.CO).to(wb.gya);Hb(Qa.CO).to(Fb.lya);Hb(Qa.CO).to(Za.pya);Hb(Qa.CO).to(ob.qya);Hb(Ja.eya).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb,Rb){return new Xa.fya(Lb,Rb,Db.get(v.Xa).Ta("AdManager"),Db.get(p.cc),Db.get(P.WKa),Db.getAll(Qa.CO),Db.get(aa.$xa),function(bc){return new ka.dya(bc);},Db.get(ta.oya));};});Hb(w.PIa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb){return new n.QIa(Lb,Db.get(v.Xa),Db.get(p.cc),Db.get(t.Zf),Db.get(u.Bw),Db.get(Ga.Eda));};});Hb(Ra.PEa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb,Rb){return new Pa.QEa(Db.get(p.cc),Db.get(hb.REa),Db.get(db.Gi),Db.get(v.Xa),Lb,Rb);};});Hb(hb.REa).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb){return new lb.SEa(Db.get(p.cc),Db.get(v.Xa),Db.get(J.MD),Lb);};});Hb(y.Dda).Vd(function(Jb){var Db;Db=Jb.hb;return function(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Xd,Yd){return new x.eJa(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Db.get(w.PIa),Db.get(L.Bda),Db.get(Ra.PEa),Xd,Yd);};});Hb(C.QKa).Vd(function(Jb){return function(Db){var Lb,Rb;Lb=Jb.hb.get(p.cc);Rb=Jb.hb.get(v.Xa);return new D.RKa(Lb,Db,Rb);};});Hb(G.$Ia).Vd(function(Jb){return function(Db){var Lb,Rb,bc,Ib,Ob;Lb=Jb.hb.get(I.Ew);Rb=Jb.hb.get(J.MD);bc=Jb.hb.get(K.ph);Ib=Jb.hb.get(N.XP);Ob=Jb.hb.get(oa.Dw);return new E.aJa(Db,Lb,Rb((0,A.Bh)(1)),bc,Ib,Ob);};});Hb(O.Nca).SC(function(Jb){return new (a(68872).yGa)(Jb.hb.get(M.GP),Jb.hb.get(R.sn));}).da();});},56281:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iBa="DiagnosticsFactorySymbol";},79426:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ur={VP:"START_SLATE",mca:"LIVE_EVENT",Dba:"END_SLATE"};b.PEa="LivePlaybackManagerFactorySymbol";},24104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.REa="LivePlaybackRateControllerFactorySymbol";},53073:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},4988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nca="MilestonesEventBuilderSymbol";},93091:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="PlayTimeTrackerFactorySymbol";},8715:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YIa="PlaybackFactorySymbol";},35054:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ia="PlaybackInfoPanelFactorySymbol";},69447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bda="PlaybackMilestoneStoreSymbol";},21182:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dda="PlaybackSegmentDataFactorySymbol";},67789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eda="PlayedSegmentsTrackerFactorySymbol";},17:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sKa="RepositionTraceSymbol";b.qKa="RepositionTraceFactorySymbol";},62155:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QKa="SeekManagerFactorySymbol";},72170:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="SegmentDroppedLoggerSymbol";},84506:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ko=void 0;r=b.Ko || (b.Ko={});r[r.n_=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.tD=2]="LOADED";r[r.qP=3]="LOAD_FAILED";r[r.mHa=4]="PARSE_FAILED";},51017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gMa="TrickPlayFactorySymbol";},53113:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jMa="TrickPlayManagerSymbol";},87933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="TrickPlayParserSymbol";},22141:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t,v,w){this.context=n;this.log=p;this.sa=q;this.config=u;this.Fa=t;this.kqb=v;this.dqb=w;this.ava={};}Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(35664);d=a(2467);g=a(17244);m=a(82092);l=a(25509);c.prototype.AZb=function(n,p){var q,u,t;q=this;u=n.event;if(Object.values(l.Sxa).includes(u)){t=p.qy?p.qy.ba(d.na):-1;n={href:p.W.ri.rL("events").href,la:this.context.la.toString(),event:u,Xu:n.Xu,AE:n.AE,position:n.xh.offset.G,em:t,Qv:{},Kx:this.sa.xH.ba(d.na),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id};this.dqb.Hf(this.log,n).catch(function(v){q.log.error("Failed to send event",{eventKey:u,xid:p.la,error:v});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.BZb=function(n,p,q){var u,t,v;u=this;t=n.event;if(Object.values(l.saa).includes(t)){v=n.W.links.events.href;this.ava[n.em] || (this.ava[n.em]=this.sa.$qb((0,d.Lb)(n.em)).ba(d.na));n={href:v,la:this.context.la.toString(),event:t,Xu:n.Xu,AE:n.AE,position:n.xh.offset.G,em:this.ava[n.em],Qv:n.Qv,Kx:this.sa.xH.ba(d.na),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id,ROb:p,v2b:null !== q && void 0 !== q?q:void 0};this.kqb.Hf(this.log,n).catch(function(w){u.log.error("Failed to send event",{eventKey:t,xid:u.context.la,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,k.l)(h.Fg)),r.__param(3,(0,k.l)(g.cc)),r.__param(4,(0,k.l)(f.Jc)),r.__param(5,(0,k.l)(m.raa)),r.__param(6,(0,k.l)(m.qaa))],a);b.aya=a;},16261:function(r,b){function a(p){this.hf=p;}function c(p){this.padding=p;}function k(p){this.UJ=p;}function f(p){this.xh=p;}function h(p){this.G8=p;}function d(p){this.Ksa=p;}function g(p){this.Jsa=p;}function m(p){this.TJ=p;}function l(p){this.Ty=p;}function n(p){this.Ed=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Eeb=b.ykb=b.Deb=b.Ahb=b.Ikb=b.Jkb=b.Hkb=b.Ceb=b.Gkb=b.dya=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.Ed.wL();if(p)return new l(p);};n.prototype.getAds=function(){return this.Ed.Vla();};n.prototype.getLogInfo=function(){return this.Ed.yHb();};b.dya=n;Wa.Object.defineProperties(l.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Ty.Mc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Ty.zA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Ty.a6a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new h(this.Ty.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Ty.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ty.index;}}});b.Gkb=l;Wa.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new k(this.TJ.UJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.TJ.c$);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.TJ.HS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.TJ.fKb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.TJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.TJ.g8.G};}}});b.Ceb=m;Wa.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.Jsa.hf);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Jsa.KPa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Jsa.index;}}});b.Hkb=g;Wa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Ksa.Qra;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Ksa.xTb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ksa.g8.G};}}});b.Jkb=d;Wa.Object.defineProperties(h.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.G8.gqb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.G8.eqb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.G8.iqb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.G8.hqb.G};}}});b.Ikb=h;Wa.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.xh.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.xh.offset.G};}}});b.Ahb=f;Wa.Object.defineProperties(k.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.UJ.Ze.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.UJ.duration.G};}}});b.Deb=k;Wa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.ykb=c;Wa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.hf.Uq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.hf.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.hf.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.hf.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.hf.ft;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.hf.VN;}}});b.Eeb=a;},95129:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u,t,v,w,y){var x;x=this;this.$a=l;this.j=n;this.log=p;this.config=q;this.nZb=u;this.ibb=t;this.Cl=new k.Hb(!1);this.Eb=new g.Xj();this.tRa=!1;this.rV=function(){x.tRa=!0;m.fe.removeListener(m.Qk,x.rV);};this.ICb=w(this);l=l.Vn();this.Yu=v({la:n.la.toString()});v=null === l || void 0 === l?void 0:l.I6a.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;x.DWa();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(){!1;y.tM(n);x.Cl.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;x.Cl.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(A){var z;!1;z=x.j.ii(A.segmentId);x.nZb.aWb(A,z);});this.Pp=new h.SP();this.j.addEventListener("playbackStart",function(){x.Pp.resolve();});v=null === l || void 0 === l?void 0:l.Wna.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(A){x.Pp.promise.then(function(){var z,B,C;A.event === f.saa.mqb && A.ft && x.ibb.forEach(function(D){return D.start(x.j);});B=null === (z=n.W) || void 0 === z?void 0:z.Ga.Kf;z=x.fJb(A);if(A.event === f.saa.nqb && z){C=x.tRa?f.taa.icb:n.vh?f.taa.error:f.taa.mDb;z=Object.assign(Object.assign({},z),{reason:C});}x.Yu.BZb(A,B,z);});});m.fe.addListener(m.Qk,this.rV);null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(A){A.event === f.Sxa.yA && x.Eb.Cc(d.nY.yA);x.Pp.promise.then(function(){x.Yu.AZb(A,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.fya=void 0;k=a(14414);f=a(25509);h=a(86684);d=a(34202);g=a(59883);m=a(25892);c.prototype.addEventListener=function(l,n,p){this.Eb.addListener(l,n,p);};c.prototype.removeEventListener=function(l,n){this.Eb.removeListener(l,n);};c.prototype.wL=function(){var l,n;return null === (n=null === (l=this.$a) || void 0 === l?void 0:l.Vn()) || void 0 === n?void 0:n.TM.Ty;};c.prototype.yHb=function(){var l,n,p,q;p=this.wL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (l=null === p || void 0 === p?void 0:p.zA) || void 0 === l?void 0:l.hf.endTime.G,adIndex:null === (n=p.zA) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Mc.duration.G};(l=p.a6a) && (q.padding={type:l.Qra,duration:l.g8.G});return q;}};c.prototype.Vla=function(){var l,n,p,q,u;q=this.j.aa.O.toString();u=null === (n=null === (l=this.$a) || void 0 === l?void 0:l.Vn()) || void 0 === n?void 0:n.I6a.Vla({xdb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.DWa=function(){};c.prototype.fJb=function(l){var n;if(l.ft){n=this.ibb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.d5(l));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:l.VN});}};b.fya=c;},37565:function(r,b,a){var k,f,h,d,g;function c(m,l){var n;n=g.Ek.call(this) || this;n.Fa=m;n.paused=!1;n.Fq=function(){var p,q,u;u=n.Ed.wL();n.Ed.Cl.value && null !== (p=null === u || void 0 === u?void 0:u.zA) && void 0 !== p && p.hf.ft?(p=null === (q=u.zA) || void 0 === q?void 0:q.hf.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.k8=n.Fa.Fb(),n.rR=u.position.offset.G,n.ja.debug("Ad " + p + " paused at " + n.rR + " ms into the ad")):void 0 !== n.k8 && void 0 !== n.rR && (u=n.Fa.Fb().wa(n.k8).ba(d.na),n.ja.debug("Ad " + p + " resumed. Pause duration: " + u),n.trace.push([n.rR,u]),n.rR=void 0,n.k8=void 0))):n.unsubscribe();};n.ja=l.Ta("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(71163);d=a(2467);g=a(14225);ia(c,g.Ek);c.prototype.start=function(m){g.Ek.prototype.start.call(this,m);this.Av || (this.j.paused.addListener(this.Fq),this.Av=!0);};c.prototype.d5=function(){return {pauseTrace:this.trace};};c.prototype.yW=function(){this.rR=void 0;this.paused=this.j.paused.value;this.k8=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.Ek.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Fq);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(h.Xa))],a);b.gya=a;},29219:function(r,b,a){var k,f,h,d,g;function c(m,l){var n;n=g.Ek.call(this) || this;n.Lja=l;n.qYb=function(){0 === n.trace.length?n.Fq():n.Vka.Oj(function(){n.Fq();});};n.Fq=function(){var p,q,u,t;q=n.Ed.wL();if(n.Ed.Cl.value && null !== (p=null === q || void 0 === q?void 0:q.zA) && void 0 !== p && p.hf.ft){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.G && n.trace.pop();p=n.trace[n.trace.length - 1];u=n.j.xk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && n.trace.push([q.position.offset.G,u,t]);}else n.unsubscribe();};n.ja=m.Ta("AdResizeTracker");n.Vka=l((0,d.Bh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;r=a(70655);k=a(86700);f=a(40781);h=a(71163);d=a(2467);g=a(14225);ia(c,g.Ek);c.prototype.start=function(m){g.Ek.prototype.start.call(this,m);this.Av || (this.o5a=new ResizeObserver(this.qYb),this.o5a.observe(this.j.xk),this.Av=!0);};c.prototype.d5=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.yW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var m;g.Ek.prototype.unsubscribe.call(this);null === (m=this.o5a) || void 0 === m?void 0:m.disconnect();};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(f.OY))],a);b.lya=a;},14225:function(r,b){function a(){var c;c=this;this.Av=!1;this.trace=[];this.f3=function(){c.Vka.Oj(function(){c.Fq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.Ek=void 0;a.prototype.start=function(c){var k;k=this;this.j=c;this.Ed=this.j.Vn();this.Av || (this.Ed.Cl.addListener(this.Fq),this.j.addEventListener("closing",function(){return k.unsubscribe();}));this.yW();};a.prototype.unsubscribe=function(){this.Ed.Cl.removeListener(this.Fq);this.Av=!1;this.yW();};b.Ek=a;},90657:function(r,b,a){var k,f;function c(h){var d;d=this;this.SE=function(){var g,m,l;m=!document.hidden;l=null === (g=d.j.Vn()) || void 0 === g?void 0:g.Cl.value;g=d.j.paused.value;m || !l || g || (d.ja.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{yM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.SE);d.j.Vn().Cl.removeListener(d.SE);d.j.paused.removeListener(d.SE);};this.ja=h.Ta("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.nya=void 0;r=a(70655);k=a(86700);a=a(71163);c.prototype.tM=function(h){this.JQb || (this.ja.debug("Starting to monitor playback for visibility"),this.j=h,this.JQb=!0,document.addEventListener("visibilitychange",this.SE),this.j.Vn().Cl.addListener(this.SE),this.j.paused.addListener(this.SE),this.j.addEventListener("closing",this.unsubscribe),this.SE());};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Xa))],f);b.nya=f;},7353:function(r,b,a){var k,f,h;function c(d){var g;g=h.Ek.call(this) || this;g.jqa=0;g.lUa=[0];g.AG=[0];g.visibility=0;g.Fq=function(){var m,l;l=g.Ed.wL();g.Ed.Cl.value && null !== (m=null === l || void 0 === l?void 0:l.zA) && void 0 !== m && m.hf.ft?(m=g.visibility,g.visibility=document.hidden?0:1,m !== g.visibility && (1 === g.visibility?(g.jqa=g.visibility,g.U6=l.position.offset.G):(l=l.position.offset.G - (g.U6 || 0),l > g.AG[0] && (g.AG[0]=l),g.U6=void 0))):g.unsubscribe();};g.ja=d.Ta("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.pya=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(14225);ia(c,h.Ek);c.prototype.start=function(d){h.Ek.prototype.start.call(this,d);this.Av || (document.addEventListener("visibilitychange",this.Fq),this.Av=!0);};c.prototype.d5=function(d){var g,m,l;m=this.j.xk.getBoundingClientRect();l=m.height;m=m.width;"adStart" === d.event && (l=0 === l?document.documentElement.clientHeight:l,m=0 === m?document.documentElement.clientWidth:m);d=d.xh.offset.G - (null !== (g=this.U6) && void 0 !== g?g:0);d > this.AG[0] && (this.AG[0]=d);g=document.fullscreenElement?!0:screen.height === pb.outerHeight && screen.width === pb.outerWidth;this.lUa=this.AG;return {cumulativeTimeByVisibilityMs:this.lUa,maxContinuousTimeByVisibilityMs:this.AG,visibility:this.visibility,maxVisibility:this.jqa,screenHeight:screen.height,screenWidth:screen.width,adHeight:l,adWidth:m,fullScreen:g};};c.prototype.yW=function(){this.U6=void 0;this.AG=[0];this.jqa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){h.Ek.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Fq);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa))],a);b.pya=a;},17097:function(r,b,a){var k,f,h,d,g;function c(m,l){var n;n=g.Ek.call(this) || this;n.If=m;n.Lja=l;n.Fq=function(){var p,q;q=n.Ed.wL();n.Ed.Cl.value && null !== (p=null === q || void 0 === q?void 0:q.zA) && void 0 !== p && p.hf.ft?(p=n.trace[n.trace.length - 1],q=q.position.offset.G,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.Ija || n.trace.push([q,n.j.Ija])):n.unsubscribe();};n.ja=m.Ta("AdVolumeTracker");n.Vka=l((0,d.Bh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.qya=void 0;r=a(70655);k=a(86700);f=a(40781);h=a(71163);d=a(2467);g=a(14225);ia(c,g.Ek);c.prototype.start=function(m){g.Ek.prototype.start.call(this,m);this.Av || (this.j.volume.addListener(this.f3),this.j.muted.addListener(this.f3),this.Av=!0);};c.prototype.d5=function(){return {volumeChangeTrace:this.trace,volume:this.j.Ija};};c.prototype.yW=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.Ek.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.f3);this.j.muted.removeListener(this.f3);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(f.OY))],a);b.qya=a;},89491:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;a.prototype.Fcb=function(){var c;c=this.j.$a;if(null !== c && void 0 !== c && c.ix){c=c.Sd.get();if(null === c || void 0 === c?0:c.el)this.j.el=c.el.Ea;if(null === c || void 0 === c?0:c.sb)this.j.sb=c.sb.Ea;}};a.prototype.Xm=function(){-1 === this.j.sb && this.Fcb();return this.j.sb;};a.prototype.Xtb=function(c){-1 !== this.j.el && -1 !== this.j.sb || this.Fcb();return -1 === this.j.el || -1 === this.j.sb?Number.MAX_VALUE:this.j.el + 8 * c / this.j.sb;};b.iza=a;},49007:function(r,b,a){var f,h,d,g,m,l,n,p;function c(q){this.j=q;this.p2a=!1;this.log=(0,h.Nh)(this.j,"Playback");this.bM=h.Aa.get(n.rP);(0,d.oa)(f.config);f.config.Mr || (this.tBb=h.Aa.get(g.qBa));}function k(q,u){var v;function t(w){return w && 0 < w.length && w[0].wG;}v=h.Aa.get(n.rP);return q.la && t(q.ie)?v.release({la:q.la,ie:q.ie}).then(function(){}):u.la && t(u.ie)?v.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.$y=b.AAa=void 0;f=a(37986);h=a(89082);d=a(70633);g=a(69557);m=a(3971);l=a(95919);n=a(84036);p=a(34202);c.prototype.NF=function(q){var u;u=this;return new Promise(function(t,v){var w,y,x;w=m.qm.CTa(q.rf);y=q.yj.map(function(A){return {sessionId:A.sessionId,dataBase64:(0,h.Cx)(A.data)};});x=u.j.jIb(q.yj[0].sessionId);u.bM.Wu({Kf:x.Kf,rf:l.is.Cm(q.rf)?q.rf:w,C3:[x.Nk],yj:y,la:x.la,Qm:q.Qm,ri:x.W.ri,ig:x.W.Ga.ig}).then(function(A){u.j.ie=A.ie;t(A);u.uEb(x);}).catch(v);});};c.prototype.release=function(q){return k(this.j,q);};c.prototype.JTa=function(){var q;q=this.tBb.create();q.ie=this.j.ie;q.la=this.j.la;q.O=this.j.O;return q;};c.prototype.uEb=function(q){this.p2a || (this.p2a=!0,this.j.fireEvent(p.ea.yU,{O:q.O}));};b.AAa=c;b.$y=k;},16994:function(r,b,a){var k;function c(f,h,d,g){this.fka=f;this.debug=h;this.Fa=d;this.j=g;this.h8=[];this.t7={};this.gka={};this.wla=!1;this.dbb=1;this.dza=7.8125;}b.Lba=void 0;k=a(2467);a(34202);a(95919);a(89927);c.prototype.register=function(f,h){this.debug.assert(!(0 <= this.h8.indexOf(f)),"panel already registered");this.t7[f]=h;this.h8.push(f);};c.prototype.d5a=function(f){var h;h=this;this.gka[f]=!0;this.wla || (this.wla=!0,setTimeout(function(){return h.xEb();},0));};c.prototype.MHb=function(f){return (f=this.t7[f])?f():void 0;};c.prototype.pT=function(){var f;f=this.j.p8;return f?f.pT():[];};c.prototype.addEventListener=function(f,h){this.fka.addListener(f,h);this.t7[f] && this.d5a(f);};c.prototype.removeEventListener=function(f,h){this.fka.removeListener(f,h);};c.prototype.getTime=function(){return this.Fa.Fb().ba(k.na);};c.prototype.xEb=function(){this.wla=!1;for(var f=this.h8.length,h;f--;){h=this.h8[f];this.gka[h] && (this.gka[h]=!1,this.fka.Cc(h + "changed",{getModel:this.t7[h]}));}};b.Lba=c;},27334:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u,t){var v,w,y,x;v=this;this.config=l;this.wc=p;this.u=u;this.j=t;this.LL=new m.Hb(!1);this.xha=new m.Hb(!1);this.Ml=this.hi=void 0;this.yva=!1;this.AF=void 0;this.log=q.Ta("LivePlaybackManager");this.AF=this.config().MEb;w=this.config().a1b;y=this.config().mOb;this.yva=(0,h.rb)(w) && (0,h.rb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ea.Yk,function(){var A,z,B,C;if(v.ha){(0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on playbackReady");B=null === (z=null === (A=v.j.W) || void 0 === A?void 0:A.Ga.f1b) || void 0 === z?void 0:z.u1b.enableLivePlaybackRateDriftCorrection;if("true" === B || "false" !== B && v.config().hCb)v.E6a=n(function(D){(0,f.oa)(v.ha && v.j && v.j.aa === v.u,"Unexpected playback segment on playback rate update");v.u.playbackRate.value !== D && (v.u.playbackRate.set(D),v.j.fireEvent(d.ea.YB));});if(v.yva){C=v.Qq();x=v.wc.wN((0,k.Lb)(500),function(){var D,F,G,E;D=v.Qq();G=C + w;D >= G - 500 && (F=v.oja(G));G=C + w + y;if(D >= G - 500){E=v.oja(G);null === x || void 0 === x?void 0:x.cancel();}v.fva(F,E,!0);});}}});null === t || void 0 === t?void 0:t.addEventListener(d.ea.ug,function(){var A;v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on closing"),v.E6a=void 0,null === (A=v.zU) || void 0 === A?void 0:A.cancel(),v.zU=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ea.EC,function(A){v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on repositioning"),A.cause !== d.Vc.Tr && v.LL.set(A.cause === d.Vc.pP && !v.j1a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ea.cdb,function(){v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on userInitiatedPause"),v.LL.set(!1));});null === t || void 0 === t?void 0:t.Ah.addListener(function(){v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on playing update"),v.j.Ah.value && v.kXa());});null === t || void 0 === t?void 0:t.background.addListener(function(){var A;v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on background update"),!v.j.background.value && v.MT() && void 0 === v.AF && (v.d6()?null === (A=v.j.je) || void 0 === A?void 0:A.seek(v.hi,d.Vc.Yw):v.z9()));});this.u.mediaTime.addListener(function(A){var z,B;if(v.ha){(0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on mediaTime update");v.x2();B=v.rB(A.oldValue);A=v.rB(A.newValue);B !== A && (!1,v.j.fireEvent(d.ea.YB));B=v.Qq();void 0 !== v.hi && void 0 !== B && v.hi < B && v.kXa();null === (z=v.E6a) || void 0 === z?void 0:z.jO(v.j.Ah.value && v.MT(),v.u.mediaTime.value,v.Qq());}});this.LL.addListener(function(){(0,f.oa)(v.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ha);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");v.x2();});this.xha.addListener(function(){(0,f.oa)(v.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ha);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");!1;v.j.fireEvent(d.ea.YB);});}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;k=a(2467);f=a(70633);h=a(95919);d=a(34202);g=a(79426);m=a(14414);c.prototype.b0b=function(){var l,n,p;(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null !== (p=null === (n=null === (l=this.u.W) || void 0 === l?void 0:l.Ga.Ej) || void 0 === n?void 0:n.WAb) && void 0 !== p?p:!1;};c.prototype.SVb=function(){var l;(0,f.oa)(this.ha,"Unexpected call to processManifest(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (l=this.u.W) || void 0 === l?void 0:l.Ga.Ej,"Live manifest is unavailable.");l=this.u.W.Ga.Ej;this.fva(l.Zka,l.T3);l=this.config().OEb;void 0 !== l && void 0 !== this.hi && (this.AF=this.hi + l);};c.prototype.fva=function(l,n,p){var q,u,t,v,w,y,x;q=this;(0,f.oa)(this.ha,"Unexpected call to setLiveEventTimes(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(!this.yva || p){w=this.j;p=this.hi;y=this.Ml;x=null !== (u=this.BTa(l)) && void 0 !== u?u:p;u=null !== (t=this.BTa(n)) && void 0 !== t?t:y;if(void 0 === x && void 0 === u || void 0 !== x && 0 <= x && void 0 === u || void 0 !== x && 0 <= x && void 0 !== u && u > x){this.hi=x;this.Ml=u;if(p !== this.hi || y !== this.Ml)(!1,w.fireEvent(d.ea.YB));this.d6()?(null === (v=this.zU) || void 0 === v?void 0:v.cancel(),this.zU=void 0):this.zU || (this.zU=this.wc.wN((0,k.Lb)(1E3),function(){q.x2();w.fireEvent(d.ea.YB);}));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (l + ", startPts:") + (x + ", endTime:") + (n + ", endPts:") + u);}};c.prototype.QGb=function(){var l;(0,f.oa)(this.ha,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=this.u.mediaTime.value;if(void 0 !== l)return this.oja(l);};c.prototype.f5=function(){var l;(0,f.oa)(this.ha,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=this.u.mediaTime.value;if(void 0 !== l)switch(this.rB(l)){case g.Ur.VP:return 0;case g.Ur.mca:return ((0,f.oa)(void 0 !== this.hi,"eventStartPts should be defined in LIVE_EVENT slate."),l - this.hi);case g.Ur.Dba:return ((0,f.oa)(void 0 !== this.hi && void 0 !== this.Ml,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ml - this.hi);}};c.prototype.g9a=function(l){var n,p;(0,f.oa)(this.ha,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 === this.hi?null !== (p=null !== (n=this.Qq()) && void 0 !== n?n:this.u.mediaTime.value) && void 0 !== p?p:l:this.hi + l;};c.prototype.w1a=function(l){var n;(0,f.oa)(this.ha,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");n=this.Qq();return void 0 !== n && l >= n - this.config().cOb;};c.prototype.Cma=function(l,n){var p,q;(0,f.oa)(this.ha,"Unexpected call to getLiveBookmark(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(void 0 !== this.AF)return {Fl:this.AF,uC:Number.MAX_SAFE_INTEGER,IUa:this.AF};n || void 0 === this.hi || void 0 === this.Ml && 0 === l?(this.LL.set(!0),l=36E7):(l=this.hi + l,void 0 !== this.Ml && l > this.Ml && (l=this.hi));return {Fl:l,uC:null !== (p=this.Ml) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,IUa:null !== (q=this.hi) && void 0 !== q?q:36E7};};c.prototype.QYa=function(){var l;(0,f.oa)(this.ha,"Unexpected call to getLiveContentDuration(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=this.LB()?this.u.mediaTime.value:this.Qq();l=void 0 !== this.Ml && void 0 !== l?Math.min(this.Ml,l):l;l=void 0 !== l && void 0 !== this.hi?l - this.hi:0;!1;return l;};c.prototype.FHb=function(){var l;(0,f.oa)(this.ha,"Unexpected call to getMaxSeekPts(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=this.Qq();l=void 0 !== this.Ml && void 0 !== l?Math.min(this.Ml,l):l;!1;return null !== l && void 0 !== l?l:0;};c.prototype.Qq=function(){var l,n;(0,f.oa)(this.ha,"Unexpected call to getLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null === (n=null === (l=this.j.$a) || void 0 === l?void 0:l.qB(this.u.I)) || void 0 === n?void 0:n.G;};c.prototype.z9=function(){var l;(0,f.oa)(this.ha,"Unexpected call to seekToLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.LL.set(!this.j1a());if(this.j.je){l=this.Qq();void 0 !== l?this.j.je.seek(l,d.Vc.pP,this.u.I):!1;}else this.u.Fl=this.Cma(0,!0).Fl;};c.prototype.LB=function(){(0,f.oa)(this.ha,"Unexpected call to isAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.x2();return this.xha.value;};c.prototype.MT=function(){(0,f.oa)(this.ha,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.LL.value;};c.prototype.rB=function(l){var n,p,q;(0,f.oa)(this.ha,"Unexpected call to getLiveEventState(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=null !== (n=null !== l && void 0 !== l?l:this.u.mediaTime.value) && void 0 !== n?n:0;n=null !== (p=this.hi) && void 0 !== p?p:Infinity;p=null !== (q=this.Ml) && void 0 !== q?q:Infinity;return l < n?g.Ur.VP:l > p?g.Ur.Dba:g.Ur.mca;};c.prototype.d6=function(){var l;(0,f.oa)(this.ha,"Unexpected call to isLiveEventEnded(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");l=this.Qq();return void 0 !== this.Ml && void 0 !== l && this.Ml < l;};c.prototype.j1a=function(){var l;(0,f.oa)(this.ha,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (l=this.j.paused.Mh) || void 0 === l?0:l.yM);};c.prototype.kXa=function(){this.LB() || this.rB() !== g.Ur.VP || void 0 !== this.AF || this.z9();};c.prototype.x2=function(){var l;(0,f.oa)(this.ha,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.xha.set(this.MT() && this.w1a(null !== (l=this.u.mediaTime.value) && void 0 !== l?l:0));};c.prototype.oja=function(l){var n,p;(0,f.oa)(this.ha,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Ga.Ej,"Live manifest is unavailable.");n=this.u.W.Ga.Ej;p=new Date(n.Oua[n.mka[this.u.W.Ga.Xt[0].streams[0].Pm]].m2).getTime();return new Date(p - n.S3 + l).toISOString();};c.prototype.BTa=function(l){var n,p,q;(0,f.oa)(this.ha,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Ga.Ej,"Live manifest is unavailable.");if(l){n=this.u.W.Ga.Ej;p=n.Oua[n.mka[this.u.W.Ga.Xt[0].streams[0].Pm]];q=new Date(l).getTime() + n.S3 - new Date(p.m2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (l + ", eventAvailabilityOffsetMs:") + (n.S3 + ", availabilityStartTime:") + p.m2);else return q;}};Wa.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){var l,n;l=this.u;n=l.W;return n?(l=n.Ga,n=l.Ej,"LIVE" === l.ig && !!n):"live" === l.ud;}}});b.QEa=c;},82503:function(r,b,a){var k,f;function c(h,d,g,m){this.config=h;this.M9=m;this.log=d.Ta("LivePlaybackRateController");this.w2b=g((0,k.Lb)(this.config().hOb));}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;k=a(2467);f=a(19591);c.prototype.jO=function(h,d,g){var m,l;m=this;if(!h || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().iOb)l=1;else (h=g - d,h=1 + this.config().gOb / 1E3 * h,l=(0,f.Sw)(h,this.config().kOb,this.config().jOb));this.w2b.Oj(function(){!1;m.M9(l);});};b.SEa=c;},6686:function(r,b,a){var d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N;function c(){this.z$=[];this.c3b=50;}function k(I){var O;O=this;this.j=I;this.Edb=Promise.resolve();this.RBa=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.rE=[];this.ak=new l.Xj();this.nNa=0;this.q0=[];this.Ii=(0,q.Nh)(this.j,"MediaElementASE");this.YOa=g.Rw;this.Wea=!1;this.Sb=new c();this.In={};this.KNa={};this.F4=this.r0(function(){var L;if(O.$)return null !== (L=O.$.webkitDecodedFrameCount) && void 0 !== L?L:0;});this.vv=this.r0(function(){var L;if(O.$){L=O.pfa();return L?L.totalVideoFrames:O.$.webkitDecodedFrameCount;}});this.JF=this.r0(function(){var L;if(O.$){L=O.pfa();return L?L.droppedVideoFrames:O.$.webkitDroppedFrameCount;}});this.lT=this.r0(function(){var L;if(O.$){L=O.pfa();return L && L.corruptedVideoFrames;}});this.dOa=function(L){!1;O.ak.Cc(C.kj.o2a,{J:L});};this.Sk=q.Aa.get(B.LEa).create(m.config.Mr,this,this.j);m.config.WB && (this.Edb=new Promise(function(L){O.YOa=L;O.j.addEventListener(G.ea.ug,L);}));this.Ii.trace("Created Media Element");this.addEventListener=this.ak.addListener;this.removeEventListener=this.ak.removeListener;}function f(I){var O,L;O=q.Aa.get(D.SMa).zIb();I=I.width / I.height * O.height;L=(O.width - I) / 2;return m.config.H_b?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + O.height + "px;left:" + L + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function h(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;d=a(31978);g=a(7942);m=a(37986);l=a(59883);n=a(25892);p=a(24133);q=a(89082);u=a(68172);t=a(70633);v=a(19591);w=a(81291);y=a(30818);x=a(25420);A=a(50876);z=a(95919);B=a(55463);C=a(99230);D=a(80911);F=a(2467);G=a(34202);E=a(3971);J=a(85060);K=a(18920);N=!!(A.Rz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);k.prototype.mL=function(I){try{this.$ && (this.nNa=this.$.currentTime);}catch(O){this.Ii.error("Exception while getting VIDEO.currentTime",O);I && this.pQ(u.V.okb,O);}return (0,A.vn)(this.nNa * g.Vr);};k.prototype.seek=function(I){var O;(0,t.oa)(!this.Zo);this.QOa();O=this.mL(!0);if(!m.config.mrb && (0,A.e_)(O - I) <= this.E9a)(this.Ii.trace("Seek delta too small",{currentTime:O,seekTime:I,min:this.E9a}),this.Sb.trace("smallseek",I));else {this.Sb.trace("seek",I);try{this.Ii.trace("Setting video elements currentTime",{From:(0,v.oh)(O),To:(0,v.oh)(I)});this.Zo={};this.$.currentTime=I / g.Vr;this.ak.Cc(C.kj.On);}catch(L){this.Ii.error("Exception while setting VIDEO.currentTime",L);this.pQ(u.V.pkb,L);}}};k.prototype.EZa=function(){return !!this.Zo;};k.prototype.addSourceBuffer=function(I){var O;try{O=new d.Kca(this.j,I,this.Ji,this.Ii);this.rE.push(O);I == g.zP && O.Ala && O.Ala.addListener(this.YOa);return O;}catch(L){O=(0,y.ve)(L);this.Ii.error("Unable to add source buffer.",{error:O});this.j.kd(u.V.fda,{za:I === K.v.ga?u.R.Fca:u.R.Gca,Kb:O});}};k.prototype.Tga=function(I){var O;O=this;I.forEach(function(L){return O.addSourceBuffer(L);});this.ak.Cc(C.kj.Z$a);return !0;};k.prototype.removeSourceBuffer=function(I){this.rE=this.rE.filter(function(O){return !(0,p.cTa)(I,O);});this.Ji.removeSourceBuffer(I);};k.prototype.endOfStream=function(){this.Sb.trace("endofstream");!1;m.config.nia && this.Ji.endOfStream();};k.prototype.Ls=function(I){!1;this.rE=[];I && I.Cec();return !0;};k.prototype.ZYa=function(){if(this.Ji)return (0,F.Z6a)(this.Ji.duration);};k.prototype.PAb=function(){var I;if(!this.Wea && this.$ && this.$.readyState >= E.qm.gP.HAVE_CURRENT_DATA){I=this.$.webkitDecodedFrameCount;if(void 0 === I || 0 < I || m.config.Q5b)this.Wea=!0;}return this.Wea;};k.prototype.open=function(){var I,O,L;I=this;this.$=f(this.j.YC.value);this.sourceBuffers=this.rE;this.j.addEventListener(G.ea.L$a,function(H){return I.sob(H);});if(N){this.j.nG && !m.config.Rcb && this.Sk.X7();try{this.Ji=new A.Rz();}catch(H){this.pQ(u.V.fkb,H);return;}try{this.rh=URL.createObjectURL(this.Ji);}catch(H){this.pQ(u.V.gkb,H);return;}try{this.Sk.zqb(this.dOa);this.Ji.addEventListener("sourceopen",function(H){return I.yOa(H);});this.Ji.addEventListener(this.RBa + "sourceopen",function(H){return I.yOa(H);});this.$.addEventListener("error",this.In.error=function(H){return I.OQ(H);});this.$.addEventListener("seeking",this.In.seeking=function(){return I.rob();});this.$.addEventListener("seeked",this.In.seeked=function(){return I.qob();});this.$.addEventListener("timeupdate",this.In.timeupdate=function(){return I.uob();});this.$.addEventListener("loadstart",this.In.loadstart=function(){return I.Rfa();});this.$.addEventListener("volumechange",this.In.volumechange=function(H){return I.vob(H);});this.$.addEventListener(this.Sk.jC,this.In[this.Sk.jC]=function(){I.Ii.trace(I.Sk.jC);I.oob();});O=this.j.xk;L=O.lastChild;L?O.insertBefore(this.$,L):O.appendChild(this.$);m.config.cVa && this.$.addEventListener("contextmenu",h);this.$.src=this.rh;n.fe.addListener(n.Sq,this.KNa[n.Sq]=function(){return I.xOa();});this.xOa();}catch(H){this.pQ(u.V.hkb,H);}}else this.m0(u.V.BHa);};k.prototype.close=function(){var O;function I(){O.rh && (O.QOa(),n.fe.removeListener(n.Sq,O.KNa[n.Sq]),O.rmb());}O=this;this.Sb.trace("close");this.$.removeEventListener(this.Sk.jC,this.In[this.Sk.jC]);this.$.removeEventListener("error",this.In.error);this.$.removeEventListener("seeking",this.In.seeking);this.$.removeEventListener("seeked",this.In.seeked);this.$.removeEventListener("timeupdate",this.In.timeupdate);this.$.removeEventListener("loadstart",this.In.loadstart);this.$.removeEventListener("volumechange",this.In.volumechange);this.Sk.HXb(this.dOa);m.config.Mr?this.Sk.$y().then(function(){return I();}):I();this.Sk.F8a && clearTimeout(this.Sk.F8a);};k.prototype.uB=function(){return this.Sb.uB();};k.prototype.oob=function(){m.config.Rcb && this.Sk.X7();};k.prototype.pfa=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};k.prototype.kpb=function(){var I;I=this.j.vh;return (I=I && I.errorCode) && 0 <= [u.V.s_,u.V.YZ].indexOf(I);};k.prototype.rmb=function(){var I;I=!1;m.config.AVb && this.kpb() && (I=!0);m.config.xvb && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.rh);m.config.cVa && this.$.removeEventListener("contextmenu",h);!I && this.$ && this.j.xk.removeChild(this.$);this.$=this.Ji=void 0;this.rh="";};k.prototype.xOa=function(){!0 === A.Og.hidden?this.q0.forEach(function(I){I.refresh();I.S0b();}):this.q0.forEach(function(I){I.refresh();I.h1b();});};k.prototype.r0=function(I){var O;O=q.Aa.get(w.iHa)(I);this.q0.push(O);return function(){O.refresh();return O.tGb();};};k.prototype.pQ=function(I,O){var L,H;L={za:u.R.ql,Kb:(0,y.ve)(O)};try{(H=O.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == H.length && (L.De=H);}catch(M){}this.j.kd(I,L);};k.prototype.QOa=function(){this.q0.forEach(function(I){I.refresh();});};k.prototype.bnb=function(){return this.$ && this.$.msGraphicsTrustStatus;};k.prototype.m0=function(I,O){this.j.kd(I,O,void 0);};k.prototype.sob=function(I){var O,H,M,R,Y,ea,ca;if(this.$){I=I.T$;O=this.bnb();O && (I.ConstrictionActive=O.constrictionActive,I.Status=O.status);try{I.readyState="" + this.$.readyState;I.currentTime="" + this.$.currentTime;I.pbRate="" + this.$.playbackRate;}catch(oa){}O=this.rE.length;for(var L;O--;){L=this.rE[O];H="";L.type == g.d_?H="audio":L.type == g.zP && (H="video");(0,y.Rd)(I,L.x4(),{prefix:H});}this.Ji && (O=this.Ji.duration) && !isNaN(O) && (I.duration=O.toFixed(4));if(m.config.DOb)try{M=this.j.ee;R=M && M.Ab;if(R){Y=R.expiration;isNaN(Y) || (I.exp=Y);ea=R.keyStatuses.entries();if(ea.next){ca=ea.next().value;ca && (I.keyStatus=ca[1]);}}}catch(oa){}}};k.prototype.yOa=function(I){!1;this.npb || (this.npb=!0,this.ak.Cc(C.kj.aab,I));};k.prototype.rob=function(){this.Sb.trace("seeking");this.Ii.trace("Video element event: seeking");this.Zo?this.Zo.PRb=!0:(this.Ii.error("unexpected seeking event"),m.config.KDb && this.m0(u.V.ukb,{Kb:{Trace:this.uB()}}));};k.prototype.qob=function(){this.Sb.trace("seeked");this.Ii.trace("Video element event: seeked");this.Zo?((0,t.oa)(this.Zo.PRb),this.Zo.ORb=!0,this.vPa()):(this.Ii.error("unexpected seeked event"),m.config.JDb && this.m0(u.V.tkb,{Kb:{Trace:this.uB()}}));};k.prototype.uob=function(){var I;this.Sb.trace("timeupdate",null === (I=this.$) || void 0 === I?void 0:I.currentTime);!1;this.Zo && (this.Zo.RRb=!0,this.vPa());this.ak.Cc(C.kj.On);};k.prototype.Rfa=function(){this.Ii.trace("Video element event: loadstart");};k.prototype.vob=function(I){this.Ii.trace("Video element event:",I.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(O){this.Ii.error("error updating volume",O);}};k.prototype.OQ=function(I){var O,L,H,M,R,Y,ea,ca;O=this.m0;L=u.V.AHa;H=u.hCa;M=this.uB();R=I.target;Y=R && R.error;ea=I.errorCode;R=Y && Y.code;(0,z.Qc)(R) || (R=ea && ea.code);ea=Y && Y.message;ca=Y && Y.msExtendedCode;(0,z.Qc)(ca) || (ca=Y && Y.systemCode);(0,z.Qc)(ca) || (ca=I.systemCode);(0,z.Qc)(ca) || (ca=(0,J.Nma)(ea));I=(0,y.Rd)({},{code:R,systemCode:ca,trace:JSON.stringify(M)},{b8:!0});H={za:H(R),Kb:(0,x.Rpa)(I)};try{ea && (H.XU=ea);}catch(oa){}ca=(0,y.bj)(ca);(0,z.rb)(ca) && (H.De=(0,q.Nha)(ca,4));O.call(this,L,H);};k.prototype.vPa=function(){this.Zo && this.Zo.ORb && this.Zo.RRb && (this.Sb.trace("seekcomplete"),this.Zo=void 0,this.ak.Cc(C.kj.FW));};Wa.Object.defineProperties(k.prototype,{E9a:{configurable:!0,enumerable:!0,get:function(){return m.config.B0b;}}});b.aGa=k;c.prototype.trace=function(I,O){this.z$.push([I,O]);this.z$.length > this.c3b && this.z$.shift();};c.prototype.uB=function(){return this.z$;};},68872:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q){var u;u=this;this.Yl=p;this.Ss=q;this.Jbb=function(t){var v,w,y,x,A,z;v=u.dbb++;w=t.request.ZA || "dl";y=u.TZa(w,"start");if(y){x=t.request.cC.I;if(x && !u.nab.has(x)){A=u.lZa(x);z=t.Vv;u.Yl.mark(y,A,z?w + "-" + z + "-" + v:w);t.F1(function(){var B,C;B=u.TZa(w,"end");C=z?w + "-" + z + "-" + v:w;B && u.Yl.mark(B,A,C);});}}};this.dbb=0;this.nab=new Set();this.Pua=new Map();q.GS && this.U5b();}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(70655);k=a(86700);f=a(3971);h=a(85643);d=a(2467);g=a(89927);m=a(53685);l=a(75183);n={start:{video:f.Oa.RO,audio:f.Oa.NO},end:{video:f.Oa.QO,audio:f.Oa.MO}};c.prototype.mZa=function(p){var u,t,v,w,y,x,A,z;function q(B){return (0,d.timestamp)(u.oQa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();v=p.Rc;w=p.la;y=void 0 === p.iab?null:p.iab;x=p.I;A=this.Yl.WYa(w);z=x && this.lZa(x);z && A.push.apply(A,da(this.Yl.WYa(z)));this.Yl.v8a(p.la);z && this.Yl.v8a(z);x && this.nab.add(x);x=[];("pr_ats" in v) && x.push({name:f.Oa.F_,Gr:q(v.pr_ats),la:w,Gf:"request-pre-manifest"});("ats" in v) && x.push({name:f.Oa.D_,Gr:q(v.ats),la:w,Gf:"request-manifest"});("pr_at" in v) && x.push({name:f.Oa.E_,Gr:q(v.pr_at),la:w,Gf:"request-pre-manifest"});("at" in v) && x.push({name:f.Oa.C_,Gr:q(v.at),la:w,Gf:"request-manifest"});("lg" in v) && x.push({name:f.Oa.B_,Gr:q(v.lg),la:w,Gf:"request-license"});("lr" in v) && (x.push({name:f.Oa.A_,Gr:q(v.lr),la:w,Gf:"request-license"}),x.push({name:f.Oa.jY,Gr:q(v.lr),la:w,Gf:"apply-license"}));("ld" in v) && x.push({name:f.Oa.iY,Gr:q(v.ld),la:w,Gf:"apply-license"});("tt_start" in v) && x.push({name:f.Oa.PO,Gr:q(v.tt_start),la:w,Gf:"request-timed-text"});("tt_comp" in v) && x.push({name:f.Oa.OO,Gr:q(v.tt_comp),la:w,Gf:"request-timed-text"});return x.concat(A).map(function(B){return u.P2b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.Zqb=function(p,q,u){return (void 0 === u?0:u)?p.ba(d.na) + q.Rh.ba(d.na):p.ba(d.na) - q.Rh.ba(d.na);};c.prototype.oQa=function(p,q,u){u=void 0 === u?!1:u;if(q.jm)if(u)p.ba(d.na) + q.jm;else return p.ba(d.na) - q.jm;return this.Zqb(p,q,u);};c.prototype.P2b=function(p,q){var u,t;u=p.Gf;t=p.name;return {eventName:this.oRb(t,u),eventId:u || t,ts:this.oQa(p.Gr,q),comp:this.kT(t),cat:this.fGb(t),step:this.TIb(t)};};c.prototype.oRb=function(p,q){switch(p){case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.MO:case f.Oa.RO:case f.Oa.QO:return p + "-" + q;default:return p;}};c.prototype.kT=function(p){switch(p){case f.Oa.F_:case f.Oa.E_:case f.Oa.D_:case f.Oa.C_:return "manifest";case f.Oa.B_:case f.Oa.A_:case f.Oa.Xda:case f.Oa.Wda:case f.Oa.aZ:case f.Oa.$Y:case f.Oa.jY:case f.Oa.iY:return "license";case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.MO:case f.Oa.RO:case f.Oa.QO:case f.Oa.jaa:case f.Oa.iaa:return "buffering";case f.Oa.cda:case f.Oa.bda:return "playback";default:return (0,l.MS)(p);}};c.prototype.fGb=function(p){switch(p){case f.Oa.F_:case f.Oa.E_:case f.Oa.D_:case f.Oa.C_:return "aws";case f.Oa.B_:case f.Oa.A_:return "mixed";case f.Oa.cda:case f.Oa.bda:case f.Oa.Xda:case f.Oa.Wda:case f.Oa.aZ:case f.Oa.$Y:case f.Oa.jY:case f.Oa.iY:case f.Oa.jaa:case f.Oa.iaa:return "device";case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.MO:case f.Oa.RO:case f.Oa.QO:return "cdn";default:return (0,l.MS)(p);}};c.prototype.TIb=function(p){switch(p){case f.Oa.F_:case f.Oa.cda:case f.Oa.D_:case f.Oa.B_:case f.Oa.jaa:case f.Oa.PO:case f.Oa.NO:case f.Oa.RO:case f.Oa.Xda:case f.Oa.aZ:case f.Oa.jY:return "start";case f.Oa.E_:case f.Oa.bda:case f.Oa.C_:case f.Oa.A_:case f.Oa.Wda:case f.Oa.$Y:case f.Oa.iY:case f.Oa.iaa:case f.Oa.OO:case f.Oa.MO:case f.Oa.QO:return "end";default:return (0,l.MS)(p);}};c.prototype.TZa=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.U3b=function(){g.He.removeEventListener(g.x5,this.Jbb);};c.prototype.U5b=function(){this.U3b();g.He.addEventListener(g.x5,this.Jbb);};c.prototype.lZa=function(p){var q;if(this.Pua.has(p))return this.Pua.get(p);q=Date.now();this.Pua.set(p,q);return q;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.GP)),r.__param(1,(0,k.l)(m.sn))],a);b.yGa=a;},70858:function(r,b,a){var f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){var z;z=this;this.$g=t;this.config=w;this.wb=y;this.debug=x;this.KE={};this.jVa=!1;this.MR={};this.uoa=0;this.I4=function(B){var C,D,F;C=B.stream;if(C){B=C.Vb;D=C.bitrate;F=C.zb;}else B=B.track.Vb;return {key:B + "$" + D + "$" + F,Vb:B,bitrate:D,zb:F};};this.nYa=function(B){var C,D,F;D=z.I4(B);F=null === (C=B.Ac) || void 0 === C?void 0:C.id;B=B.track.Gf;return Object.assign({},D,{key:D.key + "$" + F + "$" + B,Hm:F,Gf:B});};this.cGb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",qM:C};};this.xJb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.zb;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",qM:C};};this.log=v.Ta("PlayTimeTracker");this.u8=A(t);this.Ct=A(t);this.ssa=A(t);this.startTime=this.$g.mediaTime.value;this.K6=this.config().Tpb;this.lI();this.KE.abrdel=0;this.K6.forEach(function(B){B="abrdel" + B;z.MR[B]=0;z.KE[B]=0;});}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(70655);f=a(86700);h=a(71163);d=a(17244);g=a(98540);a(2467);m=a(89542);l=a(78616);n=a(7942);p=a(30818);q=a(67789);u=a(79426);k.prototype.encode=function(t){return {downloadableId:t.Vb,correlationId:t.Gf,bitrate:t.bitrate,vmaf:t.zb,duration:t.duration,metric:t.qM,cdnId:t.Hm};};k.prototype.decode=function(t){return {Vb:t.downloadableId,Gf:t.correlationId,bitrate:t.bitrate,zb:t.vmaf,duration:t.duration,qM:t.metric,Hm:t.cdnId};};c.prototype.zp=function(t){t=void 0 === t?"content":t;this.LC(this.$g.mediaTime.value);return Math.floor(this.Ct.zp(function(v){return v.track.tC === t;}));};c.prototype.uYa=function(t){this.LC(this.$g.mediaTime.value);return Math.floor(this.Ct.zp(t));};c.prototype.ET=function(t){var v;t=void 0 === t?"content":t;this.LC(this.$g.mediaTime.value);v=this.Ct.ET(function(w){return w.track.tC === t;});this.debug.assert(v === Math.floor(v),"Value of totalContentPlayTime is not an integer.");return Math.floor(v);};c.prototype.VFb=function(){this.LC(this.$g.mediaTime.value);return {audio:this.nT(this.u8,this.nYa),video:this.nT(this.Ct,this.nYa)};};c.prototype.hIb=function(){var t,v,w;t=this.zp("content");v=this.zp("ads");w=this.zp("other");t={total:t,totalAdDuration:v,totalOtherDuration:w,totalCombinedDuration:t + v + w,totalContentTime:this.ET("content"),totalStartSlateDuration:this.uYa(function(y){return !0 === y.Coa;}),totalLiveEdgeDuration:this.uYa(function(y){return !0 === y.LB;}),audio:this.nT(this.u8,this.I4),video:this.nT(this.Ct,this.I4),timedtext:this.nT(this.ssa,this.I4)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.ama=function(){var t,v;this.LC(this.$g.mediaTime.value);t=this.Ct.Wla(this.cGb);try{v=this.LXa(t);}catch(w){return (this.log.warn("Failed to calc average bitrate."),null);}this.KE.abrdel=Math.round(v);return this.KE.abrdel;};c.prototype.MXa=function(){var t,v;this.LC(this.$g.mediaTime.value);t=this.Ct.Wla(this.xJb);try{v=this.LXa(t);}catch(w){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.KXa=function(){var t,v;t=this;if(!this.jVa){v=this.zp();this.K6.forEach(function(w){var y,x,A;if(0 === t.MR["abrdel" + w] && v > w * n.Vr){y=0;x=0;A=0;t.Ct.some(function(z){y+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;A=z.stream.bitrate;return x > w * n.Vr;});y && (t.MR["abrdel" + w]=Math.round((y - A * (x - w * n.Vr)) / (w * n.Vr)));}});0 !== this.MR["abrdel" + this.K6[this.K6.length - 1]] && (this.jVa=!0);(0,p.bg)(this.MR,function(w,y){t.KE[w]=0 === y?t.KE.abrdel:y;});}return this.KE;};c.prototype.xqb=function(t){this.uoa+=t;};c.prototype.v5=function(){return this.Ct.v5();};c.prototype.lI=function(){var t;t=this;this.$g.tf.addListener(function(v){t.xK=t.lSa(t.xK,t.u8,v.newValue);});this.$g.Td.addListener(function(v){t.zK=t.lSa(t.zK,t.Ct,v.newValue);});this.$g.playbackRate.addListener(function(v){t.LC(t.$g.mediaTime.value,v.oldValue);});this.$g.$h.addListener(this.dSb.bind(this));};c.prototype.dra=function(t,v){this.LC(t);this.startTime=v;this.zK=this.xK=void 0;this.yK && (this.yK.startTime=this.startTime);!1;};c.prototype.dSb=function(t){this.ssa.Df(this.yK,this.$g.mediaTime.value);this.yK=(t=t.newValue)?{track:t,startTime:this.$g.mediaTime.value,endTime:g.Mw}:void 0;};c.prototype.LC=function(t,v){v=void 0 === v?this.$g.playbackRate.value:v;t && this.xK && this.zK && (t=Math.min(t,this.xK.endTime,this.zK.endTime),this.u8.Df(this.xK,t,v),this.xK.startTime=t,this.Ct.Df(this.zK,t,v),this.zK.startTime=t,this.yK && (this.ssa.Df(this.yK,t,v),this.yK.startTime=t),this.startTime=t,!1);};c.prototype.lSa=function(t,v,w){var y;t && v.Df(t,Math.min(t.endTime,this.$g.mediaTime.value));if(w && w.stream){t=w.nK;v=w.stream;y=this.$g.$c;return {Ac:w.Ac,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Coa:y.ha?y.rB(t.endTime) === u.Ur.VP:void 0,LB:y.ha?y.MT():void 0};}};c.prototype.nT=function(t,v){return t.Wla(v,"content").map(function(w){return new k().encode(w);});};c.prototype.LXa=function(t){var v,w,y;v=this;w=0;t.forEach(function(x){if(v.wb.wg(x.duration) && v.wb.wg(x.qM))w+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!w)return 0;y=0;t.forEach(function(x){y+=x.qM * x.duration / w;});return y;};a=c;a=r.__decorate([(0,f.U)(),r.__param(1,(0,f.l)(h.Xa)),r.__param(2,(0,f.l)(d.cc)),r.__param(3,(0,f.l)(m.Zf)),r.__param(4,(0,f.l)(l.Bw)),r.__param(5,(0,f.l)(q.Eda))],a);b.QIa=a;},9518:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O;function c(L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb){this.my=L;this.EA=H;this.Fa=M;this.sa=R;this.Osb=Y;this.owa=ea;this.NU=ca;this.Upa=oa;this.eM=Ga;this.Xc=Fa;this.zh=Ja;this.Ai=Xa;this.aK=cb;this.RV=W;this.Qh=aa;this.Iwa=Q;this.Sf=ka;this.Yl=P;this.Zd=fa;this.qsa=ta;this.WXb=pa;this.sha=Ra;this.EG=Pa;this.$ra=db;this.Cga=wb;this.Qtb=ob;this.YJ=Fb;}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;r=a(70655);k=a(24166);f=a(86700);h=a(74509);d=a(60634);g=a(58998);m=a(35664);l=a(63406);n=a(69379);p=a(93592);q=a(14697);u=a(76820);t=a(97636);v=a(72611);w=a(5690);y=a(11430);x=a(21182);A=a(53113);z=a(14959);B=a(89682);C=a(35054);D=a(85643);F=a(17);G=a(57046);E=a(4988);J=a(76586);K=a(61886);N=a(1414);I=a(24060);c.prototype.create=function(L,H,M,R,Y,ea,ca,oa){return new (a(61581).ZIa)(L,H,ea,ca,R,Y,this.my,M,this.Fa,this.EA,this.sa,this.NU,this.Osb,this.owa,this.Upa,this.eM,this.Xc,this.zh,this.Ai,this.aK,this.RV,this.Qh,this.Iwa,this.Sf,this.Zd,this.qsa,this.Yl,this.WXb(),this.sha,this.EG,this.$ra,this.Cga,this.Qtb,void 0,oa);};O=c;O=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Kw)),r.__param(1,(0,f.l)(d.Vh)),r.__param(2,(0,f.l)(g.Jc)),r.__param(3,(0,f.l)(m.Fg)),r.__param(4,(0,f.l)(l.hza)),r.__param(5,(0,f.l)(h.MD)),r.__param(6,(0,f.l)(n.Hca)),r.__param(7,(0,f.l)(p.PFa)),r.__param(8,(0,f.l)(q.wP)),r.__param(9,(0,f.l)(u.PD)),r.__param(10,(0,f.l)(t.PP)),r.__param(11,(0,f.l)(v.GD)),r.__param(12,(0,f.l)(y.qza)),r.__param(13,(0,f.l)(x.Dda)),r.__param(14,(0,f.l)(J.yD)),r.__param(15,(0,f.l)(A.jMa)),r.__param(16,(0,f.l)(z.rm)),r.__param(17,(0,f.l)(D.GP)),r.__param(18,(0,f.l)(B.ph)),r.__param(19,(0,f.l)(C.$Ia)),r.__param(20,(0,f.l)(F.qKa)),r.__param(21,(0,f.l)(G.Fya)),r.__param(22,(0,f.l)(E.Nca)),r.__param(23,(0,f.l)(K.sIa)),r.__param(24,(0,f.l)(N.eya)),r.__param(25,(0,f.l)(I.eba)),r.__param(26,(0,f.l)(w.EO)),r.__param(26,(0,f.optional)())],O);b.XIa=O;},61581:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb;function c(W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb,Qa,Za,hb,lb,yb,Hb,Jb,Db,Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Xd,Yd,Lf,Zd){var zb,Mf;function gf(tb){tb.newValue && tb.newValue.stream && (zb.Td.removeListener(gf),zb.P5=tb.newValue.stream.bitrate);}function hf(tb){tb.newValue !== R.bb.Mf && tb.newValue !== R.bb.Xh && (zb.mb.removeListener(hf),zb.qy=zb.sa.xH,zb.Eb.Cc(R.ea.zt));}function jf(tb){tb.newValue !== R.bb.Mf && (zb.mb.removeListener(jf),zb.Yk=!0,zb.QV=zb.sa.ue.ba(D.na),zb.Eb.Cc(R.ea.Yk));}zb=this;this.ib=P;this.Wj=fa;this.my=ta;this.Fa=Ra;this.EA=Pa;this.sa=db;this.NU=wb;this.Upa=Qa;this.eM=Za;this.Xc=hb;this.zh=lb;this.Ai=yb;this.aK=Hb;this.RV=Jb;this.Qh=Db;this.Iwa=Lb;this.Sf=Rb;this.Zd=bc;this.qsa=Ib;this.Yl=Ob;this.J8a=Sb;this.sha=cc;this.EG=nc;this.$ra=Ac;this.Cga=Xd;this.hia=Yd;this.YJ=Lf;this.Q6a=[];this.Qp=new Map();this.tc=new q.Hb(null);this.Mg=new q.Hb(null);this.xb=new q.Hb(null);this.$h=new q.Hb(null);this.Pt=new q.Hb(void 0);this.Ne=new q.Hb(null);this.Qg=new q.Hb(null);this.mediaTime=new q.Hb(void 0);this.playbackRate=new Fa.dJa(1,u.config.gqa);this.background=new q.Hb(!0);this.Y3b=function(tb){return zb.tc.set(tb.newValue);};this.D4b=function(tb){return zb.Mg.set(tb.newValue);};this.A4b=function(tb){return zb.xb.set(tb.newValue);};this.W3b=function(tb){return zb.$h.set(tb.newValue);};this.z4b=function(tb){return zb.Pt.set(tb.newValue);};this.C4b=function(tb){return zb.Ne.set(tb.newValue);};this.X3b=function(tb){return zb.Qg.set(tb.newValue);};this.s4b=function(tb){return zb.Td.set(tb.newValue);};this.r4b=function(tb){return zb.tf.set(tb.newValue);};this.p4b=function(tb){return zb.mediaTime.set(tb.newValue);};this.Z3b=function(tb){return zb.background.set(tb.newValue);};this.jO=function(tb){return zb.playbackRate.set(tb.newValue);};this.Vk={};this.hua=this.Bwa=0;this.Eb=new t.Xj();this.T$={};this.$W=this.G6a=this.Yk=!1;this.YC=new q.Hb(void 0);this.state=new q.Hb(R.Ub.OI);this.Ah=new q.Hb(!1);this.paused=new q.Hb(!1);this.muted=new q.Hb(!1);this.volume=new q.Hb(u.config.eAb / 100);this.mb=new q.Hb(R.bb.Mf);this.jf=new q.Hb(R.yf.Pe);this.Aq=new q.Hb(R.yf.Pe);this.hm=new q.Hb(R.yf.Pe);this.tf=new q.Hb(null);this.Td=new q.Hb(null);this.cia=new q.Hb(null);this.z5=(0,n.xDa)(this);this.Ac=[new q.Hb(null),new q.Hb(null)];this.Oha={};this.DS=!1;this.sb=this.el=-1;this.UF=function(tb,Yb){var Pc;tb=void 0 === tb?null:tb;return (0,N.rb)(tb)?Yb && !zb.ii(Yb).W?tb:(null === (Pc=zb.$a) || void 0 === Pc?0:Pc.Ih)?zb.$a.nja(tb):tb:null;};this.rV=function(){zb.Nva();};this.VA=W;this.addEventListener=this.Eb.addListener;this.removeEventListener=this.Eb.removeListener;this.fireEvent=this.Eb.Cc;this.Oga({J:W,I:ka,Wa:Q || ({})},u.config.qr?this.Xc.Ys(W):void 0,aa);this.log=(0,C.Nh)(this);this.$Ua=pa(this);this.Nsb=ob(this);this.xk=(0,H.createElement)("DIV",p.Sda,void 0,{id:this.O});this.pLb();this.Bc=this.log.Z2("Playback");(0,h.JIa)(this);y.Vz.u4a=this;y.Vz.Dla || (y.Vz.Dla=this);this.Bc.info("Playback created",this.zg);this.N2a?this.Bc.info("Playback selected for trace playback info logging"):this.Bc.trace("Playback not selected for trace playback info logging");u.config.qr && (this.Xc.MJb(this.O),this.addEventListener(R.ea.zt,function(){zb.Xc.OJb(zb.O);zb.xb.addListener(function(){zb.Xc.e_a();});zb.tc.addListener(function(){zb.Xc.e_a();});}),this.addEventListener(R.ea.ug,function(){zb.Xc.LJb(zb.O);}));this.state.addListener(function(tb){zb.Bc.info("Playback state changed",{From:tb.oldValue,To:tb.newValue});(0,G.oa)(tb.newValue > tb.oldValue);});w.fe.addListener(w.Qk,this.rV,p.Xca);Mf=Fb((0,D.Bh)(1));this.mediaTime.addListener(function(){zb.wEb();Mf.Oj(function(){return zb.YWa();});});this.mb.addListener(function(tb){zb.Bc.info("PresentingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.oh)(zb.mediaTime.value)},zb.ot());});this.mb.addListener(function(){zb.Ah.set(zb.mb.value === R.bb.me);});this.jf.addListener(function(tb){zb.Bc.info("BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.oh)(zb.mediaTime.value)},zb.ot());});this.Aq.addListener(function(tb){zb.Bc.info("AV BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.oh)(zb.mediaTime.value)},zb.ot());});this.hm.addListener(function(tb){zb.Bc.info("Text BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.oh)(zb.mediaTime.value)},zb.ot());});this.tc.addListener(function(tb){(0,G.oa)(tb.newValue && tb.newValue.xg);zb.Bc.info("AudioTrack changed",tb.newValue && ({ToBcp47:tb.newValue.re,To:tb.newValue.trackId}),tb.oldValue && ({FromBcp47:tb.oldValue.re,From:tb.oldValue.trackId}),{MediaTime:(0,E.oh)(zb.mediaTime.value)});});this.xb.addListener(function(tb){(0,G.oa)(!tb.newValue || tb.newValue.xg);zb.Bc.info("TimedTextTrack changed",tb.newValue?{ToBcp47:tb.newValue.re,To:tb.newValue.trackId}:{To:"none"},tb.oldValue?{FromBcp47:tb.oldValue.re,From:tb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.oh)(zb.mediaTime.value)});});this.mb.addListener(jf,p.RI);this.mb.addListener(hf);this.addEventListener(R.ea.zt,function(){zb.$W=!0;zb.iab=zb.UR();zb.ke("start");});this.Td.addListener(gf);(0,B.UIa)(this);y.zn.push(this);u.config.mW && (this.p8=this.qsa(this),this.s8=new A.fJa(this));y.zda.forEach(function(tb){tb(zb);});this.Fqb=function(){zb.addEventListener(R.ea.EC,function(tb){var Yb;tb=tb.cause;tb !== R.Vc.Tr && tb !== R.Vc.ZI && (null === (Yb=zb.$a) || void 0 === Yb?void 0:Yb.stop());});zb.addEventListener(R.ea.Hj,function(tb){var Yb,Pc,kf,Nf,Hc,$d,Of,ae,lf,Pf;zb.J8a.Hj(tb);kf=tb.cause;Nf=tb.skip;Hc=tb.A7;$d=tb.lra;Of=tb.O;ae=tb.pp;zb.aa.Xk.dra($d,Hc);if(kf !== R.Vc.ZI && kf !== R.Vc.Tr)if(Nf){if(null !== (Yb=zb.$a) && void 0 !== Yb && Yb.di(Hc)){zb.Bc.trace("Repositioned. Skipping from " + $d + " to " + Hc);tb=function(Zb){zb.log.error("streamingSession.skipped threw an exception",Zb);Zb=Y.Lc.Rla(F.V.jeb,Zb);zb.vr(Zb.code,Zb);};try{zb.$a.FH(Hc).then(function(Zb){var Qc;Zb.ML || (null === (Qc=zb.$a) || void 0 === Qc?void 0:Qc.play());}).catch(tb);}catch(Zb){tb(Zb);}}else zb.log.error("can skip returned false");}else {zb.Bc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=zb.ib.V4(zb.aa);Pf=Object.keys(lf.L).find(function(Zb){var Qc;Zb=lf.L[Zb];return Zb.J === Of && Zb.va <= ae && (null !== (Qc=Zb.ta) && void 0 !== Qc?Qc:Infinity) > ae;});null === (Pc=zb.$a) || void 0 === Pc?void 0:Pc.kZb(ae,Pf);}catch(Zb){zb.log.error("streamingSession.seekByContentPts threw an exception",Zb);Hc=Y.Lc.Rla(F.V.heb,Zb);zb.vr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var tb,Yb;if(null === (tb=zb.$a) || void 0 === tb?0:tb.Ih)null === (Yb=zb.$a) || void 0 === Yb?void 0:Yb.rUb();});this.addEventListener(R.ea.Dx,function(tb){var Yb;tb.cause == y.wda && (zb.jf.set(R.yf.Pe),null === (Yb=zb.$a) || void 0 === Yb?void 0:Yb.lm(zb.je.rYa()));});Zd && (this.aa.W=Zd,this.Qh.dX(W,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=void 0;k=a(70655);f=a(88625);h=a(15883);d=a(82134);g=a(25097);m=a(6686);l=a(26047);n=a(93230);p=a(7942);q=a(14414);u=a(37986);t=a(59883);v=a(45108);w=a(25892);y=a(58680);x=a(5917);A=a(22528);z=a(31205);B=a(16512);C=a(89082);D=a(2467);F=a(68172);G=a(70633);E=a(19591);J=a(30818);K=a(66052);N=a(95919);I=a(37021);O=a(56170);L=a(99230);H=a(24133);M=a(93);R=a(34202);Y=a(56003);ea=a(49007);ca=a(89136);oa=a(65853);Ga=a(66119);Fa=a(902);Ja=a(41427);Xa=a(61831);cb=a(18920);c.prototype.ke=function(W,aa){var Q;aa=void 0 === aa?this.VA:aa;null === (Q=this.Qp.get(aa)) || void 0 === Q?void 0:Q.ke(W);};c.prototype.ny=function(W){this.aa.ny(W);};c.prototype.o5=function(){var W;return !(null === (W=this.W) || void 0 === W || !W.Ga.Lm);};c.prototype.DL=function(){var W,aa,Q;return !(null === (Q=null === (aa=null === (W=this.W) || void 0 === W?void 0:W.Ga.Dm) || void 0 === aa?void 0:aa.de.length) || void 0 === Q || !Q);};c.prototype.pLb=function(){var W;W=this;this.tc.addListener(function(aa){return W.aa.tc.set(aa.newValue);});this.Mg.addListener(function(aa){return W.aa.Mg.set(aa.newValue);});this.xb.addListener(function(aa){return W.aa.xb.set(aa.newValue);});this.$h.addListener(function(aa){return W.aa.$h.set(aa.newValue);});this.Pt.addListener(function(aa){return W.aa.Pt.set(aa.newValue);});this.Ne.addListener(function(aa){return W.aa.Ne.set(aa.newValue);});this.Qg.addListener(function(aa){return W.aa.Qg.set(aa.newValue);});this.Td.addListener(function(aa){return W.aa.Td.set(aa.newValue);});this.tf.addListener(function(aa){return W.aa.tf.set(aa.newValue);});this.Ac[cb.v.ga].addListener(function(aa){return W.aa.Ac[cb.v.ga].set(aa.newValue);});this.Ac[cb.v.Z].addListener(function(aa){return W.aa.Ac[cb.v.Z].set(aa.newValue);});this.mediaTime.addListener(function(aa){return W.aa.mediaTime.set(aa.newValue);});this.background.addListener(function(aa){return W.aa.background.set(aa.newValue);});this.playbackRate.addListener(function(aa){return W.aa.playbackRate.set(aa.newValue);});this.i9a();};c.prototype.i9a=function(){var W;W=this;this.aa !== this.Qua && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.Eo(function(aa){return aa.tc;},this.Y3b),this.Eo(function(aa){return aa.Mg;},this.D4b),this.Eo(function(aa){return aa.Pt;},this.z4b),this.Eo(function(aa){return aa.xb;},this.A4b),this.Eo(function(aa){return aa.$h;},this.W3b),this.Eo(function(aa){return aa.Ne;},this.C4b),this.Eo(function(aa){return aa.Qg;},this.X3b),this.Eo(function(aa){return aa.tf;},this.r4b),this.Eo(function(aa){return aa.Td;},this.s4b),this.Eo(function(aa){return aa.Ac[cb.v.ga];},function(aa){return W.Ac[cb.v.ga].set(aa.newValue);}),this.Eo(function(aa){return aa.Ac[cb.v.Z];},function(aa){return W.Ac[cb.v.Z].set(aa.newValue);}),this.Eo(function(aa){return aa.mediaTime;},this.p4b),this.Eo(function(aa){return aa.background;},this.Z3b),this.Eo(function(aa){return aa.playbackRate;},this.jO),this.xb.set(this.aa.xb.value),this.tc.set(this.aa.tc.value,{M1:!0}),this.Mg.set(this.aa.Mg.value),this.$h.set(this.aa.$h.value),this.Pt.set(this.aa.Pt.value),this.Ne.set(this.aa.Ne.value),this.Qg.set(this.aa.Qg.value),this.Qua=this.aa);};c.prototype.Eo=function(W,aa){this.Qua && W(this.Qua).removeListener(aa);W(this.aa).addListener(aa);};c.prototype.vub=function(){var W;return !(null === (W=this.Ed) || void 0 === W?0:W.Cl.value);};c.prototype.load=function(W){var aa,Q;aa=this;this.load=function(){};this.U6a=W;if(this.state.value == R.Ub.OI){this.Bc.info("Playback loading",this);this.vRb();this.ke("asl_load_start");Q=this.EA;W=Q.startTime;Q=Q.endTime;(0,N.Qc)(W)?(0,N.Qc)(Q)?this.ke("asl_ended"):this.ke("asl_in_progress"):this.ke("asl_not_started");this.EA.CU(function(ka){aa.ke("asl_load_complete");ka.ka?aa.myb():aa.vr(ka.errorCode || F.V.$ba,ka);});}};c.prototype.SUb=function(){!1;try{this.state.value === R.Ub.LOADING && (this.Icb(),this.Fl=this.aK.arb({uz:(0,D.Lb)(this.ab),O:this.O,uC:this.Qx,Wa:this.Wa,oC:this.Wa.dg?u.config.Ira:u.config.oC,$c:this.$c}).ba(D.na),this.oha(),this.mzb());}catch(W){this.vr(F.V.eib,{za:F.R.ql,Kb:(0,J.ve)(W)});}};c.prototype.Icb=function(){var W,aa,Q;Q={width:1,height:1};this.vB({Qcb:!0}).forEach(function(ka){Q.width * Q.height < ka.width * ka.height && (Q={width:ka.width,height:ka.height});});Q.height === (null === (W=this.YC.value) || void 0 === W?void 0:W.height) && Q.width === (null === (aa=this.YC.value) || void 0 === aa?void 0:aa.width) || this.YC.set(Q);};c.prototype.Mv=function(){var W,aa;!1;aa=this.ib.V4(this);this.RTa(aa);null === (W=this.$a) || void 0 === W?void 0:W.Wt(aa);};c.prototype.MG=function(W){var aa,Q;!1;(0,G.oa)(this.$a,"ASE should be initialized");Q=this.ib.tT(W);Q?W === this.ib.th?this.$a.C2(Q,!0) || this.IT(Q,{}):null === (aa=this.$a) || void 0 === aa?void 0:aa.Rj(W,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.IT=function(W,aa,Q){var ka,P,fa,ta,pa;ka=this;Q=void 0 === Q?!0:Q;!1;ta=this.ib.Pd(W);if(this.Ai.L$ && this.ib.aa.J === ta.J)return Promise.resolve(this.je.seek(ta.va,R.Vc.Yw,void 0));ta=this.Wj.CL(ta.J);aa=(0,O.g7)(ta.qb,aa);if(null === (P=this.$a) || void 0 === P || !P.Ih)throw (!1,Error("No streaming session"));!1;this.CE("Transition " + this.ib.th + "->" + W);pa=this.ii(W);pa.jm=this.Fa.Fb().ba(D.na);pa.Wa=aa;return "seamless" !== (null !== (fa=this.ib.Pd(W).Yd) && void 0 !== fa?fa:"seamless") || Q?(this.$a.uT(W).RR?this.yJb(W,pa.O):this.EW(W,pa.O)).then(function(){ka.SEb(pa.O);}):Promise.resolve();};c.prototype.EW=function(W,aa){var Q;Q=this.ib.vk.L[W].va;!1;this.CE("NO DATA " + W + ", SEEKING " + Q + ", viewableId: " + aa);return Promise.resolve(this.je.seek(Q,R.Vc.Yw,W,!0));};c.prototype.yJb=function(W,aa){var Q,ka,P,fa,ta;Q=this;!1;ka=this.$a;if(null === ka || void 0 === ka || !ka.Ih)throw Error("No streaming session");P=new Promise(function(pa){function Ra(){!1;ka.removeEventListener("stop",Ra);pa();}ka.addEventListener("stop",Ra);});fa=!1;ta=new Promise(function(pa){function Ra(db){!1;Q.removeEventListener(R.ea.Hj,Ra);fa=db.skip;pa();}function Pa(){!1;Q.removeEventListener(R.ea.EC,Pa);ka.stop();}Q.addEventListener(R.ea.EC,Pa);Q.addEventListener(R.ea.Hj,Ra);});P=Promise.all([P,ta]).then(function(){var pa;pa=!1;fa && (pa=ka.C2(W,!1));if(!pa)return (Q.CE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.EW(W,aa));});ta=ka.pja(W,this.ib.vk.L[W].va);!1;this.je.seek(ta,R.Vc.ZI,W,!0);return P;};c.prototype.Oga=function(W,aa,Q){var ka,P,fa,ta,pa,Ra,Pa,db;aa=void 0 === aa?this.my.SA():aa;Q=void 0 === Q?this.Fa.Fb():Q;fa=!!u.config.kdb && !(aa % u.config.kdb);ta=W.J;pa=W.I;Ra=W.Wa;Pa=W.Of;if(this.Qp.has(ta))aa=this.Qp.get(ta);else {aa=this.RV(y.Vz.index++,ta,pa,Ra,aa,Q,fa,this.aa,this.UF,Pa,this);this.Qp.set(ta,aa);1 < this.Qp.size && (aa.dM=this.eM.create(this,aa,!1,this.UF));aa.pM=new x.qGa(this,aa);db=null === Pa || void 0 === Pa?void 0:Pa.mc;(W=W.Hsb) || (W=null === (P=null === (ka=this.aa.W) || void 0 === ka?void 0:ka.jp) || void 0 === P?void 0:P.find(function(wb){return wb.Ga.O === ta && (void 0 === db || wb.Ga.mc === db);}));W && this.K8(W,aa);1 < this.Qp.size && this.Qh.m5(aa.O) && this.O8(aa);}};c.prototype.wja=function(W,aa,Q,ka){var P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb;P=this;!1;wb={QL:!0,dg:!1,VC:Date.now()};(0,G.oa)(aa.Ef,"Auxiliary viewable config request options must have auxiliary options");ob=aa.Ef;aa=ob.mc;ob=ob.Bd;if(this.t5(ob)){Fb=null === (fa=this.Pk(ob).W) || void 0 === fa?void 0:fa.Ga;fa={mc:aa,DV:this.Kf,Bd:ob,IV:Fb};(0,G.oa)(null === (ta=this.$a) || void 0 === ta?void 0:ta.ei,"If we have auxiliary viewables combined playgraph must exist");if(null === (Ra=null === (pa=this.$a) || void 0 === pa?void 0:pa.ei) || void 0 === Ra?0:Ra.L)(ta=Object.keys(null === (db=null === (Pa=this.$a) || void 0 === Pa?void 0:Pa.ei) || void 0 === db?void 0:db.L).find(function(Qa){var Za,hb;return (null === (hb=null === (Za=P.$a) || void 0 === Za?void 0:Za.ei) || void 0 === hb?void 0:hb.L[Qa].J) === W;}),(0,G.oa)(!!ta,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Oga({Hsb:ka,Of:fa,Wa:wb,I:ta,J:W},Q));}};c.prototype.t5=function(W){return !!this.Qp.has(W);};c.prototype.q_a=function(W){try{return (this.ii(W),!0);}catch(aa){return !1;}};c.prototype.Pk=function(W){if(W === Ja.xn)return this.aa;if(!this.Qp.has(W))throw Error("Playback segment not found: " + W);return this.Qp.get(W);};c.prototype.ii=function(W){var Q,ka,P,fa,ta,pa;function aa(Ra){for(var Pa=ma(Q.WG),db=Pa.next();!db.done;db=Pa.next()){if((db=db.value,db.I === Ra))return db;}}Q=this;pa=aa(W);return pa?pa:(null === (P=null === (ka=this.$a) || void 0 === ka?void 0:ka.ei) || void 0 === P?0:P.L[W]) && (ka=null === (fa=this.$a) || void 0 === fa?void 0:fa.ei.L[W].Tb) && this.ib.hw(ka)?(fa=this.ib.Pd(ka).J,W=null === (ta=this.$a) || void 0 === ta?void 0:ta.ei.L[W].J,fa === W && (pa=aa(ka)),null !== pa && void 0 !== pa?pa:this.Pk(W)):this.aa;};c.prototype.jIb=function(W){for(var aa,Q,ka=ma(this.WG),P=ka.next();!P.done;P=ka.next()){if((P=P.value,(null === (Q=null === (aa=P.ee) || void 0 === aa?void 0:aa.Ab) || void 0 === Q?void 0:Q.sessionId) === W))return P;}return this.aa;};c.prototype.O8=function(W){var aa,Q;aa=this;!1;Q=W.O;this.Wj.f_b(Q);return this.KW(W).then(function(ka){aa.K8(ka,W);ka=W.nG?aa.Rb.Sk.K8a(W):Promise.resolve();aa.dVb(W);return ka.then(function(){return aa.Wj.a$a(Q);});}).catch(function(ka){aa.log.error("queueManifest failed",ka);aa.Wj.e_b(Q,ka);throw aa.zh(ka.code,ka);});};c.prototype.cw=function(W,aa){var Q,ka,P,fa,ta,pa;Q=this;(0,G.oa)(aa.Ef,"auxiliaryOptions must exist if an adBreak hydration was requested");ka=aa.Ef;P=ka.mc;fa=ka.Bd;(0,G.oa)(!!P,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;ta=this.Pk(aa.Ef.Bd);ka=M.rl.sm;pa={QL:!0,dg:!1,VC:Date.now()};return this.Qh.gy({la:ta.la,Wa:pa,J:ta.O,Oq:ka,rf:void 0,fO:void 0,Of:{Oi:W,mc:P,Bd:fa,DV:ta.Kf}},!1).then(function(Ra){var Pa,db;Ra.jp.forEach(function(wb){Q.wja(wb.Ga.O,aa,ta.la,wb);});if(null === (Pa=Ra.Ga.Dm) || void 0 === Pa || !Pa.de.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (fa + ", adBreakToken: " + W));return null === (db=Ra.Ga.Dm) || void 0 === db?void 0:db.de[0];});};c.prototype.WFb=function(){if((0,N.rb)(this.Rc.ats) && (0,N.rb)(this.Rc.at))return this.Rc.at - this.Rc.ats;};c.prototype.RXa=function(){var W,aa;W=this.PX();aa=this.ER();return Math.min(W,aa);};c.prototype.LN=function(){this.background.value || (this.Bc.info("Starting inactivity monitor for movie " + this.O),new v.fEa(this));};c.prototype.close=function(W){W && (this.state.value == R.Ub.CLOSED?W():this.addEventListener(R.ea.closed,function(){W();}));this.Nva();};c.prototype.kd=function(W,aa,Q){W=this.zh(W,aa,Q);this.UE(W,void 0);};c.prototype.UE=function(W,aa){var Q,ka,P,fa;Q=this;!1;(0,F.XY)(W.errorCode,W.za,this.Fa.Fb().wa(this.Rh).ba(D.na),null === (ka=this.je) || void 0 === ka?void 0:ka.vv()) || this.hia.add(this.sa.ue,null === (P=this.ee) || void 0 === P?void 0:P.qL(),W.errorCode,W.za,W.De);W.o$a(this.Yk);if(this.state.value == R.Ub.OI)this.vh || (this.vh=W,this.load());else {aa && (this.state.value == R.Ub.CLOSED?aa():this.addEventListener(R.ea.closed,function(){aa();}));ka=function(){Q.Nva(W);};P=u.config.OUa && W && u.config.OUa[W.errorCode];fa=-1;(0,N.WL)(P) && (fa=(0,J.bj)(P));this.Bc.error("Fatal playback error",{Error:"" + W,HandleDelay:"" + P});0 <= fa?setTimeout(ka,fa):ka();}};c.prototype.CE=function(W){var aa;aa=void 0 === aa?this.I:aa;W=this.Fa.Fb().ba(D.na) + "-" + aa + "-" + W;!1;this.Q6a.push(W);};c.prototype.HEb=function(){this.YWa();};c.prototype.Rma=function(){var W;if(null === (W=this.$a) || void 0 === W?0:W.Ih)if((W=this.$a.Zn().id,void 0 !== W))return W;return null;};c.prototype.sB=function(){var W,aa;aa=null === (W=this.$a) || void 0 === W?void 0:W.Ih;return void 0 === this.aa.eS || aa?this.UF(this.mediaTime.value):this.aa.eS;};c.prototype.Qma=function(){var W;W=this.UF(this.je.rYa());return null === W?null:Math.min(this.Qx.ba(D.na),Math.max(0,W));};c.prototype.hT=function(){var W,aa;return null === (aa=null === (W=this.W) || void 0 === W?void 0:W.Ga.np) || void 0 === aa?void 0:aa.L;};c.prototype.I$=function(W){!1;this.Wa=(0,O.g7)(this.Wa,W);this.oha();};c.prototype.sna=function(W){return (null === W || void 0 === W?0:W.J)?W.J:(null === W || void 0 === W?0:W.Qcb) && this.VE?this.VE.J === Ja.xn?(W=this.VE.Jb) && this.$a && this.$a.ei?this.$a.ei.L[W].J:this.O:this.VE.J:this.O;};c.prototype.SFb=function(){var W;W=this.Pk(this.sna(void 0)).tc;return W.value?W.value.streams:[];};c.prototype.vB=function(W){return (W=this.Pk(this.sna(W)).Mg) && W.value?W.value.streams:[];};c.prototype.j_a=function(W){for(var aa=ma(this.WG),Q=aa.next();!Q.done;Q=aa.next()){if(Q=(Q=Q.value.tg) && Q.find(function(ka){return ka.id === W;}))return Q;}!1;};c.prototype.dVb=function(W){W=void 0 === W?this.aa:W;!1;W.xb.value?this.nn.aVb(W.xb.value):Promise.resolve();};c.prototype.f_a=function(W){for(var aa=ma(this.WG),Q=aa.next();!Q.done;Q=aa.next()){Q=ma(Q.value.ci);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=ka.value.streams.find(function(P){return P.Vb === W;}))return ka;}}!1;};c.prototype.v_a=function(W){for(var aa=ma(this.WG),Q=aa.next();!Q.done;Q=aa.next()){Q=ma(Q.value.rw);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=(ka=ka.value) && ka.streams.find(function(P){return P.Vb === W;}))return ka;}}!1;};c.prototype.gKb=function(W){for(var aa=ma(this.WG),Q=aa.next();!Q.done;Q=aa.next()){if(Q.value.Kf === W)return !0;}return !1;};c.prototype.Gs=function(){var W,aa,Q;return null !== (Q=null === (aa=null === (W=this.s8) || void 0 === W?void 0:W.gS) || void 0 === aa?void 0:aa.call(W)) && void 0 !== Q?Q:this.vyb().IWa;};c.prototype.x$a=function(W){var aa,Q;null !== (aa=this.$a) && void 0 !== aa && aa.Ih && this.Qp.has(W) && ((null === (Q=this.s8) || void 0 === Q?0:Q.gS)?this.s8.ncb():(aa=this.Bja(W),this.$a.O9(aa,W)));};c.prototype.PMb=function(){return "trailer" === this.ud;};c.prototype.XLb=function(){return !!this.ud && 0 <= this.ud.indexOf("billboard");};c.prototype.WMb=function(){return !!this.ud && 0 <= this.ud.indexOf("video-merch");};c.prototype.vMb=function(){return !!this.ud && 0 <= this.ud.indexOf("mini-modal");};c.prototype.TL=function(){return this.PMb() || this.XLb() || this.WMb() || this.vMb();};c.prototype.C4=function(){var W,aa,Q;aa={Qcb:!0};if((null === (W=this.Pk(this.sna(aa)).W) || void 0 === W || !W.Ga.voa) && this.rw){this.vB(aa).forEach(function(ka){var P,fa;if((0,N.rb)(ka.Cja) && (0,N.rb)(ka.iUa) && (0,N.rb)(ka.hUa) && (0,N.rb)(ka.gUa) && (0 < ka.Cja || 0 < ka.iUa)){P=1;fa=1;(0,N.rb)(ka.y6a) && (0,N.rb)(ka.z6a) && (P=ka.y6a,fa=ka.z6a);P=ka.gUa * fa / (ka.hUa * P);Q=(0,N.rb)(Q)?0 < ka.Cja?Math.max(Q,P):Math.min(Q,P):P;}});return Q;}};c.prototype.EIb=function(){return {tr:this.Bwa,rt:this.hua};};c.prototype.sL=function(W){return this.Vk[W];};c.prototype.jia=function(){return this.jm?this.Fa.Fb().ba(D.na) - this.jm:this.sa.ue.ba(D.na) - this.EF();};c.prototype.UR=function(){var W;if(this.jm)return this.Fa.Fb().ba(D.na) - this.jm;W=this.Fa.xy;return this.QV - (this.Rh.ba(D.na) + W.ba(D.na));};c.prototype.kia=function(){return this.jm?this.Fa.Fb().ba(D.na) - this.jm:this.QV - this.EF();};c.prototype.aGb=function(){var W,aa;W=this.loadTime;aa={};(0,J.bg)(this.Oha,function(Q,ka){aa[Q]=ka.map(function(P){return P - W;});});return g.ev?{level:g.ev.NYa(),charging:g.ev.fma(),statuses:aa}:null;};c.prototype.i5=function(){this.XWa();return this.T$;};c.prototype.EF=function(){var W;W=this.Wa.VC;W=(0,N.rb)(W)?W:this.Rh.ba(D.na) + this.Fa.xy.ba(D.na);(0,G.oa)((0,N.RB)(W));return W;};c.prototype.yZa=function(){return this.Fa.Fb().ba(D.na) - this.Rh.ba(D.na);};c.prototype.H5b=function(){this.l0b=!0;};c.prototype.H7=function(){this.n8a();};c.prototype.PX=function(){var W;W=this.X1();return W && W.vbuflmsec || 0;};c.prototype.ER=function(){var W;W=this.X1();return W && W.abuflmsec || 0;};c.prototype.nxa=function(){var W;W=this.X1();return W && W.vbuflbytes || 0;};c.prototype.yha=function(){var W;W=this.X1();return W && W.abuflbytes || 0;};c.prototype.KW=function(W,aa,Q){var ka,P,fa,ta;ka=this;W=void 0 === W?this.aa:W;Q=void 0 === Q?!0:Q;!1;P=!!aa;fa=!P && W !== this.aa;ta=u.config.M8.enabled?M.rl.Nkb:fa?M.rl.TI:this.TL()?M.rl.O_:M.rl.sm;P=this.TL() || P || fa?void 0:this.Rb.Sk.N4(fa);return this.Qh.gy({la:W.la,Wa:W.Wa,J:W.O,Oq:ta,rf:P,fO:aa,Of:W.Of},W.Of?!1:Q).then(function(pa){pa.Doa && ka.fireEvent(R.ea.yU,{O:W.O});return pa;});};c.prototype.K8=function(W,aa,Q){var ka,P,fa;aa=void 0 === aa?this.aa:aa;Q=void 0 === Q?!1:Q;!1;if(aa.Wa.dg && !W.Ga.np)this.kd(F.V.Web);else {ka=this.NU.create(this);P=!!(aa.Of && aa.Of.mc && aa.Of.IV);if(Q){fa=ka.KKb(aa.W,aa.yc,W);W=fa.W;fa=fa.yc;}else (W=P?ka.YYb(W,null === (fa=aa.Of) || void 0 === fa?void 0:fa.IV):W,fa=ka.i6a(W));aa.W=W;aa.yc=fa;Q || (aa.Mg.set(fa.o3),aa.tc.set(fa.nS),aa.xb.set(fa.oS));aa.$c.ha && aa.$c.SVb();}};c.prototype.SEb=function(W){var aa;aa=void 0 === aa?!1:aa;!1;this.uH({J:W,jG:aa});};c.prototype.k_a=function(W,aa){if(!this.Ai.kxa)return !0;W=this.Rp.ba(D.na) - W;return 0 > W || W > aa;};c.prototype.BYb=function(){!1;this.je.seek(this.sB() || 0,R.Vc.ZY);};c.prototype.O_a=function(W,aa){var Q,ka;Q=this;!1;ka=this.aa;ka.v3=!0;return this.KW(ka,{DV:ka.Kf,jYb:W,mYb:aa},!1).then(function(P){var fa;Q.K8(P,ka,!0);Q.Qh.dX(ka.O,ka.W);return null === (fa=Q.$a) || void 0 === fa?void 0:fa.kO(Q.P6a);}).then(function(){var P,fa;P=ka.ci.find(function(ta){return ta.trackId === W;});fa=ka.hh.find(function(ta){return ta.trackId === aa;});if(!(P && P.xg && fa && fa.xg))throw Error("Track hydration failed: requiredAudioTrackId=" + W + " requiredTextTrackId=" + aa);Q.fireEvent(R.ea.Nbb);return {tc:P,rX:fa};});};c.prototype.Vn=function(){return this.Ed;};c.prototype.uH=function(W){var aa,Q,ka;aa=W.J;Q=W.jG;W=W.VE;!1;W !== this.VE && (this.VE=W,this.Icb());if(this.WM){if(aa === this.VA){this.WM=aa;return;}W=this.Pk(aa);ka=W.W;ka && (0,N.Qc)(ka.nH) && (0,N.Qc)(ka.mN) && W.ny({pr_ats:ka.nH,pr_at:ka.mN});this.fireEvent(R.ea.Tpa,{O:this.VA});this.VA=aa;this.oha();Q || this.i9a();this.qy=this.sa.xH;this.aa.jm || (this.aa.jm=this.Fa.Fb().ba(D.na));}("boolean" === typeof this.Wa.PK?this.Wa.PK:u.config.PK) && !Q && this.Iwa.PK(this);Q={O:aa,jG:Q,WM:this.WM};this.WM=aa;this.fireEvent(R.ea.yG,Q);};c.prototype.myb=function(){!1;try{this.Rb=new m.aGa(this);this.U2=new ea.AAa(this);this.dM=this.eM.create(this,this.aa,!0,this.UF);u.config.yub && new ca.lCa(this,this.Sf,this.log);u.config.WR && this.WR(this);this.h5b();}catch(W){this.vr(F.V.dib,{za:F.R.ql,Kb:(0,J.ve)(W)});}};c.prototype.h5b=function(){!1;this.vh?this.UE(this.vh):(0,N.Moa)(this.O)?this.$ub():this.vr(F.V.aib,{Kb:"" + this.O});};c.prototype.$ub=function(){var W;!1;W=f.KH.V9a;W?W.ka?this.Sia():this.vr(F.V.ZDa,W):((0,G.oa)(!u.config.M3),this.xga());};c.prototype.Sia=function(){var W;W=this;!this.background.value && u.config.Sia?(0,y.yda)(function(){W.xga();},this):this.xga();};c.prototype.xga=function(){var W;W=this;!1;this.state.value == R.Ub.LOADING && (u.config.Lka && !this.TL()?f.KH.Wu(y.TIa,function(aa){aa.ka?(W.I6=aa.I6,W.hRa()):W.vr(F.V.YDa);},!0):this.hRa());};c.prototype.hRa=function(){var W,aa,Q;W=this;if(this.state.value == R.Ub.LOADING){this.log.info("Authorizing",this);aa=this.Fa.Fb().ba(D.na);this.ke("ats");(0,G.AK)(this.O);(0,G.AK)(this.Uj);Q=this.ZVb.bind(this,aa);Promise.all([this.W,u.config.qr && this.Qh.m5(this.O)?this.Qh.y4(this.O).catch(function(){}):void 0]).then(function(ka){var P,fa;P=ma(ka);ka=P.next().value;P=P.next().value;ka && P?fa=P.Ga.expiration > ka.Ga.expiration?P:ka:ka?fa=ka:P && (fa=P);fa && 18E5 > fa.Ga.expiration - (0,Xa.H2)() && (fa=void 0);return fa?(W.PE=fa === ka?"ui":"videopreparer",fa):W.KW();}).then(function(ka){try{W.K8(ka);Q(p.kg);W.G6a || (W.G6a=!0,W.$ra.Sj(W));}catch(P){W.log.error("Exception processing authorization response",P);Q({ka:!1,za:F.R.xkb});}}).catch(Q);}};c.prototype.ZVb=function(W,aa){var Q,ka;Q=this;!1;if(this.state.value == R.Ub.LOADING){this.ke("at");ka=this.W;this.ny({pr_ats:ka && (0,N.Qc)(ka.nH)?ka.nH:W,pr_at:ka && (0,N.Qc)(ka.mN)?ka.mN:this.Fa.Fb().ba(D.na)});aa.ka?0 < this.yc.tg.length && this.yc.nS && this.yc.o3 && this.yc.oS?this.U6a?(this.log.info("Processing post-authorize",this),this.U6a(this,function(P){P.ka?Q.qcb():Q.vr(F.V.hib,P);})):this.qcb():this.vr(F.V.xFa,this.Upa(this.yc)):this.vr(F.V.KI,aa);}};c.prototype.qcb=function(){var W,aa;k.__awaiter(this,void 0,void 0,function ka(){var P;P=this;return Ia(ka,function(fa){!1;if(P.state.value != R.Ub.LOADING)return fa.return();(null === (W=P.aa.W) || void 0 === W?0:W.Ga.np) && P.ib.reset((0,Ja.B2)(null === (aa=P.aa.W) || void 0 === aa?void 0:aa.Ga.np,{config:u.config}));P.$a=P.sha(P.ib,P);P.$a.L_b({gp:d.gp,config:u.config,Zd:P.Zd,Bc:P.Bc,ot:P.ot.bind(P),Yi:C.Yi,OW:P.OW.bind(P),uH:P.uH.bind(P)});P.SUb();fa.Kv=0;});});};c.prototype.mzb=function(){var W,aa,Q,ka,P,fa,ta;W=this;!1;try{if(this.state.value === R.Ub.LOADING){this.Rb.open();aa=new Promise(function(pa){W.Rb.addEventListener(L.kj.aab,pa);});this.je=new I.jGa(this);Q=this.yc.nS.Ch === oa.Jo.NONE;ka={pdb:this.yc.nS.co || Q};P={la:this.la,Np:this.Gf,eB:this.eB};try{if(this.state.value !== R.Ub.LOADING)return;fa=this.$a;fa.Q5({flags:ka,kUa:P,I:this.P6a,Bja:this.Bja.bind(this)});ta=this.ib.V4(this);this.RTa(ta);fa.Wt(ta);this.Fqb();fa.Zsb({Vk:this.Vk,loadTime:this.loadTime});this.Ed=this.Cga(fa,this);this.Ed.Cl.addListener(function(pa){pa.newValue?(W.nn.rKb(),u.config.qr && W.Xc.d_a()):W.nn.n0b();});this.Ed.addEventListener(R.nY.yA,function(){W.Xc.d_a();});}catch(pa){throw (this.log.error("Failed to initialize ASE streaming",{error:pa,startPts:this.ab,flags:ka}),pa);}aa.then(function(){var pa;W.state.value !== R.Ub.CLOSING && W.state.value !== R.Ub.CLOSED && (null === (pa=W.$a) || void 0 === pa?void 0:pa.open());});this.mediaTime.set(this.ab);this.nn=new l.YLa(this);if("boolean" === typeof this.Wa.b9?this.Wa.b9:u.config.b9)this.vX=new z.ZLa(this);this.LN();y.Ada.forEach(function(pa){pa(W);});this.uRb();}}catch(pa){this.vr(F.V.fib,{za:F.R.ql,Kb:(0,J.ve)(pa)});}};c.prototype.vRb=function(){(0,G.oa)(this.state.value == R.Ub.OI);this.loadTime=this.Fa.Fb().ba(D.na);this.state.set(R.Ub.LOADING);};c.prototype.vr=function(W,aa){this.done || (this.done=!0,aa instanceof Y.Lc?this.kd(aa.code,aa):this.kd(W,aa));};c.prototype.WR=function(W){var Q,ka;function aa(){var P,fa;P=g.ev.fma() + "";fa=W.Oha[P];fa || (fa=W.Oha[P]=[]);fa.push(Q.Fa.Fb().ba(D.na));Q.log.trace("charging change event",{level:g.ev.NYa(),charging:g.ev.fma()});}Q=this;ka=g.ev.Cfb;g.ev.addEventListener(ka,aa);W.addEventListener(R.ea.ug,function(){g.ev.removeEventListener(ka,aa);});};c.prototype.Nva=function(W){var aa,Q;aa=this;if(this.state.value == R.Ub.OI || this.state.value == R.Ub.LOADING || this.state.value == R.Ub.ae){this.Bc.info("Playback closing",this,W?{ErrorCode:W.x3}:void 0);this.CE("Closing");w.fe.removeListener(w.Qk,this.rV);this.vh=W;this.aa.eS=this.sB();this.XWa();(null === (Q=this.$a) || void 0 === Q?0:Q.Ih) && this.$a.flush();try{this.Eb.Cc(R.ea.ug,{movieId:this.VA});}catch(ka){this.Bc.error("Unable to fire playback closing event",ka);}this.state.set(R.Ub.CLOSING);this.geb();this.l0b || (0,K.Qf)(function(){return aa.n8a();});}};c.prototype.wEb=function(){this.Eb.Cc(R.ea.lcb);};c.prototype.YWa=function(){var W;W=this.mediaTime.value;this.ANb != W && (!1,this.ANb=W,this.Eb.Cc(R.ea.pwa));};c.prototype.n8a=function(){var W,aa;W=this;(0,G.oa)(this.state.value == R.Ub.CLOSING);aa=this.I6;this.I6=void 0;aa?f.KH.release(aa,function(Q){(0,G.oa)(Q.ka);W.Zia();}):this.Zia();};c.prototype.geb=function(){var W;null === (W=this.$a) || void 0 === W?void 0:W.$e();delete this.$a;};c.prototype.Zia=function(){var W;this.Zia=p.Rw;(0,G.oa)(this.state.value == R.Ub.CLOSING);W=y.zn.indexOf(this);(0,G.oa)(0 <= W);y.zn.splice(W,1);this.state.set(R.Ub.CLOSED);this.Eb.Cc(R.ea.closed,void 0,!0);this.Eb.uh();delete this.ee;this.aa.H7();};c.prototype.oha=function(){this.Wa.playbackState && ("number" === typeof this.Wa.playbackState.volume && this.volume.set((0,E.Sw)(this.Wa.playbackState.volume,0,1)),"boolean" === typeof this.Wa.playbackState.muted && this.muted.set(this.Wa.playbackState.muted),"number" === typeof this.Wa.playbackState.playbackRate && this.playbackRate.set(this.Wa.playbackState.playbackRate));};c.prototype.XWa=function(){this.Eb.Cc(R.ea.L$a,{T$:this.T$});};c.prototype.OW=function(W,aa,Q){aa=this.j_a(aa);W=this.ii(W);aa && W.Ac[Q].set(aa);};c.prototype.ot=function(){return {AudioBufferLength:this.ER(),VideoBufferLength:this.PX()};};c.prototype.X1=function(){var W;if(null === (W=this.$a) || void 0 === W?0:W.Ih)return this.$a.G0a();};c.prototype.uRb=function(){this.state.value == R.Ub.LOADING && this.state.set(R.Ub.ae);};c.prototype.vyb=function(){var W,aa,Q;W=void 0 === W?this.O:W;aa=this.vB({J:W});Q=this.Pk(W);return (0,Ga.Gs)(aa,function(ka){return Q.pM.iz(ka);});};c.prototype.Bja=function(W){var aa,Q;W=void 0 === W?this.O:W;aa=this.vB({J:W});Q=this.Pk(W);return (0,Ga.XZa)(aa,function(ka){return Q.pM.iz(ka);});};c.prototype.RTa=function(W){var aa;aa=this;Object.keys(W.L).filter(function(Q){return !aa.Qp.has(W.L[Q].J);}).forEach(function(Q){var ka,P,fa;P=W.L[Q];fa=P.J;P=Object.assign(null !== (ka=aa.Wj.CL(fa).qb) && void 0 !== ka?ka:{},{ab:P.va,nf:P.ta,dg:!1,VC:Date.now(),QL:!0});aa.Oga({J:fa,I:Q,Wa:P});});};Wa.Object.defineProperties(c.prototype,{WG:{configurable:!0,enumerable:!0,get:function(){return this.Qp.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Qp.get(this.VA);}},ab:{configurable:!0,enumerable:!0,get:function(){var W,aa;return void 0 !== this.Fl?this.Fl:null !== (aa=null === (W=this.WG.next()) || void 0 === W?void 0:W.value.Wa.ab) && void 0 !== aa?aa:0;}},yc:{configurable:!0,enumerable:!0,get:function(){return this.aa.yc;},set:function(W){this.aa.yc=W;}},m4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.m4;}},n4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.n4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.aa.I;}},P6a:{configurable:!0,enumerable:!0,get:function(){return this.ib.lxa?this.ib.th:this.aa.I;}},ee:{configurable:!0,enumerable:!0,get:function(){return this.aa.ee;},set:function(W){this.aa.ee=W;}},jm:{configurable:!0,enumerable:!0,get:function(){return this.aa.jm;},set:function(W){this.aa.jm=W;}},PE:{configurable:!0,enumerable:!0,get:function(){return this.aa.PE;},set:function(W){this.aa.PE=W;}},OE:{configurable:!0,enumerable:!0,get:function(){return this.aa.OE;},set:function(W){this.aa.OE=W;}},P5:{configurable:!0,enumerable:!0,get:function(){return this.aa.P5;},set:function(W){this.aa.P5=W;}},W:{configurable:!0,enumerable:!0,get:function(){return this.aa.W;},set:function(W){this.aa.W=W;}},Fl:{configurable:!0,enumerable:!0,get:function(){return this.aa.Fl;},set:function(W){this.aa.Fl=W;}},mX:{configurable:!0,enumerable:!0,get:function(){return this.aa.mX;},set:function(W){this.aa.mX=W;}},Wa:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa;},set:function(W){this.aa.Wa=W;}},dM:{configurable:!0,enumerable:!0,get:function(){return this.aa.dM;},set:function(W){this.aa.dM=W;}},Xk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Xk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.aa.O;}},ud:{configurable:!0,enumerable:!0,get:function(){return this.aa.ud;}},ci:{configurable:!0,enumerable:!0,get:function(){return this.aa.ci;}},rw:{configurable:!0,enumerable:!0,get:function(){return this.aa.rw;}},pz:{configurable:!0,enumerable:!0,get:function(){return this.aa.pz;}},hh:{configurable:!0,enumerable:!0,get:function(){return this.aa.hh;}},Kf:{configurable:!0,enumerable:!0,get:function(){return this.aa.Kf;}},nG:{configurable:!0,enumerable:!0,get:function(){return this.aa.nG;}},Ft:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ft;}},Nk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Nk;}},tg:{configurable:!0,enumerable:!0,get:function(){return this.aa.tg;}},Qx:{configurable:!0,enumerable:!0,get:function(){return this.aa.Qx;},set:function(W){this.aa.Qx=W;}},la:{configurable:!0,enumerable:!0,get:function(){return this.aa.la;}},Uj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Uj;}},Rh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Rh;}},qy:{configurable:!0,enumerable:!0,get:function(){return this.aa.qy;},set:function(W){this.aa.qy=W;}},Gf:{configurable:!0,enumerable:!0,get:function(){return this.aa.Gf;}},zH:{configurable:!0,enumerable:!0,get:function(){return this.aa.zH;}},iS:{configurable:!0,enumerable:!0,get:function(){return this.aa.iS;}},Rc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Rc;}},lp:{configurable:!0,enumerable:!0,get:function(){return this.aa.lp;}},ska:{configurable:!0,enumerable:!0,get:function(){return this.aa.ska;}},pM:{configurable:!0,enumerable:!0,get:function(){return this.aa.pM;}},eB:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.A3 && 0 === this.aa.la % u.config.A3;}},v3:{configurable:!0,enumerable:!0,get:function(){return this.aa.v3;}},$c:{configurable:!0,enumerable:!0,get:function(){return this.aa.$c;}},Ija:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},zg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Uj,Xid:this.la};}},w8:{configurable:!0,enumerable:!0,get:function(){return this.ib.w8;}}});b.ZIa=c;},2408:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C,D){var F;F=this;this.j=x;this.Mk=A;this.JX=z;this.Dh=B;this.VW=C;this.Om=D;this.rUa={};this.update=function(){var G;if(F.zo.selectionStart == F.zo.selectionEnd){G="";F.pT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(J){var K;K=ma(J);J=K.next().value;K=K.next().value;G+=J + ": " + K + "\n";});});F.zo.style.fontSize=(0,h.Sw)((0,g.MI)(F.element.clientHeight / 60),8,18) + "px";F.zo.value=G;}};this.uSb=function(){var G,E;if(F.j.je){E=F.j.je.JF();E && (F.Eja=E - (null !== (G=F.Gbb) && void 0 !== G?G:0),F.Gbb=E,F.BM());}};this.BM=function(){F.JX.Oj(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == n.Nz.Yfb || G.keyCode == n.Nz.Q) && F.toggle();};this.D6a=[x.mediaTime,x.Ac[q.v.ga],x.Ac[q.v.Z],x.tf,x.Td,x.Qg,x.Ne,x.$h,x.state,x.Aq,x.mb,x.volume,x.muted];this.element=this.Dh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.zo=this.Dh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.zo);this.controls=this.Dh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);A=this.Dh.createElement("button",void 0,"X");A.addEventListener("click",function(){return F.yv();},!1);this.controls.appendChild(A);f.fe.addListener(f.wB,this.onkeydown);x.addEventListener(l.ea.ug,function(){f.fe.removeListener(f.wB,F.onkeydown);F.yv();});}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;k=a(58680);f=a(25892);h=a(19591);d=a(25420);g=a(50876);m=a(95919);l=a(34202);n=a(50364);p=a(2467);q=a(18920);u=a(91854);r={};t=(r[l.Ub.OI]="Not Loaded",r[l.Ub.LOADING]="Loading",r[l.Ub.ae]="Normal",r[l.Ub.CLOSING]="Closing",r[l.Ub.CLOSED]="Closed",r);r={};v=(r[l.yf.ae]="Normal",r[l.yf.Pe]="Pre-buffering",r[l.yf.FKa]="Network stalled",r);r={};w=(r[l.bb.Mf]="Waiting for decoder",r[l.bb.me]="Playing",r[l.bb.Xh]="Paused",r[l.bb.jq]="Media ended",r);y=[l.ea.X6];c.prototype.ZZb=function(x){this.rUa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.aU=pb.setInterval(this.uSb,1E3),document.body.appendChild(this.element),this.D6a.forEach(function(A){A.addListener(x.BM);}),y.forEach(function(A){x.j.addEventListener(A,x.BM);}),this.visible=!0,this.Om.hX().then(function(A){x.Fna=A;x.BM();}));this.update();};c.prototype.yv=function(){var x;x=this;this.visible && (clearInterval(this.aU),this.Gbb=this.Eja=void 0,document.body.removeChild(this.element),this.D6a.forEach(function(A){A.removeListener(x.BM);}),y.forEach(function(A){x.j.removeEventListener(A,x.BM);}),this.JX.Oj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.yv():this.show();};c.prototype.pT=function(){var x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb,Qa,Za,hb,lb,yb,Hb,Jb,Db,Lb,Rb,bc,Ib,Ob;x=this;Y=[];ea=this.Mk();Y.push({Version:"6.0040.799.911",Esn:ea?ea.jk:"UNKNOWN",PBCID:this.j.Gf,UserAgent:g.CD});try{ca=this.j.mediaTime.value;oa={MovieId:this.j.O,PackageId:null === (z=null === (A=this.j.W) || void 0 === A?void 0:A.Ga) || void 0 === z?void 0:z.hn,Xid:this.j.la + " (" + k.zn.map(function(Sb){return Sb.la;}).join(", ") + ")",Position:(0,h.oh)(ca),Duration:(0,h.oh)(this.j.Qx.ba(p.na)),PlayerDuration:(0,h.oh)(this.j.Rp.ba(p.na)),Volume:(0,g.vn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Rma()};if(this.j.Wa.dg || this.j.Wa.QL)oa["Segment Position"]=(0,h.oh)(this.j.sB());if(this.j.$c.ha){oa["Is Live"]="true";oa["Live Event Slate"]=this.j.$c.rB();oa["Is At Live Edge"]="" + this.j.$c.LB();oa["Adjusted Live Edge Target"]=(0,h.oh)(this.j.$c.Qq());oa["Live Adjusted Duration"]=(0,h.oh)(this.j.$c.QYa());oa["Live Adjusted Playback Position"]=(0,h.oh)(this.j.$c.f5());oa["Live Event Time Playback Position"]=this.j.$c.QGb();Ga=[q.v.Z,q.v.ga,q.v.Ya].reduce(function(Sb,cc){var nc,Ac;Sb[(0,u.CG)(cc)]=null === (Ac=null === (nc=x.j.$a) || void 0 === nc?void 0:nc.Cv) || void 0 === Ac?void 0:Ac[cc];return Sb;},{});oa["Live Logging Info"]=JSON.stringify(Ga);}Y.push(oa);}catch(Sb){}try{Y.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.Aq.value],"Rendering state":w[this.j.mb.value]});}catch(Sb){}try{Fa=this.j.nxa() + this.j.yha();Ja=this.j.tf.value;Xa=null === Ja || void 0 === Ja?void 0:Ja.stream;cb=this.j.Td.value;W=null === cb || void 0 === cb?void 0:cb.stream;aa=null !== (B=null === Xa || void 0 === Xa?void 0:Xa.bitrate) && void 0 !== B?B:"?";Q=W?W.bitrate + " (" + W.width + "x" + W.height + ")":"?";ka=null !== (C=null === Xa || void 0 === Xa?void 0:Xa.Vb) && void 0 !== C?C:"?";P=null !== (D=null === W || void 0 === W?void 0:W.Vb) && void 0 !== D?D:"?";fa=null !== (F=null === W || void 0 === W?void 0:W.zb) && void 0 !== F?F:"?";ta=null !== (E=null === (G=this.j.Ne.value) || void 0 === G?void 0:G.zb) && void 0 !== E?E:"?";pa=null !== (K=null === (J=this.j.Qg.value) || void 0 === J?void 0:J.bitrate) && void 0 !== K?K:"?";Ra=null !== (I=null === (N=this.j.Ne.value) || void 0 === N?void 0:N.bitrate) && void 0 !== I?I:"?";Pa=this.j.Ac[q.v.Z].value;db=this.j.Ac[q.v.ga].value;Y.push({"Playing bitrate (a/v)":aa + " / " + Q,"Playing/Buffering vmaf":fa + "/" + ta,"Buffering bitrate (a/v)":pa + " / " + Ra,"Buffer size in Bytes (a/v)":this.j.yha() + " / " + this.j.nxa(),"Buffer size in Bytes":"" + Fa,"Buffer size in Seconds (a/v)":(0,h.oh)(this.j.ER()) + " / " + (0,h.oh)(this.j.PX()),"Downloadables (a/v)":ka + " / " + P,"Current CDN (a/v)":(db?db.name + ", Id: " + db.id:"?") + " / " + (Pa?Pa.name + ", Id: " + Pa.id:"?")});}catch(Sb){}try{wb=this.j.tf.value;A={};if(wb && wb.stream){ob=wb.stream;Fb=ob.track;Qa=this.VW.W2(Fb.streams);Za=ob.af;hb=(/xheaac/).test(Za)?"xhe-aac":(/heaac/).test(Za)?"he-aac":(/ddplus/).test(Za)?"ddplus":"unknown";(/atmos/).test(Za) && (hb+=", atmos");A["Audio Track"]=Fb.re + ", Id: " + Fb.trackId + ", Channels: " + Fb.channels + ", Codec: " + Qa + " (" + hb + ")";A["Audio Tags"]=null === (O=wb.stream) || void 0 === O?void 0:O.Di.toString();}lb=this.j.Td.value;if(lb && lb.stream){yb=lb.stream;Hb=this.VW.c3(this.j.Mg.value?this.j.Mg.value.streams:[]);Jb=yb.af;Db=(/hevc/).test(Jb)?"hevc":(/vp9/).test(Jb)?"vp9":(/h264hpl/).test(Jb)?"avchigh":(/av1/).test(Jb)?"av1":"avc";(/hdr/).test(Jb) && (Db+=", hdr");(/dv/).test(Jb) && (Db+=", dv");(/prk/).test(Jb) && (Db+=", prk");A["Video Track"]="Codec: " + Hb + " (" + Db + ")";A["Video Tags"]=null === (L=lb.stream) || void 0 === L?void 0:L.Di.toString();}Lb=this.j.$h.value;A["Timed Text Track"]=Lb?Lb.re + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId:"none";Y.push(A);}catch(Sb){}try{Rb=this.j.je;bc=this.j.Ne.value?this.j.Ne.value.framerate:0;Ib=a(83795).V2a;Y.push({Framerate:bc.toFixed(3),"Current Dropped Frames":(0,m.rb)(this.Eja)?this.Eja:"","Total Frames":Rb.vv(),"Total Dropped Frames":Rb.JF(),"Total Corrupted Frames":Rb.lT(),"Main Thread stall/sec":Ib?Ib.eHb().join(" "):"DISABLED",KeySystem:null === (H=this.j.ee) || void 0 === H?void 0:H.qL(),KeyStatus:null === (R=null === (M=this.j.ee) || void 0 === M?void 0:M.KYa) || void 0 === R?void 0:R.call(M),VideoDiag:(0,d.Rpa)(this.j.i5()),"HDR support":this.Fna?this.Fna.result + " (" + this.Fna.reason + ")":"unknown"});}catch(Sb){}try{Y.push({Throughput:this.j.sb + " kbps"});}catch(Sb){}Ob=void 0;try{Object.entries(this.rUa).forEach(function(Sb){var cc;cc=ma(Sb);Sb=cc.next().value;cc=cc.next().value;Ob=Ob || ({});Ob[Sb]=JSON.stringify(cc);});Ob && Y.push(Ob);}catch(Sb){}return Y;};b.aJa=c;},64155:function(r,b,a){var f,h,d,g;function c(m,l,n,p){this.la=m;this.gYb=l;this.ja=n;this.$f=p;this.Rc={};}function k(m,l){this.If=m;this.$f=l;this.Ad={};this.ja=m.Ta("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ekb=b.cJa=void 0;r=a(70655);f=a(86700);h=a(71163);d=a(58998);g=a(2467);k.prototype.pXb=function(m,l){this.Ad[m] && this.ja.warn("registerPlayback: xid " + m + " already registered, overriding");l=(l?l:this.$f.Fb()).ba(g.na);this.ja.trace("registerPlayback: xid " + m + " at " + l);this.Ad[m]=new c(m,l,this.ja,this.$f);return this.Ad[m];};k.prototype.iIb=function(m){this.Ad[m] || this.ja.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Ad[m];};k.prototype.KXb=function(m){this.ja.trace("removePlayback: xid " + m);delete this.Ad[m];};a=k;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Xa)),r.__param(1,(0,f.l)(d.Jc))],a);b.cJa=a;c.prototype.fp=function(m,l){l=l?l.ba(g.na):this.$f.Fb().ba(g.na) - this.gYb;this.ja.trace("addMilestone: xid " + this.la + " " + m + " at " + l);this.Rc[m]=l;};b.Ekb=c;},92979:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cda=void 0;a.prototype.Vpa=function(c){c=void 0 === c?{}:c;return {Uj:c.trackingId,j2:c.authParams,dm:c.sessionParams,ud:c.uiLabel,N$:c.uxLabels,ika:c.disableTrackStickiness,VC:c.uiPlayStartTime,m4:c.forceAudioTrackId,n4:c.forceTimedTextTrackId,dg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,PK:c.enableTrickPlay,Hna:c.heartbeatCooldown,QL:c.isPlaygraph,H6:c.loadImmediately || !1,u6a:c.pin,UV:c.preciseSeeking,ab:c.startPts,nf:c.endPts,$i:c.logicalEnd,b9:c.renderTimedText,uWa:c.extraManifestParams,wha:c.assetId,lsb:c.audioLanguages,s2b:c.textLanguages,ndb:c.videoLanguage,hn:c.packageId,UUa:c.desiredDownloadables,Vta:c.requestReference,Tqb:c.additionalAudioAssets,Xqb:c.additionalTextAssets};};b.Cda=a;},902:function(r,b,a){var k,f;function c(h,d){h=k.Hb.call(this,h) || this;h.gqa=d;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;k=a(14414);f=a(19591);ia(c,k.Hb);c.prototype.set=function(h){k.Hb.prototype.set.call(this,(0,f.Sw)(h,0,this.gqa));};b.dJa=c;},69444:function(r,b,a){var k,f,h;function c(d,g,m,l,n,p,q,u,t,v,w,y,x,A){this.index=d;this.O=g;this.I=m;this.Wa=l;this.la=n;this.Rh=p;this.N2a=q;this.pwb=t;this.$3a=w;this.Of=x;this.tc=new k.Hb(null);this.Mg=new k.Hb(null);this.xb=new k.Hb(null);this.$h=new k.Hb(null);this.Pt=new k.Hb(void 0);this.Ne=new k.Hb(null);this.Qg=new k.Hb(null);this.tf=new k.Hb(null);this.Td=new k.Hb(null);this.Ac=[new k.Hb(null),new k.Hb(null)];this.mediaTime=new k.Hb(void 0);this.playbackRate=new k.Hb(1);this.lp=new k.Hb(null);this.background=new k.Hb(!1);this.PE=this.OE="notcached";this.v3=!1;u && (this.Ne.set(u.Ne.value),this.Qg.set(u.Qg.value));this.Xk=v(this);this.Yl=this.$3a.pXb(this.la,this.Rh);this.$c=y(this,A);}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;k=a(14414);f=a(2467);h=a(70633);c.prototype.ke=function(d){this.Yl.fp(d);};c.prototype.ny=function(d){var g;g=this;Object.entries(d).forEach(function(m){var l;l=ma(m);m=l.next().value;l=l.next().value;g.Yl.fp(m,(0,f.Lb)(l - g.Rh.ba(f.na)));});};c.prototype.H7=function(){this.$3a.KXb(this.la);};Wa.Object.defineProperties(c.prototype,{ud:{configurable:!0,enumerable:!0,get:function(){return this.Wa.ud;}},N$:{configurable:!0,enumerable:!0,get:function(){return this.Wa.N$;}},Nk:{configurable:!0,enumerable:!0,get:function(){return this.yc && this.yc.Nk;}},ci:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.ci) && void 0 !== d?d:[];}},rw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.rw) && void 0 !== d?d:[];}},pz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.pz) && void 0 !== d?d:[];}},hh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.hh) && void 0 !== d?d:[];}},Kf:{configurable:!0,enumerable:!0,get:function(){return this.yc && this.yc.Kf;}},nG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.nG) && void 0 !== d?d:!1;}},Ft:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.Ft) && void 0 !== d?d:[];}},tg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.yc && this.yc.tg) && void 0 !== d?d:[];}},Qx:{configurable:!0,enumerable:!0,get:function(){var d,g,m,l,n;return this.$c.ha?((0,h.oa)(void 0 === this.nJ || Infinity === this.nJ.ba(f.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.$c.ha + ", contentDuration:" + (null === (d=this.nJ) || void 0 === d?void 0:d.display)),(0,f.Lb)(Math.max(null !== (g=this.$c.Qq()) && void 0 !== g?g:0,null !== (m=this.mediaTime.value) && void 0 !== m?m:0))):this.nJ && 0 < this.nJ.ba(f.na)?this.nJ:(0,f.Lb)(null !== (n=null === (l=this.W) || void 0 === l?void 0:l.Ga.duration) && void 0 !== n?n:0);},set:function(d){this.nJ=d;}},G3a:{configurable:!0,enumerable:!0,get:function(){var d;return this.$c.ha?((0,h.oa)(void 0 === this.U0 || Infinity === this.U0.ba(f.na),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.$c.ha + ", maxSeekPts:" + (null === (d=this.U0) || void 0 === d?void 0:d.display)),(0,f.Lb)(this.$c.FHb())):this.U0;},set:function(d){this.U0=d;}},Uj:{configurable:!0,enumerable:!0,get:function(){return this.Wa.Uj || 0;}},iS:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.eS?this.eS:void 0 === this.mediaTime.value?null:this.pwb(this.mediaTime.value,this.I);}},Gf:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Ga.NA) || void 0 === g?void 0:g.Np;}},zH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Ga.NA) || void 0 === g?void 0:g.zH;}},Rc:{configurable:!0,enumerable:!0,get:function(){return this.Yl.Rc;}}});b.eJa=c;},76330:function(r,b,a){var k,f,h;function c(d,g,m){this.$g=d;this.wb=m;this.L=[];this.log=g.Ta("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;k=a(70655);r=a(86700);f=a(89542);h=a(71163);a(2467);c.prototype.some=function(d){return this.L.some(d);};c.prototype.v5=function(){return !!(this.L[0] && this.L[0].stream && this.wb.wg(this.L[0].stream.zb));};c.prototype.zp=function(d){return this.L.filter(d).reduce(function(g,m){return g + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.ET=function(d){return this.L.filter(d).reduce(function(g,m){return g + m.endTime - m.startTime;},0);};c.prototype.Wla=function(d,g){var m,l;m=this;l={};return this.L.filter(function(n){return !g || n.track.tC === g;}).reduce(function(n,p){var q,u,t;q=d.bind(m,p)();u=q.key;q=k.__rest(q,["key"]);p=p.endTime - p.startTime;t=l[u];t?t.duration+=p:(t=q,t.duration=p,n.push(t),l[u]=t);return n;},[]);};c.prototype.Df=function(d,g,m){var l;m=void 0 === m?this.$g.playbackRate.value:m;l=this.L;d && g && g >= d.startTime && (d={Ac:d.Ac,track:d.track,stream:d.stream,startTime:d.startTime,LB:d.LB,Coa:d.Coa,endTime:g,rate:m},(g=l[l.length - 1]) && g.track === d.track && g.stream === d.stream && g.Ac === d.Ac && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:l.push(d),!1);};a=c;a=k.__decorate([k.__param(1,(0,r.l)(h.Xa)),k.__param(2,(0,r.l)(f.Zf))],a);b.iJa=a;},33769:function(r,b,a){var k,f,h,d;function c(g){this.Fa=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;r=a(70655);k=a(34202);f=a(86700);h=a(58998);d=a(2467);c.prototype.Hj=function(g){g.cause !== k.Vc.Tr && (this.trace.unshift({time:this.Fa.Fb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.LZa=function(){var g,m;g=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.ubb(m.time),lastRepositionCause:this.YXa(m.event.cause),repositionTrace:this.trace.map(function(l){return {timeSince:g.ubb(l.time),cause:g.YXa(l.event.cause),newMediaTime:l.event.A7,oldMediaTime:l.event.lra,contentPts:l.event.pp,skip:l.event.skip};})};};c.prototype.ubb=function(g){return this.Fa.Fb().wa(g).ba(d.na);};c.prototype.YXa=function(g){switch(g){case k.Vc.Tr:return "initial";case k.Vc.Yw:return "seek";case k.Vc.pP:return "live_edge";case k.Vc.ZI:return "segment_changed";case k.Vc.W_:return "track_changed";case k.Vc.ZY:return "force_rebuffer";}};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Jc))],a);b.rKa=a;},45277:function(r,b,a){var k,f,h,d;function c(g,m,l){this.config=g;this.j=m;this.If=l;this.Qy=void 0;this.m8=!1;this.$1a=0;this.log=this.If.Ta();}Object.defineProperty(b,"__esModule",{value:!0});b.RKa=void 0;k=a(34202);f=a(2467);h=a(19591);d=a(95919);c.prototype.PHb=function(g,m,l,n,p){var q,u,t,v;l=void 0 === l?this.j.I:l;n=void 0 === n?!1:n;q=m === k.Vc.ZI;u=this.hub(q?g:this.mvb(g,l),m,n,l);n=this.j.$a;q?(g=u,u=n.nja(u)):g=n.pja(l,u);m === k.Vc.Tr && (this.j.BRa=u);p=this.di(g,m,p);t=(q=q || p)?g:u;if(this.j.Rp){v=this.j.Wa.dg?this.config().Ira:this.config().oC;this.j.k_a(t,v) || m !== k.Vc.Yw && m !== k.Vc.pP || (t=this.j.Rp.ba(f.na) - v - 1E3,q?(g=t,u=n.nja(t)):(g=n.pja(l,t),u=t));}return {A7:t,pp:u,AUb:g,di:p};};c.prototype.hub=function(g,m,l,n){this.DMb() || l?g=Math.round(g):(l=this.j.$a.jub(g,n),g=(0,d.rb)(l)?l:Math.round(g));this.j.Wa.dg && (g=this.REb(g));this.config().D9a && 0 !== g && m !== k.Vc.Tr && (g+=this.config().D9a);return g;};c.prototype.di=function(g,m,l){if(this.config().XAb || m === k.Vc.Tr || m === k.Vc.W_ || m === k.Vc.ZY || !l || g < l.start.ba(f.na) || g >= l.end.ba(f.na))return !1;m=this.j.$a;return (null === m || void 0 === m?void 0:m.Ih) && m.di(g) || !1;};c.prototype.DMb=function(){return this.j.Wa.dg?!0:"boolean" === typeof this.j.Wa.UV?this.j.Wa.UV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().UV && this.config().XUb:this.config().UV;};c.prototype.mvb=function(g,m){var l;l=this.j.ii(m);m=l.Qx;l=l.G3a;!1;m=l || m;l=this.j.$c.ha && !this.j.$c.d6()?0:this.config().$5b;m=Math.max(0,m.ba(f.na) - l);return (0,h.Sw)(g,0,m);};c.prototype.REb=function(g){var m,l,n;m=this.j.hT();if(Object.values(m).find(function(p){var q;q=p.ta;q=g < (null !== q && void 0 !== q?q:Infinity);return p.va <= g && q;}))return (!1,g);n=g;Object.entries(m).forEach(function(p){var q;p=ma(p);p.next();p=p.next().value.va;q=p - g;0 < q && (void 0 === l || q < l) && (l=q,n=p);});!1;return n;};Wa.Object.defineProperties(c.prototype,{f6:{configurable:!0,enumerable:!0,get:function(){return this.m8 || !!this.Qy;}}});b.RKa=c;},24016:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;r=a(70655);a=a(86700);c.prototype.aWb=function(f,h){h.dM.cb.Mua({xid:h.la,auxPlaybackcontextid:h.Kf,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};k=c;k=r.__decorate([(0,a.U)()],k);b.VKa=k;},73198:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t,v,w,y,x,A){var z;z=this;this.s3b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.gUb=v;this.hUb=w;this.size=y;this.$s=x;this.urls=A;this.type=k.Zj.Jwa;this.retry=!0;this.state=g.Ko.n_;this.zg={};this.d2={};this.$Vb=function(B){if(B.ka)try{z.data=z.s3b.parse(B.content);z.state=g.Ko.tD;z.log.trace("TrickPlay parsed",{Images:z.data.images.length},z.zg);z.j.fireEvent(m.ea.CX);}catch(C){z.state=g.Ko.mHa;z.log.error("TrickPlay parse failed.",C);}else (z.state=g.Ko.n_,z.log.error("TrickPlay download failed.",(0,l.Iw)(B),z.zg));};this.log=(0,h.Nh)(p,"TrickPlay");}b.z=void 0;k=a(20736);f=a(37986);h=a(89082);d=a(89927);g=a(84506);m=a(34202);l=a(68172);c.prototype.XGb=function(n){if(this.data && (this.$s && (n+=this.$s),n=Math.floor(n / this.data.header.xbb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.xbb,height:this.height,width:this.width,pixelAspectHeight:this.gUb,pixelAspectWidth:this.hUb};};c.prototype.yL=function(){switch(this.state){case g.Ko.tD:return "downloaded";case g.Ko.LOADING:return "loading";case g.Ko.qP:return "downloadfailed";case g.Ko.mHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.oJb();n?(this.state=g.Ko.LOADING,this.nBb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.oJb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.d2[n.urls[u]] || 0) <= f.config.o3b;});if(p){q=this.urls[p];(q in this.d2)?this.d2[q]++:this.d2[q]=1;return {url:q,Hm:p};}};c.prototype.nBb=function(n){var p,q;this.log.trace("Downloading",n.url,this.zg);q=this.z4(n.Hm);n={responseType:d.QT,Ac:q,url:n.url,track:this,zr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",ZA:"trickplay"};this.j.z5.download(n,this.$Vb);};c.prototype.z4=function(n){return this.j.tg.find(function(p){return p && p.id === n;});};b.z=c;},26277:function(r,b,a){var k,f,h,d,g,m;function c(l,n){this.$f=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;r=a(70655);k=a(34202);f=a(84506);h=a(58998);d=a(86700);g=a(2467);a=a(17244);c.prototype.PK=function(l){var n;l.DX={};if(!l.TL() && l.pz && 0 < l.pz.length && (l.oz=this.EYa(l),l.oz)){n=this.M_b(l);n() || (l.mb.addListener(n),l.Ne.addListener(n));}};c.prototype.M_b=function(l){var p;function n(){var q,u;if(!l.Ne.value || l.mb.value === k.bb.Mf)return !1;q=l.oz;u=q.getState();return u === f.Ko.LOADING?!1:u !== f.Ko.tD && q.retry?(q=p.jJb(l))?(l.DX.offset=p.$f.Fb().ba(g.na),l.oz=q,q.download(),!0):!1:(l.mb.removeListener(n),l.Ne.removeListener(n),!1);}p=this;return n;};c.prototype.jJb=function(l){var n,p;n=this.config();p=l.Xk.zp() < n.q3b;n=(l.Ne.value?l.Ne.value.bitrate:0) > n.p3b;return this.GIb(l,p && n);};c.prototype.GIb=function(l,n){if(n && (n=this.EYa(l),this.DZa(l,n.size)))return (l.DX.R8a="h",n);n=this.BHb(l);if(this.DZa(l,n.size))return (l.DX.R8a="l",n);};c.prototype.DZa=function(l,n){var p,q;p=this.config();q=Math.min(l.ER(),l.PX());return l.Nsb.Xtb(n) * (1 + .01 * p.Wqb[2]) < q * p.t3b;};c.prototype.EYa=function(l){return l.pz[l.pz.length - 1];};c.prototype.BHb=function(l){return l.pz[0];};m=c;m=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(h.Jc)),r.__param(1,(0,d.l)(a.cc))],m);b.iMa=m;},81853:function(r,b,a){var k,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(70655);f=a(70834);a=a(86700);c.prototype.parse=function(d){var g,m;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);m=new f.XO(g);d=this.DTb(m);g=this.ETb(m,g,d);return {header:d,images:g};};c.prototype.DTb=function(d){var g,m,l,n;if(d.Wma() < this.kYb())throw Error("array buffer too short");k.wFa.forEach(function(p){if(p != d.Yy())throw Error("BIF has invalid magic.");});g=d.bN();if(g > k.VERSION)throw Error("BIF version in unsupported");m=d.bN();if(0 == m)throw Error("BIF has no frames.");l=d.bN();n=d.Gj(k.eKa);return {version:g,NRb:m,xbb:l,nYb:n};};c.prototype.ETb=function(d,g,m){var p,q;for(var l=[],n=0;n <= m.NRb;n++){p={timestamp:d.bN(),offset:d.bN()};void 0 != q && l.push(g.subarray(q.offset,p.offset));q=p;}return l;};c.prototype.kYb=function(){return k.wFa.length + 4 + 4 + 4 + k.eKa;};h=k=c;h.wFa=[137,66,73,70,13,10,26,10];h.VERSION=0;h.eKa=44;h=k=r.__decorate([(0,a.U)()],h);b.kMa=h;},34886:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w;function c(y){return function(){return y.hb.get(k.uIa).qa();};}Object.defineProperty(b,"__esModule",{value:!0});b.YG=void 0;r=a(86700);k=a(12496);f=a(78274);h=a(63730);d=a(50086);g=a(31461);m=a(62181);l=a(34401);n=a(71133);p=a(4122);q=a(29608);u=a(12813);t=a(85470);v=a(61886);w=a(60484);b.YG=new r.Yc(function(y){y(l.hJa).to(n.gJa).da();y(f.oda).to(h.qIa).da();y(d.SHa).to(g.RHa).da();y(k.uIa).to(m.tIa).da();y(k.OP).yX(c);y(v.sIa).to(w.rIa).da();y(p.YHa).to(q.XHa).da().YX();y(u.wIa).to(t.vIa).da();y(u.nIa).to(t.mIa).da();y(u.pIa).to(t.oIa).da();});},50086:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SHa="PboCachedPlaydataSymbol";},4122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lda={oU:"keepAlive",splice:"splice"};b.YHa="PboEventSenderSymbol";},78274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oda="PboPlaydataFactorySymbol";},61886:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="PboPlaydataPlaybackMonitorSymbol";},12496:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uIa="PboPlaydataServicesSymbol";b.OP="PboPlaydataServicesProviderSymbol";},34401:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="PlaydataConfigSymbol";},31461:function(r,b,a){var h,d,g,m,l,n,p,q,u,t;function c(){}function k(){}function f(v,w,y,x,A){var z;z=this;this.is=v;this.gl=w;this.config=y;this.jF=x;this.TTb=A;this.St=function(){return new c().encode({version:z.version,data:z.YG});};this.G4b=function(B){B=z.upgrade(B);z.TTb.validate(B);return B;};this.upgrade=function(B){var C;if(z.is.Cm(B))return z.H4b(B);C=B.version;if(void 0 != C && z.is.fk(C) && 1 == C)return z.I4b(B);C=B.version;if(void 0 != C && z.is.fk(C) && 2 == C)return new c().decode(B);if(B.version && z.is.fk(B.version))throw new l.Lc(g.V.Mz,g.R.Eza,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new l.Lc(g.V.Mz,g.R.Iz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.yk=new n.cca(2,this.config().H6a,"" !== this.config().H6a && 0 < this.config().uUb,this.gl,this.St);}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(70655);h=a(86700);d=a(17244);g=a(68172);m=a(89542);l=a(56003);n=a(133);p=a(7336);q=a(15303);u=a(63730);a=a(12813);f.prototype.DWb=function(){return this.yk.load(this.G4b).catch(function(v){throw new l.Lc(g.V.Mz,v.za || v.ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};f.prototype.Hqb=function(v){return this.yk.add(v);};f.prototype.x8a=function(v){return this.yk.remove(v,function(w,y){return w.la === y.la;});};f.prototype.$wa=function(v){return this.yk.update(v,function(w,y){return w.la === y.la;});};f.prototype.toString=function(){return JSON.stringify(this.St(),null,"  ");};f.prototype.Mcb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.jF().jk:"";};f.prototype.fxa=function(v){return v.map(function(w){return {Vb:w.downloadableId,duration:w.duration};});};f.prototype.Ncb=function(v){var w;return v?{total:v.playTimes.total,WH:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,cO:v.playTimes.total,TC:0,UC:0,XH:0,YH:0,audio:this.fxa(v.playTimes.audio || []),video:this.fxa(v.playTimes.video || []),text:this.fxa(v.playTimes.timedtext || [])}:{total:0,WH:0,cO:0,TC:0,UC:0,XH:0,YH:0,audio:[],video:[],text:[]};};f.prototype.H4b=function(v){var w,y,x;w=this;v=JSON.parse(v);y={ig:"VOD",href:this.Mcb(v.playbackContextId),la:v.xid?v.xid.toString():"",O:v.movieId,position:v.position,Kx:v.timestamp,em:v.playback?1E3 * v.playback.startEpoch:-1,lM:v.mediaId,Qv:this.Ncb(v.playback),trackId:"",dm:{},profileId:v.accountKey};x=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.gl.create().then(function(A){A.save(w.config().yS,x,!1);});if("" === y.href || "" === y.la)throw new l.Lc(g.V.Mz,g.R.Iz);return {version:2,data:[y]};};f.prototype.I4b=function(v){var w;w=this;if(!v.playdata || !this.is.DA(v.playdata))throw new l.Lc(g.V.Mz,g.R.Iz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(y){return y.map(function(x){var A;return {ig:null !== (A=x.streamingType) && void 0 !== A?A:"VOD",href:w.Mcb(x.playbackContextId),la:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,Kx:x.timestamp,em:x.playback?1E3 * x.playback.startEpoch:-1,lM:x.mediaId,Qv:w.Ncb(x.playback),trackId:"",dm:{},profileId:x.profileId};});})(v.playdata)};};Wa.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yk.version;}},YG:{configurable:!0,enumerable:!0,get:function(){return this.yk.Gl;}}});t=f;t=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(m.Zf)),r.__param(1,(0,h.l)(p.yw)),r.__param(2,(0,h.l)(d.cc)),r.__param(3,(0,h.l)(q.Ew)),r.__param(4,(0,h.l)(a.pIa))],t);b.RHa=t;k.prototype.encode=function(v){var w;w=new u.v_();return v.map(w.encode);};k.prototype.decode=function(v){var w;w=new u.v_();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new k().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new k().decode(v.data)};};},29608:function(r,b,a){var k,f,h;function c(d,g){this.aS=g;this.log=d.Ta("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(70655);k=a(8010);f=a(71163);a=a(86700);c.prototype.Vua=function(d,g){var m;m=this.aS(k.Go.start);return this.qWa(m,d,g);};c.prototype.N9a=function(d){var g;g=this;return this.aS(k.Go.stop).Hf(this.log,d).then(function(){}).catch(function(m){g.log.error("PBO stop event failed",m);throw m;});};c.prototype.JW=function(d,g,m){d=this.aS(d);return this.qWa(d,g,m);};c.prototype.qWa=function(d,g,m){var l;l=this;return d.Sn(this.log,g.W.ri,m).then(function(){}).catch(function(n){l.log.error("PBO event failed",n);throw n;});};h=c;h=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(f.Xa)),r.__param(1,(0,a.l)(k.Hba))],h);b.XHa=h;},63730:function(r,b,a){var d,g,m,l,n,p;function c(q,u,t,v){this.sa=q;this.GT=u;this.Fa=t;this.profile=v;}function k(){}function f(){}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=b.v_=void 0;r=a(70655);d=a(86700);g=a(35664);m=a(2467);l=a(17244);n=a(58998);a=a(98540);h.prototype.encode=function(q){return {downloadableId:q.Vb,duration:q.duration};};h.prototype.decode=function(q){return {Vb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.WH,totalAdDuration:q.TC,totalCombinedDuration:q.cO,totalOtherDuration:q.UC,totalStartSlateDuration:q.YH,totalLiveEdgeDuration:q.XH,audio:q.audio.map(new h().encode),video:q.video.map(new h().encode),text:q.text.map(new h().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,WH:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,TC:q.totalAdDuration,cO:q.totalCombinedDuration,UC:q.totalOtherDuration,YH:q.totalStartSlateDuration,XH:q.totalLiveEdgeDuration,audio:q.audio.map(new h().decode),video:q.video.map(new h().decode),text:q.text.map(new h().decode)};};k.prototype.encode=function(q){return {streamingType:q.ig,href:q.href,xid:q.la,movieId:q.O,position:q.position,clientTime:q.Kx,sessionStartTime:q.em,videoTrackId:q.rO,audioTrackId:q.ip,timedTextTrackId:q.$N,mediaId:q.lM,playTimes:new f().encode(q.Qv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.dm,profileId:q.profileId};};k.prototype.decode=function(q){return {ig:q.streamingType,href:q.href,la:q.xid,O:q.movieId,position:q.position,Kx:q.clientTime,em:q.sessionStartTime,rO:q.videoTrackId,ip:q.audioTrackId,$N:q.timedTextTrackId,lM:q.mediaId,Qv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,dm:q.sessionParams,profileId:q.profileId};};b.v_=k;c.prototype.create=function(q){var u,t,v,w,y,x,A,z;z=Object.assign(Object.assign({},null !== (u=q.Wa.dm) && void 0 !== u?u:{}),{uiVersion:this.GT().rp.nw});u=null !== (t=q.$c.ha?q.$c.f5():q.iS) && void 0 !== t?t:0;return {href:q.W && q.W.ri?q.W.ri.rL("events").href:"",ig:null !== (w=null === (v=q.W) || void 0 === v?void 0:v.Ga.ig) && void 0 !== w?w:"VOD",la:q.la.toString(),O:q.O,position:Math.floor(u),Kx:this.sa.xH.ba(m.na),em:q.qy?q.qy.ba(m.na):-1,rO:null === (y=q.Mg.value) || void 0 === y?void 0:y.trackId,ip:null === (x=q.tc.value) || void 0 === x?void 0:x.trackId,$N:null === (A=q.xb.value) || void 0 === A?void 0:A.trackId,lM:void 0,Qv:this.Oma(q),trackId:void 0 !== q.Uj?q.Uj.toString():"",sessionId:this.GT().sessionId || this.Fa.id,appId:this.GT().appId || this.Fa.id,dm:z,profileId:this.profile};};c.prototype.load=function(q){return new k().decode(q);};c.prototype.Sma=function(q){return q.map(function(u){return {Vb:u.downloadableId,duration:u.duration};});};c.prototype.Oma=function(q){return (q=q.Xk)?(q=q.hIb(),{total:q.total,WH:q.totalContentTime,TC:q.totalAdDuration,UC:q.totalOtherDuration,cO:q.totalCombinedDuration,XH:q.totalLiveEdgeDuration,YH:q.totalStartSlateDuration,audio:this.Sma(q.audio),video:this.Sma(q.video),text:this.Sma(q.timedtext)}):{total:0,WH:0,TC:0,cO:0,UC:0,XH:0,YH:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.Fg)),r.__param(1,(0,d.l)(l.cc)),r.__param(2,(0,d.l)(n.Jc)),r.__param(3,(0,d.l)(a.XI))],p);b.qIa=p;},60484:function(r,b,a){var k,f,h,d;function c(g,m){this.p6a=m;this.log=g.Ta("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(34202);a=a(12496);c.prototype.Sj=function(g){var m;m=this;this.p6a().then(function(l){g.addEventListener(h.ea.yG,function(n){var p;if(void 0 !== n.WM){p=g.Pk(n.WM);l.cX(p);n.jG || new Promise(function(q){var u;if(g.Ah.value)q();else {u=function(t){t.newValue && (q(),g.Ah.removeListener(u));};g.Ah.addListener(u);}}).then(function(){return l.Sj(g,m.K$a(g),function(q){return g.UE(q);});});}});g.addEventListener(h.ea.zt,function(){l.Sj(g.aa,m.K$a(g),function(n){return g.UE(n);});});g.background.value || g.addEventListener(h.ea.yU,function(n){var p;n=g.Pk(n.O);if(n.Of){p=g.Pk(n.Of.Bd);m.log.trace("Auxiliary viewable segment (viewableId: " + n.O + "). Starting playdata monitor for parent viewable " + p.O);n=p;}l.Rva(n);});g.addEventListener(h.ea.ug,function(){l.qab();});g.addEventListener(h.ea.ddb,function(){l.L9a(g.aa).catch(function(n){(n=n.QM) && g.UE(n);});});g.xb.addListener(function(){g.Wa.ika?m.log.trace("stickiness is disabled for timedtext"):l.F9(g.aa);});g.tc.addListener(function(){g.Wa.ika?m.log.trace("stickiness is disabled for audio"):l.F9(g.aa).catch(function(n){(n=n.QM) && g.UE(n);});});});};c.prototype.K$a=function(g){return g.state.value == h.Ub.ae;};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.OP))],d);b.rIa=d;},62181:function(r,b,a){var h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C,D,F,G){this.config=x;this.wc=z;this.ow=B;this.Bt=C;this.t8=D;this.zh=F;this.qG=Promise.resolve();this.closed=!1;this.log=A.Ta("PlaydataServices");this.XG=[];this.active=new Set();this.FYb=new k(x,G);}function k(x,A){this.config=x;this.sa=A;}function f(x,A,z,B,C,D){this.log=x;this.wc=A;this.$g=z;this.Bt=B;this.ow=C;this.nUb=D;this.AWa=this.ag=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=b.zkb=void 0;r=a(70655);h=a(86700);d=a(2467);g=a(71163);m=a(65428);l=a(78274);n=a(50086);p=a(34401);q=a(68172);u=a(63730);t=a(4122);v=a(56170);w=a(35664);a=a(97636);f.prototype.tM=function(x,A){var B;function z(){var C;C=B.Bt.create(B.$g);B.ow.$wa(C).catch(function(D){var F;F=B.AWa?g.jj.yea:g.jj.Eh;B.AWa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",A);this.ow.Hqb(A).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.yr=B.wc.wN(x,z);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new u.v_().encode(A)});B.yr=B.wc.wN(x,z);});};f.prototype.stop=function(x){var A,z;A=this;if(this.ag)return Promise.resolve();this.yr && this.yr.cancel();z=this.Bt.create(this.$g);return this.ow.$wa(z).catch(function(B){A.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(A.$g.background.value)return (A.log.trace("Playback is currently in the background and never played, not sending the playdata",z),Promise.resolve());A.log.trace("Sending final playdata to the server",z);return A.nUb.N9a(z);}A.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (A.log.trace("Removing playdata from the persisted store",z),A.ow.x8a(z));A.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){A.log.info("Successfully stopped the playback",z.O);}).catch(function(B){A.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.ag=!0;this.yr && this.yr.cancel();this.ow.$wa(this.Bt.create(this.$g));};Wa.Object.defineProperties(k.prototype,{qub:{configurable:!0,enumerable:!0,get:function(){var x;x=this.sa.ue;return !this.qG || 0 <= x.wa(this.qG).Lk(this.config.K1a)?(this.qG=x,!0):!1;}}});b.zkb=k;c.prototype.qa=function(){var x;x=this;this.FB || (this.log.trace("Starting playdata services"),this.FB=this.ow.DWb().then(function(){!1;return x;}).catch(function(A){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",A);return x;}));return this.FB;};c.prototype.close=function(){this.closed=!0;this.XG.forEach(function(x){x.tM.cancel();});};c.prototype.send=function(x){var A;if(this.closed)return Promise.resolve();A=this.config;return A.UG && A.Tua?this.CZb(x):Promise.resolve();};c.prototype.Sj=function(x,A,z){var B;B=this;this.closed || (this.Rva(x),this.Vua(x).catch(function(C){B.log.error("Start command failed",{playdata:C.YG,error:C.LS});}),A && this.Ova(this.nHb(x),x,z));};c.prototype.cX=function(x){var A,z,B;A=this;if(this.closed)return Promise.resolve();z=this.Bt.create(x);this.active.delete(z.la);x=ma((0,v.pC)(function(C){return C.key === z.la;},this.XG));B=x.next().value;this.XG=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.tM.stop(A.config.Tua);})).then(function(){});};c.prototype.Rva=function(x){var A,z;x.ke("pdb");if(this.config.isa.l1a()){A=this.Bt.create(x);z=A.la;this.XG.some(function(B){return B.key === z;})?this.log.trace("Already collecting playdata, ignoring",A):(this.log.info("Starting to collect playdata",A),this.active.add(z),this.XG.push({key:z,tM:this.NHb(x,A),jw:!1,stopped:!1}));}};c.prototype.CZb=function(x){var A,z,B,C;A=this;z=this.ow.YG.filter(function(D){return !A.active.has(D.la);});B=void 0;C=void 0;x && Infinity === x?B=z:(z=ma((0,v.pC)(function(D){return D.O === x;},z)),B=z.next().value,C=z.next().value);C && 0 < C.length && this.wc.Pj(this.config.K9a,function(){A.M9a(C);});return B && 0 !== B.length?this.M9a(B):Promise.resolve();};c.prototype.M9a=function(x){var z;function A(B){return z.t8.N9a(B).then(function(){return z.JXb(B);});}z=this;return x.reduce(function(B,C){return B.then(function(){return A(C);});},Promise.resolve());};c.prototype.JXb=function(x){var A;A=this;return this.ow.x8a(x).then(function(){}).catch(function(z){A.log.error("Unable to complete the stop lifecycle event",z);throw z;});};c.prototype.NHb=function(x,A){x=new f(this.log,this.wc,x,this.Bt,this.ow,this.t8);x.tM(this.config.isa,A);return x;};c.prototype.Vua=function(x){var A,z;A=this;z=this.Bt.create(x);return this.t8.Vua(x,z).then(function(){!1;A.k3a(x);}).catch(function(B){A.k3a(x);throw {YG:z,LS:B};});};c.prototype.k3a=function(x){this.XG.filter(function(A){return A.key === x.la.toString();}).forEach(function(A){A.jw=!0;});};c.prototype.L9a=function(x){return this.FYb.qub?this.JW(t.lda.oU,x,q.V.hca):Promise.resolve();};c.prototype.F9=function(x){return this.JW(t.lda.splice,x,q.V.EKa);};c.prototype.JW=function(x,A,z){var C;function B(D){var F;F=C.XG.filter(function(G){return G.key === D.la.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.jw;},!1);}C=this;return B(A)?this.qG:this.qG=this.qG.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(A))return Promise.resolve();!1;D=C.Bt.create(A);return C.t8.JW(x,A,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:x,xid:A.la,error:D});D.Bj?F=C.zh(z,D):D.Jy === q.h_.uea && (F=C.zh(z,D));throw {LS:D,QM:F};});};c.prototype.Ova=function(x,A,z){var B;B=this;!1;this.Nia();this.Zoa=this.wc.Pj(x,function(){B.Nia();B.JW(t.lda.oU,A,q.V.hca).then(function(){B.Ova(x,A,z);}).catch(function(C){var D;D=C.LS;(C=C.QM) && z(C);D.Jy !== q.h_.uea && B.Ova(x,A,z);});});};c.prototype.qab=function(){this.Nia();};c.prototype.Nia=function(){this.Zoa && (this.Zoa.cancel(),this.Zoa=void 0);};c.prototype.nHb=function(x){return x.Wa.Hna?(0,d.Lb)(x.Wa.Hna):this.config.J1a;};y=c;y=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(p.hJa)),r.__param(1,(0,h.l)(g.Xa)),r.__param(2,(0,h.l)(m.Gi)),r.__param(3,(0,h.l)(n.SHa)),r.__param(4,(0,h.l)(l.oda)),r.__param(5,(0,h.l)(t.YHa)),r.__param(6,(0,h.l)(a.PP)),r.__param(7,(0,h.l)(w.Fg))],y);b.tIa=y;},85470:function(r,b,a){var h,d,g,m;function c(){}function k(l){this.STb=l;}function f(l){this.UTb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=b.oIa=b.mIa=void 0;r=a(70655);h=a(86700);d=a(12813);g=a(56003);m=a(68172);f.prototype.validate=function(l){l.map(this.UTb.validate);};a=f;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.wIa))],a);b.mIa=a;k.prototype.validate=function(l){this.STb.validate(l.data);};a=k;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.nIa))],a);b.oIa=a;c.prototype.validate=function(l){var n;l.la && "string" === typeof l.la?l.href && "string" === typeof l.href?l.profileId && "string" === typeof l.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.Lc(m.V.Mz,m.R.Iz,void 0,void 0,void 0,n,void 0,l.la);};d=c;d=r.__decorate([(0,h.U)()],d);b.vIa=d;},71133:function(r,b,a){var k,f,h,d,g,m;function c(l,n){l=f.Qe.call(this,l,"PlaydataConfigImpl") || this;l.config=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(54662);g=a(2467);a=a(53685);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{UG:{configurable:!0,enumerable:!0,get:function(){return this.config.ay?"unsentplaydatatest":"unsentplaydata";}},Tua:{configurable:!0,enumerable:!0,get:function(){return !0;}},K9a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E4);}},isa:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(4E3);}},J1a:{configurable:!0,enumerable:!0,get:function(){return (0,g.s7)(1);}},K1a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Bh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"UG",null);r.__decorate([d.config(d.Nc,"sendPersistedPlaydata")],m.prototype,"Tua",null);r.__decorate([d.config(d.tk,"playdataSendDelayMilliseconds")],m.prototype,"K9a",null);r.__decorate([d.config(d.tk,"playdataPersistIntervalMilliseconds")],m.prototype,"isa",null);r.__decorate([d.config(d.tk,"heartbeatCooldown")],m.prototype,"J1a",null);r.__decorate([d.config(d.tk,"keepAliveWindow")],m.prototype,"K1a",null);m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl)),r.__param(1,(0,k.l)(a.sn))],m);b.gJa=m;},90399:function(r,b,a){var k,f;function c(h,d){var g;g=this;this.Rh=h;this.Kg=d;this.addEventListener=function(m,l,n){return g.Kg.addListener(m,g.CUa(m,l),n);};this.removeEventListener=function(m,l){return g.Kg.removeListener(m,g.CUa(m,l));};this.getReady=function(){return g.Kg.isReady();};this.getXid=function(){return g.ub().Ys();};this.getMovieId=function(){return g.ub().cZa();};this.getPlaygraphId=function(){return g.Kg.kIb();};this.getElement=function(){return g.Kg.Vm();};this.isPlaying=function(){return g.ub().OB();};this.isPaused=function(){return g.ub().mt();};this.isMuted=function(){return g.ub().Foa();};this.isReady=function(){return g.ub().isReady();};this.isBackground=function(){return g.ub().N0a();};this.setBackground=function(m){return g.ub().bva(m);};this.startInactivityMonitor=function(){return g.ub().LN();};this.setTransitionTime=function(m){return g.ub().rva(m);};this.getDiagnostics=function(){return g.ub().lYa();};this.getTextTrackList=function(m){return g.ub().lna(m);};this.getMaxRecommendedTextIndex=function(m){return g.ub().Ema(m);};this.getTextTrack=function(){return g.ub().kna();};this.setTextTrack=function(m){return g.ub().nva(m);};this.getVolume=function(){return g.ub().ZZa();};this.isEnded=function(){return g.ub().Aoa();};this.getBusy=function(){return g.ub().wh();};this.getError=function(){return g.ub().getError();};this.getCurrentTime=function(){return g.ub().mL();};this.getAdManager=function(){return g.ub().Vn();};this.getLivePlaybackManager=function(){var m;m=g.ub().Pl();(0,f.oa)(m,"Unexpected call to getLivePlaybackManager()");if(m.ha && !m.b0b())return {seekToLiveEdge:function(){return m.z9();},isAtLiveEdge:function(){return m.LB();},getLiveEventState:function(){return m.rB();},isLiveEventEnded:function(){return m.d6();}};};this.getBufferedTime=function(){return g.ub().SXa();};this.getSegmentTime=function(){return g.ub().B4();};this.getDuration=function(){return g.ub().hma();};this.getVideoSize=function(){return g.ub().YZa();};this.getAudioTrackList=function(){return g.ub().IXa();};this.getMaxRecommendedAudioIndex=function(){return g.ub().XYa();};this.getAudioTrack=function(){return g.ub().HXa();};this.getTimedTextTrackList=function(m){return g.ub().lna(m);};this.getMaxRecommendedTimedTextIndex=function(m){return g.ub().Ema(m);};this.getTimedTextTrack=function(){return g.ub().kna();};this.getAdditionalLogInfo=function(){return g.ub().FXa();};this.getTrickPlayFrame=function(m){return g.ub().UZa(m);};this.getSessionSummary=function(){return g.ub().bna();};this.getTimedTextSettings=function(){return g.ub().DT();};this.setMuted=function(m){return g.ub().m$a(m);};this.setVolume=function(m){return g.ub().y$a(m);};this.getPlaybackRate=function(){return g.ub().vL();};this.setPlaybackRate=function(m){return g.ub().M9(m);};this.setAudioTrack=function(m){return g.ub().X9a(m);};this.setTimedTextTrack=function(m){return g.ub().nva(m);};this.setTimedTextSettings=function(m){return g.ub().FN(m);};this.prepare=function(){return g.ub().aH();};this.load=function(){return g.ub().load();};this.close=function(m){return g.JQa(g.Kg.close(),m);};this.play=function(){return g.ub().play();};this.pause=function(){return g.ub().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(m,l){return g.JQa(g.ub().RK(m),l);};this.induceError=function(m){return g.ub().j0a(m);};this.loadCustomTimedTextTrack=function(m,l,n,p){return g.ub().z2a(m,l,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.ub().C4();};this.generateScreenshots=function(m){return g.ub().zXa(m);};this.getCurrentSegmentId=function(){return g.Kg.gYa();};this.getPlaygraphMap=function(){return g.Kg.RF();};this.updatePlaygraphMap=function(m){return g.Kg.Wt(m);};this.Wka=new Map();this.log=(0,k.Yi)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.f0=void 0;k=a(89082);a(5690);f=a(70633);c.prototype.ub=function(){return this.Kg.ub();};c.prototype.CUa=function(h,d){var g;this.Wka.has(h) || this.Wka.set(h,new Map());g=this.Wka.get(h);g.has(d) || g.set(d,this.Vzb(h,d));return g.get(d);};c.prototype.Vzb=function(h,d){var g;g=this;return function(m){return d(Object.assign({},m,{type:h,target:g}));};};c.prototype.JQa=function(h,d){return d?h.then(d,d):h;};b.f0=c;},61664:function(r,b,a){var k;function c(f,h,d){var g;g=k.f0.call(this,f,h) || this;g.seek=function(m){return g.ub().seek(m);};g.addEpisode=function(m){return g.npa.sqb(m);};g.playNextEpisode=function(m){m=void 0 === m?{}:m;return g.npa.oUb(m);};g.watchCredits=function(m){return g.npa.N5b(m);};g.playSegment=function(m){return g.ub().C6a(m);};g.queueSegment=function(m){return g.ub().I7a(m);};g.updateNextSegmentWeights=function(m,l){return g.ub().hj(m,l);};g.setNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}l=l.map(function(p){return {I:p.segmentId,wM:p.nextSegmentId};});g.Kg.Rj.apply(g.Kg,da(l));};g.clearNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}return g.Kg.rvb.apply(g.Kg,da(l));};g.goToNextSegment=function(m,l){return g.Kg.tna(m,l);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.ub().DT().visibility;};g.setTimedTextVisibility=function(m){return g.setTimedTextVisible(m);};g.setTimedTextSize=function(m){return g.ub().FN({size:m});};g.setTimedTextBounds=function(m){return g.ub().FN({bounds:m});};g.setTimedTextMargins=function(m){return g.ub().FN({margins:m});};g.setTimedTextVisible=function(m){return g.ub().FN({visibility:m});};g.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};g.npa=d(f,h,g.log);return g;}b.Laa=void 0;k=a(90399);ia(c,k.f0);b.Laa=c;},40142:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x;function c(A){var z,B;z=this;this.r8=new x.Cda();this.createPlaygraphPlayer=function(C,D,F){var G;C=t.Gda.encode(C);G=d.Aa.get(v.LI);F=F?G.create(F):void 0;G=d.Aa.get(p.Ida).create(C);return G.Vyb(C.we,z.r8.Vpa(z.gRa(D,G.ima())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,h.yda)(C);};this.init=function(C){z.EA.CU(function(D){D.ka?z.FZb().then(function(){(0,k.KIa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(z,c.ZJ);C(Object.assign({success:!0},c.ZJ));}):C({success:!1,error:(0,d.lJa)(D.errorCode || m.V.$ba,D)});});};this.applyConfig=function(C){z.vcb(C);(0,f.eja)(C);};this.prepare=function(C,D){var F;C=z.b7a.HAb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.O);F.add(G.O);return !E;});if(f.config.qr && z.Xc)try{z.Xc.aH(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){pb._cad_global.playerPredictionModel?(C=z.b7a.JAb(C)) && pb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.nL)().hX().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.nL)().iX().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.nL)().fX().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.nL)().q$().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.vCb;};this.vcb(A);d.Aa.get(y.vya);this.b7a=d.Aa.get(g.MIa);this.EA=d.Aa.get(u.Vh);B=d.Aa.get(w.HIa).apply();(0,f.nTa)([A],B);this.Xc=d.Aa.get(q.PD);(0,d.nL)().iX();}Object.defineProperty(b,"__esModule",{value:!0});b.QD=void 0;k=a(15883);f=a(37986);h=a(58680);d=a(89082);g=a(2869);m=a(68172);l=a(59578);n=a(12496);p=a(11223);q=a(76820);u=a(60634);t=a(41427);v=a(23251);w=a(98757);y=a(55714);x=a(92979);c.prototype.gRa=function(A,z){var B,C,D,F;A=void 0 === A?{}:A;F=null !== (C=null === (B=A.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:z.va;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},A),{endPts:null !== (D=z.ta) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.vcb=function(A){d.Aa.get(l.nP).aQb(A);};c.prototype.FZb=function(){d.Aa.get(n.OP)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});return Promise.resolve();};b.QD=c;c.ZJ={};},95233:function(r,b,a){var k,f,h,d,g,m;function c(l){var n;n=h.QD.call(this,l) || this;n.createPlayer=function(p,q){var u,t,v;q=void 0 === q?{}:q;q="number" === typeof q?{Uj:q}:q;u=k.Aa.get(f.VI);t=k.Aa.get(g.LI).create(q.manifest);v=k.Aa.get(d.Kda);p=u.Syb(p);u=k.Aa.get(m.Ida).create(p);p=u.ima();v=v.YTa(u);v.addEpisode({movieId:p.J,playbackParams:n.gRa(q,p),manifest:t});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;k=a(89082);f=a(52115);h=a(40142);d=a(33981);g=a(23251);m=a(11223);ia(c,h.QD);b.KMa=c;},37853:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(95233);c=a(37986);k=a(58680);b=a(71163);f=a(89082);h=a(14959);d=a(33456);g=a(70633);m=a(95919);pb.netflix=pb.netflix || ({});(0,g.oa)(!pb.netflix.player);pb.netflix.player={VideoSession:r.KMa,diag:{togglePanel:function(l,n){var p;p=[];if(!c.config || c.config.mW){switch(l){case "info":p=k.zn.map(function(q){return q.p8;});break;case "streams":p=k.zn.map(function(q){return q.s8;});break;case "log":p=[];}p.forEach(function(q){(0,m.Qc)(n)?n?q.show():q.yv():q.toggle();});}},addLogMessageSink:function(l){f.Aa.get(h.rm).addListener({Afc:function(){},bQb:function(n){l({data:n.data});}});}},log:(0,f.Yi)("Ext"),LogLevel:b.jj,addLogSink:function(l,n){f.Aa.get(d.JI).X8(l,n);},getVersion:function(){return "6.0040.799.911";},getMostRecentPlaybackDiagnosticGroups:function(){var l;return null === (l=k.Vz.u4a) || void 0 === l?void 0:l.$Ua.pT();}};},38686:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(89034);k=a(40142);f=a(7942);h=a(37986);r=a(68172);d=a(89082);g=a(70633);m=a(30818);l=a(95919);n=a(14959);p=a(91022);a=a(60634);d.Aa.get(a.Vh).register(r.V.TDa,function(q){var u,t;u=(0,d.Yi)("NccpApi");t=(0,m.SQa)(["info","warn","trace","error"]);k.QD.ZJ.nccp={getEsn:function(){return c.Mk.jk;},getPreferredLanguages:function(){return h.config.rp.Hsa;},setPreferredLanguages:function(v){(0,g.oa)((0,l.isArray)(v) && (0,l.WL)(v[0]));h.config.rp.Hsa=v;},queueLogblob:function(v,w,y){var x;if(v && w)if((w=w.toLowerCase(),t[w])){x=d.Aa.get(n.rm);v=d.Aa.get(p.Lw).Hs(v,w,y);x.vc(v);}else u.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.Aa.get(n.rm).flush(!0);}};q(f.kg);});},89525:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(40142);k=a(89034);f=a(7942);h=a(24133);r=a(68172);d=a(89082);g=a(70834);m=a(70633);l=a(95919);n=a(50876);b=a(60634);p=a(61831);q=a(98540);u=a(53713);t=a(20642);d.Aa.get(b.Vh).register(r.V.UDa,function(v){var B;function w(){return k.Mk.jk;}function y(C){var D;D=d.Aa.get(q.XI);d.Aa.get(u.HP)().then(function(F){var G,E;G=F.eV.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.oa)(E),F=["1",(0,d.Cx)(JSON.stringify(F.toJSON())),(0,d.Cx)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,K){J=(0,l.yg)(J)?(0,d.oO)(J):J;E.encrypt(J,{result:function(N){N=(0,d.Cx)(N);K({success:!0,mslEncryptionEnvelopeBase64:N});},timeout:function(){K({success:!1});},error:function(N){(0,m.oa)(!1,"Encrypt error: " + N);K({success:!1});}});},decrypt:function(J,K){J=(0,d.Bq)(J);E.decrypt(J,{result:function(N){K({success:!0,text:(0,d.LX)(N)});},timeout:function(){K({success:!1});},error:function(N){(0,m.oa)(!1,"Decrypt error: " + N);K({success:!1});}});},hmac:function(J,K){J=(0,l.yg)(J)?(0,d.oO)(J):J;E.sign(J,{result:function(N){K({success:!0,hmacBase64:(0,d.Cx)(N)});},timeout:function(){K({success:!1});},error:function(N){(0,m.oa)(!1,"Hmac error: " + N);K({success:!1});}});}}})):((0,m.oa)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var F;F=(0,d.Bq)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,h.NG)(n.qp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,h.NG)(n.qp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:A(G[0],G[1])});},function(){D({success:!1});});}function A(C,D){function F(G){G=new g.XO((0,d.Bq)(G));G.Yy();return {iv:G.O7a(),JCb:G.O7a()};}return {encrypt:function(G,E){var J;G=(0,l.yg)(G)?(0,d.oO)(G):G;J=n.Sz.getRandomValues(new Uint8Array(16));(0,h.NG)(n.qp.encrypt({name:"AES-CBC",iv:J},C,G)).then(function(K){var N,I;K=new Uint8Array(K);N=[];I=new g.XO(N);I.caa(2);I.Pdb(J);I.Pdb(K);K=(0,d.Cx)(N);E({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,m.oa)(!1,"Encrypt error: " + K);E({success:!1});});},decrypt:function(G,E){var J;J=F(G);G=J.iv;J=J.JCb;(0,h.NG)(n.qp.decrypt({name:"AES-CBC",iv:G},C,J)).then(function(K){K=new Uint8Array(K);E({success:!0,text:(0,d.LX)(K)});},function(K){(0,m.oa)(!1,"Decrypt error: " + K);E({success:!1});});},hmac:function(G,E){G=(0,l.yg)(G)?(0,d.oO)(G):G;(0,h.NG)(n.qp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(J){J=new Uint8Array(J);E({success:!0,hmacBase64:(0,d.Cx)(J)});},function(J){(0,m.oa)(!1,"Hmac error: " + J);E({success:!1});});}};}function z(){return (0,p.H2)();}B=d.Aa.get(t.fD);if(B.T0a || B.ty)c.QD.ZJ.mdx={getEsn:w,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:z};v(f.kg);});},86977:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(60634);b=a(68172);c=a(71163);k=a(811);f=a(19391);h=a(7942);d=a(37986);g=a(89082);m=a(58680);l=a(40142);n=a(47758);p=a(76820);g.Aa.get(r.Vh).register(b.V.VDa,function(q){var v,w,y;function u(x,A){return void 0 === x || void 0 === A?Promise.reject("Invalid email and/or password"):g.Aa.get(n.OHa).Hf(this.log,{},{email:x,password:A}).then(function(){});}function t(x){var A;A=g.Aa.get(p.PD);return A.HWa.fetch(x,A);}if(d.config.tDb){v=g.Aa.get(f.pda);w=g.Aa.get(k.yn);y=g.Aa.get(c.Xa).Ta("Test");l.QD.ZJ.test={setPboRequestsListener:function(x){return v.l_b(x);},playbacks:m.zn,getPlayback:function(x){return m.zn.find(function(A){return A.la === x;});},playgraphManager:{isNextSegmentReady:function(x){var A,z;return void 0 !== (null === (z=null === (A=m.zn.find(function(B){return B.la === x;})) || void 0 === A?void 0:A.$a) || void 0 === z?void 0:{Vha:0});},isNextSegmentBuffering:function(x,A){var z,B;return null === (B=null === (z=m.zn.find(function(C){return C.la === x;})) || void 0 === z?void 0:z.$a) || void 0 === B?void 0:B.uT(A).RR;}},device:{esn:pb._cad_global.device.jk,esnPrefix:w.Qn,errorPrefix:w.Kq},log:{info:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.info(x,z);},error:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.error(x,z);},warn:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.warn(x,z);},trace:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.trace(x,z);},log:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.log(x,z);},debug:function(x,A){for(var z=[],B=1;B < arguments.length;++B){z[B - 1]=arguments[B];}return y.debug(x,z);}},login:u,getManifest:t};}q(h.kg);});},25097:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.ev=void 0;c=a(7942);k=a(37986);r=a(68172);f=a(89082);h=a(50876);d=a(60634);g=a(95919);m=a(29853);l=a(2467);a=f.Aa.get(d.Vh);n=f.Aa.get(m.Wz);a.register(r.V.KDa,function(p){var v,w;function q(){p(c.kg);q=c.Rw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.Ep)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=h.ze.getBattery();if(!(0,g.Ep)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,f.Yi)("BatteryManager");b.ev={Cfb:"chargingchange",NYa:function(){return w?w.level:null;},fma:function(){return w?w.charging:null;},addEventListener:function(y,x){w && w.addEventListener(y,x);},removeEventListener:function(y,x){w && w.removeEventListener(y,x);}};k.config.WR && (0,g.Ep)(h.ze.getBattery)?n.Xp((0,l.Lb)(k.config.$Fb),t()).then(function(y){u(y);w=y;}).catch(function(y){v.error("getBattery failed",y);}).then(q):q();});},59883:function(r,b,a){var k,f;function c(){var h,d;h=this;this.ks={};this.on=function(g,m,l){h.addListener(g,m,l);};this.addListener=function(g,m,l){h.ks && (h.ks[g]=h.ks[g] || new f.Mda(!0)).add(m,l);};this.removeListener=function(g,m){h.ks && h.ks[g] && h.ks[g].removeAll(m);};this.pma=function(g){return h.ks && h.ks[g]?h.ks[g].flatten():[];};d=this;this.Cc=function(g,m,l){var n;if(d.ks){n=d.pma(g);for(g={nI:0};g.nI < n.length;(g={nI:g.nI},g.nI++)){l?(function(p){return function(){var q;q=n[p.nI];(0,k.Qf)(function(){q(m);});};})(g)():n[g.nI].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=void 0;k=a(66052);f=a(82328);c.prototype.uh=function(){this.ks=void 0;};b.Xj=c;},20916:function(r,b,a){var k,f,h;function c(d,g,m,l,n,p,q){this.debug=d;this.config=g;this.platform=m;this.Z6=l;this.debug.assert(n && n != f.V.Lo,"There should always be a specific error code");this.errorCode=n || f.V.Lo;p && "object" === typeof p?(this.za=p.za || p.ec,this.De=p.De || p.Oc,this.Oka=p.Oka || p.Rm,this.Kb=p.Kb || p.details,this.uS=p.Bj,this.O3=p.O3 || p.sec || p.Jy,this.iB=p.iB || p.data,p.XU && (this.XU=p.XU),this.Ll=p.Ll,this.method=p.method,this.x7=p.x7,this.alert=p.alert,this.aha=p.aha,this.bG=p.bG,!this.Kb && this.bG && (this.Kb=JSON.stringify(this.bG)),this.debug.assert(!this.Ll || this.Ll == this.De)):(this.za=p,this.De=q);this.stack=[this.errorCode];this.za?this.stack.push(this.za):this.De && this.stack.push(f.R.Lo);this.De && this.stack.push(this.De);this.x3=this.platform.Kq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;k=a(7942);f=a(68172);h=a(95919);a(30818);c.prototype.o$a=function(d){this.zUb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.x3 + "]";this.Kb && (d+=" " + this.Kb);this.uS && (d+=" (CustomMessage: " + this.uS + ")");return d;};c.prototype.zX=function(){var d,g,m,l;this.uS && (m=["streaming_error"]);m || this.Z6.Us() !== k.UY || ("80080017" == this.De && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.De && (m=["pause_timeout"]));m || this.Z6.Us() !== k.zba || this.errorCode !== f.V.EBa && this.errorCode !== f.V.$O || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== f.V.Cba || this.za !== f.R.Aba || (m=["pause_timeout"]);this.O3 === f.h_.uea && (this.zia("2018") || this.zia("2020")?m=["received_soad"]:this.zia("5000") && (m=["should_reset_device"]));l=this.hGb();l && (m=[l],this.uS=void 0);if(!m)switch(this.errorCode){case f.V.s_:case f.V.YZ:case f.V.seb:case f.V.dda:this.zUb && (m=["pause_timeout"]);break;case f.V.YDa:case f.V.ZDa:m=this.za?["platform_error"]:["multiple_tabs"];break;case f.V.aca:case f.V.BHa:case f.V.fda:case f.V.vHa:m=["platform_error","plugin_error"];break;case f.V.MP:m=["no_cdm","platform_error","plugin_error"];break;case f.V.LBa:case f.V.lq:case f.V.t_:switch(this.De){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case f.V.xHa:case f.V.eda:m=["unsupported_output"];}!m && (0,f.gCa)(this.za) && (m=this.za == f.R.jP?["geo"]:["internet_connection_problem"]);m || this.errorCode !== f.V.$O || this.za !== f.R.ql || "S" !== this.platform.Kq || (m=["private_mode"]);if(!m)switch(this.Jab(this.za)){case f.R.zea:m=["should_upgrade"];break;case f.R.qHa:m=["should_reset_device"];break;case f.R.pHa:m=["should_reload_device"];break;case f.R.oHa:m=["should_exit_device"];break;case f.R.hjb:case f.R.DFa:m=["should_signout_and_signin"];break;case f.R.ijb:m=["internet_connection_problem"];break;case f.R.JAa:m=["platform_error","plugin_error"];break;case f.R.hgb:case f.R.HDa:case f.R.IDa:m=["private_mode"];break;case f.R.Bca:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Kq + this.errorCode);if(this.za)switch(this.Jab(this.za)){case f.R.rHa:m.push("incorrect_pin");break;default:m.push("" + this.za);}m={display:{code:this.x3,text:this.uS},messageIdList:m,alert:this.alert,alertTag:this.aha,preferredAudioLocale:null === (d=this.bG) || void 0 === d?void 0:d.Q_a,preferredTextLocale:null === (g=this.bG) || void 0 === g?void 0:g.R_a};this.config().sDb && (m.debugData=this.iB);return m;};c.prototype.Jab=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.zia=function(d){return ((0,h.rb)(this.De)?this.De.toString():(0,h.yg)(this.De)?this.De:"").endsWith(d);};c.prototype.hGb=function(){if(this.errorCode === f.V.HI && (this.za === f.R.ada || this.za === f.R.nHa))return this.iGb(this.za === f.R.ada);};c.prototype.iGb=function(d){var g,m,l,n;l=this.config().browserInfo || ({});n=null === (g=l.os) || void 0 === g?void 0:g.name;g=((null === (m=l.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.mJa=c;},50995:function(r,b){function a(c,k){this.wwa=c;this.xv=k;}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;a.prototype.D_b=function(){this.r1 || (this.r1=setInterval(this.xv,this.wwa));};a.prototype.MSa=function(){this.r1 && (clearInterval(this.r1),this.r1=void 0);};b.kKa=a;},65853:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z_=void 0;b.Jo={UI:"PRIMARY",kaa:"ASSISTIVE",Nza:"COMMENTARY",NONE:"NONE"};b.Z_={assistive:b.Jo.kaa,closedcaptions:b.Jo.kaa,directorscommentary:b.Jo.Nza,commentary:b.Jo.Nza,subtitles:b.Jo.UI,primary:b.Jo.UI,none:b.Jo.NONE};},61831:function(r,b,a){var k,f,h,d,g;function c(){return k.ac.get(h.Jc).xy.ba(g.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Cvb=b.H2=b.QSa=b.Avb=b.Bvb=b.Ria=b.Im=void 0;k=a(84722);f=a(35664);h=a(58998);d=a(24166);g=a(2467);b.Im=function(){return k.ac.get(h.Jc).Fb().ba(g.na);};b.Ria=function(){return k.ac.get(f.Fg).ue.ba(g.vm);};b.Bvb=function(){return k.ac.get(h.Jc).xy.ba(g.vm);};b.Avb=function(){return k.ac.get(d.Kw).SA();};b.QSa=c;b.H2=function(){return k.ac.get(f.Fg).ue.ba(g.na);};b.Cvb=function(){return c();};},7942:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zP=b.d_=b.nfb=b.ifb=b.kfb=b.lfb=b.sza=b.hfb=b.jfb=b.rza=b.mfb=b.tfb=b.rfb=b.sfb=b.qfb=b.Wgb=b.Vgb=b.Ugb=b.Lib=b.Nib=b.Mib=b.AFa=b.CFa=b.BFa=b.wBa=b.Xgb=b.zba=b.UY=b.vjb=b.glb=b.zFa=b.bfb=b.GAa=b.Xca=b.RI=b.q_=b.yFa=b.Mw=b.afb=b.dza=b.zib=b.Klb=b.Kib=b.Jib=b.$kb=b.Zkb=b.Vr=b.kg=b.fKa=b.Rw=void 0;b.bza=b.Sda=void 0;b.Rw=function(){};b.fKa=function(){return !0;};b.kg={ka:!0};b.Vr=1E3;b.Zkb=86400;b.$kb=604800;b.Jib=1E4;b.Kib=1E7;b.Klb=1.5;b.zib=.128;b.dza=7.8125;b.afb=128;b.Mw=145152E5;b.yFa=1E5;b.q_="$netflix$player$order";b.RI=-1;b.Xca=1;b.GAa=["en-US"];b.bfb=8;b.zFa=65535;b.glb=65536;b.vjb=Number.MAX_VALUE;b.UY="playready";b.zba="widevine";b.Xgb="fps";b.wBa="clearkey";b.BFa='audio/mp4; codecs="mp4a.40.5"';b.CFa='audio/mp4; codecs="mp4a.40.42"';b.AFa='audio/mp4; codecs="mp4a.a6"';b.Mib='video/mp4; codecs="avc1.640028"';b.Nib='video/mp4; codecs="hev1.2.6.L153.B0"';b.Lib='video/mp4; codecs="dvhe.01000000"';b.Ugb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Vgb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Wgb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.qfb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.sfb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.rfb="4E657466-6C69-7846-7261-6D6552617465";b.tfb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.mfb="mp4a";b.rza="enca";b.jfb="ec-3";b.hfb="avc1";b.sza="encv";b.lfb="hvcC";b.kfb="hev1";b.ifb="dvhe";b.nfb="vp09";b.d_=0;b.zP=1;b.Sda="position:relative;width:100%;height:100%;overflow:hidden";b.bza="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},25420:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.jUa=b.Rpa=void 0;c=a(70633);k=a(30818);f=a(95919);(function(){var d,g,m;function h(l){(0,c.oa)(void 0 !== d[l]);return d[l];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;m=/[", ]/;b.jUa=function(l){return (0,f.Qc)(l)?(0,f.rb)(l)?l:(0,f.yg)(l)?l.replace(g,h):(0,f.O0a)(l)?l:isNaN(l)?"NaN":"":"";};b.Rpa=function(l){var n,p;n=b.jUa;p="";(0,k.bg)(l,function(q,u){q=n(q) + "=" + n(u);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},70633:function(r,b,a){var f,h,d;function c(){d || (d=f.Aa.get(h.Bw));return d;}function k(g,m){return c().assert(g,m);}Object.defineProperty(b,"__esModule",{value:!0});b.Gzb=b.Mja=b.zzb=b.Dzb=b.AK=b.lS=b.Czb=b.Ezb=b.mS=b.vUa=b.Bzb=b.Azb=b.oa=b.Fzb=b.Meb=void 0;f=a(89082);h=a(78616);b.Meb=function(){k(!1);};b.Fzb=!0;d=void 0;b.oa=k;b.Azb=function(g,m){return c().Qrb(g,m);};b.Bzb=function(g,m){return c().Rrb(g,m);};b.vUa=function(g,m){return c().a2(g,m);};b.mS=function(g,m){return c().Xrb(g,m);};b.Ezb=function(g,m){return c().Vrb(g,m);};b.Czb=function(g,m){return c().Z1(g,m);};b.lS=function(g,m){return c().Trb(g,m);};b.AK=function(g,m){return c().Wrb(g,m);};b.Dzb=function(g,m){return c().Urb(g,m);};b.zzb=function(g,m){return c().Prb(g,m);};b.Mja=function(g,m){return c().Srb(g,m);};b.Gzb=function(){return c().PLb();};},66052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qf=void 0;b.Qf=function(a){return setTimeout(a,0);};},5845:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;b.BCa=function(a){var f,h,d,g;function c(){if(d)for(var m;m=f.pop();){m(g);}}function k(m){d=!0;g=m;c();}f=[];return function(m){f.push(m);h || (h=!0,a(k));c();};};},25892:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.j5=b.Sq=b.k5=b.wB=b.Qk=b.fe=void 0;r=a(59883);c=a(66052);k=a(50876);b.fe=new r.Xj();b.Qk=1;b.wB=2;b.k5=3;b.Sq=4;b.j5=5;(0,c.Qf)(function(){var h,d,g;function f(m,l){if(d)d.on(m,l);else pb.addEventListener(m,l);}h=pb.jQuery;d=h && h(pb);h=(h=pb.netflix) && h.cadmium && h.cadmium.addBeforeUnloadHandler;g=k.Og.hidden;h?h(function(m){b.fe.Cc(b.Qk,m);}):f("beforeunload",function(m){b.fe.Cc(b.Qk,m);});f("keydown",function(m){b.fe.Cc(b.wB,m);});f("resize",function(){b.fe.Cc(b.k5);});k.Og.addEventListener("visibilitychange",function(){g !== k.Og.hidden && (g=k.Og.hidden,b.fe.Cc(b.Sq));});});(function(){pb.addEventListener("error",function(f){b.fe.Cc(b.j5,f);return !0;});})();},16232:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(68172);c=a(89082);k=a(3784);a=a(60634);c.Aa.get(a.Vh).register(r.V.MDa,function(f){c.Aa.get(k.ABa)().then(function(){f({ka:!0});}).catch(function(h){c.log.error("error in initializing indexedDb debug tool",h);f({ka:!0});});});},54615:function(r,b,a){var m,l,n,p,q;function c(u){var t,w;(0,l.mS)(u);if((0,p.yg)(u) && b.$Da.test(u)){t=u.split(".");if(4 === t.length){for(var v=0;v < t.length;v++){w=(0,q.bj)(t[v]);if(0 > w || !(0,p.RB)(w,0,255) || 1 !== t[v].length && 0 === t[v].indexOf("0"))return;}return u;}}}function k(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.bj)(u[0]) << 24,t+=(0,q.bj)(u[1]) << 16,t+=(0,q.bj)(u[2]) << 8,t + (0,q.bj)(u[3]));}function f(u){var t,v;(0,l.mS)(u);if((0,p.yg)(u) && u.match(b.aEa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=h(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){v=parseInt(t[u],16);if(!(0,p.RB)(v,0,m.zFa))return;}return t.join(":");}}}function h(u){var t;u=k(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,v,w;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);v=8 - (t.length + u.length);if(1 > v)return [];for(w=0;w < v;w++){t.push("0");}for(w=0;w < u.length;w++){t.push(u[w]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.qib=b.vib=b.sib=b.rib=b.uib=b.pib=b.tib=b.qD=b.aEa=b.$Da=void 0;m=a(7942);l=a(70633);n=a(50876);p=a(95919);q=a(30818);b.$Da=/^[0-9.]*$/;b.aEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.qD="0000000000000000";b.tib=c;b.pib=k;b.uib=f;b.rib=h;b.sib=d;b.vib=function(u,t,v){var w,y,x,A;w=c(u);y=f(u);x=c(t);A=f(t);if(!w && !y || !x && !A || w && !x || y && !A)return !1;if(u === w)return (v=g(v),(k(u) & v) !== (k(t) & v)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(w=(0,n.MI)(v / b.qD.length);w--;){if(u[w] !== t[w])return !1;}v%=b.qD.length;if(0 !== v)for((u=parseInt(u[w],16).toString(2),t=parseInt(t[w],16).toString(2),u=b.qD.substring(0,b.qD.length - u.length) + u,t=b.qD.substring(0,b.qD.length - t.length) + t,w=0);w < v;w++){if(u[w] !== t[w])return !1;}return !0;}return !1;};b.qib=g;},95919:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ep=b.O0a=b.WL=b.yg=b.Voa=b.kMb=b.ZLb=b.Moa=b.RB=b.a1a=b.rb=b.Uoa=b.isArray=b.u1a=b.kt=b.Qc=b.is=void 0;r=a(36447);b.is=r.rD;b.Qc=function(c){return b.is.wg(c);};b.kt=function(c){return b.is.yR(c);};b.u1a=function(c){return b.is.vga(c);};b.isArray=function(c){return b.is.DA(c);};b.Uoa=function(c){return b.is.vQa(c);};b.rb=function(c,k,f){return b.is.fk(c,k,f);};b.a1a=function(c,k,f){return b.is.fha(c,k,f);};b.RB=function(c,k,f){return b.is.zR(c,k,f);};b.Moa=function(c){return b.is.iR(c);};b.ZLb=function(c){return b.is.Ppb(c);};b.kMb=function(c){return b.is.Qpb(c);};b.Voa=function(c){return b.is.wQa(c);};b.yg=function(c){return b.is.ep(c);};b.WL=function(c){return b.is.Cm(c);};b.O0a=function(c){return b.is.w1(c);};b.Ep=function(c){return b.is.y1(c);};},47545:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(89082);b=a(33456);a=a(97649);r.Aa.get(b.JI).X8(a.vca.Pfb,function(c){var k,f;k=c.level;if(!pb._cad_global.config || k <= pb._cad_global.config.HOb){c=c.x$();f=pb.console;1 >= k?f.error(c):2 >= k?f.warn(c):f.log(c);}});},76813:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(37986);a(7942);r=a(89082);a(33456);a(97649);a(68172);a(74509);a(2467);a=a(60634);r.Aa.get(a.Vh);!1;},19591:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oh=b.wjb=b.Sw=void 0;c=a(95919);b.Sw=b.Sw || (function(k,f,h){return k >= f?k <= h?k:h:f;});b.wjb=function(k,f,h,d,g){return (k - f) * (g - d) / (h - f) + d;};b.oh=function(k){if((0,c.rb)(k))return (k / 1E3).toFixed(3);};},32660:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.$4b=b.Blb=b.zlb=b.ylb=b.Alb=void 0;c=a(95919);k=a(50876);b.Alb=function(f,h,d){for(d=(d - f.length) / h.length;0 < d--;){f+=h;}return f;};b.ylb=function(f,h,d){d=(0,c.yg)(d)?d:"...";return f.length <= h?f:f.substr(0,f.length - (f.length + d.length - h)) + d;};b.zlb=function(f,h){var g;for(var d=1;d < arguments.length;++d){;}g=k.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof g[l]?g[l]:m;});};b.Blb=function(f){for(var h=f.length,d=new Uint16Array(h),g=0;g < h;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.$4b=function(f){var h;h=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){h[g]=d.charCodeAt(0);});return h;};},24133:function(r,b,a){var m,l,n,p,q,u;function c(){var t,v;if(t=b.X4.MOa)return t;t=p.l_.search.substr(1);v=t.indexOf("#");0 <= v && (t=t.substr(0,v));t=k(t);return b.X4.MOa=t;}function k(t){for(var v=/[+]/g,w=(t || "").split("&"),y={},x,A=0;A < w.length;A++){t=(0,n.trim)(w[A]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(v,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(v,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function h(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(v,w){return v - w;});}function g(t){for(var v=0,w=t.length;w--;){v+=t[w];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.RUb=b.QF=b.sYa=b.Woa=b.NUb=b.m1a=b.ofb=b.pfb=b.FEb=b.jK=b.$vb=b.j4=b.PDb=b.NG=b.Geb=b.DO=b.Heb=b.pY=b.Feb=b.MLb=b.createElement=b.fS=b.tVb=b.jra=b.gma=b.getFunctionName=b.JV=b.X4=b.tIb=b.Q7a=b.fQa=b.vTa=b.yWb=b.PA=b.cTa=void 0;m=a(7942);l=a(89082);n=a(30818);p=a(50876);q=a(95919);u=a(85060);b.cTa=function(t,v){if(t === v)return !0;if(!t || !v)return !1;for(var w in t){if(t.hasOwnProperty(w) && (!v.hasOwnProperty(w) || t[w] !== v[w]))return !1;}return !0;};b.PA=b.PA || (function(t,v){if(t.length == v.length){for(var w=t.length;w--;){if(t[w] != v[w])return !1;}return !0;}return !1;});b.yWb=function(t){var v;if(t){v=t.length;if(v)return (v=(0,n.L7a)(0,v - 1),t[v]);}};b.vTa=function(t,v){if(t.length != v.length)return !1;t.sort();v.sort();for(var w=t.length;w--;){if(t[w] !== v[w])return !1;}return !0;};b.fQa=function(t,v,w){function y(){t.removeEventListener(v,y);w.apply(this,arguments);}t.addEventListener(v,y);};b.Q7a=function(){var t,v,w,y,x,A;t=p.Og.cookie.split("; ");v=t.length;x={};for(w=0;w < v;w++){if(y=(0,n.trim)(t[w])){A=y.indexOf("=");0 < A && (x[y.substr(0,A)]=y.substr(A + 1));}}return x;};b.tIb=c;b.X4=Object.assign(c,{MOa:void 0});b.JV=k;b.getFunctionName=f;b.gma=h;b.jra=function(t){var v;v="";(0,q.isArray)(t) || (0,q.Uoa)(t)?v=p.reduce.call(t,function(w,y){return w + (32 <= y && 128 > y?(0,p.ELa)(y):".");},""):(0,q.yg)(t)?v=t:(0,n.bg)(t,function(w,y){v+=(v?", ":"") + "{" + w + ": " + ((0,q.Ep)(y)?f(y) || "function":y) + "}";});return "[" + h(t) + " " + v + "]";};b.tVb=function(t,v){t.firstChild?t.insertBefore(v,t.firstChild):t.appendChild(v);};b.fS=b.fS || (function(t){var v;v="";(0,n.bg)(t,function(w,y){v+=(v?";":"") + w + ":" + y;});return v;});b.createElement=b.createElement || (function(t,v,w,y){var x;x=p.Og.createElement(t);v && (x.style.cssText=v);w && (x.innerHTML=w);y && (0,n.bg)(y,function(A,z){x.setAttribute(A,z);});return x;});b.MLb=function(t,v){var w;w=t[0];if(v <= w[0])return w.slice(1);for(var y=1,x;x=t[y++];){if(v <= x[0]){t=(v - w[0]) / (x[0] - w[0]);v=[];for(y=1;y < w.length;y++){v.push((w[y] || 0) + t * ((x[y] || 0) - (w[y] || 0)));}return v;}w=x;}return w.slice(1);};b.Feb=function(t,v){var x;for(var w={},y=0;y < v.length;y++){x=v[y];if("string" != typeof x && "number" != typeof x)return !1;w[v[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!w[x]))return !1;}return !0;};b.pY=d;b.Heb=g;b.DO=function(t,v){var w,y,x,A;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (A=t[w]) && A > x && (x=A);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (A=v.call(t,t[w],w)) && A > x && (x=A);}}return x;};b.Geb=function(t,v){var w,y,x,A;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (A=t[w]) && x > A && (x=A);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (A=v.call(t,t[w],w)) && x > A && (x=A);}}return x;};b.NG=function(t){return (0,q.Ep)(t.then)?t:new Promise(function(v,w){t.oncomplete=function(){v(t.result);};t.onerror=function(){w(t.error);};});};b.PDb=function(t,v){var y,x,A,z,B,C;function w(D){0 > y.indexOf(D) && (0,q.rb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!v || !v.length)return t;if(!t.length)return [];x=v.length;try{for(;x--;){z="" + v[x];B=(0,n.bj)(z);switch(z[z.length - 1]){case "-":for(A=t.length;A--;){C=t[A];if(C < B){w(C);break;}}break;case "+":for(A=0;A < t.length;A++){if((C=t[A],C > B)){w(C);break;}}break;default:0 <= t.indexOf(B) && w(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.j4=b.j4 || (function(t,v,w){var y;if(t / v > w){y=(0,p.vn)(v * w);t=v;}else (y=t,t=(0,p.vn)(t / w));return {width:y,height:t};});b.$vb=function(t,v,w){for(var y=[],x=0;x < v;x++){y.push((0,p.RFa)(t[x] - w,2));}return (0,p.SFa)(g(y) / y.length);};b.jK=function(t,v){var w;w=t.length;v=(w - 1) * v + 1;if(1 === v)return t[0];if(v == w)return t[w - 1];w=(0,p.MI)(v);return t[w - 1] + (v - w) * (t[w] - t[w - 1]);};b.FEb=function(t,v){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var w=t.length,y=0;y < w;y++){for(var x=0;x < v.length;x++){if(t[y].type == v[x])return t[y];}}throw Error("Box not found " + v);};b.pfb=function(t){return t.zGb("trak/mdia/minf/stbl/stsd/" + m.rza + "|" + m.sza).children.filter(function(v){return "sinf" == v.type && v.zcc.schm.pfc == u.fu;})[0].zGb("schi/tenc").eo;};b.ofb=function(t){var w;function v(y,x){var A;A=w[y];w[y]=w[x];w[x]=A;}w=new Uint8Array(t);v(0,3);v(1,2);v(4,5);v(6,7);return w;};b.m1a=function(){return (0,q.Ep)(p.ze.requestMediaKeySystemAccess);};b.NUb=function(t){return function(v){return v && v[t];};};(0,q.Ep)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,v){var w,y;void 0 === t && (t=0);void 0 === v && (v=this.byteLength);t=Math.floor(t);v=Math.floor(v);0 > t && (t+=this.byteLength);0 > v && (v+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - t)return new ArrayBuffer(0);w=new ArrayBuffer(v - t);y=new Uint8Array(w);t=new Uint8Array(this,t,v - t);y.set(t);return w;});b.Woa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.sYa=function(){var t,v;t=new ArrayBuffer(4);v=new Uint8Array(t);t=new Uint32Array(t);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.QF=function(){var t,v,w;try{t=/playercore.*js/;v=p.ru.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(v && 0 < v.length){w=(0,p.vn)(v[0].duration);return JSON.stringify(w);}}catch(y){}};b.RUb=function(t,v,w){if(t && t.length){if(w && w.gvb)try{t.forEach(function(y,x){var A;A=(x=w.gvb[x]) && x.media;A && (0,q.yg)(A)?(!1,A=(0,l.Bq)(A).buffer,y.media={arrayBuffer:A,length:A.byteLength,stream:v,Ac:x.cdn}):l.log.warn("chunk not in cache",y.zg);});}catch(y){l.log.error("error reading cached chunks",y);}else l.log.warn("chunks not available in cached stream",w.type);}else l.log.warn("chunks not available in mediabuffer",w.type);};},30818:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.twb=b.Nl=b.cg=b.Hvb=b.ve=b.Dv=b.trim=b.Ona=b.Iab=b.L7a=b.ATb=b.bj=b.SQa=b.$Ra=b.Rd=b.bg=void 0;c=a(70633);k=a(50876);f=a(95919);b.bg=function(h,d){for(var g in h){h.hasOwnProperty(g) && d(g,h[g]);}};b.Rd=b.Rd || (function(h,d,g){var m,l,n;if(d)if(g){m=g.JU;l=g.prefix;n=g.b8;(0,b.bg)(d,function(p,q){if(!n || (0,f.Qc)(q))h[(l || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.bg)(d,function(p,q){h[p]=q;});return h;});b.$Ra=function(h,d,g,m){var l;if(h){l=h[d];(0,f.Ep)(l) && (g=l.apply(h,k.slice.call(arguments,3)));}return g;};b.SQa=function(h){for(var d={},g=h.length;g--;){d[h[g]]=!0;}return d;};b.bj=b.bj || (function(h){return parseInt(h,10);});b.ATb=function(h){return (/^true$/i).test(h);};b.L7a=function(h,d){return (0,k.vn)(h + (0,k.f_)() * (d - h));};b.Iab=function(h){return JSON.stringify(h,null,"  ");};b.Ona=(function(){var d,g;function h(m){(0,c.oa)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(m){return m.replace(g,h);};})();b.trim=(function(){var h;h=/^\s+|\s+$/gm;return function(d){return d.replace(h,"");};})();b.Dv=function(h){return Array.isArray(h)?h:[h];};b.ve=b.ve || (function(h){var d,g,m;if(h){d=h.stack;g=h.number;m=h.message;m || (m="" + h);d?(h="" + d,0 != h.indexOf(m) && (h=m + "\n" + h)):h=m;g && (h+="\nnumber:" + g);return h;}});b.Hvb=function(h){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){m=arguments[d++];if((0,f.Qc)(m))return m;}};b.cg=function(h){return (0,f.rb)(h)?h.toFixed(0):void 0;};b.Nl=function(h){return (0,f.rb)(h)?(h / 1E3).toFixed(0):void 0;};b.twb=function(h){for(var d=[],g=0;g < h.length;g++){d[g]=h[g];}return d;};},37986:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C;function c(D){return (D=b.config.K3b[k(D)])?D:{};}function k(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.bwb=b.cwb=b.mTa=b.P2=b.nTa=b.eja=b.config=void 0;f=a(7942);h=a(24133);d=a(89082);g=a(53685);m=a(70633);l=a(77003);n=a(56261);p=a(30818);a(71163);q=a(50876);u=a(95919);t=a(11102);v=a(14959);w=a(91022);y=a(65350);x=a(36845);A=a(2467);z=a(811);B=a(58998);C=a(77878);b.nTa=function(D,F){var Ja,Xa,cb,W,aa,Q,ka,P,fa;function G(ta,pa){(0,p.bg)(ta,function(Ra,Pa){(0,u.Ep)(Pa)?pa[Ra]=Pa.call(void 0,pa[Ra]):(0,u.kt)(Pa) && (pa[Ra]=pa[Ra] || ({}),G(Pa,pa[Ra]));});}function E(ta,pa,Ra,Pa){for(var db=[],wb=3;wb < arguments.length;++wb){db[wb - 3]=arguments[wb];}return function(ob){(0,u.Qc)(ob) && (Ra=ob);(0,m.oa)((0,u.Ep)(ta));return ta.apply(void 0,[pa,Ra].concat(da(db)));};}function J(ta){ta=ta.toLowerCase();W.hasOwnProperty(ta) && (cb[ta]=W[ta],aa[ta]=W[ta]);return ta;}function K(ta,pa,Ra){var Pa;ta=ta.toLowerCase();if(cb.hasOwnProperty(ta)){Pa=cb[ta];try{Pa=Ra?Ra(Pa):Pa;}catch(db){Pa=void 0;}if(void 0 !== Pa)return Pa;(0,m.oa)(!1);d.log.error("Invalid configuration value. Name: " + ta);}return pa;}function N(ta,pa,Ra,Pa){return K(ta,pa,function(db){(0,u.yg)(db) && (db=(0,p.bj)(db));if((0,u.a1a)(db,Ra,Pa))return db;});}function I(ta,pa,Ra,Pa){return K(ta,pa,function(db){(0,u.yg)(db) && (db=(0,p.bj)(db));if((0,u.RB)(db,Ra,Pa))return db;});}function O(ta,pa,Ra,Pa){return K(ta,pa,function(db){(0,u.yg)(db) && (db=parseFloat(db));if((0,u.rb)(db,Ra,Pa))return db;});}function L(ta,pa,Ra){return K(ta,pa,function(Pa){if(Ra?Ra.test(Pa):(0,u.yg)(Pa))return Pa;});}function H(ta,pa){return K(ta,pa,function(Ra){if("true" == Ra || !0 === Ra)return !0;if("false" == Ra || !1 === Ra)return !1;});}function M(ta,pa){return K(ta,pa,function(Ra){if((0,u.yg)(Ra))return JSON.parse((0,q.m_)(Ra));if((0,u.kt)(Ra))return Ra;});}function R(ta,pa,Ra,Pa,db,wb){var ob;ta=ta.toLowerCase();cb.hasOwnProperty(ta) && (ob=cb[ta]);if(!(0,u.Qc)(ob))return pa;if((0,u.yg)(ob))if(ob[0] !== Ra)ob=Pa(ob);else try{ob=JSON.parse((0,q.m_)(ob));}catch(Fb){ob=void 0;}if(void 0 === ob)return pa;for(ta=0;ta < db.length;ta++){if(!db[ta](ob))return pa;}return wb?wb(ob):ob;}function Y(ta,pa,Ra,Pa,db){return R(ta,pa,"[",function(wb){wb=wb.split("|");for(var ob=wb.length;ob--;){wb[ob]=(0,p.bj)(wb[ob]);}return wb;},[function(wb){return (0,u.isArray)(wb) && 0 < wb.length;},function(wb){for(var ob=wb.length;ob--;){if(!(0,u.RB)(wb[ob],Ra,Pa))return !1;}return !0;},function(wb){return void 0 === db || wb.length >= db;}]);}function ea(ta,pa){return R(ta,pa,"[",function(Ra){Ra=(0,u.isArray)(Ra)?Ra:Ra.split("|");for(var Pa=Ra.length;Pa--;){try{Ra[Pa]=JSON.parse((0,q.m_)(Ra[Pa]));}catch(db){Ra=void 0;break;}}return Ra;},[function(Ra){return (0,u.isArray)(Ra) && 0 < Ra.length;},function(Ra){for(var Pa=Ra.length;Pa--;){if(!(0,u.Qc)(Ra[Pa]) || !(0,u.kt)(Ra[Pa]))return !1;}return !0;}]);}function ca(ta,pa){var Ra;Ra=oa(ta,[]);return Ra && 0 < Ra.length?(0,C.Sh)(Ra):ea(ta,pa);}function oa(ta,pa,Ra,Pa){return R(ta,pa,"[",function(db){return (0,u.isArray)(db)?db:db.split("|");},[function(db){return (0,u.isArray)(db) && 0 < db.length;},function(db){for(var wb=db.length;wb--;){if(Ra?!Ra.test(db[wb]):!(0,u.WL)(db[wb]))return !1;}return !0;},function(db){return void 0 === Pa || db.length >= Pa;}]);}function Ga(ta,pa,Ra){return R(ta,pa,"{",function(Pa){var db,ob,Fb;db={};Pa=Pa.split(";");for(var wb=Pa.length;wb--;){ob=Pa[wb];Fb=ob.indexOf(":");if(0 >= Fb)return;db[ob.substring(0,Fb)]=ob.substring(Fb + 1);}return db;},[function(Pa){return (0,u.kt)(Pa) && 0 < Object.keys(Pa).length;},function(Pa){if(Ra)for(var db in Pa){if(!Ra.test(Pa[db]))return !1;}return !0;}],function(Pa){var db;db={};(0,p.Rd)(db,pa);(0,p.Rd)(db,Pa);return db;});}function Fa(ta){var pa;pa=[];(0,p.bg)(ta,function(Ra,Pa){var db;try{db="videoapp" === Ra.toLowerCase()?"[object object]":JSON.stringify(Pa);}catch(wb){db="cantparse";}pa.push(Ra + "=" + db);});return pa.join("\n");}Ja=/^[0-9]+[%]?$/;Xa=/^[0-9]*$/;aa={};Q=d.Aa.get(g.sn);ka=d.Aa.get(y.ED);(function(ta){function pa(Ra){Ra.split(",").forEach(function(Pa){var db;db=Pa.indexOf("=");0 < db && (cb[Pa.substring(0,db).toLowerCase()]=Pa.substring(db + 1));});}cb={};(0,p.Rd)(cb,ta);D && D.length && q.forEach.call(D,function(Ra){(0,u.yg)(Ra)?pa(Ra):(0,u.kt)(Ra) && (0,p.Rd)(cb,Ra,{JU:!0});});W=(0,p.Rd)({},(0,h.X4)(),{JU:!0});if(ta=(0,h.Q7a)().cadmiumconfig)(d.log.info("Config cookie loaded",ta),pa(ta));if(d.Aa.get(z.yn).K1 || cb.istestaccount)((0,p.Rd)(cb,W),aa=W);})(F);b.config={};P={DCb:E(H,J("enableXHEAAC"),!1),LVa:E(H,J("enableDDPlus20"),!0),KVa:E(H,J("enableDDPlus"),!0),MK:E(H,J("enableDDPlusAtmos"),!1),gCb:E(H,J("enableLSSDH"),!0),dCb:E(H,J("enableHEVC"),!1),V5a:E(H,J("overrideEnableHEVC"),!1),Cka:E(H,J("enableHDR"),!1),U5a:E(H,J("overrideEnableHDR"),!1),T5a:E(H,J("overrideEnableDV"),!1),LK:E(H,J("enableAVCHigh"),ka.LK),R5a:E(H,J("overrideEnableAVCHigh"),!1),Aka:E(H,J("enableAVCHighLive"),ka.Aka),S5a:E(H,J("overrideEnableAVCHighLive"),!0),zCb:E(H,J("enableVP9"),!1),W5a:E(H,J("overrideEnableVP9"),!1),RBb:E(H,J("enableAV1"),!1),Q5a:E(H,J("overrideEnableAV1"),!1),qTb:E(H,J("overrideEnableXHEAAC"),!1),oTb:E(H,"overrideEnableAllAudioProfiles",!1),pTb:E(H,"overrideEnableAllVideoProfiles",!1),pCb:E(H,J("enablePRK"),!1),aCb:E(H,J("enableDV"),!1),OVa:E(H,J("enableHWDRM"),!1),fCb:E(H,J("enableImageSubs"),!0),HE:E(ca,J("audioProfiles"),ka.HE),cCb:E(H,J("enableFullHdForWidevineL3"),!1),NVa:E(H,J("enableFullHdForWidevineL1"),!1),yCb:E(H,J("enableUHD"),!0),S$:E(I,"videoCapabilityDetectorType",l.yl.Cw),Bha:E(I,"audioCapabilityDetectorType",l.du.Cw),mm:E(ca,J("videoProfiles"),ka.mm),cr:E(ca,J("liveVideoProfiles"),ka.cr),mQa:E(ca,J("additionalVideoProfiles"),[]),spb:E(oa,J("timedTextProfiles"),ka.Qt),Qt:function(){return P.spb().filter(function(ta){return ta === n.wl.iba?P.gCb():ta === n.wl.NI?P.fCb():!0;});},endpoint:E(H,J("endpoint"),!1),version:E(L,"version","unknown"),eCb:E(H,J("enableHdcp"),!1),qr:E(H,J("prepareCadmium"),!1),Upb:E(H,J("acceptManifestOnPrepareItemParams"),!0),VUb:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),FS:E(H,J("enableLdlPrefetch"),!1),VVa:E(H,J("enableMediaPrefetch"),!1),kCb:E(H,J("enableManifestCache"),!0),vAb:E(H,J("deleteCachedManifestOnPlayback"),!1),uAb:E(H,J("deleteCachedManifestOnCreate"),!1),xAb:E(H,J("deleteOtherManifestCacheOnCreate"),!1),wAb:E(H,J("deleteOtherLdlCacheOnCreate"),!1),Lec:E(I,J("periodicPrepareLogsIntervalMilliseconds"),36E5),pVb:E(I,J("prepareManifestCacheMaxCount"),50),nVb:E(I,J("prepareLdlCacheMaxCount"),30),d7a:E(I,J("prepareManifestExpiryMilliseconds"),12E5),oVb:E(I,J("prepareLdlExpiryMilliseconds"),78E4),hVb:E(I,J("prefetcherMaxWishlistSize"),10),gVb:E(I,J("prefetcherBudgetInBytes"),Infinity),iVb:E(H,J("prefetcherOverrideItemPriority"),!0),mVb:E(L,J("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),ugc:E(M,"videoApp"),NC:E(M,"storageRules"),s4:E(H,"ftlEnabled",ka.s4),Una:E(I,J("imageSubsResolution"),0),VKb:E(I,J("imageSubsMaxBuffer"),ka.vPb.ba(x.eu),0),WR:E(H,J("captureBatteryStatus"),!1),$Fb:E(I,J("getBatteryApiTimeoutMilliseconds"),5E3),Ul:E(L,J("keySystemId"),ka.Ul),O1a:E(oa,J("keySystemList"),void 0,void 0),mxa:E(H,J("validateKeySystemAccess"),!1),hQb:E(I,J("hdcpGlobalTimeout1"),1E4),iQb:E(I,J("hdcpGlobalTimeout2"),1E4),cec:E(I,J("hdcpQueryTimeout1"),1E3),dec:E(I,J("hdcpQueryTimeout2"),1E3),W3a:E(I,J("hdcpQueryTimeout2"),100),jQb:E(H,J("microsoftHwdrmRequiresHevc"),!1),V3a:E(H,J("microsoftClearLeadRequiresSwdrm"),!1),eQb:E(H,J("microsoftEnableDeviceInfo"),!1),fQb:E(H,J("microsoftEnableHardwareInfo"),!1),gQb:E(H,J("microsoftEnableHardwareReset"),!1),N4b:E(H,J("useHevcCodecForDolbyVision"),!1),lCb:E(H,J("enableMediaCapabilities"),!1),UUb:E(H,J("powerEfficientForVideo"),!1),mCb:E(H,J("enableMediaCapabilitiesSourceBufferCheck"),!1),DOb:E(H,"logMediaPipelineStatus",!1),mW:E(H,J("renderDomDiagnostics"),!0),M2a:function(){return -1;},cM:E(N,J("logDisplayMaxEntryCount"),ka.cM,-1),HOb:E(N,J("logToConsoleLevel"),-1),ebc:E(N,J("bladerunnerCmdHistorySize"),10),ay:function(){return Q.ay;},Apa:E(H,"logErrorIfEsnNotProvided",!0),Lka:E(H,"enforceSinglePlayback",ka.Lka),M3:E(H,"enforceSingleSession",ka.M3),Sia:E(H,"closeOtherPlaybacks",!0),Zrb:E(I,"asyncLoadTimeout",15E3,1),SOb:E(I,"mainThreadMonitorPollRate",0),YF:function(){return Q.YF;},kK:function(){return Q.kK;},FX:function(){return Q.FX;},kdb:E(I,J("verbosePlaybackInfoDenominator"),0),b9:E(H,"renderTimedText",!0),WUb:E(H,"preBufferTimedText",!0),IDb:E(H,"fatalOnTimedTextLoadError",!0),uwa:E(Ga,"timedTextStyleDefaults",{}),w$:E(Ga,"timedTextStyleOverrides",{}),v$:E(Ga,"timedTextFontFamilyMapping",ka.v$ || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),ZN:E(I,"timedTextSimpleFallbackThreshold",ka.ZN.ba(x.eu)),FL:E(oa,J("imscLanguageList"),ka.FL,[]),H5:E(oa,J("increasedScaleLanguageList"),ka.H5,[]),z6:E(oa,J("lessBoldLanguageList"),ka.z6,[]),Jja:E(L,J("customDfxpUrl")),xCb:E(H,J("enableSubtitleTrackerLogging"),!1),IZb:E(H,J("sendSubtitleQoeLogblobOnMidplay"),!1),tia:E(Y,"cdnIdWhiteList",[]),sia:E(Y,"cdnIdBlackList",[]),Jla:E(L,J("forceAudioTrack")),Nla:E(L,J("forceTimedTextTrack")),EPb:E(I,J("maxRetriesTimedTextDownload"),0),M2b:E(I,J("timedTextRetryInterval"),8E3),j1b:E(L,"storageType","idb",/^(none|fs|idb|ls)$/),I2a:E(I,"lockExpiration",1E4),BOb:E(I,"lockRefresh",3E3),yub:E(H,"captureUnhandledExceptions",!0),UKb:E(H,"ignoreUnhandledExceptionDuringPlayback",!0),N3b:E(H,"unhandledExceptionsArePlaybackErrors",!1),gcb:E(L,"unhandledExceptionSource",""),AVb:E(H,"preserveLastFrame",!1),qQb:E(I,"minBufferingTimeInMilliseconds",4E3),hWb:E(I,"progressBackwardsGraceTimeMilliseconds",4E3),iWb:E(I,"progressBackwardsMinPercent",10),btb:E(L,J("bookmarkIgnoreBeginning"),"0",Ja),ctb:E(L,J("bookmarkIgnoreEnd"),"5%",Ja),dtb:E(L,J("bookmarkIgnoreEndForBranching"),"60000",Ja),fqa:E(I,"maxParallelConnections",3),Pta:E(H,"reportThroughputInLogblobs",!0),Iv:E(I,"minAudioMediaRequestDuration",16E3),oQb:E(I,"minAudioMediaRequestDurationBranching",0),Iy:E(I,"minVideoMediaRequestDuration",4E3),xQb:E(I,"minVideoMediaRequestDurationVariableGOP",0),wQb:E(I,"minVideoMediaRequestDurationBranching",0),Aqa:E(I,"minAudioMediaRequestSizeBytes",0),Eqa:E(I,"minVideoMediaRequestSizeBytes",0),xBb:E(H,"droppedFrameRateFilterEnabled",!1),yBb:E(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),ABb:E(function(ta,pa,Ra,Pa,db,wb){return R(ta,pa,"[",function(ob){ob=ob.split(";");for(var Fb=ob.length;Fb--;){ob[Fb]=ob[Fb].split("|");for(var Qa=ob[Fb].length;Qa--;){ob[Fb][Qa]=(0,p.bj)(ob[Fb][Qa]);}}return ob;},[function(ob){return (0,u.isArray)(ob) && 0 < ob.length;},function(ob){for(var Fb=ob.length;Fb-- && void 0 !== ob;){if(!(0,u.isArray)(ob[Fb]))return !1;for(var Qa=ob[Fb].length;Qa--;){if(!(0,u.RB)(ob[Fb][Qa],Ra,Pa))return !1;}}return !0;},function(ob){if(void 0 !== db)for(var Fb=ob.length;Fb--;){if(db !== ob[Fb].length)return !1;}return !0;},function(ob){return void 0 === wb || ob.length >= wb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),zBb:E(I,"droppedFrameRateFilterMinHeight",384),BBb:E(Y,"droppedFramesPercentilesList",[]),kQb:E(H,"microsoftScreenSizeFilterEnabled",!1),kNb:E(H,"keyStatusFilterEnabled",!1),z_a:E(I,"hdcpEngagementWaitTime",0),J3b:E(H,"uiLabelFilterEnabled",!0),I3b:E(M,"uiLabelFilter",{}),eAb:E(I,J("defaultVolume"),100,0,100),gqa:E(I,J("maxPlaybackRate"),2,0,16),DWa:E(H,"fastForwardAds",!1),cVa:E(H,"disableVideoRightClickMenu",!1),l7:E(I,"minDecoderBufferMilliseconds",1E3,0,f.Mw),oC:E(I,"optimalDecoderBufferMilliseconds",5E3,0,f.Mw),Ira:E(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Mw),r7:E(I,"minimumTimeBeforeBranchDecision",3E3,0,f.Mw),m4a:E(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Mw),Ey:E(I,"maxDecoderBufferMilliseconds",ka.Ey.ba(A.na),0,f.Mw),AUa:E(I,"decoderTimeoutMilliseconds",1E4,1),Q4a:E(I,"noRenderTimeoutMilliseconds",0),mdb:E(I,"videoGapsTimeoutMilliseconds",500),QTb:E(I,"pauseTimeoutLimitMilliseconds",18E5),Yna:E(I,"inactivityMonitorInterval",3E4,0),Tpb:E(Y,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),PK:E(H,"enableTrickPlay",!1),Wqb:E(Y,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),p3b:E(I,"trickPlayHighResolutionBitrateThreshold",1E3),q3b:E(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),t3b:E(O,"trickplayBufferFactor",.5),o3b:E(I,"trickPlayDownloadRetryCount",1),Xpa:E(L,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),oDb:E(oa,"experimentalFilter",["throughput-wssl"]),Iia:E(L,"ciPredictorSource","throughput-ci"),Gva:E(L,"simulationDurationStrategy","default"),Pqa:E(L,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),sDa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),v3a:E(N,"maxIQRSamples",Infinity),d4a:E(N,"minIQRSamples",5),Ycb:E(H,"useResourceTimingAPI",!1),SKb:E(H,"ignoreFirstByte",!0),pqa:E(H,"mediaRequestAsyncLoadStart",ka.pqa),X4b:E(H,"useXHROnLoadStart",!1),CDb:E(Y,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),Q2:E(I,"connectTimeoutMilliseconds",8E3,500),Wqa:E(I,"noProgressTimeoutMilliseconds",8E3,500),vbb:E(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),uec:E(I,"netflixRequestExpiryTimeout",0),Q5b:E(H,"webkitDecodedFrameCountIncorrectlyReported",!1),o$:E(oa,J("supportedAudioTrackTypes"),[],void 0,1),N5:E(I,"initialLogFlushTimeout",5E3),H6a:E(L,"playdataPersistKey",Q.ay?"unsentplaydatatest":"unsentplaydata"),yfc:E(H,"sendPersistedPlaydata",!0),uUb:E(I,"playdataPersistIntervalMilliseconds",4E3),Nec:E(I,"playdataSendDelayMilliseconds",1E4),zfc:E(H,"sendPlaydataBackupOnInit",!0),FOb:E(oa,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),X3a:E(H,"midplayEnabled",!0),h7:E(I,"midplayIntervalMilliseconds",3E5),Y3a:E(Y,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),A3:E(I,"downloadReportDenominator",0),pBb:E(I,"downloadReportInterval",3E5),L2a:E(I,"logConfigApplyDenominator",0),zRa:E(Ga,J("bookmarkByMovieId"),{}),ZS:E(H,J("forceLimitedDurationLicense"),!1),WB:E(I,J("licenseRenewalRequestDelay"),0),jsa:E(I,J("persistedReleaseDelay"),1E4),Idc:E(H,J("limitedDurationFlagOverride"),void 0),p9a:E(I,"safariPlayPauseWorkaroundDelay",100),$5b:E(I,"workaroundValueForSeekIssue",1200),nia:E(H,J("callEndOfStream"),ka.nia),ZTb:E(H,"performRewindCheck",!0),KDb:E(H,"fatalOnUnexpectedSeeking",!0),JDb:E(H,"fatalOnUnexpectedSeeked",!0),HDb:E(H,"fatalOnManifestMistmatch",!0),H_b:E(H,J("setVideoElementSize")),xvb:E(H,J("clearVideoSrc"),!0),PUa:E(I,J("delayPlayPause"),0),Mr:E(H,J("useTypescriptEme"),!1),Rcb:E(H,J("useEncryptedEvent"),!0),yS:E(L,J("drmPersistKey"),"unsentDrmData"),y7a:E(H,J("promiseBasedEme"),!1),GRb:E(H,J("nudgeSourceBuffer"),!1),D9a:E(N,J("seekDelta"),1),UV:E(H,J("preciseSeeking"),!1),XUb:E(H,J("preciseSeekingOnTwoCoreDevice"),!1),OUa:E(Ga,J("delayErrorHandling")),jk:E(L,"esn",""),FWa:E(L,"fesn",""),sCb:E(H,J("enablePerformanceLogging"),!1),MVa:E(H,J("enableEmeVerboseLogging"),!1),appId:E(L,"appId","",Xa),sessionId:E(L,"sessionId","",Xa),hSa:E(L,"cdnProxyUrl"),U4b:E(H,"usePlayReadyHeaderObject",!1),mXa:E(I,"forceXhrErrorResponseCode",void 0),rp:{rec:E(L,"mslApiPath","/msl/"),Uec:E(L,"proxyPath",""),nw:E(L,"uiVersion"),F$:E(L,"uiPlatform"),sbc:function(){return "0";},Hsa:E(oa,"preferredLanguages",f.GAa,/^[a-zA-Z-]{2,5}$/,1),NEb:E(L,J("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),S1b:E(H,"supportPreviewContentPin",!0),T1b:E(H,"supportWatermarking",!0),m0b:E(H,"showAllSubDubTracks",!1),xcc:E(H,J("failOnGuidMismatch"),!1)},M8:{enabled:E(H,"qcEnabled",!1),hn:E(L,"qcPackageId","")},Lr:E(H,"useRangeHeader",!1),GS:E(H,"enableMilestoneEventList",!0),Esb:E(Ga,"authenticationKeyNames",(0,p.Rd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),e2b:E(L,"systemKeyWrapFormat"),g0b:E(H,"shouldSendUserAuthData",!0),Wua:E(H,"sendUserAuthIfRequired",ka.Wua),$_b:E(H,"shouldClearUserData",!1),nO:E(H,"usesMsl",!0),QQb:E(H,"mslDeleteStore",!1),SQb:E(H,"mslPersistStore",!0),ywb:E(H,"correctNetworkForShortTitles",!0),TUb:E(H,"postplayHighInitBitrate",!1),$1b:E(H,"supportsUnequalizedDownloadables",!0),wUa:E(I,J("debugAseDenominator"),100),V1:E(I,"aseAudioBufferSizeBytes",ka.V1.ba(x.eu)),Y1:E(I,"aseVideoBufferSizeBytes",ka.Y1.ba(x.eu)),qt:E(I,"minInitVideoBitrate",560),sQb:E(I,"minHCInitVideoBitrate",560),Fy:E(I,"maxInitVideoBitrate",Infinity),bV:E(I,"minInitAudioBitrate",0),m7:E(I,"minHCInitAudioBitrate",0),QU:E(I,"maxInitAudioBitrate",65535),i7:E(I,"minAcceptableVideoBitrate",235),eC:E(I,"minRequiredBuffer",3E4),hr:E(I,"minPrebufSize",7800),Bqa:E(I,"minCheckBufferingCompleteInterval",999999),tta:E(O,"rebufferingFactor",1),fr:E(I,"maxBufferingTime",2600),jxa:E(H,"useMaxPrebufSize",!0),bC:E(I,"maxPrebufSize",45E3),hqa:E(I,"maxRebufSize",Infinity),L5:E(ea,"initialBitrateSelectionCurve",null),n0a:E(I,"initSelectionLowerBound",560),o0a:E(I,"initSelectionUpperBound",1050),sX:E(I,"throughputPercentForAudio",15),Kha:E(I,"bandwidthMargin",10),Lha:E(H,"bandwidthMarginContinuous",!1),Mha:E(ea,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),gja:E(I,"conservBandwidthMargin",20),kwa:E(H,"switchConfigBasedOnInSessionTput",!1),ija:E(I,"conservBandwidthMarginTputThreshold",0),hja:E(ea,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Yab:E(H,"switchAlgoBasedOnHistIQR",!1),lwa:E(L,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),B3a:E(N,"maxPlayerStateToSwitchConfig",-1),Q2a:E(L,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),bEa:E(O,"IQRThreshold",.5),J_a:E(L,"histIQRCalcToUse","simple"),TU:E(I,"maxTotalBufferLevelPerSession",0),ES:E(H,"enableCombinedPlaygraphs",!0),rF:E(H,"enableAdPlaygraphs",!0),l9:E(H,"retainSbrOnFade",!1),bla:E(oa,"excludedContentPlaygraphIds",[]),J3:E(H,"enableDiscontiguousBuffering",!1),Lla:E(Y,"forceImmediateTransitionTypeForTitles",[]),Kla:E(I,"forceImmediateTransitionExitZone",0),J$:E(H,"useBufferSizeLimiter",!1),O4b:E(H,"useLegacyFragmentRounding",!1),E_a:E(I,"highWatermarkLevel",3E4),Dbb:E(I,"toStableThreshold",3E4),y$:E(I,"toUnstableThreshold",ka.y$.ba(A.na)),Iva:E(H,"skipBitrateInUpswitch",!1),Bxa:E(I,"watermarkLevelForSkipStart",8E3),Jna:E(I,"highStreamRetentionWindow",9E4),Kpa:E(I,"lowStreamTransitionWindow",51E4),Lna:E(I,"highStreamRetentionWindowUp",3E5),Mpa:E(I,"lowStreamTransitionWindowUp",3E5),Kna:E(I,"highStreamRetentionWindowDown",6E5),Lpa:E(I,"lowStreamTransitionWindowDown",0),Ina:E(O,"highStreamInfeasibleBitrateFactor",.5),zy:E(I,"lowestBufForUpswitch",15E3),FU:E(I,"lockPeriodAfterDownswitch",15E3),Ppa:E(I,"lowWatermarkLevel",25E3),Ay:E(I,"lowestWaterMarkLevel",2E4),Qpa:E(H,"lowestWaterMarkLevelBufferRelaxed",!1),b7:E(O,"mediaRate",1),T6:E(I,"maxTrailingBufferLen",1E4),zha:E(I,"audioBufferTargetAvailableSize",262144),oxa:E(I,"videoBufferTargetAvailableSize",1048576),J3a:E(I,"maxVideoTrailingBufferSize",8388608),n3a:E(I,"maxAudioTrailingBufferSize",393216),Z3:E(O,"fastUpswitchFactor",3),kla:E(O,"fastDownswitchFactor",1),BG:E(I,"maxMediaBufferAllowed",24E4),Q$a:E(H,"simulatePartialBlocks",!0),P$a:E(H,"simulateBufferFull",!0),jja:E(H,"considerConnectTime",!1),fja:E(O,"connectTimeMultiplier",1),NOb:E(I,"lowGradeModeEnterThreshold",12E4),OOb:E(I,"lowGradeModeExitThreshold",9E4),q3a:E(I,"maxDomainFailureWaitDuration",3E4),aqa:E(I,"maxAttemptsOnFailure",40),Dka:E(H,"enableMaxAttemptsOnFailure",!0),rWa:E(H,"exhaustAllLocationsForFailure",!0),x3a:E(I,"maxNetworkErrorsDuringBuffering",20),O6:E(I,"maxBufferingTimeAllowedWithNetworkError",12E4),CWa:E(I,"fastDomainSelectionBwThreshold",2E3),lbb:E(I,"throughputProbingEnterThreshold",4E4),mbb:E(I,"throughputProbingExitThreshold",34E3),G2a:E(I,"locationProbingTimeout",1E4),JWa:E(I,"finalLocationSelectionBwThreshold",1E4),jbb:E(O,"throughputHighConfidenceLevel",.75),kbb:E(O,"throughputLowConfidenceLevel",.4),XVa:E(H,"enablePerfBasedLocationSwitch",!1),eH:E(H,"probeServerWhenError",!0),Ssa:E(I,"probeRequestTimeoutMilliseconds",8E3),xR:E(H,"allowSwitchback",!0),l7a:E(I,"probeDetailDenominator",100),P6:E(I,"maxDelayToReportFailure",300),xpa:E(I,"locationStatisticsUpdateInterval",6E4),Awb:E(H,"countGapInBuffer",!1),hrb:E(H,"allowCallToStreamSelector",!0),rtb:E(I,"bufferThresholdForAbort",1E4),DPb:E(I,"maxResponsesInitialTput",6),QVa:E(H,"enableInitialTputLogging",!1),eUb:E(I,"pipelineScheduleTimeoutMs",2),iM:E(I,"maxPartialBuffersAtBufferingStart",2),IPb:E(I,"maxStreamingSkew",4E3),BPb:E(I,"maxPendingBufferPercentage",10),w5:E(I,"headerRequestSize",4096),Ska:E(H,"estimateHeaderSize",!1),k7:E(I,"minBufferLenForHeaderDownloading",1E4),bua:E(I,"reserveForSkipbackBufferMs",1E4),IRb:E(I,"numExtraFragmentsAllowed",2),qo:E(H,"pipelineEnabled",!1),X$a:E(I,"socketReceiveBufferSize",0),f2:E(I,"audioSocketReceiveBufferSize",32768),U$:E(I,"videoSocketReceiveBufferSize",65536),Gna:E(I,"headersSocketReceiveBufferSize",32768),t4b:E(I,"updatePtsIntervalMs",1E3),utb:E(I,"bufferTraceDenominator",100),FRa:E(I,"bufferLevelNotifyIntervalMs",2E3),DR:E(I,"aseReportDenominator",0),uha:E(I,"aseReportIntervalMs",3E5),SBb:E(H,"enableAbortTesting",!1),Rpb:E(I,"abortRequestFrequency",8),v1b:E(I,"streamingStatusIntervalMs",2E3),TV:E(I,"prebufferTimeLimit",24E4),a4a:E(I,"minBufferLevelForTrackSwitch",2E3),csa:E(I,"penaltyFactorForLongConnectTime",2),Ipa:E(I,"longConnectTimeThreshold",200),Xga:E(I,"additionalBufferingLongConnectTime",2E3),Yga:E(I,"additionalBufferingPerFailure",8E3),gW:E(I,"rebufferCheckDuration",6E4),jCb:E(H,"enableLookaheadHints",!1),LOb:E(I,"lookaheadFragments",2),OK:E(H,"enableOCSideChannel",!0),o_:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),rcb:E(H,"updateDrmRequestOnNetworkFailure",!1),pAb:E(H,"deferAseScheduling",!1),rPb:E(I,"maxDiffAudioVideoEndPtsMs",16E3),Wja:E(I,"defaultHeaderCacheSize",4),Vja:E(I,"defaultHeaderCacheDataPrefetchMs",8E3),Qqa:E(H,"neverWipeHeaderCache",!0),Oqa:E(I,"networkFailureResetWaitMs",2E3),Nqa:E(I,"networkFailureAbandonMs",6E4),S6:E(I,"maxThrottledNetworkFailures",3),s$:E(I,"throttledNetworkFailureThresholdMs",200),Opa:E(N,"lowThroughputThreshold",400),ala:E(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),NQb:E(H,"mp4ParsingInNative",!1),K0b:E(H,"sourceBufferInOrderAppend",!0),nN:E(H,"requireAudioStreamToEncompassVideo",!0),grb:E(H,"allowAudioToStreamPastVideo",!0),UVa:E(H,"enableManagerDebugTraces",!1),Z2a:E(I,"managerDebugMessageInterval",1E3),Y2a:E(I,"managerDebugMessageCount",20),zec:E(H,"notifyManifestCacheEom",!1),ttb:E(I,"bufferThresholdToSwitchToSingleConnMs",18E4),stb:E(I,"bufferThresholdToSwitchToParallelConnMs",12E4),n8:E(I,"periodicHistoryPersistMs",3E5),w9:E(I,"saveVideoBitrateMs",18E4),EQa:E(H,"appendMediaRequestOnComplete",!0),wxa:E(H,"waitForDrmToAppendMedia",!1),Ila:E(H,J("forceAppendHeadersAfterDrm"),!1),KEb:E(H,J("forceAppendEncryptedStreamHeaderFirst"),!0),HWb:E(H,J("reappendRequestsOnSkip"),!1),XQb:E(I,"netIntrStoreWindow",36E3),uQb:E(I,"minNetIntrDuration",8E3),EDb:E(I,"fastHistoricBandwidthExpirationTime",10368E3),Lsb:E(I,"bandwidthExpirationTime",5184E3),DDb:E(I,"failureExpirationTime",86400),tKb:E(I,"historyTimeOfDayGranularity",4),nDb:E(H,"expandDownloadTime",!1),DQb:E(I,"minimumMeasurementTime",500),CQb:E(I,"minimumMeasurementBytes",131072),C2b:E(I,"throughputMeasurementTimeout",2E3),uLb:E(I,"initThroughputMeasureDataSize",262144),D2b:E(L,"throughputPredictor","ewma"),B2b:E(I,"throughputMeasureWindow",5E3),H2b:E(I,"throughputWarmupTime",5E3),A2b:E(I,"throughputIQRMeasureWindow",5E3),wib:E(I,"IQRBucketizerWindow",15E3),ewb:E(I,"connectTimeHalflife",10),xYb:E(I,"responseTimeHalflife",10),sKb:E(I,"historicBandwidthUpdateInterval",2E3),BQb:E(I,"minimumBufferToStopProbing",1E4),Iua:E(L,"secondThroughputEstimator","none"),A9a:E(N,"secondThroughputMeasureWindowInMs",Infinity),bCb:E(oa,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),UDb:E(M,"filterDefinitionOverrides",{}),Zzb:E(L,"defaultFilter","throughput-ewma"),jZb:E(L,"secondaryFilter","none"),$zb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Mqa:E(H,"needMinimumNetworkConfidence",!0),Pha:E(H,"biasTowardHistoricalThroughput",!0),Iga:E(H,"addHeaderDataToNetworkMonitor",!1),Pva:E(H,"startMonitorOnLoadStart",!1),Ota:E(H,"reportFailedRequestsToNetworkMonitor",!1),cqa:E(N,"maxFastPlayBufferInMs",Infinity),s3a:E(N,"maxFastPlayBitThreshold",Infinity),iha:E(H,"appendFirstHeaderOnComplete",!0),Mrb:E(L,"ase_stream_selector","optimized"),joa:E(L,"initBitrateSelectorAlgorithm","default"),Yha:E(L,"bufferingSelectorAlgorithm","default"),Hzb:E(L,"ase_ls_failure_simulation",""),Nja:E(H,"ase_dump_fragments",!1),Oja:E(I,"ase_location_history",0),xUa:E(I,"ase_throughput",0),Izb:E(H,"ase_simulate_verbose",!1),OUb:E(I,"pollingPeriod",150),wOb:E(I,"loadTimeMs",18E4),jPb:E(I,"marginTimeMs",1E4),kma:E(H,"getDeviceIdFromBindDevice",!1),Hga:E(H,"addFailedLogBlobsToQueue",!0),K3b:{"content-sampling":{fr:E(I,"contentSamplingMaxBufferingTime",3E3),zN:E(L,"contentSamplingSelectStartingVMAFMethod","fallback"),nR:E(H,"contentSamplingActivateSelectStartingVMAF",!0),st:E(I,"contentSamplingMinStartingVideoVMAF",80),$U:E(I,"contentSamplingMinAcceptableVMAF",70),FG:E(I,"contentSamplingMinAllowedVmaf",60)},billboard:{qt:E(I,"billboardMinInitVideoBitrate",1050),Fy:E(I,"billboardMaxInitVideoBitrate",null),hr:E(I,"billboardMinPrebufSize",null),bC:E(I,"billboardMaxPrebufSize",null),fr:E(I,"billboardMaxBufferingTime",null),iM:E(I,"billboardMaxPartialBuffersAtBufferingStart",null),Ay:E(I,"billboardLowestWaterMarkLevel",6E3),zy:E(I,"billboardLowestBufForUpswitch",25E3),lwa:E(L,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{qt:E(I,"preplayMinInitVideoBitrate",1050),Fy:E(I,"preplayMaxInitVideoBitrate",null),hr:E(I,"preplayMinPrebufSize",null),bC:E(I,"preplayMaxPrebufSize",null),fr:E(I,"preplayMaxBufferingTime",null),iM:E(I,"preplayMaxPartialBuffersAtBufferingStart",null),Ay:E(I,"preplayLowestWaterMarkLevel",6E3),zy:E(I,"preplayLowestBufForUpswitch",25E3)},embedded:{qt:E(I,"embeddedMinInitVideoBitrate",1050),Fy:E(I,"embeddedMaxInitVideoBitrate",null),hr:E(I,"embeddedMinPrebufSize",null),bC:E(I,"embeddedMaxPrebufSize",null),fr:E(I,"embeddedMaxBufferingTime",null),iM:E(I,"embeddedMaxPartialBuffersAtBufferingStart",null),Ay:E(I,"embeddedLowestWaterMarkLevel",6E3),zy:E(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{qt:E(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),Fy:E(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),hr:E(I,"videoMerchBobHorizontalMinPrebufSize",null),bC:E(I,"videoMerchBobHorizontalMaxPrebufSize",null),fr:E(I,"videoMerchBobHorizontalMaxBufferingTime",null),iM:E(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Ay:E(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),zy:E(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{qt:E(I,"miniModalHorizontalMinInitVideoBitrate",null),Fy:E(I,"miniModalHorizontalMaxInitVideoBitrate",null),hr:E(I,"miniModalHorizontalMinPrebufSize",null),bC:E(I,"miniModalHorizontalMaxPrebufSize",null),fr:E(I,"miniModalHorizontalMaxBufferingTime",500),iM:E(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Ay:E(I,"miniModalHorizontalLowestWaterMarkLevel",null),zy:E(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},ACb:E(H,"enableVerbosePlaydelayLogging",!1),vCb:E(H,"enableSeamless",!1),H_a:E(I,"hindsightDenominator",0),G_a:E(I,"hindsightDebugDenominator",0),I_a:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),YVa:E(H,"enableSessionHistoryReport",!1),zVa:E(I,"earlyStageEstimatePeriod",1E4),i2a:E(I,"lateStageEstimatePeriod",3E4),y3a:E(I,"maxNumSessionHistoryStored",30),h4a:E(I,"minSessionHistoryDuration",3E4),PU:E(I,"maxActiveRequestsPerSession",3),l3a:E(I,"maxActiveRequestsSABCell100",2),qpa:E(H,"limitAudioDiscountByMaxAudioBitrate",!0),jd:E(M,"browserInfo",{}),Etb:E(I,J("busyGracePeriod"),199),JZb:E(H,J("sendTransitionLogblob"),!0),JBb:E(H,J("editVideoFragments"),!0),yVa:E(H,J("earlyAppendSingleChildBranch"),!0),cLb:E(H,J("includeSegmentInfoOnLogblobs"),!0),tDb:E(H,"exposeTestData",!1),sDb:E(H,J("exposeErrorData"),!1),zUa:E(H,"declareBufferingCompleteAtSegmentEnd",!0),BR:E(H,J("applyProfileTimestampOffset"),!1),Em:E(H,J("applyProfileStreamingOffset"),!1),d7:E(H,J("mediaSourceSupportsNegativePts"),!1),mrb:E(H,J("allowSmallSeekDelta"),!1),B0b:E(I,J("smallSeekDeltaThresholdMilliseconds"),t.M_),XBb:E(H,"enableCDMAttestedDescriptors",!1),Xta:E(H,"requireDownloadDataAtBuffering",!1),Yta:E(H,"requireSetupConnectionDuringBuffering",!1),i8a:E(H,"recordFirstFragmentOnSubBranchCreate",!1),Ucb:E(H,"useMobileVMAF",!1),VUa:E(L,"desiredVMAFTypeMobile","phone_plus_lts"),WUa:E(L,"desiredVMAFTypeNonMobile","plus_lts"),nR:E(H,"activateSelectStartingVMAF",!1),st:E(I,"minStartingVideoVMAF",1),$U:E(I,"minAcceptableVMAF",1),FG:E(I,"minAllowedVmaf",1),prb:E(H,"alwaysNotifyEOSForPlaygraph",!0),nCb:E(H,"enableNewAse",!0),P4b:E(H,"useNewApi",!0),N6:E(I,"maxAllowedOutstandingRequests",4),XJ:E(H,"alwaysRunUnderflowTimer",!0),Cqa:E(I,"minStreamableConcurrencyWindow",3E3),awa:E(O,"streamableConcurrencyFactor",.3),SR:E(I,"bufferingConcurrencyWindow",7800),v0b:E(H,"singleStreamablePerBranch",!0),L3:E(H,"enableResolutionVMAFStreamFilter",!1),k9:E(M,"resolutionVMAFCappingRuleList",{}),fsa:E(N,"percentCapTitlesForResolutionVMAFStreamFilter",100),XAb:E(H,"disableSkipping",!1),K$:E(H,"useHLSPlayer",ka.K$),ixa:E(H,J("useExitZones"),!0),fYb:E(H,"requestSegmentVmaf",!1),MM:E(M,"perFragmentVMAFConfig",{enabled:!1}),Ora:E(I,"paddingDurationMs",1E3),Pra:E(L,"paddingMediaType","padding"),Wab:E(H,"supportsPtsChanged",!1),$Ub:E(H,J("preferUnletterboxed"),!1),RVa:E(H,"enableKeySystemRestrictor",!1),cDb:E(I,"errorEventToRestrict",2),bDb:E(Y,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),aDb:E(Y,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),JVa:E(H,"enableCachedErrors",!1),Ptb:E(I,"cachedErrorCountLimit",20),Rtb:E(I,"cachedErrorExpirationSeconds",604800),Stb:E(I,"cachedErrorsStorageTimeoutSeconds",2E3),BU:E(I,"liveTargetBufferDuration",1E4),B6:E(I,"liveEdgeCushion",6E3),G6:E(H,"liveSwitchStreamsOnErrorInPipeline",!1),cOb:E(N,"liveEdgeThreshold",1E4),hCb:E(H,"enableLivePlaybackRateDriftCorrection",!0),kOb:E(O,"livePlaybackRateMin",.98),jOb:E(O,"livePlaybackRateMax",1.02),iOb:E(N,"livePlaybackRateAdjustmentThresholdMs",20),hOb:E(N,"livePlaybackRateAdjustmentIntervalMs",1E3),gOb:E(O,"livePlaybackRateAdjustmentFactor",.1),MEb:E(N,"forceAstRelativeLiveBookmark",void 0),OEb:E(N,"forceEstRelativeLiveBookmark",void 0),a1b:E(N,"startSlateMs",void 0),mOb:E(N,"liveSlateMs",void 0)};fa=!0;b.eja=function(ta){var pa,Ra,Pa;pa=d.Aa.get(B.Jc).id;if(0 < b.config.L2a && 0 === pa % b.config.L2a)try{Ra=d.Aa.get(v.rm);Pa=d.Aa.get(w.Lw).Hs("config","info",{params:ta});Ra.vc(Pa);}catch(db){d.log.error("Failed to log config$apply",db);}pb._cad_global.config=b.config;(0,m.oa)(ta);ta && (cb=(0,p.Rd)({},ta,{JU:!0}),(0,p.Rd)(cb,aa,{JU:!0}),G(P,b.config),cb.istestaccount && d.log.trace("Config applied for",Fa(fa?cb:ta)),fa=!1);};(0,b.eja)(cb);};b.P2=function(D){D=c(D);return (0,p.Rd)({},a(33888)(D),{b8:!0});};b.mTa=function(D,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Iv:D?b.config.oQb:b.config.Iv,Iy:D?b.config.wQb:G?b.config.xQb:b.config.Iy,yVa:!F};return (0,p.Rd)({},a(33888)(D),{b8:!0});};b.cwb=c;b.bwb=k;},43382:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(24133);k=a(7942);f=a(68172);h=a(50876);r=a(89082);a=a(60634);d=r.Aa.get(a.Vh);d.register(f.V.WDa,function(g){h.qp && h.qp.generateKey && h.qp.importKey && h.qp.unwrapKey?(d.ke("wcs"),(0,c.NG)(h.qp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ke("wcdone");g(k.kg);},function(m){var l;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))l=f.R.zea;else 0 <= m.indexOf("timeout waiting for iframe to load") && (l=f.R.Plb);g({za:l,Kb:m});})):g({za:f.R.zea});});},89034:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;c=a(7942);k=a(37986);r=a(68172);f=a(70633);h=a(89082);d=a(39465);g=a(50876);m=a(60634);l=a(811);n=h.Aa.get(m.Vh);n.register(r.V.aca,function(p){var q,u,t;q=h.Aa.get(l.yn);(0,f.oa)(k.config);(0,f.oa)(g.Sz && g.Sz.getDeviceId || g.IGa || q.hL);u=h.Aa.get(d.gBa);t=(0,h.Yi)("Device");n.ke("devs");u.create({deviceId:k.config.deviceId,hL:q.hL,YUa:"deviceid",jk:k.config.jk,Qn:q.Qn,rS:q.rS,userAgent:g.CD,Apa:k.config.Apa,kma:k.config.kma,tec:k.config.ay?"mslstoretest":"mslstore",nO:k.config.nO}).then(function(v){b.Mk=v;pb._cad_global.device=b.Mk;t.info("Esn source: " + b.Mk.P3);n.ke("devdone");p(c.kg);}).catch(function(v){v.ka=void 0;p(v);});});},43038:function(r,b,a){var g,m,l;function c(n,p,q,u,t){var v;v={};"right" == n.horizontalAlignment?v.right=100 * (q - p.left - p.width - t) / q + "%":v.left=100 * (p.left - t) / q + "%";"bottom" == n.verticalAlignment?v.bottom=100 * (u - p.top - p.height - t) / u + "%":v.top=100 * (p.top - t) / u + "%";return v;}function k(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function f(n,p,q,u,t){var v,w;v=n.style;w=(0,m.Ona)(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return h(w,v,p,q,u,t);}function h(n,p,q,u,t,v){var w;w=p.characterStyle;t=t[w];w=0 <= w.indexOf("MONOSPACE")?k(t,p.cellResolution) || t.lineHeight:t.lineHeight;u=p.characterSize * u.height / (w || 1);u=0 < v?(0,l.MI)(u * v):(0,l.vn)(u);v={"font-size":u + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (v["font-style"]="italic");p.characterUnderline && (v["text-decoration"]="underline");p.characterColor && (v.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (v["background-color"]=d(p.backgroundColor,p.backgroundOpacity));u=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":v["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":v["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":v["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":v["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}v=(0,g.fS)(v);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (v+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + v + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.gWa=b.TCb=b.RCb=b.UCb=b.SCb=b.hWa=b.iWa=b.Nka=void 0;g=a(24133);m=a(30818);l=a(50876);b.Nka=function(n,p,q,u,t){var v;v="";n.textNodes.forEach(function(w){v+=f(w,q,p,u,t);});n.region && n.region.multiRowAlignment && (v='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + v + "</span>");return v;};b.iWa=function(n,p,q,u,t){var v,w,x,A,z;v="";w=t.width;t=t.height;for(var y=p.length;y--;){x=p[y];A=n[y];A=A && A.region;z="position:absolute;background:" + u + ";width:" + (0,l.vn)(x.width + 2 * q) + "px;height:" + (0,l.vn)(x.height + 2 * q) + "px;";x=c(A,x,w,t,q);(0,m.bg)(x,function(B,C){z+=B + ":" + C + ";";});v+='<div style="' + z + '"></div>';}return v;};b.hWa=c;b.SCb=k;b.UCb=f;b.RCb=h;b.TCb=d;b.gWa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,g.fS)(p);};},797:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ecb=void 0;c=a(50876);b.ecb=function(k,f){function h(m,l,n){var t,w,y,x,A;if(m && 1 < m.length){for(var p=[],q=[],u=0;u < m.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < m.length;u++){for(var v=u + 1;v < m.length;v++){w=m[u];y=m[v];if(0 > w.width || 0 > y.width || y.left > w.left + w.width || y.left + y.width < w.left || y.top > w.top + w.height?0:y.top + y.height >= w.top){x=(0,c.Wr)(w.left,y.left);A=(0,c.Wr)(w.top,y.top);x={width:(0,c.Wr)((0,c.Nw)(w.left + w.width,y.left + y.width) - x,0),height:(0,c.Wr)((0,c.Nw)(w.top + w.height,y.top + y.height) - A,0),x:x,y:A};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((A=x.width <= x.height,w=d(m[u]),y=d(m[v]),A && l || !A && !l))(x=(0,c.Wr)(x.width / 2,.25),w.x <= y.x?(q[u]-=x,q[v]+=x):(q[v]-=x,q[u]+=x));else if(A && !l || !A && l)(w=(0,c.Wr)(x.height / 2,.25),p[u]-=w,p[v]+=w);}}for(u=0;u < m.length;u++){if(-.25 > q[u] && 0 <= m[u].left + q[u] || .25 < q[u] && m[u].left + m[u].width + q[u] <= n.width)(m[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= m[u].top + p[u] || .25 < p[u] && m[u].top + m[u].height + p[u] <= n.height)(m[u].top+=p[u],t=!0);}return t;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}k=k.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,l){m.forEach(function(n){0 > n.left && n.left + n.width < l.width?n.left+=(0,c.Nw)(-n.left,l.width - (n.left + n.width)):n.left + n.width > l.width && 0 < n.left && (n.left-=(0,c.Nw)(n.left + n.width - l.width,n.left));0 > n.top && n.top + n.height < l.height?n.top+=(0,c.Nw)(-n.top,l.height - (n.top + n.height)):n.top + n.height > l.height && 0 < n.top && (n.top-=(0,c.Nw)(n.top + n.height - l.height,n.top));});})(k,f);for(var g=0;50 > g && h(k,!0,f);g++){;}for(g=0;50 > g && h(k,!1,f);g++){;}return k;};},83795:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.V2a=void 0;c=a(37986);k=a(7942);f=a(61831);r=a(68172);h=a(50876);d=a(95919);g=a(89082);a=a(60634);g.Aa.get(a.Vh).register(r.V.ODa,function(m){var p,q,u,t,v;function l(){return (0,h.MI)((0,f.Im)() / u);}function n(){var w;w=l();if(w != v){for(var y=(0,h.Nw)(w - v,30);y--;){t.push(0);}(y=(0,h.Wr)(t.length - 31,0)) && t.splice(0,y);v=w;}t[t.length - 1]++;}p=c.config.SOb;q=-6 / (p - 2 - 2);u=k.Vr;t=[];v=l();(0,d.Moa)(p) && (setInterval(n,1E3 / p),b.V2a={eHb:function(){var x;for(var w=[],y=t.length - 1;y--;){x=t[y];w.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,h.vn)((x - 2) * q + 7));}return w;}});m(k.kg);});},43662:function(r,b,a){var d,g,m,l,n,p;function c(q){var u;q=new m.XO(q);if(1481462272 != q.Up())throw Error("Invalid header");u={XMR:{Version:q.Up(),RightsID:q.Xv(16)}};k(q,u.XMR,q.buffer.length);return u;}function k(q,u,t){var v,w,y,x,A;for(;q.position < t;){v=q.bh();w=q.Up();w-=8;switch(v){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(v)};A=u[y];A?(0,p.isArray)(A)?A.push(x):(u[y]=[],u[y].push(A),u[y].push(x)):u[y]=x;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:k(q,x,q.position + w);break;case 5:x.Reserved1=q.bh();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.bh();x.MinimumAnalogVideoOutputProtectionLevel=q.bh();x.Reserved2=q.bh();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.bh();break;case 10:x.Reserved=q.Xv(16);x.SymmetricCipherType=q.bh();x.AsymmetricCipherType=q.bh();w=q.bh();x.EncryptedKeyLength=w;v=q.Xv(w);x.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:x.SignatureType=q.Xv(2);w=q.bh();v=q.Xv(w);x.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:x.Reserved=q.bh();break;case 18:x.BeginDate=q.Up();x.EndDate=q.Up();break;case 42:x.CurveType=q.Xv(2);w=q.bh();v=q.Xv(w);x.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:x.ExpireAfterFirstPlay=q.Up();break;case 50:x.Sequence=q.Up();break;case 51:x.LicenseProcessingIndicator=q.bh();break;case 52:x.MinimumSecurityLevel=q.bh();break;case 57:x.PlayEnablerType=h(q.Xv(16));break;case 85:break;default:x.OtherData=q.Xv(w);}}}function f(q){return "0x" + q.toString(16);}function h(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Nzb=b.Ozb=b.Mzb=b.Lzb=b.Kzb=void 0;d=a(7942);g=a(89082);m=a(70834);l=a(30732);n=a(50791);p=a(95919);b.Kzb=function(q,u,t){switch(u){case d.UY:q && (q=(0,g.rRa)(q),(0,n.Udb)(q,function(v){v.ka && (v=v.object) && (v=(0,l.kYa)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,l.j6a)(v)) && (v=(0,g.Bq)(v)) && (v=c(v)) && t(v);}));}};b.Lzb=c;b.Mzb=k;b.Ozb=f;b.Nzb=h;},5917:function(r,b){var c;function a(k,f){var h;h=this;this.ifa=[];c.forEach(function(d){(d=d(k,f)) && h.ifa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.CP=b.qGa=void 0;c=[];a.prototype.iz=function(k){var d;for(var f=[],h=this.ifa.length;h--;){d=this.ifa[h];d.iz(k) && f.push(d.c4);}if(f.length)return f;};b.qGa=a;b.CP=function(k){c.push(k);};},91145:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(89082);k=a(17244);f=a(21234);h=a(58998);(0,r.CP)(function(d,g){var m,l;m=c.Aa.get(k.cc);if(m().xBb){l=c.Aa.get(h.Jc);return new f.xBa(d,g,c.If,l,m);}});},21234:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u){var t;t=this;this.j=l;this.Ba=n;this.ja=p;this.Fa=q;this.N7={};this.HK={};this.JN=[];this.I0a=1E3;this.i$=k.yFa;this.Dra=function(){var v;v=t.j.mb.value === d.bb.me && t.j.state.value === d.Ub.ae && t.j.O === t.Ba.O;t.aU?v || (clearInterval(t.aU),t.aU=void 0,t.sU=void 0):v && (t.aU=pb.setInterval(t.I2b,t.I0a));};this.I2b=function(){var v,w,y,x;w=t.j.Td.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=t.Fa.Fb().ba(m.na);y=t.j.je.JF();if(y){if(t.sU && v - t.sU.time < 2 * t.I0a && w === t.sU.height){x=y - t.sU.wBb;t.Pga(w,x);t.Cqb(w,x);}t.sU={time:v,wBb:y,height:w};t.j.p8 && t.j.p8.ZZb(t.N7);}}};this.bma=function(){var v;v={};t.HK && t.JN.forEach(function(w){var y,x,A;y=t.HK[w];if(y){x=0;A=0;(0,g.bg)(y,function(z,B){A+=(0,g.bj)(z);x+=B;});v[w]=A / x;}});return v;};this.yT=function(v){var w;w={};v.forEach(function(y){w[y]={};});t.HK && ((0,f.pY)(v),t.JN.forEach(function(y){var x,A,z,B;x=t.HK[y];if(x){A=0;z=0;(0,g.bg)(x,function(E,J){A+=J;});B=Object.keys(x).map(Number);(0,f.pY)(B);for(var C=B.length - 1,D=B[C],F=v.length - 1;0 <= F;F--){for(var G=v[F];D >= G && 0 <= C;){(D=x[D]) && (z+=D);D=B[--C];}w[G][y]=(0,h.vn)(z / A * 100);}}}));return w;};this.log=this.ja.Ta("DFF",l);this.z8=u().ABb;this.APb=u().yBb;this.j4a=u().zBb;this.Ba.ska={bma:this.bma,yT:this.yT};l.state.addListener(this.Dra);l.mb.addListener(this.Dra);l.addEventListener(d.ea.yG,this.Dra);}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;k=a(7942);f=a(24133);h=a(50876);d=a(34202);g=a(30818);m=a(2467);c.prototype.iz=function(l){return l.lower && l.height > this.j4a?l.height >= this.UIb():!1;};c.prototype.Pga=function(l,n){var p;p=this.N7[l];p || (this.N7[l]=p=[],l > this.j4a && (this.JN.push(l),(0,f.pY)(this.JN)));0 < n && !(this.aV && this.aV < l) && (this.aV=l);p.push(n);p.length > this.APb && p.shift();};c.prototype.Cqb=function(l,n){var p;p=this.HK[l];p || (this.HK[l]=p={});l=p[n];p[n]=l?l + 1:1;};c.prototype.UIb=function(){var p,q;if(this.aV){for(var l=this.JN.length,n=0;n < l;n++){p=this.JN[n];if(p >= this.aV && p < this.i$){q=this.N7[p];if(q && this.Wub(this.z8,q) && this.i$ != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ba.lp.set({reason:"droppedFrames",height:p}),this.i$=p);}}this.aV=void 0;}return this.i$;};c.prototype.Wub=function(l,n){var t,v;for(var p=l.length,q=n.length,u=0;u < p;u++){t=l[u];v=t[0];t=t[1];for(var w=0;w < q;w++){if(n[w] >= t && 0 >= --v)return !0;}}return !1;};Wa.Object.defineProperties(c.prototype,{c4:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.xBa=c;},88514:function(r,b,a){var k,f,h;function c(d,g,m,l,n,p){var q;q=this;this.j=d;this.Ba=g;this.ja=m;this.config=l;this.sa=n;this.wc=p;this.nrb=function(u){!0 === u.oldValue && !1 === u.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.BYb());};this.H3b=function(u){var t,v,w;q.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);v=null === u || void 0 === u?void 0:u.newValue;w=null === u || void 0 === u?void 0:u.oldValue;"usable" !== v && (q.TZb(v,(null === (t=null === u || void 0 === u?void 0:u.Mh) || void 0 === t?void 0:t.height) || 0),"usable" === w && (u=q.sa.ue.wa(q.mNb),q.log.error("UHD KeyStatus unexpectedly changed: " + u.ba(h.na))));};this.t1a=!1;this.log=this.ja.Ta("KeyStatusStreamFilter",this.j);this.tQa=new f.Hb(!1,this.nrb);this.G3b=new f.Hb(void 0,this.H3b);}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;k=a(26984);f=a(14414);h=a(2467);c.prototype.iz=function(d){return d.ki && (this.D1b(),this.tQa.set(this.t1a && this.kKb),d.lower && 1080 < d.height && !this.tQa.value)?!0:!1;};c.prototype.Wvb=function(){this.kKb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.z_a);};c.prototype.I4a=function(d){var g;g=this;Object.entries(d).forEach(function(m){var l,n,p;l=ma(m);m=l.next().value;l=l.next().value;m=null !== (p=null === (n=g.lNb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (g.t1a="usable" === l,g.G3b.set(l,{height:m}));});};c.prototype.D1b=function(){var d,g,m;d=this;m=this.Ba.ee;!this.NMb && (0,k.zoa)(m) && (this.NMb=!0,this.lNb=null === (g=null === m || void 0 === m?void 0:m.context) || void 0 === g?void 0:g.n6,this.I4a(m.keyStatuses.value),m.keyStatuses.addListener(function(l){return d.I4a(l.newValue);}),this.wc.Pj((0,h.Lb)(this.config.z_a),function(){return d.Wvb();}),this.mNb=this.sa.ue);};c.prototype.TZb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Ba.lp.set({reason:"keyStatus",height:g});};Wa.Object.defineProperties(c.prototype,{c4:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.AEa=c;},22507:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);k=a(89082);f=a(88514);(0,r.CP)(function(h,d){if(c.config.kNb)return new f.AEa(h,d,k.If,c.config,k.sa,k.wc);});},19911:function(r,b,a){var k,f;function c(h,d){var g,m;g=(0,f.Nh)(h,"MSS");if(k.config.kQb)return {c4:"mss",iz:function(l){var n,p;if(l.lower && 2160 <= l.height)a:{for(n=l;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=pb.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");m=!0;}m || (g.warn("Restricting resolution due screen size",{MaxHeight:l.height}),d.lp.set({reason:"microsoftScreenSize",height:l.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.ejb=void 0;r=a(5917);k=a(37986);f=a(89082);(0,r.CP)(c);b.ejb=c;},22:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);k=a(89082);(0,r.CP)(function(f,h){var d,g,m,l;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.I3b);g=d[h.ud];if(c.config.J3b && g){m={};l=(0,k.Nh)(f,"MediaStreamFilter");return {c4:"uiLabel",iz:function(n){if(n.lower && n.height > g)return (m[n.height] || (m[n.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),h.lp.set({reason:"uiLabel",height:n.height})),!0);}};}});},93230:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;c=a(34202);k=a(89927);b.xDa=function(f){function h(d){f.fireEvent(c.ea.lF,{response:d,O:f.aa.O});}return {download:function(d,g){d.j=f;d=k.He.download(d,g);d.F1(h);return d;}};};},89927:function(r,b,a){var g,m,l,n,p,q,u,t,v,w,y,x,A,z;function c(){this.Ii=(0,q.Yi)("Http");this.ak=new g.Xj();this.WD=0;this.Wf={ssl:0,"non-ssl":0,invalid:0};this.G_={Ya:1,Slb:2,cza:3};this.addEventListener=this.ak.addListener;this.removeEventListener=this.ak.removeListener;}function k(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.hZb;F=B.Ktb?"random=" + (1E17 * (0,v.f_)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.Ac && !(0,l.Woa)(G) && (B=m.config && m.config.hSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,C){var D,F,G;D=B.url.split("?");F=h(B);G=D[0];F && (C.Vv=F,(void 0 === B.Lr?m.config.Lr:B.Lr) || B.zr !== x.JP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.Vv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.Ktb?"random=" + (1E17 * (0,v.f_)()).toFixed(0):"";m.config.OK && B.T9 && (F="sc=" + B.T9 + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Ac && !(0,l.Woa)(G) && (B=m.config && m.config.hSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function h(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.lS)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.lS)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.V6a;E=F.headers;B.open(G?"POST":"GET",C,D);switch(F.responseType){case b.QT:B.responseType="arraybuffer";break;case b.Qna:(0,t.$Ra)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.yg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Rd)(C,E):C);E && (0,t.bg)(E,function(J,K){B.setRequestHeader(J,K);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.QT=b.Qna=b.Pna=b.BKb=b.Rna=b.AKb=b.M_a=b.x5=b.He=b.yKb=b.zKb=void 0;g=a(59883);m=a(37986);r=a(7942);l=a(24133);n=a(61831);p=a(68172);q=a(89082);u=a(70633);t=a(30818);v=a(50876);w=a(66052);y=a(95919);x=a(5485);A=a(47417);c.prototype.o0b=function(B){var C;C=new XMLHttpRequest();B=k(B);C.open("HEAD",B,!0);C.onreadystatechange=function(){2 === C.readyState && 200 <= C.status && 299 >= C.status && !1;};C.send();return function(){return C.abort();};};c.prototype.download=function(B,C){var O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb;function D(){var W;if(!ea){ea=!0;cb && (pb.clearTimeout(cb),cb=null);O.ak.removeListener(b.Rna,J);O.Yfa(Fa,Ja);Ja && (Ja.onloadstart=null,Ja.onreadystatechange=null,Ja.onprogress=null,Ja.onerror=null,Ja.onload=null,Ja=Ja.onabort=null);Fa.ka || (Fa.za != p.R.oD?H.warn("Download failed",Y,(0,p.Iw)(Fa)):H.trace("Download aborted",Y));W=ca;ca=null;null === W || void 0 === W?void 0:W.reduceRight(function(aa,Q){(0,w.Qf)(function(){return Q(Fa);});},null);O.ak.Cc(b.M_a,Fa,!0);}}function F(){cb && (pb.clearTimeout(cb),cb=null);cb=pb.setTimeout(K,Xa?R:M);}function G(W,aa,Q,ka){var P,fa;Fa.ka=!1;Fa.za=W;P=(0,n.Im)();fa=Fa.Wl;fa.cj=fa.cj || P;fa.Yp=fa.Yp || P;aa && 0 < aa && (Fa.Ll=aa,Fa.De=aa.toString());Q && (Fa.Kb=Q);ka && (Fa.FC=ka);W !== p.R.hP && W !== p.R.pD && W !== p.R.kP || !Ja || (Ja.onabort=null,N());D();}function E(W){var aa,Q;try{Q=W.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (aa=JSON.parse(Q));}catch(ka){!1;}return aa;}function J(){z() || G(p.R.hP);}function K(){G(Xa?p.R.pD:p.R.kP);}function N(){try{null === Ja || void 0 === Ja?void 0:Ja.abort();}catch(W){}}function I(){G(p.R.oD);}O=this;(0,u.oa)(C);H=(null === (L=null === B || void 0 === B?void 0:B.j) || void 0 === L?0:L.log)?(0,q.Nh)(B.j,"Http"):this.Ii;M=B.Q2 || m.config.Q2;R=B.Wqa || m.config.Wqa;Y={Num:this.WD++};ea=!1;ca=[C];oa={};this.Epb(B);Fa=new A.ADa(B,N,K,oa,function(W){ea || ((0,u.oa)(ca,"Callback should be added before download starts."),ca && ca.unshift(W));});Xa=!1;(0,w.Qf)(function(){var W,aa;if((0,y.Voa)(B.url))try{if((f(B,Fa),Ga=Fa.url,(0,u.mS)(Ga),Y.Url=Ga,z())){!1;Ja=new XMLHttpRequest();W=m.config.X4b && "undefined" != typeof Ja.onloadstart;W && (Ja.onloadstart=function(){var Q;Q=(0,n.Im)();oa.ew=Q;Fa.vV({mediaRequest:B,timestamp:Q});});Ja.onreadystatechange=function(){2 === (null === Ja || void 0 === Ja?void 0:Ja.readyState) && (Xa=!0,oa.cj=(0,n.Im)(),Ja.onreadystatechange=null,F(),!1,O.Yfa(Fa,Ja),Fa.wV({timestamp:oa.cj,connect:!0,mediaRequest:B,start:oa.ew,rt:[oa.cj - oa.ew],responseHeaders:Fa.headers}));};Ja.onprogress=function(Q){Xa=!0;oa.S2=Q.loaded;F();O.Yfa(Fa,Ja);Q={mediaRequest:B,bytes:Q.loaded,timestamp:(0,n.Im)(),bytesLoaded:Q.loaded,responseHeaders:Fa.headers};Fa.wV(Q);};Ja.onload=function(Q){if(!ea && Ja){(0,u.oa)(void 0 === oa.Yp);oa.Yp=(0,n.Im)();oa.cj=oa.cj || oa.Yp;oa.S2=Q.loaded;if(200 <= Ja.status && 299 >= Ja.status){a:switch((Q=Ja,Fa.type)){case b.QT:Q=Q.response || new ArrayBuffer(0);break a;case b.Qna:Q=Q.responseXML;break a;default:Q=Q.responseText;}Fa.parsed=!1;Fa.content=Q;Fa.ka=!0;}else 420 === Ja.status?G(p.R.jP,Ja.status):G(p.R.iP,Ja.status,Ja.response,E(Ja));D();}};Ja.onabort=I;Ja.onerror=function(){var Q,ka;if(Ja){Q=Ja.status;"undefined" !== typeof m.config.mXa && (Q=m.config.mXa);if(0 < Q){if(420 === Q)G(p.R.jP,Q);else {try{ka=Ja.responseText;}catch(P){}G(p.R.iP,Q,ka,E(Ja));}}else G(p.R.lP);}};aa=(0,n.Im)();d(Ja,Ga,!0,B);O.ak.Cc(b.x5,Fa,!0);W || (oa.ew=aa,Fa.vV({mediaRequest:B,timestamp:aa}));F();O.ak.addListener(b.Rna,J);}else (0,w.Qf)(G.bind(void 0,p.R.hP));}catch(Q){H.error("Exception starting download",Q,Y);G(p.R.Yba,void 0,(0,t.ve)(Q));}else G(p.R.gDa);});return Fa;};c.prototype.OVb=function(B){var C,D;C=new XMLHttpRequest();D=B.LVb;C.open("HEAD",B.url,!0);C.timeout=m.config.Ssa;C.onreadystatechange=function(){2 === C.readyState && (!1,D && D.zM(C.status));};C.ontimeout=C.onerror=function(){!1;D && D.cra(C.status);};C.send();};c.prototype.Epb=function(B){var C;try{C=B.url;(0,y.Voa)(C)?0 === C.indexOf("https")?this.Wf.ssl++:0 === C.indexOf("http")?this.Wf["non-ssl"]++:this.Wf.invalid++:this.Wf.invalid++;}catch(D){}};c.prototype.Yfa=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=ma(F.split(": "));F=G.next().value;G=Z(G).join(": ");F && (D[F.toLowerCase()]=G);});B.headers=D;}};b.zKb=f;b.yKb=h;z=r.fKa;b.He=new c();b.x5=1;b.M_a=2;b.AKb=3;b.Rna=4;b.BKb=5;b.Pna=b.He.G_.Ya;b.Qna=b.He.G_.Slb;b.QT=b.He.G_.cza;pb._cad_global.http=b.He;},47417:function(r,b,a){var k;function c(f,h,d,g,m){this.F1=this.wV=this.vV=k.Rw;this.request=f;this.type=f.responseType;this.Wl=g;this.abort=h;this.timeout=d;this.F1=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;k=a(7942);c.prototype.m_b=function(f){this.vV=f;};c.prototype.r_b=function(f){this.wV=f;};b.ADa=c;},89082:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aa=b.lJa=b.eT=b.Nh=b.Yi=b.log=b.If=b.nL=b.rRa=b.Bq=b.Cx=b.jc=b.Ssb=b.Nha=b.Qsb=b.Rsb=b.Si=b.oO=b.LX=b.jh=b.wc=b.sa=void 0;c=a(84722);r=a(71163);k=a(77003);f=a(53484);h=a(5266);d=a(31224);g=a(95919);m=a(97636);l=a(35664);a=a(65428);b.sa=c.ac.get(l.Fg);b.wc=c.ac.get(a.Gi);b.jh=c.ac.get(f.oq);b.LX=b.jh.encode.bind(b.jh);b.oO=b.jh.decode.bind(b.jh);b.Si=c.ac.get(h.zw);b.Rsb=b.Si.encode.bind(b.Si);b.Qsb=b.Si.decode.bind(b.Si);b.Nha=b.Si.CF.bind(b.Si);b.Ssb=b.Si.Ebb.bind(b.Si);b.jc=c.ac.get(d.kh);b.Cx=function(n){n=(0,g.yg)(n)?(0,b.oO)(n):n;return b.jc.encode(n);};b.Bq=b.jc.decode.bind(b.jc);b.rRa=function(n){return (0,b.LX)((0,b.Bq)(n));};b.nL=function(){return c.ac.get(k.Dw);};b.If=c.ac.get(r.Xa);b.log=b.If.Ta("General");b.Yi=function(n,p){return b.If.Ta(n,void 0,p);};b.Nh=function(n,p,q){return b.If.Ta(p,n,q);};b.eT=function(n,p,q,u){return b.If.Ta(n,void 0,u,p,q);};b.lJa=function(n,p,q){return c.ac.get(m.PP)(n,p,q).zX();};b.Aa=c.ac;},9911:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(12648);k=a(7942);f=a(37986);h=a(58680);d=a(61831);r=a(68172);g=a(89082);m=a(85643);l=a(50876);n=a(66052);p=a(95919);q=a(14959);u=a(91022);a=a(60634);w=g.Aa.get(a.Vh);w.register(r.V.NDa,function(y){var A;function x(){var z,B,C;z=w.startTime;B={browserua:l.CD,browserhref:l.l_.href,initstart:z,initdelay:w.endTime - z};(z=l.Og.documentMode) && (B.browserdm="" + z);(0,p.WL)(f.config.FWa) && (B.fesn=f.config.FWa);Object.assign(B,(0,c.Yma)());C=l.ru && l.ru.timing;C && f.config.FOb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.QSa)());});z=A.DHb();Object.entries(z).forEach(function(D){var F;F=ma(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});z=v.Hs("startup","info",B,h.Vz.Dla);t.vc(z);}v=g.Aa.get(u.Lw);t=g.Aa.get(q.rm);A=g.Aa.get(m.bJ);w.CU(function(){t.qa();(0,n.Qf)(x);});y(k.kg);});},15883:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t,v;function c(w,y){var A;function x(){function z(B,C){return C.ie && 0 !== C.ie.length && C.ie[0].wG?(0,f.$y)(w,C).then(function(){A.trace("Successfully released license for session",JSON.stringify(C));return B?B.lW(C):Promise.resolve();}).catch(function(D){A.error("Unable to send stop command for session",JSON.stringify({gz:C,error:D}));throw D;}):(A.error("releaseDrmSession exception: missing valid keySessionData"),B?B.lW(C):Promise.resolve());}k(A).then(function(B){var C;C=B.D3.filter(function(D){return !1 === D.active;}).map(function(D){return z(B,D);});Promise.all(C).then(function(){A.info("release drm session completed for " + C.length + " entries");y(h.kg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;A.error("Unable to release one or more DRM session data",D);y(h.kg);});}).catch(function(B){A.error("Unable to load DRM session data",B);y(h.kg);});}A=(0,l.Yi)("PlayDataManager");y=y || h.Rw;d.config.Mr?y(h.kg):x();}function k(w){var y;if(!b.oka){y=l.Aa.get(n.cba);b.oka=new Promise(function(x,A){y.S7a().then(function(){x(y);}).catch(function(z){w.error("Unable to load DRM data for license release",z);A(z);});});}return b.oka;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=b.JIa=b.oka=void 0;f=a(49007);h=a(7942);d=a(37986);g=a(25892);m=a(811);l=a(89082);r=a(68172);n=a(68511);p=a(12496);q=a(34202);u=a(14959);t=a(60634);v=a(62298);b.JIa=function(w){var A,z,B,C,D,F;function y(){z || (w.ke("pdsb"),z=l.Aa.get(p.OP)().then(function(G){C=G;w.ke("pdsc");return G;}).catch(function(G){A.error("Unable to initialize the playdata services",G);w.ke("pdse");throw G;}));return z;}function x(){B=!0;C && C.close();g.fe.removeListener(g.Qk,x);}A=(0,l.Nh)(w,"PlayDataManager");B=!1;D=l.Aa.get(m.x_);if(!D.AI || !D.yI){F=l.Aa.get(v.tda)();D.AI=F.gz;D.yI=F.request;}w.ke("pdctor");w.addEventListener(q.ea.ug,function(){g.fe.removeListener(g.Qk,x);});w.addEventListener(q.ea.yU,function(){var G;if(!d.config.Mr && w.ee){G=w.U2.JTa();k(A).then(function(E){return E.QPa(G);}).catch(function(){A.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ea.ug,function(){var G;if(!B){w.H5b();G=[(function(){return d.config.Mr || !w.ee?Promise.resolve():new Promise(function(E){var J;A.info("Sending the expedited playdata");J=w.U2.JTa();w.ee.sWa(J).then(function(){A.info("Sent the expedited playdata");return k(A);}).then(function(K){return K?K.lW(J):Promise.resolve();}).then(function(){E(void 0);}).catch(function(K){A.error("Unable to send the expedited playdata",K);E();});});})(),(function(){return y().then(function(E){return E.cX(w.aa);}).then(function(){A.info("Sent the playdata");}).catch(function(E){A.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){l.Aa.get(u.rm).flush(!1).catch(function(){A.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){w.H7();}).catch(function(){w.H7();});}});g.fe.addListener(g.Qk,x);return {};};b.KIa=function(){return new Promise(function(w){c({},function(y){w(y);});});};l.Aa.get(t.Vh).register(r.V.Mz,function(w){w(h.kg);});},13472:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(88625);f=a(89034);h=a(37986);d=a(7942);g=a(68172);m=a(70633);l=a(89082);n=a(85643);p=a(3971);q=a(7336);u=a(30818);t=a(50876);v=a(95919);w=a(24133);y=a(74509);x=a(2467);r=a(60634);A=a(55689);z=a(40142);B=a(5485);C=a(98540);D={};F=l.Aa.get(r.Vh);F.register(g.V.PDa,function(G){var N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja;function E(Xa){Xa && Xa.userList && h.config.$_b && (Xa.userList=[]);L({esn:f.Mk.jk,esnPrefix:f.Mk.Qn,authenticationKeyNames:h.config.Esb,systemKeyWrapFormat:h.config.e2b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Fa,storeState:Xa,notifyMilestone:F.ke.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.R.$ib,MSL_READ_TIMEOUT:g.R.Zib}},{result:function(cb){J(cb);},timeout:function(){G({za:g.R.EFa});},error:function(cb){G(K(g.R.EFa,void 0,cb));}});}function J(Xa){var W,aa,Q,ka;function cb(){Ga && l.Aa.get(q.yw).create().then(function(P){return P.save(ca,Q,!1);}).catch(function(P){R.error("Error persisting msl store",(0,g.Iw)(P));});}W=this;aa=l.Aa.get(y.MD)((0,x.Lb)(100));ka=H.extend({init:function(P){this.pOa=P;},getResponse:function(P,fa,ta){var pa,Ra;fa=this.pOa;pa=fa.Kqa.He || pa;P=(0,v.Uoa)(P.body)?(0,l.LX)(P.body):P.body;(0,m.mS)(P,"Msl should not be sending empty request");P={url:fa.url,V6a:P,withCredentials:!0,ZA:"nq-" + fa.method,headers:fa.headers};fa=this.pOa.timeout;P.Q2=fa;P.Wqa=fa;Ra=pa.download(P,function(Pa){try{if(Pa.ka)ta.result({body:Pa.content});else if(400 === Pa.Ll && Pa.Kb)ta.result({body:Pa.Kb});else throw (0,u.Rd)(new M("HTTP error, SubCode: " + Pa.za + (Pa.Ll?", HttpCode: " + Pa.Ll:"")),{cadmiumResponse:Pa});}catch(db){ta.error(db);}});return {abort:function(){Ra.abort();}};}});ea && Xa.addEventHandler("shouldpersist",function(P){Q=P.storeState;aa.Oj(cb);});(0,u.Rd)(D,{qdc:function(){oa=!0;},send:function(P){function fa(){var ta,pa;ta=P.Kqa;pa={method:P.method,nonReplayable:P.T4a,encrypted:P.uF,userId:P.bdb,body:P.body,timeout:2 * P.timeout,url:new ka(P),allowTokenRefresh:Ga,sendUserAuthIfRequired:Ja,shouldSendUserAuthData:h.config.g0b};ta.email?(pa.email=ta.email,pa.password=ta.password || ""):oa && (pa.useNetflixUserAuthData=!0);return pa;}return new Promise(function(ta,pa){var Ra;Ra=fa();Xa.send(Ra).then(function(Pa){oa && (oa=!1);ta({ka:!0,body:Pa.body});}).catch(function(Pa){var db,wb;if(Pa.error){db=Pa.error.cadmiumResponse && Pa.error.cadmiumResponse.za?Pa.error.cadmiumResponse.za:Xa.isErrorReauth(Pa.error)?g.R.DFa:Xa.isErrorHeader(Pa.error)?g.R.Tib:g.R.Sib;wb=Xa.getErrorCode(Pa.error);pa(K(db,wb,Pa.error));}else (R.error("Unknown MSL error",Pa),Pa.ec=Pa.subCode,pa({za:Pa.ec?Pa.ec:g.R.ajb}));});});},eV:Xa});z.QD.ZJ.mslFetch=function(P,fa){return c.__awaiter(W,void 0,void 0,function pa(){var Ra,Pa,db;return Ia(pa,function(wb){if(1 == wb.Kv)return (Ra=l.Aa.get(C.XI),La(wb,D.send({Kqa:{He:l.Aa.get(B.ku),profile:Ra},timeout:3E3,url:P.toString(),body:null === fa || void 0 === fa?void 0:fa.body,headers:{"Content-Type":"application/x-msl+json"},bdb:Ra,RXb:!1,T4a:!0,uF:!0}),2));Pa=wb.fY;db={get body() {this.bodyUsed=!0;return Pa.body;}};return wb.return((db.bodyUsed=!1,db.ok=Pa.ka,db.status=Pa.ka?200:400,db.statusText=Pa.ka?"OK":"Bad Request",db.type="basic",db.url=P.toString(),db.headers=new Headers({"Content-Type":"application/json"}),db.text=function(){return Promise.resolve(this.body);},db.json=function(){return Promise.resolve(JSON.parse(this.body));},db.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},db.clone=function(){return Object.assign({},this);},db.blob=function(){return this.arrayBuffer().then(function(ob){return new Blob([ob]);});},db.formData=function(){throw Error("Not implemented");},db.redirected=!1,db));});});};G(d.kg);l.Aa.get(A.Qca).UQb(D);}function K(Xa,cb,W){var aa,Q,ka,P;ka={za:Xa,O3:cb};if(W){P=function(fa){var ta;fa=fa || "" + W;if(W.stack){ta="" + W.stack;fa=0 <= ta.indexOf(fa)?ta:fa + ta;}return fa;};if(Q=W.cadmiumResponse){if(aa=Q.De && Q.De.toString())Q.De=aa;Q.za=Xa;Q.O3=cb;Q.Kb=P(W.message);Q.error={ec:Xa,Oc:aa,Jy:cb,data:W.cause,message:W.message};return Q;}P=P(W.errorMessage);aa=(0,u.bj)(W.internalCode) || (0,u.bj)(W.error && W.error.internalCode);Q=void 0 !== W.fDb?(0,w.jra)(W.fDb):void 0;}P && (ka.Kb=P);aa && (ka.De=aa);ka.error={ec:Xa,Oc:aa.toString(),Jy:cb,data:Q,message:P};return ka;}(0,m.oa)(h.config);N=l.Aa.get(n.bJ);I=p.qm.nj;if(t.Sz && t.qp && t.qp.unwrapKey){try{O=pb.netflix.msl;L=O.createMslClient;H=O.IHttpLocation;M=O.MslIoException;}catch(Xa){G({za:g.R.Uib});return;}R=(0,l.Yi)("Msl");Y=h.config.QQb;ea=h.config.SQb;ca=h.config.ay?"mslstoretest":"mslstore";O=k.KH.V9a;oa=!0;Ga=!O || O.ka;Fa=(0,l.Bq)(h.config.ay?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ja=!!h.config.Wua;l.Aa.get(q.yw).create().then(function(Xa){Y?Xa.remove(ca).then(function(){E();}).catch(function(cb){R.error("Unable to delete MSL store",(0,g.Iw)(cb));E();}):ea?Xa.load(ca).then(function(cb){N.mark(I.Wib);E(cb.value);}).catch(function(cb){cb.za == g.R.Zw?(N.mark(I.Yib),E()):(R.error("Error loading msl store",(0,g.Iw)(cb)),N.mark(I.Xib),Xa.remove(ca).then(function(){E();}).catch(function(W){G(W);}));}):E();}).catch(function(Xa){R.error("Error creating app storage while loading msl store",(0,g.Iw)(Xa));G(Xa);});}else G({za:g.R.Vib});});},89136:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;c=a(37986);k=a(25892);f=a(30818);h=a(68172);d=a(34202);b.lCa=function(g,m,l){function n(q){var u,t;u=q.error || q;t=(0,f.ve)(u);l.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.gcb && c.config.N3b?0 <= u.indexOf(c.config.gcb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.kd(h.V.qMa));}function p(){k.fe.removeListener(k.j5,n);g.removeEventListener(d.ea.ug,p);g.removeEventListener(d.ea.zt,p);}try{k.fe.addListener(k.j5,n);g.addEventListener(d.ea.ug,p);c.config.UKb && g.addEventListener(d.ea.zt,p);}catch(q){l.error("exception in exception handler ",q);}};},45108:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;c=a(37986);k=a(61831);f=a(68172);h=a(50995);d=a(50876);g=a(95919);m=a(34202);l=a(89082);n=a(92513);b.fEa=function(p){var u,t,v,w;function q(){p.state.value !== m.Ub.ae || p.mb.value !== m.bb.Xh && p.mb.value !== m.bb.jq?t.bq():t.gB();}u=c.config.QTb;if(!p.TL() && u){t=l.Aa.get(n.ZP)(u,function(){p.fireEvent(m.ea.GL,f.V.s_);});p.mb.addListener(q);p.state.addListener(q);if(c.config.Yna){v=(0,k.Im)();w=new h.kKa(c.config.Yna,function(){var y,x;y=(0,k.Im)();x=y - v;x > u && (p.fireEvent(m.ea.GL,f.V.YZ),w.MSa());x > 2 * c.config.Yna && (p.Zna=(0,d.Wr)(x,p.Zna || 0));v=y;});w.D_b();}p.addEventListener(m.ea.ug,function(){t.bq();(0,g.Qc)(w) && w.MSa();});}};},4985:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w;function c(y,x){this.j=y;this.ej=x;this.a2b=!1;this.log=(0,h.Nh)(this.j,"MediaAppendManager");this.Rb=this.j.Rb;this.$=this.Rb.$;this.VX=this.JR=!1;this.audio={type:f.Zj.audio,nv:[],Wk:[],LM:!1};this.video={type:f.Zj.video,nv:[],Wk:[],LM:!1};y={};this.ZH=(y[w.v.Z]=this.video,y[w.v.ga]=this.audio,y);this.closed=!1;this.Ey=k.config.Ey;this.l7=k.config.l7;this.oC=this.j.Wa.dg?k.config.Ira:k.config.oC;this.oRa=!0;this.jc=h.Aa.get("Base64EncoderSymbol");this.Bla=!1;this.dsa=[];(0,g.oa)(this.Ey > this.l7,"bad config");(0,g.oa)(this.Ey > this.oC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;k=a(37986);f=a(20736);h=a(89082);d=a(68172);g=a(70633);m=a(30818);l=a(7942);n=a(34202);p=a(11102);q=a(2467);u=a(3971);t=a(56261);v=a(86343);w=a(18920);c.prototype.w4=function(){var A,z;function y(B,C){return x(B,C.c7);}function x(B,C){var D,F,G,E;G=!!C.response;E=C.response;if(C.Hd)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.eK) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.gK) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}A=this.ZH[w.v.Z];z=this.ZH[w.v.ga];return {videoToAppend:A.Wk.reduce(x,0),videoInBuffer:A.nv.reduce(y,0),audioToAppend:z.Wk.reduce(x,0),audioInBuffer:z.nv.reduce(y,0)};};c.prototype.FRb=function(){this.audio.Ci && !this.audio.Ci.wh() && (!1,this.audio.Ci.DQa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.t_b=function(){this.audio.wva=!0;this.video.wva=!0;};c.prototype.A_b=function(y){y === w.v.ga?this.JR=!0:y === w.v.Z && (this.VX=!0);};c.prototype.wh=function(){var y,x;return !(null === (y=this.audio.Ci) || void 0 === y || !y.wh()) || !(null === (x=this.video.Ci) || void 0 === x || !x.wh());};c.prototype.J9=function(y){var x,A;null === (x=this.audio.Ci) || void 0 === x?void 0:x.J9(y);null === (A=this.video.Ci) || void 0 === A?void 0:A.J9(y);};c.prototype.wrb=function(y){var x;y.mediaType === w.v.ga?this.JR=!1:y.mediaType === w.v.Z && (this.VX=!1);x=this.ZH[y.mediaType];x?x.Wk.push(y):(0,g.oa)(!1);};c.prototype.vrb=function(y,x,A){var z;z=this;x=this.LRa(y.mediaType,x,A);if(!this.Bla)if(y.mediaType === w.v.Z)(this.sVb(y),this.Bla=!0,this.dsa.forEach(function(B){return z.kha(B);}),this.dsa=[]);else {this.dsa.push(x);return;}this.kha(x);};c.prototype.kha=function(y){var x;x=this.ZH[y.mediaType];x?x.Wk.push(y):(0,g.oa)(!1);};c.prototype.LRa=function(y,x,A){return {mediaType:y,jt:!1,response:x,Tg:function(){return "header";},get Hd() {return !this.jt;},profile:A.profile};};c.prototype.sVb=function(y){(0,g.oa)(!!y.hab,"startOfSegment properties need to be set before first header is appended");this.Bla || !k.config.KEb || !this.j.o5() && !this.j.DL() || y.hab.V0a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.jc.decode(l.bza),this.kha(this.LRa(w.v.Z,y,{profile:t.H.kD})));};c.prototype.y_b=function(y){var x;x=this.ZH[y.type];if(x)try{x.Ci=y;}catch(A){this.kd(d.V.fda,{za:(0,p.K4)(y.type),Kb:(0,m.ve)(A)});}};c.prototype.close=function(){this.$=this.Rb=void 0;this.closed=!0;};c.prototype.kd=function(y,x,A){this.closed || this.j.kd(y,x,A);};c.prototype.Sja=function(y){return this.hVa(this.audio,y,this.h3()) && this.hVa(this.video,y,this.h3());};c.prototype.h3=function(){return this.j.mb.value === n.bb.Mf?this.oC:this.l7;};c.prototype.R2b=function(){var y,x;y=this.video.Wk.filter(function(A){return !A.Hd;}).reduce(function(A,z){return A + z.bB;},0);x=this.audio.Wk.filter(function(A){return !A.Hd;}).reduce(function(A,z){return A + z.bB;},0);return Math.min(y,x);};c.prototype.hVa=function(y,x,A){var z;z=y.Tja;z=z && z.c7;return !y.Ci || 0 === y.Wk.length && (y.type === f.Zj.audio && this.JR || y.type === f.Zj.video && this.VX)?!0:z && z.Wy - x >= A || !1;};c.prototype.Wbb=function(y){this.a2b || (this.Vbb(this.audio,y),this.Vbb(this.video,y));this.closed || this.qSa();};c.prototype.qSa=function(){var y,x,A,z,B,C;z=!this.audio.Ci || 0 !== this.audio.nv.length;B=0 === this.video.Wk.length && this.VX;C=!this.video.Ci || 0 !== this.video.nv.length;!(0 === this.audio.Wk.length && this.JR && C || B && z) || (null === (y=this.audio.Ci) || void 0 === y?0:y.wh()) || (null === (x=this.video.Ci) || void 0 === x?0:x.wh()) || this.Hka || !(this.$.readyState > u.qm.gP.HAVE_NOTHING) || this.ej.f6 || (this.Hka=!0,null === (A=this.Rb) || void 0 === A?void 0:A.endOfStream());};c.prototype.Vbb=function(y,x){var A,z,B,C;if(!this.closed && y.Ci){z=y.Ci;B=y.nv;!z.wh() && 0 < B.length && (y.Tja=B[B.length - 1]);if(y.wva){if(z.wh())return;y.wva=!1;C=null === (A=this.Rb) || void 0 === A?void 0:A.ZYa().Y6a(q.vm);C && 0 < C && z.remove(0,C);}for(A=y.Wk[0];A && A.response && (A.Hd || A.gH - x <= this.Ey);){if((this.Hka=!1,this.D3b(A)))(y.Wk.shift(),A=y.Wk[0]);else break;}!z.wh() && 0 < B.length && (y.Tja=B[B.length - 1]);}};c.prototype.D3b=function(y){var x,A,z;!1;(0,g.oa)(y && !!y.response);x=y.response;A=y.mediaType;z=this.ZH[A];if(!this.closed && z.Ci && !z.Ci.wh()){try{y.Hd && y.profile && z.Ci.Jub(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});z.Ci.DQa(x,y);y.Hd || z.nv.push(this.oyb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.j3=this.j.j3?this.j.j3 + 1:1,this.oRa=!1,z.LM=!0):(this.log.error("Exception while appending media",y,B),this.kd("CodecSwitchingError" === B.name?d.V.CHa:d.V.qkb,(0,p.K4)(A)));return;}return !0;}};c.prototype.hyb=function(y){var x;if(v.gea[y.Nb])return v.gea[y.Nb];x=this.j.j_a(y.Dc);x || (this.log.warn("Could not find CDN",{cdnId:y.Dc}),x={id:y.Dc,F2a:y.location});return x;};c.prototype.$Ta=function(y){var x,A;x=y.Nb;if(v.hea[x])return v.hea[x];y.mediaType === w.v.ga?A=this.j.f_a(x):y.mediaType === w.v.Z && (A=this.j.v_a(x));A || this.log.error("Could not find stream",{stream:x});return A;};c.prototype.oyb=function(y){var x;x=this.$Ta(y);return {c7:y,stream:x,nK:{startTime:Math.floor(y.gH),endTime:Math.floor(y.Wy)},Ac:this.hyb(y)};};c.prototype.Aia=function(y){this.vSa(y,w.v.ga);this.vSa(y,w.v.Z);};c.prototype.vSa=function(y,x){var A,z,B,C,D,F,G,E,J;A=this;z=y;this.oRa && (z-=k.config.bua);B=this.ZH[x];C=B.nv;G=!1;C.some(function(K,N){var I;I=K.c7;if(y < I.gH)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);z >= I.Wy && (D=N);if(y < I.Wy)return (F=N,N=x === w.v.ga?A.j.tf:A.j.Td,K !== N.value && (N.set(K),G=!0),!0);});if((B.LM || G) && void 0 !== D && !this.Hka){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].c7.Wy - 1;if(0 < E){J=B.Ci;J && !J.wh()?(J.remove(0,E / l.Vr),B.LM=!1,C.splice(0,D + 1)):(B.LM=!0,!1);}}};c.prototype.U8a=function(){!1;[this.audio,this.video].forEach(function(y){y.nv=[];y.Tja=void 0;y.Wk=[];});this.VX=this.JR=!1;this.j.fireEvent(n.ea.X6);};c.prototype.qna=function(){return [this.audio,this.video].filter(function(y){return y.Ci;});};c.prototype.eGb=function(){var y,x;if(this.wh())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.qna().map(function(A){var z,B,C,D,F;D=A.Wk.filter(function(G){return G.jt;});F=A.Ci.buffered();A=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;A=null !== A && void 0 !== A?A:null === (z=D[0]) || void 0 === z?void 0:z.gH;z=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.Wy) && void 0 !== C?C:F;if(void 0 !== A && void 0 !== z)return {start:A,end:z};});if(y.every(function(A){return A;})){x=Math.max.apply(Math,da(y.map(function(A){return A.start;})));y=Math.min.apply(Math,da(y.map(function(A){return A.end;})));if(y > x)return {start:(0,q.Lb)(x),end:(0,q.Lb)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.wh(),"should not be busy while skipping");this.qna().forEach(function(x){x.LM=!0;});this.Aia(y);this.qna().forEach(function(x){0 < x.nv.length || (x.Wk=x.Wk.filter(function(A){return A.Hd || A.Wy > y?!0:!1;}));});};b.TFa=c;},66602:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca="MediaElementHelpersSymbol";},50743:function(r,b,a){var k,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;r=a(70655);k=a(17244);f=a(7942);a=a(86700);c.prototype.Us=function(){return this.aMb()?f.wBa:(/widevine/i).test(this.config().Ul)?f.zba:(/fps/i).test(this.config().Ul)?"fairplay":f.UY;};c.prototype.aMb=function(){return (/clearkey/i).test(this.config().Ul);};h=c;h=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.cc))],h);b.$Fa=h;},31978:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function k(w,y,x,A){var z,B;z=this;this.j=w;this.type=y;this.log=A;this.K0=new d.Hb(!1);this.XD={data:[],state:"",operation:""};this.mimeType=this.wWa((this.type === v.v.Z?this.j.Mg.value:this.j.tc.value).streams);this.ak=new g.Xj();this.Kfa={Type:this.type};if(h.config.WB){B=!0;this.Ala=new d.Hb(!1);}this.log.trace("Adding source buffer",this.Kfa,{TypeId:this.mimeType});this.Zc=x.addSourceBuffer(this.mimeType);this.Zc.addEventListener("updatestart",function(){!1;z.XD.state="updatestart";});this.Zc.addEventListener("update",function(){!1;z.XD.state="update";});this.Zc.addEventListener("updateend",function(){var C;!1;z.K0.set(!1);z.iNa && z.iNa();z.XD.state="updateend";C=0;try{C=z.Zc.buffered.length;}catch(D){}B && C && (B=!1,z.Ala.set(!0),!1);});this.Zc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && A.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}w.kd(l.V.rkb,(0,f.K4)(z.type));});this.Zc.addEventListener("abort",function(){!1;});w.addEventListener(q.ea.closed,function(){z.Zc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Wfb=b.Kca=void 0;f=a(11102);h=a(37986);d=a(14414);g=a(59883);m=a(89082);a(5690);l=a(68172);a(2467);n=a(70633);p=a(95919);q=a(34202);u=a(50563);t=a(35001);v=a(18920);k.prototype.wh=function(){return this.K0.value;};k.prototype.updating=function(){return this.Zc?this.Zc.updating:!1;};k.prototype.J9=function(w){this.iNa=w;};k.prototype.ima=function(){return this.XD;};k.prototype.buffered=function(){return this.Zc.buffered;};k.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};k.prototype.toJSON=function(){return {type:this.type};};k.prototype.ema=function(){var w,A,z;try{w=this.Zc.buffered;if(w){for(var y=[],x=0;x < w.length;x++){A=1E3 * w.start(x);z=1E3 * w.end(x);(0,n.oa)(z > A);y.push({start:A,end:z});}return y;}}catch(B){}};k.prototype.x4=function(){var w,y;w=this.ema();if(w){w=w.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=w.reduce(function(x,A){return x + A.end - A.start;},0);w=w.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:w.join("|")};}};k.prototype.DQa=function(w,y){!1;try{(0,n.oa)(this.Zc.buffered && 1 >= this.Zc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.x4()));}catch(x){}(0,n.oa)(!this.wh());this.D$a("append",w);y=y && y.eW / 1E3;(0,p.rb)(y) && this.Zc.timestampOffset !== y && (!1,this.Zc.timestampOffset=y);this.Zc.appendBuffer(w);!1;this.K0.set(!0);};k.prototype.remove=function(w,y){(0,n.oa)(!this.wh());try{this.D$a("remove");!1;this.Zc.remove(w,y);this.K0.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Kfa);}};k.prototype.D$a=function(w,y){this.XD.data=y || [];this.XD.state="init";this.XD.operation=w;};k.prototype.E_b=function(w,y){this.BNb=w / y * 1E3;};k.prototype.Jub=function(w){var y;if(this.Zc){if((w=this.wWa([{type:this.owb,af:w}]),w !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.Zc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Zc.changeType(w);this.mimeType=w;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Kfa,{From:y,To:w}),new c(x.message));}}}else this.log.info("No SourceBuffer");};k.prototype.appendBuffer=function(w,y){!y || y.Hd?this.jha(w,y):this.lha(w,y);return !0;};k.prototype.jha=function(w,y){this.j.je.jha(this,w,y || ({}));};k.prototype.lha=function(w,y){w=this.iwb(w,y);!1;this.j.je.lha(w);};k.prototype.iwb=function(w,y){var x;x=this.BNb || 0;return {nvb:function(){this.response=void 0;},Tg:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.oc.ic.DONE,gH:y.ab,Wy:y.ab + y.duration,bB:y.duration,eW:x,pp:y.pp,I:y.I,Nb:y.Nb,Dc:+y.Dc,location:y.location,gK:y.offset,eK:y.offset + y.xa - 1,bitrate:y.bitrate,response:w,n_a:w && 0 < w.byteLength,jt:!0,get Hd() {return !this.jt;},F9a:this.pj - Math.floor(x) || Infinity,toJSON:function(){var A;A={requestId:this.requestId,segmentId:this.I,isHeader:this.Hd,ptsStart:this.gH,ptsOffset:this.eW,responseType:this.Fac,duration:this.bB,readystate:this.Ue};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);}};};k.prototype.endOfStream=function(){var w;this.j.CE("EndOfStream");null === (w=this.j.je) || void 0 === w?void 0:w.I7(this.mediaType);};k.prototype.gab=function(w){this.opb=w;};k.prototype.addEventListener=function(w,y,x){this.ak.addListener(w,y,x);};k.prototype.removeEventListener=function(w,y){this.ak.removeListener(w,y);};k.prototype.wWa=function(w){var y;y=m.Aa.get(u.XP);return this.type === v.v.Z?y.c3(w):y.W2(w);};Wa.Object.defineProperties(k.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},hab:{configurable:!0,enumerable:!0,get:function(){return this.opb;}},owb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Kca=k;ia(c,Error);b.Wfb=c;},37021:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O;function c(L){var H;H=this;this.j=L;this.Rb=this.j.Rb;this.log=(0,l.Nh)(this.j,"MediaPresenterASE");this.z7=this.i3=0;this.$=this.Rb.$;this.Py=new I.DMa(this.$,this.j);this.$$a=this.B6a=this.r6a=this.g6=this.rsa=!1;this.A6=new Set();this.d2b=l.Aa.get(B.MD)((0,z.Lb)(x.M_));this.YJ=void 0;this.ej=l.Aa.get(D.QKa)(this.j);this.qw={};this.N3a={};this.HT={};this.Ag=new G.TFa(this.j,this.ej);this.b2b=function(){var M,R,Y;H.j.mX=(0,m.Im)();if(!H.Tl() && H.GB){M=H.Rb.EZa();M || (H.YTb(),H.Ag.Wbb(H.mediaTime));H.j.paused.value || !H.Ag.Sja(H.mediaTime) || !H.$ha() || M || H.ej.f6?H.mua():H.rsa || H.nua();H.XTb();if(!H.Rb.EZa() && !H.g6){M=H.Rb.mL(!0);R=H.j.mb.value;Y=H.Zvb();R !== Y && !1;Y === w.bb.jq?(H.mediaTime=H.j.Rp.ba(z.na),H.mua()):Y !== w.bb.Mf && H.q4b(M);H.Bcb();H.Ag.Aia(H.mediaTime);H.j.mb.set(Y);Y !== w.bb.Mf || R !== w.bb.me && R !== w.bb.Xh || H.zra();}}};this.kl=(0,F.A7a)(this.b2b);this.mediaTime=L.ab;this.j.Kh=!1;this.Rb.addEventListener(A.kj.Z$a,function(){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");H.$$a=!0;try{H.qa();}catch(M){H.log.error("Exception while initializing",M);H.kd(n.V.ekb);}});this.Rb.addEventListener(A.kj.o2a,function(M){M=M.J;H.$$a?H.u5a(M):H.A6.add(M);});}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;k=a(7942);f=a(37986);h=a(58680);d=a(25892);g=a(24133);m=a(61831);l=a(89082);a(5690);n=a(68172);p=a(27017);q=a(70633);u=a(19591);t=a(30818);v=a(66052);w=a(34202);y=a(95919);x=a(11102);A=a(99230);z=a(2467);B=a(74509);C=a(92513);D=a(62155);F=a(58875);G=a(4985);E=a(86393);J=a(26984);K=a(50876);N=a(18920);I=a(84258);O=a(3971);c.prototype.nWb=function(L){var H,M,R;H=this;if(this.Py.paused){M=Math.ceil(L.xLb);R=function(Y){H.ej.Qy?H.ej.Qy.time=Y:H.Q3a=Y;};M > (this.ej.Qy?this.ej.Qy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",M),R(M));L.Ola && (this.log.trace("ptsChanged forcedTimestamp",L.Ola),R(L.Ola));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.rYa=function(){return this.Rb.mL(!1);};c.prototype.F4=function(){return this.Rb.F4();};c.prototype.vv=function(){return this.Rb.vv();};c.prototype.JF=function(){return this.Rb.JF();};c.prototype.lT=function(){return this.Rb.lT();};c.prototype.qa=function(){var L;L=this;this.log.trace("Video element initializing");this.Rb.sourceBuffers.forEach(function(H){return L.Ag.y_b(H);});this.rLb(this.j.nG);};c.prototype.rLb=function(L){var H,M;H=this;L?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (M=this.j.$a) || void 0 === M?void 0:M.E3(this.j.O));0 < this.A6.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.A6).forEach(function(R){H.A6.delete(R);H.u5a(R);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.fQa)(this.$,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.ke("md");});d.fe.addListener(d.Qk,this.HT[d.Qk]=function(){return H.close();},k.RI);this.j.addEventListener(w.ea.ug,function(){return H.close();},k.RI);this.j.addEventListener(w.ea.q9a,function(){return H.nua();});this.j.addEventListener(w.ea.yG,function(){return H.wSb();});this.j.paused.addListener(function(){return H.kl();});this.j.muted.addListener(function(){return H.dxa();});this.j.volume.addListener(function(){return H.dxa();});this.j.playbackRate.addListener(function(){return H.jO();});this.j.Aq.addListener(function(){return H.kl();});this.j.hm.addListener(function(){return H.kl();});this.dxa();this.jO();this.Ag.J9(function(){return H.Y6();});this.Y6();this.w3b();};c.prototype.u5a=function(L){var H;this.j.ke("ld",L);null === (H=this.j.$a) || void 0 === H?void 0:H.E3(L);this.j.fireEvent(w.ea.l2a);};c.prototype.lha=function(L){var H;H=this;!1;this.Ag.wrb(L);this.Iub(L).then(function(){H.Y6();H.j.fireEvent(w.ea.X6);}).catch(function(M){H.kd(n.V.ikb,{Kb:(0,t.ve)(M)});});};c.prototype.jha=function(L,H,M){M=void 0 === M?{}:M;H=this.GBb(L,H);this.Ag.vrb(L,H,M);this.Y6();this.r6a || L.type !== N.v.Z || (this.ej.f6 || this.seek(this.j.ab,w.Vc.Tr),this.r6a=!0);};c.prototype.w3b=function(){var L;L=this;this.Rb.addEventListener(A.kj.FW,this.qw[A.kj.FW]=function(){return L.MSb();});this.Rb.addEventListener(A.kj.On,this.qw[A.kj.On]=function(){return L.S7();});this.$.addEventListener("ended",this.qw.ended=function(){return L.qSb();});this.$.addEventListener("play",this.qw.play=function(){return L.vra();});this.$.addEventListener("pause",this.qw.pause=function(){return L.ura();});this.$.addEventListener("playing",this.qw.playing=function(){return L.xra();});this.GB=!0;this.Ag.Wbb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ke("vi");f.config.PUa?setTimeout(function(){L.kra=!0;L.kl();},f.config.PUa):this.kra=!0;this.U0b();this.j.$c.ha && this.V0b();(0,v.Qf)(function(){return L.kl();});};c.prototype.U0b=function(){var M;function L(){var R;M.j.mb.value !== w.bb.me || 0 !== (null === (R=M.j.je) || void 0 === R?void 0:R.F4()) || K.Og.hidden?(M.R4a.bq(),R="stopTimer"):(M.R4a.gB(),R="ensureTimer");M.log.trace("No render timer update: " + R,{presentingState:w.bb[M.j.mb.value],hidden:K.Og.hidden});}function H(R){var Y,ea;R=void 0 === R?!0:R;Y=M.j.$a;ea=(null === Y || void 0 === Y?void 0:Y.Ih) && Y.m_a();M.j.mb.value == w.bb.Mf && M.j.state.value == w.Ub.ae && M.j.Aq.value == w.yf.ae && M.j.hm.value == w.yf.ae && !M.j.Kh && ea?(R && M.k3.bq(),M.k3.gB(),Y="ensureTimer"):(M.k3.bq(),Y="stopTimer");M.log.trace("Timer update: " + Y,{presentingState:w.bb[M.j.mb.value],playbackState:w.Ub[M.j.state.value],avBufferingState:w.yf[M.j.Aq.value],textBufferingState:w.yf[M.j.hm.value],autoplayWasBlocked:M.j.Kh,hasLicense:ea,restartTimer:R});}M=this;f.config.AUa && ((0,q.oa)(!this.k3),this.k3=l.Aa.get(C.ZP)(f.config.AUa,function(){var R;R=l.Aa.get(p.tba).ZUa(M.j);M.kd(R.code,R);}),this.j.mb.addListener(function(){return H();}),this.j.Aq.addListener(function(){return H();}),this.j.hm.addListener(function(){return H();}),this.j.state.addListener(function(){return H();}),this.j.addEventListener(w.ea.l2a,function(){return H();}),this.j.addEventListener(w.ea.Kh,function(){return H();}),this.j.addEventListener(w.ea.Eha,function(){return H();}),this.j.addEventListener(w.ea.EC,function(){return H(!0);}),H());f.config.Q4a && (this.R4a=l.Aa.get(C.ZP)(f.config.Q4a,function(){var R;0 === (null === (R=M.j.je) || void 0 === R?void 0:R.vv()) && (R=l.Aa.get(p.tba).ZUa(M.j),M.kd(R.code,R));M.j.mb.removeListener(L);d.fe.removeListener(d.Sq,M.HT[d.Sq]);}),this.j.mb.addListener(L),d.fe.addListener(d.Sq,this.HT[d.Sq]=L),L());};c.prototype.V0b=function(){var M;function L(){var R,Y,ea,ca;M.qxa.bq();ea=M.Rb.sourceBuffers.find(function(oa){return oa.mediaType === N.v.Z;});ea=null !== (R=null === ea || void 0 === ea?void 0:ea.ema()) && void 0 !== R?R:[];if(1 < ea.length){ca=M.j.mb.value == w.bb.me;R=(null === (Y=M.$) || void 0 === Y?void 0:Y.readyState) === O.qm.gP.HAVE_CURRENT_DATA;Y=H(ea,M.mediaTime);ca && R && Y?(M.qxa.gB(),ca="ensureTimer"):ca="stopTimer";M.log.trace("Video Gaps Monitor Timer update: " + ca,{presentingState:w.bb[M.j.mb.value],mediaTime:M.mediaTime,bufferedRanges:JSON.stringify(ea),nextRange:JSON.stringify(Y),readyStateIsStalled:R});}}function H(R,Y){R=ma(R);for(var ea=R.next();!ea.done;ea=R.next()){if((ea=ea.value,ea.start >= Y))return ea;}}M=this;f.config.mdb && ((0,q.oa)(!this.qxa),this.qxa=l.Aa.get(C.ZP)(f.config.mdb,function(){var R,Y;Y=M.Rb.sourceBuffers.find(function(ea){return ea.mediaType === N.v.Z;});Y=null !== (R=null === Y || void 0 === Y?void 0:Y.ema()) && void 0 !== R?R:[];if(R=H(Y,M.mediaTime))(M.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(Y)}),M.seek(R.start,w.Vc.Yw));}),this.j.mb.addListener(function(){return L();}),this.j.mediaTime.addListener(function(){return L();}),L());};c.prototype.GBb=function(L,H){var M;M=this.j.ee;(M=(0,J.zoa)(M)?M.oL():void 0) && L.type === N.v.Z && ((L=new E.ica(this.log,{mediaType:N.v.Z,url:"http://some-url"},H).Ha(M))?H=L:!1);return H;};c.prototype.Y6=function(){this.GB && this.kl();this.Ag.qSa();};c.prototype.b1b=function(){!1;this.j.mb.set(w.bb.Mf);this.g6=!0;this.kl();};c.prototype.Xvb=function(){var L;L=this;this.g6 && (!1,this.g6=!1,(0,v.Qf)(function(){return L.seek(L.j.sB() || 0,w.Vc.W_);}));};c.prototype.w4=function(){return this.Ag.w4();};c.prototype.I7=function(L){var H;H=this;this.Ag.A_b(L);(0,v.Qf)(function(){return H.kl();});};c.prototype.jHb=function(){return {i3:this.i3,z7:this.z7};};c.prototype.Iub=function(L){var H;H=this.Rb && this.Rb.ZYa();(0,q.oa)(this.j.Rp,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Rp && H && (L=Infinity !== L.F9a?L.F9a + L.eW:L.Wy,L > this.j.Rp.Y6a(z.na) && (this.j.Rp=(0,z.Lb)(L)));return Promise.resolve();};c.prototype.XTb=function(){var L,H;L=this;this.ej.m8 && (!1,this.$ha() && this.Ag.Sja(this.mediaTime) && (this.Rb.seek(null !== (H=this.Q3a) && void 0 !== H?H:this.mediaTime),this.Q3a=void 0,this.ej.m8=!1,(0,v.Qf)(function(){return L.kl();})));};c.prototype.q4b=function(L){var H;if(L < this.mediaTime){H=this.mediaTime - L;f.config.ZTb && L && H > x.M_ && (L={ElementTime:(0,u.oh)(L),MediaTime:(0,u.oh)(this.mediaTime)},H > x.gKa?this.kd(n.V.skb,{Kb:Object.assign({Trace:this.Rb.uB()},L)}):this.log.warn("VIDEO.currentTime became smaller",L));}else this.mediaTime=(0,u.Sw)(L,0,this.j.Rp.ba(z.na));};c.prototype.$ha=function(){return this.j.Aq.value === w.yf.ae && this.j.hm.value === w.yf.ae;};c.prototype.Zvb=function(){var L,H,M;L=this;H=this.j.mb.value;M=H;this.ej.f6?M=w.bb.Mf:this.$ && this.$.ended?H === w.bb.me && (M=w.bb.jq):this.$ha() && this.Ag.Sja(this.mediaTime)?this.Rb.PAb()?M=this.Py.paused?w.bb.Xh:w.bb.me:this.d2b.Oj(function(){return L.c2b();}):M=this.j.Rp?this.j.k_a(this.mediaTime,this.Ag.h3())?w.bb.Mf:w.bb.jq:w.bb.Mf;return M;};c.prototype.zra=function(){var L;if(this.j.mb.value === w.bb.Mf){L=this.Ag.R2b() > this.Ag.h3();this.j.hm.value !== w.yf.ae?this.j.$h.value?(this.j.fireEvent(w.ea.Dx,{cause:h.RIa}),this.log.warn("rebuffer due to timed text",this.j.$h.value.zg)):this.j.fireEvent(w.ea.YN):L?(this.i3++,this.j.fireEvent(w.ea.Dx,{cause:h.vda})):(this.z7++,this.j.fireEvent(w.ea.Dx,{cause:h.wda}));}};c.prototype.c2b=function(){this.Tl() || (f.config.GRb && this.Ag.FRb(),this.kl());};c.prototype.MSb=function(){this.kl();};c.prototype.S7=function(){this.kl();this.j.fireEvent(w.ea.On);};c.prototype.qSb=function(){this.log.trace("Video element event: ended");this.kl();};c.prototype.vra=function(){this.log.trace("Video element event: play");this.kl();};c.prototype.ura=function(){this.log.trace("Video element event: pause");this.Py.ura();this.kl();};c.prototype.xra=function(){this.log.trace("Video element event: playing");this.Py.vra();this.kl();};c.prototype.dxa=function(){this.Tl() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.jO=function(){!this.Tl() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.nua=function(){var L;L=this;!this.Tl() && (0,y.Qc)(this.$) && !this.$.ended && this.kra && this.Py.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Py.play()).then(function(){L.closed || (L.rsa=!1,L.$.style.display=null,L.j.Kh=!1,L.j.fireEvent(w.ea.Eha));}).catch(function(H){"NotAllowedError" === H.name?(L.log.warn("Playback is blocked by the browser settings",H),L.j.Kh=!0,L.closed || (L.rsa=!0,L.$.style.display="none",L.j.fireEvent(w.ea.Kh,{player:{play:function(){return L.nua();}}}))):L.closed || L.B6a || (L.B6a=!0,L.log.error("Play promise rejected",H));}));};c.prototype.wSb=function(){this.ej.$1a=this.j.sB() || 0;};c.prototype.mua=function(){this.Tl() || !(0,y.Qc)(this.$) || this.$.ended || !this.kra || this.Py.paused || (this.log.trace("Calling pause on element"),this.Py.pause());};c.prototype.Bcb=function(L){this.j.mediaTime.set(this.mediaTime);L && this.j.HEb();};c.prototype.seek=function(L,H,M,R){var Y,ea;M=void 0 === M?this.j.I:M;R=void 0 === R?!1:R;ea=null === (Y=this.j.$a) || void 0 === Y?void 0:Y.Ih;!this.Tl() && ea && (this.j.fireEvent(w.ea.EC,{cause:H}),this.ej.Qy={time:L,cause:H,I:M,QEb:R},this.j.mb.set(w.bb.Mf),this.kl());};c.prototype.YTb=function(){var L,H,M,R,Y,ea,ca,oa;if(this.ej.Qy){L=this.ej.Qy;H=L.time;M=L.cause;R=L.I;Y=L.QEb;if(!this.Ag.wh() || M === w.Vc.Tr){L=this.j.ii(R).O;ea=this.Ag.wh()?void 0:this.Ag.eGb();ea=this.ej.PHb(H,M,R,Y,ea);R=ea.A7;Y=ea.pp;ca=ea.AUb;ea=ea.di;this.Ag.Aia(this.mediaTime);oa=this.mediaTime;H=(0,u.oh)(H);this.j.CE("SEEKING: Requested: (" + L + ":" + M + ":" + H + ") - Actual: (contentPts: " + Y + ",playerPts: " + (ca + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:H,Actual:(0,u.oh)(R),Cause:M,Skip:ea});M === w.Vc.Tr || ea || (this.Ag.U8a(),this.Ag.t_b());this.mediaTime=R;this.ej.$1a=Y;H=this.j.tf.value;ca=this.j.Td.value;this.j.tf.set(null);this.j.Td.set(null);this.Bcb(!0);this.ej.Qy=void 0;this.ej.m8=!0;this.j.fireEvent(w.ea.Hj,{lra:oa,A7:R,pp:Y,cause:M,skip:ea,tf:H,Td:ca,O:L});ea && this.Ag.skip(R);}}};c.prototype.kd=function(L,H,M){this.closed || this.j.kd(L,H,M);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Ag.close();this.Rb.removeEventListener(A.kj.FW,this.N3a[A.kj.FW]);this.Rb.removeEventListener(A.kj.On,this.N3a[A.kj.On]);this.$.removeEventListener("ended",this.qw.ended);this.$.removeEventListener("play",this.qw.play);this.$.removeEventListener("pause",this.qw.pause);this.$.removeEventListener("playing",this.qw.playing);this.Py.close();d.fe.removeListener(d.Qk,this.HT[d.Qk]);d.fe.removeListener(d.Sq,this.HT[d.Sq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.mua();this.Rb.close();}catch(L){}this.$=void 0;this.Ag.U8a();}};c.prototype.Tl=function(){return this.closed?!0:(0,y.Qc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.jGa=c;},11102:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.gKa=b.M_=b.K4=void 0;c=a(18920);k=a(68172);b.K4=function(f){return f === c.v.ga?k.R.Fca:k.R.Gca;};b.M_=50;b.gKa=1E3;},31119:function(r,b,a){var k,f,h,d,g,m;function c(l){var n;(0,k.Yi)("MediaSourceASE").trace("Inside MediaSourceASE");n=l.JHb();this.readyState=m.ic.CLOSED;this.sourceBuffers=n.sourceBuffers;this.addSourceBuffer=function(p){return n.addSourceBuffer(p);};this.Tga=function(p){return n.Tga(p);};this.removeSourceBuffer=function(p){return n.removeSourceBuffer(p);};this.Ls=function(p){return n.Ls(p);};this.duration=void 0;this.readyState=m.ic.OPEN;this.te=f.Aa.get(h.ph).fC(m.te,{});l=new d.EventEmitter();l.on("subtitleData",function(p){(0,g.oa)(n.j.xb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");n.j.xb.value.ita(p);});this.events=l;}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;k=a(89082);f=a(89082);h=a(89682);d=a(28075);g=a(70633);Object.defineProperty(c.prototype,"duration",{get:function(){return this.pj;},set:function(l){var n;this.pj=l || Infinity;n=Math.floor(1E3 * l) || Infinity;this.sourceBuffers.forEach(function(p){p.pj=n;});}});m={ic:{CLOSED:0,OPEN:1,jq:2,name:["CLOSED","OPEN","ENDED"]},te:{Fvb:!0,VQb:!0}};b.oGa=Object.assign(c,m);},86343:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.hea=b.gea=void 0;r=a(41427);a={};b.gea=(a[r.xn]={id:-1,name:"hardcoded",bc:1,type:"hardcoded",F2a:"-1",uMb:!1,location:{id:"-1",bc:1,level:100,weight:1}},a);a={};b.hea=(a[r.xn]={track:{type:"padding",trackId:"padding",Ch:"padding",Gf:"padding",tC:"other",re:"padding",CC:"padding",hG:"padding",zg:{}},type:"padding",Vb:"-1",bitrate:1,zb:100,af:"unknown",size:1,lka:{},zg:{},Nk:"",framerate:0,ki:!1,Di:[],height:1,width:1},a);},94181:function(r,b,a){var k,f,h;function c(d,g,m,l,n,p,q,u,t,v,w){this.track=d;this.type=g;this.Vb=m;this.bitrate=l;this.zb=n;this.size=p;this.lka=q;this.af=u;this.framerate=t;this.ki=v;this.Di=w;this.zg={Type:g,Bitrate:l,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Vfb=b.MediaStream=void 0;k=a(7942);f=a(95919);h=a(20736);c.prototype.toJSON=function(){return this.zg;};c.prototype.I_b=function(d,g,m,l){(0,f.Qc)(d) && (0,f.Qc)(g) && (this.width=d,this.height=g,(0,f.rb)(m) && (0,f.rb)(l) && (this.width=Math.round(m / l * d)),this.zg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.XZb=function(d,g,m,l,n,p){(0,f.Qc)(d) && (0,f.Qc)(g) && (0,f.Qc)(m) && (0,f.Qc)(l) && (this.Cja=d,this.iUa=g,this.hUa=m,this.gUa=l);(0,f.Qc)(n) && (0,f.Qc)(p) && (this.y6a=n,this.z6a=p);};b.MediaStream=c;b.Vfb=function(d,g,m,l,n){if(d == k.d_ || d === h.Zj.audio)return g;if(d == k.zP || d === h.Zj.video)return m;if(d == h.Zj.vwa)return l;if(d == h.Zj.Jwa)return n;};},20736:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zj={audio:"audio",video:"video",vwa:"timedtext",Jwa:"trickplay"};},22528:function(r,b,a){var k,f,h,d,g,m,l;function c(n){var p,q,u,t;p=this;this.j=n;this.gS=void 0;this.cfa=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Rea=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Kea=(0,f.createElement)("DIV","width:100%;text-align:center");this.cmb=this.Tea("Audio Bitrate");this.rga=this.Tea("Video Bitrate / VMAF");this.Oea=this.Tea("CDN");this.QQ={};this.GT=h.Aa.get(d.sn);this.cfa.appendChild(this.Rea);this.Rea.appendChild(this.Kea);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.bmb.bind(this),!1);this.Kea.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.bga.bind(this),!1);this.Kea.appendChild(q);u=this.wob.bind(this);k.fe.addListener(k.wB,u);n.addEventListener(m.ea.yG,function(){p.QQ={};});n.addEventListener(m.ea.ug,function(){k.fe.removeListener(k.wB,u);});t=this.Vob.bind(this);n.Ac.forEach(function(v){v.addListener(t);});n.tc.addListener(t);n.Mg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;k=a(25892);f=a(24133);h=a(89082);d=a(53685);g=a(50364);m=a(34202);l=a(18920);c.prototype.show=function(){this.hR || (this.TOa(),document.body.appendChild(this.cfa),this.hR=!0);};c.prototype.yv=function(){this.hR && (document.body.removeChild(this.cfa),this.hR=!1);};c.prototype.toggle=function(){this.hR?this.yv():this.show();};c.prototype.ncb=function(){var q,u,t,v;function n(w,y,x){var A,z,B;z=[];y.filter(function(C){return C.af === w;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:A=C.bitrate,void 0 === A && (A=C.bitrate)):void 0 !== B && void 0 !== A && (z.push({min:B,max:A}),B=A=void 0);});if(void 0 !== B && void 0 !== A){z.push({min:B,max:A});B=A=void 0;}return z;}function p(w,y,x){var A;A=[];y.filter(function(z){return z.af === w;}).forEach(function(z){-1 === x.indexOf(z) && A.push({stream:{bitrate:z.bitrate},disallowedBy:["manual"]});});return A;}u=this.j.Gs();t=this.j.vB().sort(function(w,y){return w.bitrate - y.bitrate;});v=t.reduce(function(w,y){0 > w.indexOf(y.af) && w.push(y.af);return w;},[]).map(function(w){return {profile:w,ranges:n(w,t,u),disallowed:p(w,t,u)};});!1;null === (q=this.j.$a) || void 0 === q?void 0:q.O9(v,this.j.O);};c.prototype.bmb=function(){var q,u;this.QQ={};for(var n=this.rga.options,p=n.length;p--;){q=n[p];q.selected && (this.QQ[q.value]=1);}this.gS=this.smb.bind(this);this.ncb();if(n=this.j.tg){u=this.Oea.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.Ac[l.v.Z].value;n && n != p && (n.iSa={testreason:"streammanager",selreason:"userselection"},this.j.Ac[l.v.Z].set(n));}this.yv();};c.prototype.bga=function(){this.gS=void 0;this.j.x$a(this.j.O);this.yv();};c.prototype.smb=function(){var n;n=this;return this.j.vB().filter(function(p){return n.QQ[p.bitrate];});};c.prototype.TOa=function(){var n,p,q,u;n=this;p=this.j.tc.value;q=this.j.Mg.value;u=this.j.tg;p && (u=u.slice(),u.sort(function(t,v){return t.bc - v.bc;}),this.fga(this.cmb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.Qg.value};})));q && (this.fga(this.rga,q.streams.map(function(t){var v,w,y;v=n.j.pM.iz(t);w=t.bitrate;t=t.zb;y="" + w;t && (y+=" / " + t);v && (y+=" (" + v.join("|") + ")");return {value:w,caption:y,selected:n.gS?n.QQ[w]:!v};})),this.rga.removeAttribute("disabled"));u && (this.fga(this.Oea,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Ac[l.v.Z].value};})),this.Oea.removeAttribute("disabled"));};c.prototype.Vob=function(){this.hR && this.TOa();};c.prototype.Tea=function(n){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,f.createElement)("DIV",void 0,n);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Rea.appendChild(p);return q;};c.prototype.fga=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.wob=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == g.Nz.Wkb && this.GT.Toa && this.toggle();};b.fJa=c;},12062:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;c=a(89082);k=a(89927);b.YJa=(function(){(0,c.Yi)("ProbeDownloader");return {cT:function(f){f={url:f.url,LVb:f};!1;k.He.OVb(f);}};})();},97906:function(r,b,a){var k,f,h,d,g,m,l;function c(){var n;n=new f.Xj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Cc.bind(this);this.b1=m++;this.Ii=(0,h.Yi)("ProbeRequest");this.GOa=k.YJa;(0,d.oa)(void 0 !== this.GOa);this.Ue=b.mj.ic.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.mj=void 0;k=a(12062);f=a(59883);h=a(89082);d=a(70633);g=a(30818);m=0;(function(){function n(){return JSON.stringify({url:this.rh,id:this.b1,affected:this.j0,readystate:this.Ue});}(0,g.Rd)(c.prototype,{zM:function(p){this.Ue !== b.mj.ic.iu && this.Ue !== b.mj.ic.DONE && (this.i1=p,p={url:this.rh,affected:this.j0,probed:{requestId:this.b1,url:this.rh,Dc:this.cR,groupId:this.G0}},200 <= this.i1 && 299 >= this.i1?(this.Ue=b.mj.ic.DONE,this.emit(b.mj.Fh.KP,p)):(this.Ue=b.mj.ic.iu,this.emit(b.mj.Fh.Uz,p)));},cra:function(p){this.Ue !== b.mj.ic.iu && this.Ue !== b.mj.ic.DONE && (this.i1=p,p={url:this.rh,affected:this.j0,probed:{requestId:this.b1,url:this.rh,Dc:this.cR,groupId:this.G0}},this.Ue=b.mj.ic.iu,this.emit(b.mj.Fh.Uz,p));},open:function(p,q,u){if(!p)return (!1,!1);this.rh=p;this.j0=q;this.cR=u;this.Ue=b.mj.ic.OPENED;this.GOa.cT(this);this.Ue=b.mj.ic.wu;return !0;},$e:function(){!1;return !0;},Tg:function(){return this.b1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ue;}},status:{get:function(){return this.i1;}},url:{get:function(){return this.rh;}},Pac:{get:function(){return this.j0;}}});})();(function(n){n.Fh={KP:"pr0",Uz:"pr1"};n.ic={UNSENT:0,OPENED:1,wu:2,DONE:3,iu:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(l || (l={}));b.mj=Object.assign(c,l);},75412:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);k=a(7942);r=a(68172);f=a(89082);h=a(65872);a=a(60634);f.Aa.get(a.Vh).register(r.V.LDa,function(d){c.config.s4 && f.Aa.get(h.ACa).start();d(k.kg);});},84258:function(r,b){function a(c,k){this.j=k;this.TG=!0;this.C$=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;a.prototype.vra=function(){this.TG && (this.TG=!1,this.j.paused.set(!1));};a.prototype.ura=function(){this.TG || (this.TG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.TG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,k;c=this;return this.paused && !this.C$?(this.C$=!0,Promise.resolve(null === (k=this.$) || void 0 === k?void 0:k.play()).then(function(){c.C$=!1;}).catch(function(f){var h;c.C$=!1;c.TG=!(null === (h=c.$) || void 0 === h || !h.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Wa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.TG;}}});b.DMa=a;},82134:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.gp=b.Keb=void 0;b.Keb=a;b.gp=new a();},54415:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(91854);f=a(44744);h=a(97906);d=a(31978);g=a(37986);m=a(7942);l=a(49090);n=a(31119);p=a(61831);r=a(68172);q=a(89082);u=a(51943);t=a(50876);v=a(84853);b=a(60634);w=a(58680);y=a(82134);x=a(31224);A=a(53484);q.Aa.get(b.Vh).register(r.V.JDa,function(z){var B,C,D,F,G,E,J,K,N;B=q.Aa.get(u.RGa).Oyb();C=q.Aa.get(l.xba).ZO;D=q.Aa.get(f.lGa).Yj;F=q.Aa.get(x.kh);G=q.Aa.get(A.oq);E={q8:(0,q.eT)("ASE"),Irb:(0,q.eT)("JS-ASE",void 0,"Platform"),Yi:q.eT,storage:v.storage,VHb:t.PAa,getTime:p.Im,g3:function(I){return F.decode(I).buffer;},Rja:function(I){return G.encode(I);},aM:{},Yj:D,mj:h.mj,ZO:C,MediaSource:n.oGa,SourceBuffer:d.Kca,sT:function(){return [g.config.V1,g.config.Y1];},Gs:function(I){w.zn.forEach(function(O){O.x$a(I);});}};C=new Promise(function(I){v.storage.load("nh",function(O){E.aM.nh=O.ka?O.data:void 0;I();});});D=new Promise(function(I){v.storage.load("lh",function(O){E.aM.lh=O.ka?O.data:void 0;I();});});J=new Promise(function(I){v.storage.load("gh",function(O){E.aM.gh=O.ka?O.data:void 0;I();});});K=new Promise(function(I){v.storage.load("sth",function(O){E.aM.sth=O.ka?O.data:void 0;I();});});N=new Promise(function(I){v.storage.load("vb",function(O){E.aM.vb=O.ka?O.data:void 0;I();});});Promise.all([C,D,N,K,J]).then(function(){return c.__awaiter(this,void 0,void 0,function O(){var L,H;return Ia(O,function(M){if(1 == M.Kv)return (L=a(20401)(E),y.gp.bi=a(69208),y.gp.bi.declare(k.lf),y.gp.bi.set(a(33888)(g.config),!0,(0,q.eT)("ASE")),La(M,k.uL(L),2));H=M.fY;H.open(y.gp.bi,B);H.UZb({audio:g.config.V1,video:g.config.Y1},{G:g.config.bua,xa:void 0});y.gp.Uh=H;z(m.kg);M.Kv=0;});});}).catch(function(I){E.q8.error("Exception loading location history from local storage",I);});});},16512:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;c=a(7942);k=a(37986);f=a(61831);h=a(19591);d=a(50876);g=a(66052);m=a(95919);l=a(34202);b.UIa=function(n){var t,v,w,y,x,A;function p(){return n.state.value === l.Ub.LOADING || n.state.value === l.Ub.ae && n.mb.value === l.bb.Mf;}function q(){p()?A || (A=setInterval(u,100)):A && (clearInterval(A),A=void 0,(0,g.Qf)(u));}function u(){var z,B,C,D,F,G,E,J;z=(0,f.Im)();B=t.value;C=B?B.progress:0;D=n.state.value == l.Ub.LOADING || p() && z - v > k.config.Etb;if(D && n.state.value == l.Ub.ae){if(n.jf.value === l.yf.FKa)(F=C,G=!0);else {E=z;w=w || z;y=y || w + k.config.qQb + 1;(0,m.rb)(E) && (E=(0,d.Wr)(E,y),F=(0,d.vn)(1E3 * (0,h.Sw)((z - w) / (E - w),0,.99)) / 1E3);}if(F < C)if(C - F < k.config.iWb / 100)(F=C,x=void 0);else if(x){if(z - x > k.config.hWb){J=!0;x=void 0;}else F=C;}else (x=z,F=C);}else x=y=w=void 0;z=D?{Cr:G,progress:F,jWb:J}:null;(!z || !t || !B || (0,m.rb)(z.progress) && !(0,m.rb)(B.progress) || (0,m.rb)(z.progress) && (0,m.rb)(B.progress) && .01 < (0,d.e_)(z.progress - B.progress) || z.Cr !== B.Cr) && t.set(z);}t=n.cia;v=0;n.state.addListener(function(){q();u();},c.Xca);n.mb.addListener(function(z){if(z.oldValue !== l.bb.Mf || z.newValue !== l.bb.Mf)v=(0,f.Im)();q();});n.jf.addListener(function(){q();});n.Aq.addListener(function(){q();});n.hm.addListener(function(){q();});A || (A=setInterval(u,100));};},58680:function(r,b,a){var k,f;function c(h,d){var g;g=b.zn[0];g == d && (g=b.zn[1]);g?g.close(function(){c(h,d);}):h && h(k.kg);}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=b.RIa=b.vda=b.wda=b.Vz=b.xda=b.SIa=b.Ada=b.zda=b.zn=b.VIa=b.yda=void 0;k=a(7942);f=a(70633);b.yda=c;b.VIa=function(h,d){switch(h){case b.SIa:b.zda.push(d);return;case b.xda:b.Ada.push(d);return;}(0,f.oa)(!1);};b.zn=[];b.zda=[];b.Ada=[];b.SIa=1;b.xda=3;b.Vz={index:0,u4a:void 0,Dla:void 0};b.wda="network";b.vda="media";b.RIa="timedtext";b.TIa="playback";},6538:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);k=a(7942);r=a(68172);f=a(89082);b=a(60634);h=a(76820);f.Aa.get(b.Vh).register(r.V.QDa,function(g){var m,l,n;if(c.config.qr){m=(0,f.Yi)("PlayerPredictionModel");l=f.Aa.get(h.PD);n=a(92997);m.log=m.trace.bind(m);d=new n({},m,{pW:function(){},SXb:function(){}},l,{aH:function(){}});pb._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}g(k.kg);});},50876:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wpa=b.localStorage=b.iLb=b.indexedDB=b.IGa=b.qp=b.Sz=b.Rz=b.URL=b.m_=b.ljb=b.SFa=b.RFa=b.e_=b.f_=b.Nw=b.Wr=b.vn=b.cjb=b.MI=b.ELa=b.PAa=b.zjb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.yx=b.kjb=b.Og=b.ru=b.JGa=b.su=b.l_=b.CD=void 0;r=pb;b.ze=r.navigator;b.CD=null === b.ze || void 0 === b.ze?void 0:b.ze.userAgent;b.l_=r.location;b.su=r.screen;b.JGa=r.devicePixelRatio;b.ru=r.performance;b.Og=r.document;b.kjb=b.Og.documentElement;b.yx=Array.prototype;b.sort=b.yx.sort;b.map=b.yx.map;b.slice=b.yx.slice;b.every=b.yx.every;b.reduce=b.yx.reduce;b.filter=b.yx.filter;b.forEach=b.yx.forEach;b.pop=b.yx.pop;b.zjb=Object.create;b.PAa=Date.now;b.ELa=String.fromCharCode;b.MI=Math.floor;b.cjb=Math.ceil;b.vn=Math.round;b.Wr=Math.max;b.Nw=Math.min;b.f_=Math.random;b.e_=Math.abs;b.RFa=Math.pow;b.SFa=Math.sqrt;b.ljb=r.escape;b.m_=r.unescape;b.URL=r.URL || r.webkitURL;b.Rz=r.MediaSource || r.WebKitMediaSource;b.Sz=r.webkitCrypto || r.msCrypto || r.crypto;b.qp=b.Sz && (b.Sz.webkitSubtle || b.Sz.subtle);b.IGa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.iLb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.wpa=a || "noex";}},84853:function(r,b,a){var c,k,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(37986);k=a(7942);f=a(54779);r=a(68172);h=a(83637);d=a(66652);g=a(89082);a=a(60634);b.storage=b.storage || void 0;g.Aa.get(a.Vh).register(r.V.RDa,function(m){var l;switch(c.config.j1b){case "idb":l=h.rab;break;case "none":l=f.tab;break;case "ls":l=d.sab;}l(function(n){n.ka?(b.storage=n.storage,m(k.kg)):m(n);});});},83637:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.rab=void 0;c=a(89082);k=a(7336);f=a(89682);h=a(26083);b.rab=function(d){c.Aa.get(k.yw).create().then(function(g){d({ka:!0,storage:new h.pca(g,c.Aa.get(f.ph))});}).catch(function(g){d(g);});};},66652:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.sab=void 0;c=a(26083);k=a(89082);f=a(15085);h=a(89682);b.sab=function(d){d({ka:!0,storage:new c.pca(k.Aa.get(f.aFa),k.Aa.get(h.ph))});};},54779:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.tab=void 0;c=a(7942);k=a(89082);f=a(68172);a(30818);b.tab=function(h){var d;(0,k.Yi)("Storage");d={};h({ka:!0,storage:{load:function(g,m){var l;if(d.hasOwnProperty(g)){l=d[g];!1;m({ka:!0,data:l,g$:g});}else (!1,m({za:f.R.Zw}));},save:function(g,m,l,n){l && d.hasOwnProperty(g)?n({ka:!1}):(d[g]=m,!1,n && n({ka:!0,g$:g}));},remove:function(g,m){delete d[g];!1;m && m(c.kg);}}});};},88625:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.KH=void 0;c=a(7942);k=a(37986);f=a(25892);h=a(61831);d=a(68172);g=a(70633);m=a(89082);l=a(30818);n=a(50876);p=a(84853);q=a(95919);r=a(60634);m.Aa.get(r.Vh).register(d.V.SDa,function(u){var w,y,x;function t(){var A;t=c.Rw;A=setInterval(v,k.config.BOb);f.fe.addListener(f.Qk,function(z){z && z.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,l.bg)(y,function(B,C){localStorage.removeItem(C.dr);}),clearInterval(A));},c.RI);}function v(){var A;A=(0,h.Ria)();(0,l.bg)(y,function(z,B){!1;z=localStorage.getItem(B.dr);(z=JSON.parse(z))?z.updated=A:z={updated:A,sessionId:x,count:1};localStorage.setItem(B.dr,JSON.stringify(z));});}(0,g.oa)(p.storage);w=(0,m.Yi)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.KH={Wu:function(A,z,B){var D,F,G,E,J,K,N,I,O,L;function C(H){localStorage.setItem(G,JSON.stringify(H));H={dr:G};y[G]=H;w.trace("Lock acquired",{Name:H.dr});t();z({ka:!0,I6:H});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,h.Ria)();G="lock-" + A;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){J=localStorage.getItem(G);K=0;N=JSON.parse(J);(0,q.RB)(N.updated) && (K=N.updated);I=(0,n.e_)(F - K) * c.Vr;O=x === N.sessionId;if(I < k.config.I2a){if(O)(N.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:x,count:N.count}),N.updated=F,C(N));else if(B){L=k.config.I2a - I + c.Vr;w.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:N.count,Epoch:F,LockEpoch:K,waitTimeoutMs:L});pb.setTimeout(function(){return D.Wu(A,z,!1);},L);}else z({ka:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),C(E));}else C(E);}catch(H){w.error("Error acquiring Lock",{errorSubCode:d.R.ql,errorDetails:(0,l.ve)(H)});z({ka:!0});}}else (n.wpa?w.error("Local storage access exception",{errorSubCode:d.R.olb,errorDetails:(0,l.ve)(n.wpa)}):w.error("No localstorage",{errorSubCode:d.R.plb}),z({ka:!0}));},release:function(A,z){var B,C;(0,g.oa)(y[A.dr] == A);if(localStorage){try{B=localStorage.getItem(A.dr);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(A.dr,JSON.stringify(C)),w.trace("Lock count decremented",{Name:A.dr,count:C.count})):(localStorage.removeItem(A.dr),delete y[A.dr],w.trace("Lock released",{Name:A.dr}));}catch(D){w.error("Unable to release Lock",{Name:A.dr},D);}z && z(c.kg);}}};k.config.M3?b.KH.Wu("session",function(A){b.KH.V9a=A;u(c.kg);}):u(c.kg);});},17200:function(r,b,a){var h,d,g,m;function c(l,n,p,q){var u,t,v;(0,h.oa)((0,m.kt)(l) && !(0,m.isArray)(l));q=q || "";u="";t=l.hasOwnProperty(g.dY) && l[g.dY];t && (0,d.bg)(t,function(w,y){u && (u+=" ");u+=w + '="' + f(y) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");v=l.hasOwnProperty(g.ww) && l[g.ww].trim && "" !== l[g.ww].trim() && l[g.ww];if(v)return t + ">" + f(v) + "</" + p + ">";l=k(l,n,q + "  ");return t + (l?">\n" + l + "\n" + q + "</" + p + ">":"/>");}function k(l,n,p){var q;(0,h.oa)((0,m.kt)(l) && !(0,m.isArray)(l));p=p || "";q="";(0,d.bg)(l,function(u,t){var y;if("$" != u[0])for(var v=(0,d.Dv)(t),w=0;w < v.length;w++){if((t=v[w],q && (q+="\n"),(0,m.kt)(t)))q+=c(t,n,u,p);else {y=(n?n + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(l){if((0,m.yg)(l))return (0,d.Ona)(l);if((0,m.rb)(l))return ((0,h.lS)(l,"Convert non-integer numbers to string for xml serialization."),"" + l);if(null === l || void 0 === l)return "";(0,h.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.$2b=b.hNb=b.gNb=void 0;h=a(70633);d=a(30818);g=a(30732);m=a(95919);b.gNb=c;b.hNb=k;b.$2b=f;},30732:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.$Ob=b.j6a=b.FTb=b.kYa=b.OTb=b.Tdb=b.Sdb=b.ww=b.Ixa=b.Rdb=b.dY=void 0;c=a(30818);k=a(70633);b.dY="$attributes";b.Rdb="$children";b.Ixa="$name";b.ww="$text";b.Sdb="$parent";b.Tdb="$sibling";b.OTb=/^\s*<\?xml.*\?>/i;b.kYa=function(f,h,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(h=arguments[g++]) && (f=f[h]);){;}return f;};b.FTb=function(f,h){var d;f?d=(0,c.bj)(f[b.ww]):void 0 !== h && (d=h);(0,k.lS)(d);return d;};b.j6a=function(f,h){var d;f?d=f[b.ww]:void 0 !== h && (d=h);(0,k.vUa)(d);return d;};b.$Ob=function(f,h){var d;d={};d[b.dY]=f;d[b.ww]=h;return d;};},50791:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Udb=void 0;c=a(89082);k=a(68172);f=a(38624);h=a(24504);d=a(66052);b.Udb=function(g,m){var l,n;try{n=(0,f.Vdb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Qf)(function(){if(n && n.documentElement)try{l=(0,h.Wdb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Qf)(function(){l?m({ka:!0,object:l}):m({ka:!1,za:k.R.thb});});});};},38624:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Vdb=void 0;c=a(89082);k=a(95919);b.Vdb=function(f){var h,d;if((0,k.WL)(f)){h=new DOMParser().parseFromString(f,"text/xml");d=h.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return h;}throw Error("bad xml text");};},24504:function(r,b,a){var k;function c(f){var h,d,g,m,l,n,p;d={};d[k.Ixa]=f.localName;g={};d[k.dY]=g;m=[];d[k.Rdb]=m;l=f.attributes;n=l.length;for(h=0;h < n;h++){p=l[h];g[p.localName]=p.value;}f=f.childNodes;n=f.length;g={};for(h=0;h < n;h++){switch((l=f[h],l.nodeType)){case b.Zdb:l=c(l);p=l[k.Ixa];l[k.Sdb]=d;m.push(l);d[p]?g[p][k.Tdb]=l:d[p]=l;g[p]=l;break;case b.$db:case b.Xdb:(l=l.text || l.nodeValue,m.push(l),d[k.ww] || (d[k.ww]=l));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ydb=b.Xdb=b.$db=b.e6b=b.Zdb=b.f6b=b.Wdb=void 0;k=a(30732);b.Wdb=function(f){return c(f.nodeType == b.Ydb?f.documentElement:f);};b.f6b=c;b.Zdb=1;b.e6b=2;b.$db=3;b.Xdb=4;b.Ydb=9;},38184:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.Kg=void 0;r=a(86700);c=a(11223);k=a(84778);f=a(33981);h=a(40679);d=a(52115);g=a(41162);m=a(36610);l=a(72611);n=a(29469);p=a(43908);q=a(87257);u=a(52614);t=a(24166);v=a(35532);w=a(54437);b.Kg=new r.Yc(function(y){y(c.Ida).to(k.yJa).da();y(f.Kda).to(h.KJa).da();y(d.VI).to(g.wJa).da();y(l.GD).to(m.uJa).da();y(n.EJa).to(p.DJa).da();y(q.IJa).Vd(function(x){var A;A=x.hb;return function(z){return new u.JJa(z,A.get(t.Kw),A.get(l.GD));};});y(v.IEa).Vd(function(x){var A;A=x.hb;return function(z,B,C){return new w.JEa(z,B,C,A.get(l.GD),A.get(d.VI));};});});},35532:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IEa="LegacyPostPlayShimFactorySymbol";},72611:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GD="PlaygraphConfigSymbol";},52115:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VI=b.JD=void 0;r=b.JD || (b.JD={});r.O8b="ident";r.Aca="main";r.Uza="credits";b.VI="PlaygraphHelperSymbol";},11223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ida="PlaygraphManagerFactorySymbol";},29469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EJa="PlaygraphPlaybackStrategyFactorySymbol";},87257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IJa="PlaygraphStateFactorySymbol";},33981:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kda="PlaygraphVideoPlayerFactorySymbol";},26986:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bx=void 0;r=b.bx || (b.bx={});r[r.WGa=0]="None";r[r.tCa=1]="Fetching";r[r.Tgb=2]="Done";r[r.Error=3]="Error";},54437:function(r,b,a){var k,f;function c(h,d,g,m,l){this.Rh=h;this.Kg=d;this.log=g;this.Ai=m;this.Zl=l;this.r8=new k.Cda();}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;k=a(92979);f=a(52115);c.prototype.sqb=function(h){var d,g,m,l,n,p,q;this.log.info("Next episode added",h);p=this.r8.Vpa(h.playbackParams);q=Math.max(0,null !== (m=null !== (g=null !== (d=h.startPts) && void 0 !== d?d:h.nextStartPts) && void 0 !== g?g:p.ab) && void 0 !== m?m:0);d=null !== (n=null !== (l=h.endPts) && void 0 !== l?l:h.currentEndPts) && void 0 !== n?n:p.$i;return this.Kg.Sqb({O:h.movieId,ab:q,$i:d,qb:p,W:h.manifest,Rh:this.Rh});};c.prototype.oUb=function(h){var d,g,m,l,n,p;h=this.r8.Vpa(h);this.log.info("Playing the next episode",h);m=this.Kg.gYa();l=this.Kg.RF();n=l.L[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.J !== l.L[q].J;});d=!this.Ai.A8 || !(null === (g=h.dm) || void 0 === g?0:g.isUIAutoPlay);return p?this.Kg.tna(m,p,h,d):Promise.reject(Error("Next episode not found"));};c.prototype.N5b=function(h){var d,g;d=this.Zl.Pq(h,f.JD.Aca);h=this.Zl.Pq(h,f.JD.Uza);g=this.Kg.ib;this.Ai.A8 && g.th !== h && g.hw(h) && g.tT(d) !== h && this.Kg.Rj({I:d,wM:h});};b.JEa=c;},86769:function(r,b,a){var k;function c(f,h,d,g,m){var l;l=this;this.ib=f;this.Wj=h;this.Jt=d;this.Eb=g;this.Zl=m;this.C8=new Map();this.N_b();this.Eb.addListener(k.Ja.loaded,function(){return l.e7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.BD=void 0;k=a(34202);c.prototype.iQa=function(f){var h,d;h=this;d=Object.keys(this.ib.vk.L).find(function(g){return h.ib.vk.L[g].J === f.O;});f.id || (f.id=null !== d && void 0 !== d?d:this.Zl.Pq(f.O));d || (this.ib.vk=this.Zl.yrb(this.ib.vk,f));d=this.bH(f.id);f.$i && this.ib.v4b(f.id,f.$i);return d;};c.prototype.Zbb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.una=function(f,h){var d;d=this;h=void 0 === h?{}:h;return this.Jt.transition(f,h).then(function(){d.ib.th=f;});};c.prototype.close=function(f){return this.Jt.close(f);};c.prototype.isReady=function(){return this.Jt.wIb();};c.prototype.Vm=function(){return this.Jt.Vm();};c.prototype.PF=function(){return this.Jt.PF();};c.prototype.bH=function(f){this.C8.has(f) || this.C8.set(f,this.Jt.Df(this.Dtb(f)));return this.C8.get(f);};c.prototype.N_b=function(){var f;f=this;this.Jt.addListener(k.HD.IW,function(){return f.Eb.Cc(k.HD.IW);});Object.values(k.Ja).forEach(function(h){f.Jt.addListener(h,function(d){return f.Eb.Cc(h,d);});});};c.prototype.Mv=function(){this.e7a();};c.prototype.Cra=function(f){this.Jt.u4b({id:f,O:this.ib.Pd(f).J,$i:this.ib.MIb(f)});};c.prototype.MG=function(){};c.prototype.e7a=function(){var f,h;if(this.isReady()){f=this.ib.th;h=this.ib.tT(f);h && !this.C8.has(h) && (this.Cra(f),this.bH(h));}};c.prototype.Dtb=function(f){var h,d,g,m;d=this.ib.Pd(f);g=this.Wj.CL(d.J);m=null === g || void 0 === g?void 0:g.qb;g=null === g || void 0 === g?void 0:g.W;return {id:f,O:d.J,ab:d.va,$i:null !== (h=null === m || void 0 === m?void 0:m.$i) && void 0 !== h?h:d.ta,qb:m,W:g};};b.BD=c;},36610:function(r,b,a){var k,f,h,d,g;function c(m){return f.Qe.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);d=a(54662);g=a(2467);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{rVb:{configurable:!0,enumerable:!0,get:function(){return 2;}},qVb:{configurable:!0,enumerable:!0,get:function(){return (0,g.s7)(3);}},kxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},L$:{configurable:!0,enumerable:!0,get:function(){return !1;}},Zcb:{configurable:!0,enumerable:!0,get:function(){return !1;}},lXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},A8:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.qz,"prepareSegmentsUpfront")],a.prototype,"rVb",null);r.__decorate([d.config(d.tk,"prepareSegmentsDuration")],a.prototype,"qVb",null);r.__decorate([d.config(d.Nc,"usePlaygraphForPostPlay")],a.prototype,"kxa",null);r.__decorate([d.config(d.Nc,"usePlaygraphForSkipSegment")],a.prototype,"L$",null);r.__decorate([d.config(d.Nc,"useSinglePlayerPlayback")],a.prototype,"Zcb",null);r.__decorate([d.config(d.Nc,"forcePlaygraphTrace")],a.prototype,"lXa",null);r.__decorate([d.config(d.Nc,"postPlayDefaultNextEpisode")],a.prototype,"A8",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl))],a);b.uJa=a;},41162:function(r,b,a){var k,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=void 0;r=a(70655);k=a(52115);f=a(86700);h=a(41427);c.prototype.Syb=function(d){var l,n,p;for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}l=this;if(0 === g.length)throw Error("Empty playgraph");n=new h.tu().AH(this.Pq(g[0]));g.reverse().forEach(function(q){var u;u=l.Pq(q);n.Df(u,Object.assign({J:q,va:0,ta:Infinity},p?{Jb:p}:{}));p=u;});return n.Lh();};c.prototype.Pq=function(d,g){g=void 0 === g?k.JD.Aca:g;return d + ":" + g;};c.prototype.yrb=function(d,g){var m,l,n,p;if(void 0 === n)n=null !== (m=g.id) && void 0 !== m?m:this.Pq(g.O);m=this.LYa(d);p=new h.tu(d);p.Df(n,{J:g.O,va:null !== (l=g.ab) && void 0 !== l?l:0,ta:Infinity});d=d.L[m];g={};p.Df(m,Object.assign({},d,{Jb:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return p.Lh();};c.prototype.LYa=function(d){for(var g=d.we,m=g;m=d.L[m].Jb;){g=m;}return g;};a=c;a=r.__decorate([(0,f.U)()],a);b.wJa=a;},84778:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u,t,v,w,y,x){this.If=q;this.Yka=u;this.Ai=t;this.Fwa=v;this.IUb=w;this.KUb=y;this.JUb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;r=a(70655);k=a(86700);f=a(11874);h=a(71163);d=a(72611);g=a(47682);m=a(29469);l=a(8988);n=a(87257);a=a(33981);c.prototype.create=function(q){return new f.zJa(q,this.If,this.Yka,this.Ai,this.Fwa,this.IUb,this.KUb,this.JUb);};p=c;p=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(g.bP)),r.__param(2,(0,k.l)(d.GD)),r.__param(3,(0,k.l)(l.dMa)),r.__param(4,(0,k.l)(m.EJa)),r.__param(5,(0,k.l)(n.IJa)),r.__param(6,(0,k.l)(a.Kda))],p);b.yJa=p;},11874:function(r,b,a){var k,f,h;function c(d,g,m,l,n,p,q,u){this.Fwa=n;this.sxa=u;this.XS=!1;l.L$ && (d=new h.AJa().j3b(d));this.ib=q(d);this.Wj=new f.LJa(this.ib);this.Wj.a$a(this.ib.aa.J);this.log=g.Ta("PlaygraphManager");this.Eb=m.create();this.At=p.create(this.ib,this.Wj,this.log,this.Eb);this.O_b();}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;k=a(34202);f=a(58188);h=a(77417);c.prototype.kIb=function(){return this.ib.w8;};c.prototype.ima=function(){return this.ib.aa;};c.prototype.gYa=function(){return this.ib.th;};c.prototype.RF=function(){return this.ib.vk;};c.prototype.Rj=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.Rj.apply(this.ib,da(g));};c.prototype.rvb=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.YQa(g);};c.prototype.Wt=function(d){this.ib.vk=d;};c.prototype.hj=function(d,g){this.ib.hj(d,g);};c.prototype.tna=function(d,g,m,l){var n,p;m=void 0 === m?{}:m;l=void 0 === l?!0:l;if(d !== this.ib.th)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.RF().L[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.E$a();null === (p=m.dm) || void 0 === p?void 0:p.isUIAutoPlay;return this.At.una(g,m,l);};c.prototype.isReady=function(){return this.At.isReady();};c.prototype.addListener=function(d,g,m){this.Eb.addListener(d,g,m);};c.prototype.removeListener=function(d,g){this.Eb.removeListener(d,g);};c.prototype.Vm=function(){return this.At.Vm();};c.prototype.ub=function(){return this.At.PF();};c.prototype.Vyb=function(d,g,m){var l;d=void 0 === d?this.RF().we:d;g=void 0 === g?{}:g;l=this.sxa.YTa(this);this.lVb(null !== d && void 0 !== d?d:this.RF().we,g,m);return l;};c.prototype.Sqb=function(d){var g;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.ab + ", logicalEnd: " + d.$i);g=Object.assign({},d.qb,d.ab?{ab:d.ab}:{},d.$i?{$i:d.$i}:{});this.wab(d.O,g,d.W);d=this.At.iQa(d);this.E$a();return d;};c.prototype.transition=function(d){var g;g=this.ib.tT(this.ib.th);return g?this.tna(this.ib.th,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.At.close(d);};c.prototype.lVb=function(d,g,m){var l;void 0 === d && (d=null === (l=this.RF()) || void 0 === l?void 0:l.we);(g || m) && this.wab(this.RF().L[d].J,null !== g && void 0 !== g?g:{},m);this.At.bH(d);};c.prototype.wab=function(d,g,m){m && this.Wj.G1(d,m);this.Wj.Gqb(d,g);};c.prototype.O_b=function(){var d;d=this;this.ib.G1b(function(){d.Wj.Mv();d.At.Mv();});this.ib.H1b(function(g){d.At.Cra(g);});this.ib.F1b(function(g){d.At.MG(g);});this.addListener(k.HD.IW,function(){return d.NSb();});this.addListener(k.Ja.F0a,function(g){return d.DSb(g);});};c.prototype.E$a=function(){var d;d=this;this.XS || (this.ub().Qga(k.ea.tH,function(g){return d.Nv(g);}),this.XS=!0);};c.prototype.DSb=function(d){var g;g=this;this.At.Zbb(d).catch(function(){return g.Eb.Cc(k.Ja.error,d.zX());});};c.prototype.NSb=function(){var d;d=this.ub().getError();d?this.Eb.Cc(k.Ja.dK,d):(this.Eb.Cc(k.Ja.h2),this.Eb.Cc(k.Ja.El),this.Eb.Cc(k.Ja.Rt),this.Eb.Cc(k.Ja.ll),this.Eb.Cc(k.Ja.CX),this.Eb.Cc(k.Ja.dK));};c.prototype.Nv=function(d){var g,m,l;!1;g=d.metrics;if(g){m=this.ub();l=m.ii(d.position.segmentId);g=m.ii(g.srcsegment);this.Fwa.dWb(d,l,g,!!m.nZa().dg);}};b.zJa=c;},77417:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.AJa=void 0;k=a(41427);c.prototype.j3b=function(f){var h;if(!this.KMb(f.L))return f;h=new k.tu().AH(f.we);Object.entries(f.L).forEach(function(d){var g;g=ma(d);d=g.next().value;g=g.next().value;d === f.we?h.Df(d,Object.assign(Object.assign({},g),{next:void 0,ta:void 0,Jb:void 0})):h.Df(d,g);});return h.Lh();};c.prototype.KMb=function(f){f=Object.values(f).map(function(h){return h.J;});return 1 === new Set(f).size;};b.AJa=c;},43908:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y,x,A){this.Fa=u;this.oZb=v;this.Ai=y;this.Zl=A;this.mZb=t.HF(!1,"6.0040.799.911",u.id,x,w);}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(72611);d=a(52335);g=a(8197);m=a(89895);l=a(17244);n=a(86769);p=a(63088);a=a(52115);c.prototype.create=function(u,t,v,w){var y,x;y=this.oZb.Hyb(u,this.mZb,t);x=u.lxa;v.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.iLa(this.Ai,u,t,v,y,w,this.Zl):new n.BD(u,t,y,w,this.Zl);};q=c;q=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(g.TKa)),r.__param(2,(0,k.l)(m.bea)),r.__param(3,(0,k.l)(l.cc)),r.__param(4,(0,k.l)(h.GD)),r.__param(5,(0,k.l)(p.w_)),r.__param(6,(0,k.l)(a.VI))],q);b.DJa=q;},52614:function(r,b,a){var k,f;function c(h,d,g){this.my=d;this.Ai=g;this.W0={};this.tcb=[];this.V$a=[];this.K4a=[];this.tha=new WeakMap();this.reset(h);}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;k=a(41427);f=a(41427);c.prototype.reset=function(h){var d;d=1 < Object.keys(h.L).length && 1 === new Set(Object.values(h.L).map(function(g){return g.J;})).size;this.Gpb=this.Ai.Zcb || d;this.p$a(h);this.th=h.we;this.Dob=this.my.SA();this.Jva=new Map();};c.prototype.V4=function(h){if(this.lxa)return this.vk;this.tha.has(h) || this.tha.set(h,(0,k.X9)(h.O,h.I));return this.tha.get(h);};c.prototype.p$a=function(h){this.Eob=h;this.W0={};h=Object.keys(h.L);this.YQa(h);this.ERb();};c.prototype.Rj=function(h){var m;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}m=this;d.filter(function(l){return m.hw(l.I);}).filter(function(l){l=l.wM;return !l || m.hw(l);}).forEach(function(l){var n;n=l.I;m.W0[n]=m.e5a(l.wM);m.yRb(n);});};c.prototype.YQa=function(h){var d;d=this;h.filter(function(g){return d.hw(g);}).forEach(function(g){d.W0[g]=d.e5a(d.Pd(g).Jb);});};c.prototype.hj=function(h,d){var g,m,l;g=this.Pd(h);if(g && g.next){m=new f.tu(this.vk);l=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});l=Object.assign({},g,{next:l});m.Df(h,l);this.vk=m.Lh();}};c.prototype.hw=function(h,d){d=void 0 === d?this.vk.L:d;return (h in d);};c.prototype.tT=function(h){return this.W0[h];};c.prototype.Pd=function(h){return this.vk.L[h];};c.prototype.MIb=function(h){if(this.Jva.has(h))return this.Jva.get(h);h=this.Pd(h);return isFinite(h.ta)?h.ta:void 0;};c.prototype.v4b=function(h,d){this.Jva.set(h,d);this.BRb(h);};c.prototype.G1b=function(h){this.tcb.push(h);};c.prototype.H1b=function(h){this.V$a.push(h);};c.prototype.F1b=function(h){this.K4a.push(h);};c.prototype.ERb=function(){var h;h=this;this.tcb.forEach(function(d){return d(h.vk);});};c.prototype.yRb=function(h){this.K4a.forEach(function(d){return d(h);});};c.prototype.BRb=function(h){this.V$a.forEach(function(d){return d(h);});};c.prototype.e5a=function(h){return null === h?void 0:h;};Wa.Object.defineProperties(c.prototype,{w8:{configurable:!0,enumerable:!0,get:function(){return this.Dob;}},lxa:{configurable:!0,enumerable:!0,get:function(){return this.Gpb;}},vk:{configurable:!0,enumerable:!0,get:function(){return this.Eob;},set:function(h){if(this.th && !this.hw(this.th,h.L))throw Error("Provided playgraphMap does not contain the current segmentId " + this.th);this.p$a(h);}},th:{configurable:!0,enumerable:!0,get:function(){return this.Bmb;},set:function(h){if(!this.hw(h))throw Error("Provided currentSegmentId " + h + " does not exist in the current playgraph");this.Bmb=h;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Pd(this.th);}}});b.JJa=c;},40679:function(r,b,a){var k,f,h,d;function c(g,m){this.Fa=g;this.FNb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(35532);c.prototype.create=function(g){return new (a(90399).f0)(this.Fa.Fb(),g);};c.prototype.YTa=function(g){return new (a(61664).Laa)(this.Fa.Fb(),g,this.FNb);};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(h.IEa))],d);b.KJa=d;},58188:function(r,b,a){var k;function c(f){this.fa=f;this.sO={};this.Mv();}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;k=a(26986);c.prototype.Mv=function(){var f;f=this;Object.values(this.fa.vk.L).forEach(function(h){h=h.J;f.sO[h] || f.x0a(h);});this.H$();};c.prototype.CL=function(f){return this.sO[f];};c.prototype.f_b=function(f){this.wT(f).state=k.bx.tCa;this.H$();};c.prototype.e_b=function(f,h){f=this.wT(f);f.state=k.bx.Error;f.error=h;f.$8a(!1);this.H$();};c.prototype.a$a=function(f){f=this.wT(f);f.state=k.bx.Tgb;f.$8a(!0);this.H$();};c.prototype.Gqb=function(f,h){this.wT(f).qb=h;};c.prototype.G1=function(f,h){this.wT(f).W=h;};c.prototype.wT=function(f){var h;return null !== (h=this.CL(f)) && void 0 !== h?h:this.x0a(f);};c.prototype.x0a=function(f){var h,d;h=void 0;d=new Promise(function(g,m){h=function(l){(l?g:m)();};});return this.sO[f]={state:k.bx.WGa,FWb:d,$8a:h};};c.prototype.H$=function(){var h;for(var f=this.fa.th;f=this.fa.tT(f);){h=this.Ym(f);if(this.sO[h].state === k.bx.Error)break;if(this.sO[h].state === k.bx.tCa)break;if(this.sO[h].state === k.bx.WGa)break;}};c.prototype.Ym=function(f){return this.fa.vk.L[f].J;};b.LJa=c;},52335:function(r,b,a){var k,f,h,d,g;function c(m,l,n,p,q,u,t){var v;v=d.BD.call(this,l,n,q,u,t) || this;v.Ai=m;v.ja=p;v.XS=!1;v.Qka=new Map();v.GSb=function(){v.PF().Qga(f.ea.tH,function(w){v.Eb.Cc(f.HD.IW);v.ib.th=w.position.segmentId;});};v.lLb();u.addListener(f.Ja.loaded,v.GSb);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;k=a(41427);f=a(34202);h=a(68172);d=a(86769);g=a(52115);ia(c,d.BD);c.prototype.iQa=function(m){var l,n,p,q,u,t,v,w,y,x,A;l=this;p=this.ib.vk;q=this.Zl.Pq(m.O,"ident");u=this.Zl.Pq(m.O,"main");t=this.Zl.Pq(m.O,"credits");v=isFinite(m.$i);w=isFinite(m.ab) && m.O !== p.L[p.we].J;y={};x=new k.tu(p).Df(u,Object.assign({J:m.O,va:w && m.ab || 0,ta:null !== (n=m.$i) && void 0 !== n?n:Infinity},v?{next:(y[t]={},y),Jb:t}:{}));w && (n={},x.Df(q,{J:m.O,va:0,ta:m.ab,next:(n[u]={},n),Jb:u}));v && x.Df(t,{J:m.O,va:m.$i,ta:Infinity});if(!this.ib.hw(u)){m=p.L[this.Zl.LYa(p)].J;A=this.Zl.Pq(m,g.JD.Uza);[this.Zl.Pq(m,g.JD.Aca),A].filter(function(z){return l.ib.hw(z);}).forEach(function(z){var B,C,D;B=l.ib.Pd(z);C=z === A || l.Ai.A8;D={};x.Df(z,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},C?{Jb:u}:{}));});}this.ib.vk=x.Lh();return this.bH(u);};c.prototype.Mv=function(){this.isReady() && this.PF().Mv();};c.prototype.Cra=function(){};c.prototype.MG=function(m){this.PF().MG(m);};c.prototype.una=function(m,l,n){l=void 0 === l?{}:l;this.ja.debug("goToSegment " + m);return this.PF().IT(m,l,n);};c.prototype.bH=function(m){if(m === this.lZb)return null;this.lZb=m;return this.XS?this.Wj.CL(this.ib.Pd(m).J).FWb:(this.XS=!0,d.BD.prototype.bH.call(this,m));};c.prototype.Zbb=function(m){return m.errorCode && this.Qka.has(m.errorCode)?this.Qka.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.lLb=function(){var m;m=this;this.Qka.set(h.V.CHa,function(){var l,n;return null !== (n=null === (l=d.BD.prototype.bH.call(m,m.ib.th)) || void 0 === l?void 0:l.then(function(){var p,q;d.BD.prototype.una.call(m,m.ib.th,null !== (q=null === (p=m.Wj.CL(m.ib.aa.J)) || void 0 === p?void 0:p.qb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.iLa=c;},907:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.C7a=void 0;r=a(86700);c=a(52022);k=a(39498);f=a(84036);h=a(98367);b.C7a=new r.Yc(function(d){d(c.sBa).to(k.rBa).da();d(f.rP).to(h.OEa).da();});},85060:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.lTa=b.xoa=b.Bma=b.Nma=b.P4=b.CDa=b.Vkb=b.ju=b.lDa=b.Q_=b.P_=b.NMa=b.OMa=b.uHa=b.YY=b.TEMPORARY=b.fu=void 0;c=a(95919);k=a(89082);f=a(83931);b.fu="cenc";b.TEMPORARY="temporary";b.YY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.uHa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.OMa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.NMa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.P_="SW_SECURE_CRYPTO";b.Q_="SW_SECURE_DECODE";b.lDa="HW_SECURE_DECODE";b.ju="HW_SECURE_ALL";b.Vkb={P_:"SW_SECURE_CRYPTO",Q_:"SW_SECURE_DECODE",lDa:"HW_SECURE_DECODE",ju:"HW_SECURE_ALL"};b.CDa=[b.ju];b.P4=function(h){var d;d=h.getConfiguration();return [b.ju,b.Q_,b.P_].find(function(g){var m;return null === (m=d.videoCapabilities) || void 0 === m?void 0:m.some(function(l){return l.robustness === g;});});};b.Nma=function(h){var d,l;try{for(var g=/\((\d[^)]+)\)/g,m;m=g.exec(h);){l=Number(m[1]);(0,c.rb)(l) && (d=l);}}catch(n){}return d;};b.Bma=function(h){var d;d={};try{h.forEach(function(g){var m,l;if(g.oF){for(var n=(0,k.Cx),p=g.oF,q=0,u=new Uint8Array(16),t=0;t < p.length;t+=2){u[q++]=parseInt(p.slice(t,t + 2),16);}n=n(u);g=null !== (m=g.height) && void 0 !== m?m:g.aua;d[n]=Math.max(g,null !== (l=d[n]) && void 0 !== l?l:0);}});}catch(g){}return d;};b.xoa=function(h){return f.Dd.Ei.test(h);};b.lTa=function(h){return h.robustness?h.keySystem + "." + h.robustness:h.keySystem;};},52022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sBa="DrmProviderSymbol";},84036:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="LicenseProviderSymbol";},41047:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ppa=b.Gh=void 0;(function(a){a[a.sm=0]="STANDARD";a[a.tn=1]="LIMITED";})(b.Gh || (b.Gh={}));b.ppa=function(a){return ["STANDARD","LIMITED"][a];};},39498:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p,q,u,t){this.Dh=p;this.HA=q;this.a5b=u;this.bM=t;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(70655);k=a(86700);f=a(89682);h=a(31224);d=a(53484);g=a(56594);m=a(41047);l=a(85060);a=a(84036);c.prototype.Xg=function(p){var q;q=this;return this.Dh.PA(p.yj[0].data[0],[8,4])?Promise.resolve({ie:[{id:"ddd",wG:"cert",xU:void 0}],Tk:[{sessionId:"ddd",data:new Uint8Array(this.HA.decode(l.NMa))}]}):this.Dh.PA(p.yj[0].data[0],this.a5b.decode("certificate"))?Promise.resolve({ie:[{id:"ddd",wG:"cert",xU:void 0}],Tk:[{sessionId:"ddd",data:new Uint8Array(this.HA.decode(l.YY))}]}):this.bM.Wu(this.kFb(p)).then(function(u){return q.lFb(u);});};c.prototype.release=function(p){return this.bM.release(this.pFb(p)).then(function(){});};c.prototype.kFb=function(p){var q,u;q=this;u=p.yj.map(function(t){return t.data.map(function(v){return {sessionId:t.sessionId,dataBase64:q.HA.encode(v)};});});return {la:p.la,Kf:p.Kf,C3:p.C3,rf:(0,m.ppa)(p.rf),Qm:g.Fk[p.Qm],yj:u.reduce(function(t,v){return t.concat(v);},[]),ri:p.ri,ig:p.ig};};c.prototype.pFb=function(p){return {la:p.la,ie:p.ie};};c.prototype.lFb=function(p){return {ie:p.ie,Tk:p.Tk};};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.ph)),r.__param(1,(0,k.l)(h.kh)),r.__param(2,(0,k.l)(d.oq)),r.__param(3,(0,k.l)(a.rP))],n);b.rBa=n;},98367:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u){this.Xpb=l;this.wXb=n;this.P8a=q;this.yYb=u;this.ja=p.Ta("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(50055);a(43662);d=a(29766);g=a(92582);a=a(10707);c.prototype.Wu=function(l){var n,p;n=this;!1;p=this.P8a.h3b(l);return this.Xpb.Sn(this.ja,l.ri,p).then(function(q){q.map(function(u){return u.GNb;});return n.yYb.Obb(q);}).catch(function(q){n.ja.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(l){var n;n=this;!1;l=this.P8a.k3b(l);return this.wXb.Hf(this.ja,l).then(function(){return {ka:!0};}).catch(function(p){n.ja.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.MHa)),r.__param(1,(0,k.l)(d.zIa)),r.__param(2,(0,k.l)(f.Xa)),r.__param(3,(0,k.l)(g.bIa)),r.__param(4,(0,k.l)(a.mda))],m);b.OEa=m;},56170:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.bVa=b.c_a=b.hcb=b.pC=b.g7=b.R3a=void 0;r=a(71334);c=a(38135);k=a(90014);f=a(17233);a=a(22013);b.R3a=r;b.g7=function(h,d){return (0,b.R3a)(function(g,m){return void 0 !== m?m:g;},h,d);};b.pC=c;b.hcb=k;b.c_a=f;b.bVa=a;},7336:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wlb="StorageValidatorSymbol";b.yw="AppStorageFactorySymbol";},84913:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="Storage";},8028:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(86700);c=a(37462);k=a(56646);f=a(15085);h=a(9190);d=a(36459);g=a(80979);m=a(62983);l=a(49317);n=a(7336);p=a(44870);q=a(52622);b.storage=new r.Yc(function(u){u(k.LGa).Vd(function(){return function(){return pb.localStorage;};});u(k.FDa).Vd(function(){return function(){return pb.indexedDB;};});u(p.uGa).to(q.tGa).da();u(n.yw).to(l.wya).da();u(f.aFa).to(h.$Ea).da();u(c.$Z).to(m.hEa).da();u(d.jEa).to(g.iEa).da();u(d.EDa).to(g.DDa).da();u(d.lEa).to(g.kEa).da();});},15085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="LocalStorageSymbol";},44870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uGa="MemoryStorageSymbol";},56646:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pjb="NativeLocalStorageSymbol";b.LGa="NativeLocalStorageFactorySymbol";b.FDa="IDBFactorySymbol";},94112:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fgb="__default_rule_key__";},49317:function(r,b,a){var f,h,d,g,m,l,n;function c(p,q,u,t){this.ja=p;this.config=q;this.NKb=u;this.rqa=t;this.XE={mem:{storage:this.rqa,key:"mem"}};this.NC=this.config.NC;}function k(p,q,u,t){this.If=p;this.gl=q;this.rqa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vaa=b.wya=void 0;r=a(70655);f=a(86700);h=a(68172);d=a(36459);g=a(71163);m=a(44870);l=a(94112);a=a(53685);k.prototype.create=function(){this.hS || (this.hS=this.uK());return this.hS;};k.prototype.uK=function(){this.urb=new c(this.If.Ta("AppStorage"),this.config,this.gl,this.rqa);return this.urb.create();};n=k;n=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.Xa)),r.__param(1,(0,f.l)(d.lEa)),r.__param(2,(0,f.l)(m.uGa)),r.__param(3,(0,f.l)(a.sn))],n);b.wya=n;c.prototype.create=function(){var p;p=this;return this.Ayb().then(function(q){if(!p.uub(q,p.config.ST))throw p.nRb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.kT(p).storage.load(p).then(function(v){u(v);}).catch(function(v){t(v);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(v,w){t.kT(p).storage.save(p,q,u).then(function(y){v(y);}).catch(function(y){w(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.kT(p).storage.remove(p).then(function(){u();}).catch(function(v){t(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.p8a("mem").then(function(){return p.p8a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.ja.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.x2a("mem").then(function(u){q=q.concat(u);return p.x2a("idb");}).catch(function(u){p.LMb(u) || p.ja.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.ja.error("load all failed",u);throw u;});};c.prototype.Ayb=function(){var p;p=this;return this.NKb.create().then(function(q){p.XE.idb={storage:q,key:"idb"};}).catch(function(q){p.ja.error("idb failed to load",q);return q || ({za:h.R.Lo});});};c.prototype.uub=function(p,q){return !p || p && q?!0:!1;};c.prototype.nRb=function(p){var q;q="";p && (q+=p.za);return {za:q};};c.prototype.p8a=function(p){return (p=this.XE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.x2a=function(p){return (p=this.XE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.jEb=function(p){for(var q in this.NC){if(p.startsWith(q))return this.NC[q];}return this.NC[l.fgb];};c.prototype.kT=function(p){var q,u;q=this;this.jEb(p).every(function(t){return q.XE[t]?(u=q.XE[t],!1):!0;});if(!u){this.ja.error("component not found for storageKey",{i1b:p,$ac:Object.keys(this.XE),rules:this.NC});u=this.XE.mem;}this.ja.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.LMb=function(p){return (p && (p.za || p.errorSubCode)) === h.R.Zw;};b.vaa=c;},26083:function(r,b){function a(c,k){this.bv=c;this.Zd=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pca=void 0;a.prototype.load=function(c,k){var f;f=this;this.bv.load(c).then(function(h){k && k(a.Oab(h));}).catch(function(h){k && k(f.Rka(c,h));});};a.prototype.save=function(c,k,f,h){var d;d=this;this.bv.save(c,k,f).then(function(){h && h(a.Oab({key:c,value:k}));}).catch(function(g){h && h(d.Rka(c,g));});};a.prototype.remove=function(c,k){var f;f=this;this.bv.remove(c).then(function(){k && k({ka:!0,g$:c});}).catch(function(h){k && k(f.Rka(c,h));});};a.Oab=function(c){return {ka:!0,data:c.value,g$:c.key};};a.prototype.Rka=function(c,k){return {ka:!1,g$:c,za:k.za,Kb:k.cause?this.Zd.ve(k.cause):void 0};};b.pca=a;},9190:function(r,b,a){var k,f,h;function c(d){this.sC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(70655);k=a(86700);f=a(68172);a=a(56646);c.prototype.load=function(d){var g;g=this;return new Promise(function(m,l){var n,p;try{n=g.sC.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else l({za:f.R.Zw});}catch(q){l({za:f.R.HKa,cause:q});}});};c.prototype.save=function(d,g,m){var l;l=this;return new Promise(function(n,p){if(m && l.sC.getItem(d))n(!1);else try{"string" === typeof g?l.sC.setItem(d,g):l.sC.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({za:f.R.IKa,cause:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(m,l){try{g.sC.removeItem(d);m();}catch(n){l({za:f.R.$da,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.pjb))],h);b.$Ea=h;},52622:function(r,b,a){var k,f,h;function c(d){this.If=d;this.JG={};this.ja=this.If.Ta("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(70655);k=a(86700);f=a(68172);a=a(71163);c.prototype.load=function(d){var g;if(this.JG.hasOwnProperty(d)){g=this.JG[d];this.ja.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.ja.debug("Storage entry not found",{key:d});return Promise.reject({za:f.R.Zw});};c.prototype.save=function(d,g,m){if(m && this.JG.hasOwnProperty(d))return Promise.resolve(!1);this.JG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.JG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.JG).map(function(g){var m;m=ma(g);g=m.next().value;m=m.next().value;return {key:g,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.JG={};return Promise.resolve();};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Xa))],h);b.tGa=h;},43310:function(r,b,a){var f,h,d;function c(g,m,l){this.config=g;this.uo=m;this.sC=l;}function k(g,m){this.reason=g;this.cause=m;}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=b.jKa=void 0;f=a(68172);h=a(29853);(function(g){g[g.Uca=0]="NoData";g[g.Error=1]="Error";g[g.aJ=2]="Timeout";})(d=b.jKa || (b.jKa={}));c.prototype.load=function(g){var m;m=this;return new Promise(function(l,n){m.W3("get",!1,g).then(function(p){l({key:g,value:p});}).catch(function(p){var q;q=f.R.HKa;switch(p.reason){case d.Uca:q=f.R.Zw;break;case d.aJ:q=f.R.nlb;}n({za:q,cause:p.cause});});});};c.prototype.save=function(g,m,l){var n;n=this;return new Promise(function(p,q){n.W3(l?"add":"put",!0,{name:g,data:m}).then(function(){p(!l);}).catch(function(u){var t;t=f.R.IKa;switch(u.reason){case d.aJ:t=f.R.qlb;}q({za:t,cause:u.cause});});});};c.prototype.remove=function(g){var m;m=this;return new Promise(function(l,n){m.W3("delete",!0,g).then(function(){l();}).catch(function(p){var q;q=f.R.$da;switch(p.reason){case d.aJ:q=f.R.GKa;}n({za:q,cause:p.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(m,l){g.W3("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=f.R.$da;switch(n.reason){case d.aJ:p=f.R.GKa;}l({za:p,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.uo.Xp(this.config.timeout,new Promise(function(m,l){var n,p,q;if(g.config.Eva)l(new k(g.config.Eva));else {n=[];p=g.sC.transaction(g.config.pV,"readonly");q=p.objectStore(g.config.pV).openCursor();p.onerror=function(){l(new k(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){l(new k(d.Error,t));}else m(n);};q.onerror=function(){l(new k(d.Error,q.error));};}})).catch(function(m){return m instanceof h.mq?Promise.reject(new k(d.aJ,m)):m instanceof k?Promise.reject(m):Promise.reject(new k(d.Error,m));});};c.prototype.W3=function(g,m,l){var n;n=this;return this.uo.Xp(this.config.timeout,new Promise(function(p,q){var u,t;u=n.sC.transaction(n.config.pV,m?"readwrite":"readonly");t=u.objectStore(n.config.pV)[g](l);u.onerror=function(){q(new k(d.Error,t.error));};t.onsuccess=function(v){var w;if("get" == g)try{w=v.target.result;w?p(w.data):q(new k(d.Uca));}catch(y){q(new k(d.Uca,y));}else p(void 0);};t.onerror=function(){q(new k(d.Error,t.error));};})).catch(function(p){return p instanceof h.mq?Promise.reject(new k(d.aJ,p)):p instanceof k?Promise.reject(p):Promise.reject(new k(d.Error,p));});};b.gEa=c;},37462:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Z="IndexedDBConfigSymbol";},36459:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="IDBDatabaseFactorySymbol";b.jEa="IndexedDBFactorySymbol";b.lEa="IndexedDBStorageFactorySymbol";},62983:function(r,b,a){var k,f,h,d,g;function c(m,l){m=h.Qe.call(this,m,"IndexedDBConfigImpl") || this;m.config=l;m.version=1;m.pV="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.hEa=void 0;r=a(70655);k=a(86700);f=a(54662);h=a(90187);d=a(53685);a=a(59578);ia(c,h.Qe);Wa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.ay?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.uab;}},T1:{configurable:!0,enumerable:!0,get:function(){return this.config.T1;}},Fva:{configurable:!0,enumerable:!0,get:function(){return 0;}},Eva:{configurable:!0,enumerable:!0,get:function(){return 0;}},gXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.qz,"simulateIdbOpenError")],g.prototype,"Fva",null);r.__decorate([f.config(f.qz,"simulateIdbLoadAllError")],g.prototype,"Eva",null);r.__decorate([f.config(f.Nc,"fixInvalidDatabase")],g.prototype,"gXa",null);g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.xl)),r.__param(1,(0,k.l)(d.sn))],g);b.hEa=g;},80979:function(r,b,a){var h,d,g,m,l,n,p,q,u,t,v,w;function c(y,x,A,z,B,C){this.config=x;this.kS=A;this.gl=z;this.l5b=B;this.Ck=C;this.ja=y.Ta(n.xLa);}function k(y,x){this.config=y;this.bO=x;}function f(y,x,A,z,B){this.config=x;this.bO=A;this.Ck=B;this.ja=y.Ta(n.xLa);this.kS=new Promise(function(C,D){var F;try{F=z();F?C(F):D({za:l.R.HDa});}catch(G){D({za:l.R.ZZ,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=b.iEa=b.DDa=void 0;r=a(70655);h=a(86700);d=a(71163);g=a(43310);m=a(56646);l=a(68172);n=a(84913);p=a(37462);q=a(29853);u=a(7336);t=a(85643);v=a(36459);w=a(3971);f.prototype.create=function(){this.Kja || (this.Kja=this.uK());return this.Kja;};f.prototype.Ls=function(y){var x;x=this;this.Kja=null;return this.bO.Xp(this.config.timeout,new Promise(function(A,z){y.close();x.delete(y.name).then(function(){A();}).catch(function(B){z(B);});})).catch(function(A){return A instanceof q.mq?Promise.reject({za:l.R.ZZ}):A.za?Promise.reject(A):Promise.reject({za:l.R.ZZ,cause:A});});};f.prototype.delete=function(y){var x;x=this;return this.bO.Xp(this.config.timeout,new Promise(function(A,z){x.kS.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){A();};C.onerror=function(){z({za:l.R.ZZ,cause:C.error});};}).catch(function(B){z(B);});}));};f.prototype.uK=function(){var y,x;y=this;return this.bO.Xp(this.config.timeout,new Promise(function(A,z){if(y.config.Fva)return z({za:y.config.Fva});y.kS.then(function(B){y.Ck.mark(w.nj.Thb);x=B.open(y.config.name,y.config.version);if(!x)return z({za:l.R.IDa});x.onblocked=function(){y.Ck.mark(w.nj.Qhb);z({za:l.R.Mhb});};x.onupgradeneeded=function(){var C;y.Ck.mark(w.nj.$hb);C=x.result;try{C.createObjectStore(y.config.pV,{keyPath:"name"});}catch(D){y.ja.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,F;y.Ck.mark(w.nj.Zhb);try{D=C.target.result;F=D.objectStoreNames.length;y.ja.trace("objectstorenames length ",F);if(0 === F){y.ja.error("invalid indexedDb state, deleting");y.Ck.mark(w.nj.Shb);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){z({za:l.R.Lhb});},1);return;}}catch(G){y.ja.error("Exception while inspecting indexedDb objectstorenames",G);}A(x.result);};x.onerror=function(){y.Ck.mark(w.nj.Rhb);y.ja.error("IndexedDB open error",x.error);z({za:l.R.Nhb,cause:x.error});};}).catch(function(B){z(B);});})).catch(function(A){if(A instanceof q.mq){try{x && x.readyState && y.Ck.mark("readyState-" + x.readyState);}catch(z){}if(y.config.T1 && x && "done" === x.readyState){if(y.f5b(x))return (y.Ck.mark(w.nj.Xhb),Promise.resolve(x.result));y.Ck.mark(w.nj.Whb);}y.Ck.mark(w.nj.Vhb);return Promise.reject({za:l.R.Phb});}if(A.za)return Promise.reject(A);y.Ck.mark(w.nj.Uhb);y.ja.error("IndexedDB open exception occurred",A);return Promise.reject({za:l.R.Ohb,cause:A});});};f.prototype.f5b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.Ck.mark(w.nj.Yhb);this.ja.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Xa)),r.__param(1,(0,h.l)(p.$Z)),r.__param(2,(0,h.l)(q.Wz)),r.__param(3,(0,h.l)(m.FDa)),r.__param(4,(0,h.l)(t.bJ))],a);b.DDa=a;k.prototype.create=function(y){return Promise.resolve(new g.gEa(this.config,this.bO,y));};a=k;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(p.$Z)),r.__param(1,(0,h.l)(q.Wz))],a);b.iEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.hS || (this.hS=this.uK(this.l5b));return this.hS;};c.prototype.uK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(A,z){x.Ck.mark(w.nj.mlb);x.kS.create().then(function(B){x.gl.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;A(x.storage);}).catch(function(D){x.ja.debug("DB validation failed, cause: " + D);x.config.gXa?(x.ja.debug("Fixing corrupt DB"),x.kS.Ls(B).then(function(){x.ja.error("Invalid database deleted, creating new database.");x.uK().then(function(F){x.ja.error("Invalid database successfully recreated.");x.storage=F;A(x.storage);});}).catch(function(F){x.ja.error("Couldn't delete invalid database.");z(F);})):(x.ja.debug("Ignoring invalid DB due to config"),x.storage=C,A(x.storage));});}).catch(function(C){z(C);});}).catch(function(B){z(B);});});};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Xa)),r.__param(1,(0,h.l)(p.$Z)),r.__param(2,(0,h.l)(v.EDa)),r.__param(3,(0,h.l)(v.jEa)),r.__param(4,(0,h.optional)()),r.__param(4,(0,h.IG)(u.wlb)),r.__param(5,(0,h.l)(t.bJ))],a);b.kEa=a;},33010:function(r,b,a){var f;function c(h,d,g){this.start=h;this.track=d;this.PC=Array.isArray(g)?g:[];}function k(h,d){this.log=h;this.xz=d;this.mta=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;f=a(70633);k.prototype.$pb=function(h,d){this.G4a(h,d,"activating");};k.prototype.yzb=function(h){this.Jka(h,"de-activating");};k.prototype.G4a=function(h,d,g){var m;this.hk && this.Jka(h,"close current for new");m=[];this.orphans.length && (m.push.apply(m,da(this.orphans)),this.orphans=[]);this.hk=new c(h,d,m);this.xz && this.log.trace("new range: " + g,this.hk);};k.prototype.Jka=function(h,d){this.hk && (this.hk.end=h,this.mta.push(this.hk),this.xz && this.log.trace("end range: " + d,this.hk || ({})),this.hk=void 0);};k.prototype.Kcb=function(h){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.hk?this.hk.PC.push.apply(this.hk.PC,da(d)):this.orphans.push.apply(this.orphans,da(d));};k.prototype.ina=function(h){var d,g;d=this.mta.slice(0);if(this.hk && "undefined" !== typeof h){g=new c(this.hk.start,this.hk.track,this.hk.PC);g.end=h;d.push(g);}h=d.reduce(function(m,l){var n,p,q,u;if(!l.track)return m;p=l.track.Vb;q=l.track.Ql(l.start,l.end);if(void 0 === q || null === q)return m;u=new Set(l.PC);m[p]?(l=m[p],l.expected+=q,l.missed+=q - u.size):m[p]={dlid:p,bcp47:l.track.re,profile:l.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=l.track.QIb()) && void 0 !== n?n:0};return m;},{});h=Object.values(h);this.xz && this.log.trace("subtitleqoe:",JSON.stringify(h,null,"\t"));return h;};k.prototype.HIb=function(h){var d,g,m,l;d=this.mta.slice(0);g=0;m=0;if(this.hk && "undefined" != typeof h){l=new c(this.hk.start,this.hk.track,this.hk.PC);l.end=h;d.push(l);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,f.oa)(!1,"negative range");n.GC=0;return;}p=new Set(n.PC);q=n.track.Ql(n.start,n.end);n.X3=q;n.GC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.GC=100;p=n.end - n.start;g+=p;m+=n.GC * p;});l=g?Math.round(m / g):100;this.log.trace("qoe score " + l + ", at pts: " + h);this.xz && (h=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.GC),lang:n.track?n.track.re:"none","actual  ":n.PC.join(" "),expected:n.X3};}),this.log.trace("score for each range: ",JSON.stringify(h,function(n,p){return p;}," ")));return l;};b.GLa=k;},90642:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.RH=void 0;r=a(86700);c=a(91018);k=a(32711);f=a(35368);h=a(59415);b.RH=new r.Yc(function(d){d(h.VLa).to(c.ULa);d(f.SLa).ml(new k.RLa());d(h.TLa).Vd(function(g){return function(){return g.hb.get(h.VLa);};});});},59415:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VLa="ThroughputTrackerSymbol";b.TLa="ThroughputTrackerFactorySymbol";},35368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="ThroughputTrackerConfigSymbol";},5099:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;c=a(36845);b.kBa=function(k,f){this.qBb=k;this.size=f.Hoa()?c.Ia:f;};},32711:function(r,b,a){function c(k){this.rBb=void 0 === k?10:k;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(70655);a=a(86700);c=r.__decorate([(0,a.U)()],c);b.RLa=c;},91018:function(r,b,a){var k,f,h,d;function c(g){this.config=g;this.Hva=f.Ia;this.IN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;r=a(70655);k=a(86700);f=a(36845);h=a(2467);a=a(35368);c.prototype.Xm=function(){var m;for(var g;0 < this.IN.length;){g=this.IN.shift();this.PPa(g);}g=void 0 === this.wS || void 0 === this.mF?h.Ia:this.mF.wa(this.wS);m=g.x1a()?0:this.Hva.ba(f.dD) / g.ba(h.na);return {rwa:Math.floor(m),ecc:g.ba(h.na)};};c.prototype.rqb=function(g){this.Hva=this.Hva.add(g.size);this.IN.push(g.qBb);for(this.IN.sort(function(m,l){return m.start.Lk(l.start);});this.IN.length > this.config.rBb;){g=this.IN.shift();this.PPa(g);}};c.prototype.PPa=function(g){void 0 === this.wS && (this.wS=g.start);void 0 !== this.mF && 0 > this.mF.Lk(g.start) && (this.wS=this.wS.add(g.start.wa(this.mF)));if(void 0 === this.mF || 0 > this.mF.Lk(g.end))this.mF=g.end;};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.SLa))],d);b.ULa=d;},14659:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q,u,t,v,w,y){var x,A;q=g.ND.call(this,u,q,q,w,!0,{Gf:"",tC:"content"},"1",[{Ig:0,url:t,type:"unknown"}],"xx",v || q,m.Jo.UI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (A=null === y || void 0 === y?void 0:y.midx) && void 0 !== A?A:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Lr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;r=a(58680);k=a(37986);f=a(25892);h=a(89082);d=a(24133);g=a(31360);m=a(65853);l=a(89927);n=a(50364);p=a(34202);(0,r.VIa)(r.xda,function(q){var t;function u(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.Nz.Dlb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var y,x,A;y=w.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});A=new FileReader();A.readAsText(y);A.addEventListener("load",function(){return q.nn.Fga("nourl",x,{content:A.result});});}});w.click();}}t=(0,h.Nh)(q,"TimedTextCustomTrack");k.config.Jja && (t.info("Loading url",{Url:k.config.Jja}),q.nn.Fga(k.config.Jja,"custom"));f.fe.addListener(f.wB,u);q.addEventListener(p.ea.ug,function(){f.fe.removeListener(f.wB,u);});});ia(c,g.ND);c.nyb=function(q,u,t,v){var w;w="custom" + c.JLb++;return new c(w,q,u,t,-1,v);};c.prototype.qVa=function(){var q;q=this;return new Promise(function(u,t){var v,w;if(null === (v=q.options) || void 0 === v?0:v.content)u(q.options.content);else if(q.url){w={responseType:l.Pna,url:q.url,track:q,Ac:void 0,ZA:"tt-" + q.re,zr:"unknown"};q.j.z5.download(w,function(y){y.ka?u(y.content):(y.reason="downloadfailed",y.url=w.url,y.track=q,t(y));});}});};b.WLa=c;c.JLb=0;},15789:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){this.k4=l;this.qF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,k.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.d$a(n);this.Fla=this.zYa(this.k4);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;k=a(24133);f=a(797);h=a(43038);d=a(37986);g=a(50876);m=a(30818);c.prototype.Vm=function(){return this.element;};c.prototype.SZb=function(l){this.Ax=l;};c.prototype.c_b=function(l){this.entry=l;this.iH();};c.prototype.i_b=function(l){this.d$a(l);this.iH();};c.prototype.j_b=function(l){this.lang=l;this.iH();};c.prototype.iH=function(){var l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F;l=this;p=this.Vm();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;v=0;w=0;y=0;q={width:u,height:t};A=null !== (n=d.config.w$.characterSize) && void 0 !== n?n:d.config.uwa.characterSize;this.lang && d.config.H5 && d.config.H5.includes(this.lang) && "MEDIUM" === A && (y=1.4);if(0 < u && 0 < t && this.entry){this.Ax && (q=(0,k.j4)(u,t,this.Ax),v=Math.round((u - q.width) / 2),w=Math.round((t - q.height) / 2));z=this.iub(q);B=(0,k.j4)(z.width,z.height,this.Ax);z=(x=this.entry.blocks) && x.map(function(G){var E;E=(0,h.Nka)(G,B,l.k4,l.Fla,y);G=(0,h.gWa)(G) + ";position:absolute";return (0,k.createElement)("div",G,E,c.hba);});}Object.assign(this.qF,{left:v + "px",right:v + "px",top:w + "px",bottom:w + "px"});p.style.display="none";p.style.direction=this.qF.direction;p.innerHTML="";if(z && z.length){n=q.width;u=q.height;v=q;this.PR && (v=this.Vpb(q,this.PR,t,w));this.qF.margin=this.er?this.y2(q,"top") + "px " + this.y2(q,"right") + "px " + this.y2(q,"bottom") + "px " + this.y2(q,"left") + "px ":void 0;z.forEach(function(G){return p.appendChild(G);});t=(0,k.fS)(this.qF);p.style.cssText=t + ";visibility:hidden;z-index:-1";w=[];for(A=z.length - 1;0 <= A;A--){C=z[A];D=x[A];F=this.S4a(C,D,n,u);y=0 < y?n / F.width * y:n / F.width;F.width > n && (C.innerHTML=(0,h.Nka)(D,q,this.k4,this.Fla,y),F=this.S4a(C,D,n,u));w[A]=F;}w=(0,f.ecb)(w,v);if(A=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(v=A.windowColor,A=A.windowOpacity,v && 0 < A && (C=Math.round(u / 50),q=(0,h.iWa)(x,w,C,v,q),q=(0,k.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + A,q,c.hba),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=w.length - 1;0 <= q;q--){A=w[q];v=z[q].style;C=x[q].region;A=(0,h.hWa)(C,A,n,u,0);Object.assign(v,A);}p.style.cssText=t;}};c.prototype.ova=function(l){this.PR=l;this.iH();};c.prototype.mna=function(){return this.PR;};c.prototype.pva=function(l){this.er=l;this.iH();};c.prototype.nna=function(){return this.er;};c.prototype.ona=function(){return "block" === this.qF.display;};c.prototype.qva=function(l){var n;n=l?"block":"none";this.element.style.display=n;this.qF.display=n;l && this.iH();};c.prototype.g4b=function(l){this.k4=l;this.Fla=this.zYa(l);};c.prototype.zYa=function(l){var n,p;n=this;p={};(0,m.bg)(l,function(q,u){p[q]=n.UPb(u);});return p;};c.prototype.d$a=function(l){this.qF.direction="boolean" === typeof l?l?"ltr":"rtl":"inherit";};c.prototype.y2=function(l,n){if(this.er){if("left" === n || "right" === n)return l.width * (this.er[n] || 0);if("top" === n || "bottom" === n)return l.height * (this.er[n] || 0);}return 0;};c.prototype.iub=function(l){return this.er?{height:l.height * (1 - (this.er.top || 0) - (this.er.bottom || 0)),width:l.width * (1 - (this.er.left || 0) - (this.er.right || 0))}:l;};c.prototype.UPb=function(l){var n;l="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + l + ";";l=(0,k.createElement)("DIV",l,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.hba);g.Og.body.appendChild(l);n={fontSize:1E3,height:l.clientHeight,width:l.clientWidth / 52,lineHeight:l.clientHeight / 1E3};g.Og.body.removeChild(l);return n;};c.prototype.S4a=function(l,n,p,q){var u,t,v,w,y;u=n.region;t=(u.marginTop || 0) * q;v=(u.marginBottom || 0) * q;w=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;n=l.clientWidth || 1;l=l.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - v - l) / 2;break;default:q=q - v - l;}switch(u.horizontalAlignment){case "left":p=w;break;case "right":p=p - y - n;break;default:p=(w + p - y - n) / 2;}return {top:q,left:p,width:n,height:l};};c.prototype.Vpb=function(l,n,p,q){return {height:p - Math.max(q,n.bottom || 0) - Math.max(q,n.top || 0),width:l.width};};b.XLa=c;c.hba={"class":"player-timedtext-text-container"};},2108:function(r,b){function a(c,k){var f;f=this;this.$Ya=c;this.q5a=k;this.ywa=!1;this.DM=function(){f.im=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;a.prototype.update=function(c){var k,f,h,d,g;h=this.$Ya();if(this.Lcb !== h){d=null === (f=null === (k=this.KU) || void 0 === k?void 0:k.nB(h)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= h && h <= d.endTime){g=d;this.wcb(d.endTime - h);}else this.wcb(d.startTime - h);this.Lcb=h;this.Aga !== g && (this.Aga=g,!c && this.q5a && this.q5a());}};a.prototype.start=function(){this.ywa=!0;this.update();};a.prototype.k$a=function(c){this.KU=c;this.Aga=this.Lcb=void 0;c || this.stop();};a.prototype.stop=function(){this.ywa=!1;this.bq();};a.prototype.GFb=function(){this.update(!0);return this.Aga;};a.prototype.wcb=function(c){this.bq();this.ywa && 0 < c && (this.im=setTimeout(this.DM,c + a.jjb));};a.prototype.bq=function(){this.im && (clearTimeout(this.im),this.im=void 0);};b.$La=a;a.jjb=10;},31360:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea){this.j=x;this.trackId=A;this.hG=z;this.bc=B;this.xg=C;this.Ibb=D;this.Vb=F;this.urls=G;this.re=E;this.displayName=J;this.Ch=K;this.MH=N;this.variant=I;this.CC=O;this.profile=L;this.pt=H;this.E7=M;this.TEb=R;this.c6=Y;this.$s=ea;this.type=d.Zj.vwa;this.Lr=void 0;this.pk=!(!L || L != m.wl.NI);this.zg={bcp47:E,trackId:A,downloadableId:F,isImageBased:this.pk};this.log=(0,g.Nh)(x,"TimedTextTrack");this.state=y.n_;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.ND=void 0;k=a(70655);f=a(89927);h=a(37986);d=a(20736);g=a(89082);m=a(56261);l=a(70633);n=a(95919);p=a(43625);q=a(34202);u=a(68172);t=a(55134);v=a(5485);w=a(91854);(function(x){x[x.n_=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.tD=2]="LOADED";x[x.qP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.K5=function(){var x;x=this;if(this.j.state.value === q.Ub.CLOSED || this.j.state.value === q.Ub.CLOSING)return Promise.reject({ka:!1});if(this.pk)return this.ALb();if(this.j.$c.ha)return (this.state=y.LOADING,this.v0a());this.oVa || (this.oVa=this.qVa());return this.oVa.then(function(A){return x.v0a(A);});};c.prototype.getState=function(){return this.state;};c.prototype.co=function(){return this.E7;};c.prototype.$m=function(){return this.TEb;};c.prototype.hna=function(){var x;return (null === (x=this.eX) || void 0 === x?0:x.ready)?this.eX.KU:void 0;};c.prototype.Ql=function(x,A){var z;try{return null === (z=this.hna()) || void 0 === z?void 0:z.Ql(x,A);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:A,isImageBased:this.pk});}};c.prototype.QIb=function(){var x,A,z;if(!(0,n.Qc)(this.ab))try{z=null === (A=null === (x=this.hna()) || void 0 === x?void 0:x.nB(0)) || void 0 === A?void 0:A[0];this.ab=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.ab;};c.prototype.ita=function(x){var A,z;(0,l.oa)((0,w.K0a)(x));(0,l.oa)(null === (A=this.j.W) || void 0 === A?void 0:A.Ga.Ej,"Live manifest is unavailable.");(0,l.oa)(null === (z=this.eX) || void 0 === z?void 0:z.KU,"Subtitle manager is unavailable");A=x.F3b;this.eX.KU.ita({I:x.I,xml:A,ab:x.ab,nf:x.nf,size:A.length,sr:x.sr,endOfStream:x.endOfStream});};c.prototype.Q9=function(x){return this.j.state.value === q.Ub.CLOSING || this.j.state.value === q.Ub.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.xb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.bUa=function(x){var A,z;A=this;z=(0,g.Nh)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.cUa)(this.j,z,this.request,this);x=new t.default(z,x);this.eX={KU:x,ready:!1};x.on("ready",function(){A.eX.ready=!0;});return x;};c.prototype.ALb=function(){var x,A,z,B,C,D,F;x=this;if(!this.s0a){this.state=y.LOADING;A={profile:"nflx-cmisc",url:"",kRa:!1,xqa:this.pt.offset,Z3a:this.pt.length,Me:this.j.mediaTime.value || 0,bufferSize:h.config.VKb,C9:{L:this.j.hT()}};z=(this.urls || []).map(function(G){return G.Ig;});B=0;C={};D=!0;F=function(G,E){var J;(0,n.Qc)(G)?D || x.Q9(x.Vs(x.Is,"","image"))?(D=!1,x.pt.url=null === (J=x.z4(x.Is)) || void 0 === J?void 0:J.url,A.url=x.pt.url,C[G]=(C[G] || 0) + 1,J=x.bUa(A),J.on("ready",function(){E({ka:!0,track:x});}),J.on("error",function(K){var N;K=Object.assign({ka:!1},K);N=x.Vs(x.Is,x.pt.url,"image");N.details={midxoffset:x.pt.offset,midxsize:x.pt.length};N.errorstring=K.errorString;C[G] <= h.config.vbb?(x.f4(N,!0,"retry with current cdn"),x.Jha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Vs(x.Is,"","image"));F(x.Is,E);})):(x.Is=z[B++],x.Is?(x.f4(N,!0,"retry with next cdn"),x.Jha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Vs(x.Is,"","image"));F(x.Is,E);})):(x.f4(N,!1,"all cdns tried"),E({ka:!1,PQb:"all cdns failed for image subs",track:x})));}),J.start()):E({ka:!1,aborted:!0}):(E({ka:!1,PQb:"cdnId is not defined for image subs downloadUrl"}),x.f4(x.Vs(0,"","image"),!1,"cdnId is undefined"));};this.Is=z[B++];this.s0a=new Promise(function(G,E){F(x.Is,function(J){J.ka?(x.log.info("Loaded image subtitle manager"),x.state=y.tD,G(J)):(x.log.error("Unable to load image subtitles manager",J),x.state=y.qP,E(J));});});}return this.s0a;};c.prototype.v0a=function(x){var A,z;A=this;z=this.j.YC.value;(0,l.oa)(z);(0,l.oa)(void 0 !== x || this.j.$c.ha);return new Promise(function(B,C){var D;D=A.bUa({profile:A.profile,xml:x,lf:h.config.uwa,preferences:h.config.w$,Me:A.j.mediaTime.value || 0,kRa:!1,videoSize:z,ha:A.j.$c.ha});D.on("ready",function(){B(D);}).on("error",function(F){C({ka:!1,error:F});}).start();}).then(function(){A.state=y.tD;return {ka:!0,track:A};}).catch(function(B){A.log.error("Unable to parse timed text track",(0,u.Iw)(B),A.zg,{url:B.url});A.state=y.qP;B.reason="parseerror";B.track=A;throw B;});};c.prototype.f4=function(x,A,z){x=Object.assign({},x,{zgc:A,status:z});this.j.fireEvent(q.ea.SN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,A){var z,B,C;z=this;this.log.trace("Downloading",x);C=this.z4(this.Is);x={url:x.url,offset:x.offset,length:x.size,Lr:this.Lr,responseType:f.QT,headers:{},Ac:C?{id:C.Ig}:void 0,ZA:"tt-" + this.re,zr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:v.JP};this.j.z5.download(x,function(D){z.log.trace("imgsub: request status " + D.ka);D.ka?A(null,new Uint8Array(D.content)):A({za:D.za,De:D.De});});};c.prototype.Vs=function(x,A,z){return {currentCdnId:x,url:A,profile:this.profile,dlid:this.Vb,subtitletype:z,bcp47:this.re,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.pk};};c.prototype.z4=function(x){return (this.urls || []).find(function(A){return A.Ig === x;});};c.prototype.qVa=function(){var B,C;function x(D){return k.__awaiter(B,void 0,void 0,function G(){var E,J,K;J=this;return Ia(G,function(N){E=z();K=J.Vs(D.Ac.Ig,D.url,"text");K.errorstring=D.reason;return E && J.Q9(K)?N.return(J.Jha(C[E.Ig]).then(A)):N.return(Promise.reject({ka:!1,aborted:!0}));});});}function A(){return k.__awaiter(B,void 0,void 0,function F(){var G,E,J;J=this;return Ia(F,function(K){G=z();E=null === G || void 0 === G?void 0:G.url;return G && E?(C[G.Ig]=(C[G.Ig] || 0) + 1,K.return(J.mBb(E,G).catch(x))):K.return(Promise.reject({}));});});}function z(){return (B.urls || []).find(function(D){return !!((C[D.Ig] || 0) < h.config.vbb);});}B=this;this.state=y.LOADING;C={};return A();};c.prototype.Jha=function(x){return new Promise(function(A){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return A(z);},z);});};c.prototype.mBb=function(x,A){var z;z=this;this.log.trace("Downloading",A && ({Ac:A.Ig}),this.Vs(A.Ig,x,"text"));return new Promise(function(B,C){var D,F;F={responseType:f.Pna,url:x,track:z,Ac:{id:A.Ig},ZA:"tt-" + z.re,zr:null !== (D=A.type) && void 0 !== D?D:v.JP};z.j.z5.download(F,function(G){G.ka?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:z,Ac:A}),C(G));});});};Wa.Object.defineProperties(c.prototype,{Gf:{configurable:!0,enumerable:!0,get:function(){return this.Ibb.Gf;}},tC:{configurable:!0,enumerable:!0,get:function(){return this.Ibb.tC;}}});b.ND=c;c.Yz=y;},43625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cUa=void 0;b.cUa=function(a,c,k,f){return {sIb:function(){var h;h=a.Qma();f.$s && (h+=f.$s);return h;},ja:c,request:k,pf:!1};};},26047:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t){var v;v=this;this.j=t;this.gwa=this.A4a=0;this.ug=this.Yk=!1;this.Zp=0;this.D5=new Set();this.RW=!0;this.ll=function(){var w,y;v.i9();v.cF && (v.log.info("Deactivating",v.cF),v.kz.yzb(v.Ts()));v.j.$h.set(null);v.TH.k$a(void 0);v.KSa();w=v.j.xb.value;w && w.co() && !w.$m() && (w=null);if(w && v.j.mb.value !== q.bb.Mf){y=v.Ts();v.kz.$pb(y,w);}w?(v.log.info("Activating",w),v.j.hm.set(w.getState() === k.ND.Yz.tD?q.yf.ae:q.yf.Pe),v.Yk || v.j.ke("tt_start"),w.K5().then(v.SJ).catch(v.SJ)):v.j.hm.set(q.yf.ae);v.cF=w;v.vz();};this.sync=function(){v.Yk && (v.TH.start(),v.j.mb.value !== q.bb.me && v.TH.stop());};this.vz=function(){var w;v.RW && v.j.state.value === q.Ub.ae && v.j.mb.value !== q.bb.Mf && (v.eh?w=v.TH.GFb():v.j.xb.value && (w=c.c1b[v.j.xb.value.getState()]));w && (0,p.Qc)(w.startTime) && v.j.Pt.value !== w && (v.A4a++,v.gwa+=v.TH.$Ya() - w.startTime,v.nRa=Math.ceil(v.gwa / (v.A4a + 0)));v.j.Pt.set(w);};this.Ts=function(){var w;w=v.j.Qma();v.cF && v.cF.$s && (w+=v.cF.$s);return w;};this.Bra=function(w){v.D5.add(w);v.RW && (v.fireEvent(c.N$a,w),w && w.id && (v.kz.Kcb(w.id),!1));v.log.trace("showsubtitle",v.Z4(w));};this.xV=function(w){v.D5.delete(w) && v.RW && (v.fireEvent(c.D8a,w),v.log.trace("removesubtitle",v.Z4(w)));};this.qKb=function(){v.D5.forEach(function(w){v.fireEvent(c.D8a,w);v.log.trace("hide subtitle",v.Z4(w));});};this.EYb=function(){v.D5.forEach(function(w){v.fireEvent(c.N$a,w);v.log.trace("resume subtitle",v.Z4(w));});};this.yh=function(){v.log.warn("imagesubs buffer underflow",v.j.xb.value.zg);v.j.hm.set(q.yf.Pe);};this.ora=function(){v.log.info("imagesubs buffering complete",v.j.xb.value.zg);v.j.hm.set(q.yf.ae);};this.S7=function(){v.Yk && v.eh && v.eh.wz(v.Ts());};this.z5a=function(w){v.Yk && v.eh && (v.eh.pause(),v.eh.JC(w.pp));};this.Nv=function(){v.Yk && v.eh && v.eh.E7a();};this.w5a=function(w){v.eh && v.eh.Rj(w.th,w.wM);};this.E5a=function(w){v.eh && v.eh.hj(w.I,w.F4b);};this.FSb=function(){v.Yk=!0;(0,n.Qf)(function(){var w,y;(null === (w=v.cF) || void 0 === w?0:w.pk)?null === (y=v.eh) || void 0 === y?void 0:y.wz(v.Ts()):v.sync();v.vz();});};this.CSb=function(){v.KSa();v.TH.stop();v.vz();v.ug=!0;v.i9();};this.Fra=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (v.kz.Kcb.apply(v.kz,da(w.blocks.map(function(y){return y.id;}))),!1);};this.ISb=function(w){v.y4b(w.newValue,w.oldValue);v.sync();v.vz();};this.SJ=function(w){var y;if(!v.ug){y=w.track;if(y === v.j.xb.value)try{v.eh=y.hna();y.pk?v.Ypb(w):v.Zpb(w);}catch(x){v.log.error("Error activating track:",x,y);return;}v.Yk || v.j.ke(w.ka?"tt_comp":"tt_err");w.ka?(d.config.p9a?setTimeout(function(){v.j.hm.set(q.yf.ae);},d.config.p9a):v.j.hm.set(q.yf.ae),y.pk || v.vz()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.IDb?v.j.kd(l.V.iib,{Kb:w.track?w.track.zg:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.hm.set(q.yf.ae));}};this.Eb=new h.Xj();this.kz=new m.GLa((0,g.Nh)(t,"SubtitleTracker"),d.config.xCb);this.log=(0,g.Nh)(t,"TimedTextManager");this.TH=new f.$La(this.Ts,this.vz);this.j.xb.addListener(this.ll);d.config.WUb?(this.j.addEventListener(q.ea.Yk,this.FSb),this.ll()):(this.j.hm.set(q.yf.ae),this.j.addEventListener(q.ea.Yk,function(){v.Yk=!0;v.ll();}));this.j.mb.addListener(this.ISb);this.j.addEventListener(q.ea.pwa,this.sync);this.j.Pt.addListener(this.Fra);this.j.addEventListener(q.ea.ug,this.CSb);}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;k=a(31360);f=a(2108);h=a(59883);d=a(37986);g=a(89082);m=a(33010);l=a(68172);n=a(66052);p=a(95919);q=a(34202);u=a(14659);c.prototype.n0b=function(){this.RW=!0;this.EYb();this.vz();};c.prototype.rKb=function(){this.RW=!1;this.qKb();this.vz();};c.prototype.addEventListener=function(t,v,w){this.Eb.addListener(t,v,w);};c.prototype.removeEventListener=function(t,v){this.Eb.removeListener(t,v);};c.prototype.fireEvent=function(t,v,w){this.Eb.Cc(t,v,w);};c.prototype.Fga=function(t,v,w){var y,x;y=this;x=u.WLa.nyb(this.j,t,v,w);this.D0a(this.j.hh,x);this.j.ci.forEach(function(A){y.D0a(A.hh,x);});this.j.xb.set(x);this.j.fireEvent(q.ea.Rt);};c.prototype.aVb=function(t){this.$ta(t)?t.K5().then(function(){}):Promise.resolve();};c.prototype.$Ib=function(t){return this.kz.HIb(t);};c.prototype.ina=function(t){return this.kz.ina(t);};c.prototype.DT=function(){var t,v;t=this.j.vX;v=d.config.uwa.characterSize;v={size:d.config.w$.characterSize || v};t && (v.visibility=t.ona(),v.PR=t.mna(),v.er=t.nna());return v;};c.prototype.C_b=function(t){d.config.w$.characterSize=t;t=this.j.xb.value;this.$ta(t) && !t.pk && t.K5().then(this.SJ).catch(this.SJ);};c.prototype.y4b=function(t,v){var w;t === q.bb.me || t == q.bb.Xh?v !== q.bb.me && v !== q.bb.Xh && ((v=this.j.xb.value) && !this.$ta(v) || this.kz.G4a(this.Ts(),v || void 0,"presentingstate:" + t)):t !== q.bb.Mf && t !== q.bb.jq || this.kz.Jka(null !== (w=this.Ts()) && void 0 !== w?w:void 0,"presentingstate:" + t);};c.prototype.i9=function(){this.Zp=0;clearTimeout(this.rN);};c.prototype.KSa=function(){var t;this.eh && this.eh.stop();(null === (t=this.cF) || void 0 === t?0:t.pk) && this.X2a("removeListener");this.eh=void 0;};c.prototype.X2a=function(t){this.eh && (this.eh[t]("showsubtitle",this.Bra),this.eh[t]("removesubtitle",this.xV),this.eh[t]("underflow",this.yh),this.eh[t]("bufferingComplete",this.ora),"addListener" === t?(this.j.addEventListener(q.ea.On,this.S7),this.j.addEventListener(q.ea.Hj,this.z5a),this.j.addEventListener(q.ea.tH,this.Nv),this.j.addEventListener(q.ea.B7,this.w5a),this.j.addEventListener(q.ea.Ywa,this.E5a)):(this.j.removeEventListener(q.ea.On,this.S7),this.j.removeEventListener(q.ea.Hj,this.z5a),this.j.removeEventListener(q.ea.tH,this.Nv),this.j.removeEventListener(q.ea.B7,this.w5a),this.j.removeEventListener(q.ea.Ywa,this.E5a)));};c.prototype.Z4=function(t){return {currentPts:this.Ts(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.Ypb=function(t){var v,w;v=this;w=t.track;if(!w || !w.pk)throw Error("Not an image base subtitle");t.ka?(this.i9(),this.X2a("addListener"),this.log.info("Activated",w),this.j.$h.set(w),this.Yk?(0,n.Qf)(function(){v.eh.wz(v.Ts());}):this.eh.pause()):this.e9a(w,t);};c.prototype.Zpb=function(t){var v,w;v=t.track;w=t.ka;if(!v || v.pk)throw Error("Not a valid text track");w?(this.i9(),this.TH.k$a(this.eh),this.log.info("Activated",v),this.j.$h.set(v)):this.e9a(v,(0,l.Iw)(t));this.vz();};c.prototype.e9a=function(t,v){var w,y;w=this;y=this.Zp < d.config.EPb;y && (this.rN=setTimeout(function(){w.Zp++;t.K5().then(w.SJ).catch(w.SJ);},d.config.M2b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.pk)?" img subtitle":""),{retry:y},v,t);};c.prototype.$ta=function(t){return !(!t || t.co() && !t.$m());};c.prototype.D0a=function(t,v){var w;w=t.findIndex(function(y){return y.bc >= v.bc;});-1 === w && (w=0);t.splice(w,0,v);};b.YLa=c;r={};c.c1b=(r[k.ND.Yz.LOADING]={DU:!0},r[k.ND.Yz.qP]={Os:!0},r);c.N$a="showsubtitle";c.D8a="removesubtitle";},31205:function(r,b,a){var k,f,h,d,g,m;function c(l){var n,p,q,u;n=this;this.j=l;this.oSb=function(){var t;h.fe.removeListener(h.k5,n.B5a);t=n.ao.Vm();t && t.parentNode && t.parentNode.removeChild(t);};this.Fra=function(t){n.ao.c_b(t.newValue);};this.SSb=function(t){var v;n.ao.i_b(t.newValue?t.newValue.c6:void 0);n.ao.j_b(null === (v=t.newValue) || void 0 === v?void 0:v.re);n.ao.g4b(n.yYa(t.newValue));};this.B5a=function(){n.ao.iH();};q=l.xb.value?l.xb.value.c6:void 0;u=null === (p=l.xb.value) || void 0 === p?void 0:p.re;p=this.yYa(l.xb.value);this.ao=new g.XLa(p,q,u);q=l.YC.value;(0,f.oa)(.1 < q.width / q.height);this.ao.SZb(q.width / q.height);l.xk.appendChild(this.ao.Vm());l.Pt.addListener(this.Fra);l.xb.addListener(this.SSb);l.addEventListener(m.ea.ug,this.oSb,k.RI);h.fe.addListener(h.k5,this.B5a);}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;k=a(7942);f=a(70633);h=a(25892);d=a(37986);g=a(15789);m=a(34202);c.prototype.qva=function(l){this.ao.qva(l);};c.prototype.ona=function(){return this.ao.ona();};c.prototype.ova=function(l){this.ao.ova(l);};c.prototype.mna=function(){return this.ao.mna();};c.prototype.pva=function(l){this.ao.pva(l);};c.prototype.nna=function(){return this.ao.nna();};c.prototype.yYa=function(l){var n;if(l && d.config.z6 && 0 <= d.config.z6.indexOf(l.re)){n=Object.assign({},d.config.v$);Object.entries(n).forEach(function(p){var q;q=ma(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.v$;};b.ZLa=c;},99275:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bqa=void 0;b.bqa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var k=a[0],f=c(k),h=1;h < a.length;h++){d=a[h];g=c(d);g > f && (k=d,f=g);}return k;}};},38229:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Zd=void 0;r=a(86700);c=a(79646);k=a(99435);f=a(27429);h=a(35032);d=a(58236);g=a(91026);m=a(89414);l=a(19761);n=a(80911);p=a(55349);b.Zd=new r.Yc(function(q){q(h.V_).to(c.FLa).da();q(d.Pda).to(f.bKa).da();q(g.zMa).to(k.yMa).da();q(m.Ajb).to(l.hHa).da();q(n.SMa).to(p.RMa).da();});},58875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A7a=void 0;b.A7a=function(a){var c,k;c=!1;k=!1;return function(){if(c)k=!0;else for(k=!0;k;){k=!1;c=!0;a();c=!1;}};};},42029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y6=void 0;b.y6=function(a,c,k){var f;if(k.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=k.get;k.get=function(){var h,d;h=f.apply(this,arguments);d={enumerable:k.enumerable,value:h};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return h;};};},89414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ajb="ObjectComparerSymbol";},77878:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.qV=b.Sh=void 0;c=a(56170);b.Sh=function(k,f){return [].concat.apply([],da(k)).map(function(h){return Object.assign({name:h},null !== f && void 0 !== f?f:{});});};b.qV=function(k,f){for(var h=[],d=1;d < arguments.length;++d){h[d - 1]=arguments[d];}return (0,c.bVa)(function(g,m){return g.name === m;},k,h);};},58236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pda="QueryStringDataProviderSymbol";},35032:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V_=b.Io=void 0;b.Io=function(){};b.V_="StringObjectReaderSymbol";},75183:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MS=b.Noa=void 0;b.Noa=function(a){return void 0 !== a && null !== a;};b.MS=function(){return null;};},91026:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zMa="UuidProviderSymbol";},80911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SMa="WindowUtilsSymbol";},19761:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(70655);k=a(86700);f=a(36447);c.prototype.compare=function(h,d){var g;g=[];this.Xia(h,d,"",g);return g;};c.prototype.Xia=function(h,d,g,m){var l;l=this;if(f.rD.DA(h))f.rD.DA(d) && h.length === d.length?h.forEach(function(q,u){l.Xia(h[u],d[u],g + "[" + u + "]",m);}):m.push({a:h,b:d,path:g});else if(f.rD.yR(h) && null != h){if(f.rD.yR(d) && null != d){for(var n in h){this.Xia(h[n],d[n],g + "." + n,m);}for(var p in d){(p in h) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:g + "." + p});}}else m.push({a:h,b:d,path:g});}else h !== d && m.push({a:h,b:d,path:g});};a=c;a=r.__decorate([(0,k.U)()],a);b.hHa=a;},27429:function(r,b,a){var k,f,h,d;function c(g){this.location=g;(0,f.io)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(70655);f=a(60920);h=a(63088);a=a(86700);c.JV=function(g){var m,n,p;m={};if(0 < g.length){g=g.split("&");for(var l=0;l < g.length;l++){n=g[l].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(k.DHa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(k.DHa,"%20")):m[n.toLowerCase()]="";}}return m;};Wa.Object.defineProperties(c.prototype,{sWb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=k.JV(this.G7a);}},G7a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.fW)return this.fW;this.fW=this.location.search.substr(1);g=this.fW.indexOf("#");0 <= g && (this.fW=this.G7a.substr(0,g));return this.fW;}}});d=k=c;d.DHa=/[+]/g;d=k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(h.cFa))],d);b.bKa=d;},79646:function(r,b,a){var k,f,h,d,g,m;function c(l,n){this.is=l;this.json=n;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(70655);f=a(60920);h=a(63088);d=a(86700);g=a(89542);m=a(35032);c.prototype.U7a=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.fha(p);});};c.prototype.ota=function(l){var n;n=this;return k.read(l,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.w1(p);});};c.prototype.Up=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.zR(p);});};c.prototype.BWb=function(l){var n;n=this;return k.read(l,function(p){return parseFloat(p);},function(p){return n.is.fk(p);});};c.prototype.T7a=function(l,n){return k.read(l,function(p){return k.dEb(p,n);},function(p){return void 0 !== p;});};c.prototype.rta=function(l,n){return k.read(l,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.V7a=function(l){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return k.read(l,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.yR(q) && p(q);});}catch(q){return new m.Io();}};c.prototype.Gj=function(l,n,p){var q,u;q=this;p=void 0 === p?1:p;l=l.trim();u=n instanceof Function?n:this.Nyb(n,p);n=l.indexOf("[");p=l.lastIndexOf("]");if(0 != n || p != l.length - 1)return new m.Io();l=l.substring(n + 1,p);try{return k.ITb(l).map(function(t){t=u(q,k.j5b(t));if(t instanceof m.Io)throw t;return t;});}catch(t){return t instanceof m.Io?t:new m.Io();}};c.prototype.Nyb=function(l,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=k.ZHb(l);return 1 < n?p.Gj(u,l,n - 1):q(p,u);};};c.dEb=function(l,n){var q;for(var p in n){q=parseInt(p);if(n[q] == l)return q;}};c.read=function(l,n,p){l=n(l);return void 0 !== l && p(l)?l:new m.Io();};c.ZHb=function(l){switch(l){case "int":return function(n,p){return n.U7a(p);};case "bool":return function(n,p){return n.ota(p);};case "uint":return function(n,p){return n.Up(p);};case "float":return function(n,p){return n.BWb(p);};case "string":return function(n,p){return n.rta(p);};case "object":return function(n,p){return n.V7a(p);};}};c.ITb=function(l){var y;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,v=[],w={};u < l.length;(w={xO:w.xO},++u)){w.xO=l.charAt(u);y=void 0;"," == w.xO && 0 == t?(p.push(l.substr(q,u - q)),q=u + 1):(y=n.find((function(x){return function(A){return A[0] == x.xO;};})(w)))?(++t,v.push(y)):0 < v.length && v[v.length - 1][1] == w.xO && (--t,v.pop());}if(q != u)p.push(l.substr(q,u - q));else if(q == u && 0 < q)throw new m.Io();return p;};c.j5b=function(l){var n;n=l.charAt(0);if('"' == n || "'" == n){if(l.charAt(l.length - 1) != n)throw new m.Io();return l.substring(1,l.length - 1);}return l;};a=k=c;a=k=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.Zf)),r.__param(1,(0,d.l)(h.sD))],a);b.FLa=a;},99435:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;r=a(70655);a=a(86700);c.prototype.BXa=function(f){var h;h=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return h.BXa(d);});};k=c;k=r.__decorate([(0,a.U)()],k);b.yMa=k;},55349:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;r=a(70655);k=a(86700);f=a(50876);c.prototype.zIb=function(){var h;h=pb.devicePixelRatio || 1;return {width:f.su.width * h,height:f.su.height * h};};a=c;a=r.__decorate([(0,k.U)()],a);b.RMa=a;},27138:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Haa="AsePrefetcherAdapterSymbol";b.Lya="AsePrefetcherProviderSymbol";},19419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba="CacheManagerFactorySymbol";},99216:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;Object.defineProperty(b,"__esModule",{value:!0});b.Xc=void 0;r=a(86700);c=a(2869);k=a(90098);f=a(76820);h=a(97204);d=a(65537);g=a(52686);m=a(61932);l=a(2094);n=a(10382);p=a(84337);q=a(57730);u=a(82134);t=a(27138);v=a(33841);w=a(19419);y=a(30676);b.Xc=new r.Yc(function(x){x(c.MIa).to(k.LIa).da();x(h.Lda).to(d.UJa).da();x(f.PD).to(g.HMa).da();x(p.TJa).to(n.OFa).da();x(p.SJa).to(l.NEa).da();x(p.RJa).to(m.HEa).da();x(t.Lya).X2b(function(){var A;return null === (A=u.gp.Uh) || void 0 === A?void 0:A.Tv;});x(t.Haa).to(v.Kya).da();x(q.Jda).to(q.GJa);x(w.bba).to(y.Xza).da();});},2869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="PlayPredictionDeserializerSymbol";},84337:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="PreparerManifestFetcherSymbol";b.SJa="PreparerLicenseFetcherSymbol";b.RJa="PreparerLegacyLicenseFetcherSymbol";},73374:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lj=void 0;r=b.lj || (b.lj={});r.Nn="created";r.jw="started";r.TN="succeeded";r.Os="failed";r.ag="cancelled";r.eSa="cancelled_on_start";r.pia="cancelled_not_encrypted";},97204:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda=b.WI=void 0;r=b.WI || (b.WI={});r.n2b="taskstart";r.l2b="taskabort";r.m2b="taskfail";r.o2b="tasksuccess";b.Lda="PreparerTaskSchedulerSymbol";},76820:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PD="VideoPreparerSymbol";},33841:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A;function c(){var z;z=this;this.promise=new Promise(function(B,C){z.resolve=B;z.reject=C;});}function k(z,B,C,D,F){var G;G=this;this.Csa=C;this.jVb=D;this.Qh=F;this.$X=[];this.vC=new Map();this.Sna=new Map();this.HSb=function(E){var J,K;E=E.wishListItem.key.J;if(G.vC.has(E)){K=G.vC.get(E);E=K.UM;K=K.aja;null === (J=K.resolve) || void 0 === J?void 0:J.call(K,E);}};this.W7=function(E){var J,K;J=E.J;K=E.W;E.target.uxa(E.J) || (G.Oe.has({J:J}) && (G.Oe.Um(J).Nq=!0),null === K || void 0 === K?void 0:K.then(function(N){var I;I=N.Ga;I && I.mc && I.jp && I.jp.forEach(function(O){var L;L={Ef:{mc:I.mc,Bd:J}};G.Oe.has({J:O.O,Bd:I.O,mc:I.mc}) && (G.Oe.Um(O.O,L).Nq=!0);});}).catch(function(){}),G.s8a(J),G.A$a(G.$X));};this.tWa=function(E,J){var K,N;K=E.J;N=E.W;E.target.uxa(K) || (null === N || void 0 === N?void 0:N.then(function(I){(I=I.Ga) && I.mc && I.mc === J.mc && K === J.Bd && (I={Ef:{mc:I.mc,Bd:K}},G.Oe.has(J) && (G.Oe.Um(J.J,I).Nq=!0),G.Sna.delete(G.Oe.generateKey(J)));}).catch(function(){}));};this.ja=z.Ta("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;r=a(70655);f=a(71163);a(45186);h=a(82134);d=a(91854);g=a(17244);m=a(37986);l=a(93);n=a(27138);p=a(86700);q=a(57730);u=a(28075);t=a(76586);v=a(41047);w=a(39540);y=a(27181);x=a(73374);A=a(70633);k.prototype.qa=function(z){var B;B=this;this.Oe=new w.xea(function(C,D){return B.kv(C,z,h.gp.bi,D);},function(C,D){return B.cw(C,z,D);});};k.prototype.fetch=function(z,B){var C;C=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.W7))B.events.on("manifestRemovedFromCache",this.W7);if(-1 === B.events.listeners("playbackClosing").indexOf(this.W7))B.events.on("playbackClosing",this.W7);!1;return this.gy(z.O,B,z.qb).then(function(D){if("LIVE" === D.Ga.ig)throw {status:x.lj.eSa};C.A$a(C.Pvb(C.lzb(z,B)));return C.vC.get(z.O).aja.promise;});};k.prototype.getStats=function(){return this.Tv.getStats();};k.prototype.k1b=function(z,B,C){B={Oi:B,W:C};this.Sna.set(this.Oe.generateKey(z),B);};k.prototype.mIb=function(z){return this.Sna.get(this.Oe.generateKey(z));};k.prototype.Pvb=function(z){return [z].concat(da(this.$X.filter(function(B){return B.key.J !== z.key.J;}))).slice(0,this.config.hVb).map(this.config.iVb?function(B,C){return Object.assign({},B,{priority:C});}:function(B){return B;});};k.prototype.TYa=function(z,B,C){var D;D=this;C=void 0 === C?{}:C;return this.gy(z,B,C).then(function(F){D.GTa(F,B);return F.Ga;});};k.prototype.gy=function(z,B,C){var D;C=void 0 === C?{}:C;return this.Qh.gy({la:null !== (D=B.Ys(z)) && void 0 !== D?D:B.d3(z),J:z,Oq:l.rl.TI,rf:v.Gh.tn,Wa:C});};k.prototype.cw=function(z,B,C){var D,F,G,E,J,K;D=this;(0,A.oa)(C.Ef,"auxiliaryOptions must exist if an adBreak hydration was requested");G=C.Ef;E=G.mc;J=G.Bd;(0,A.oa)(!!E,"auxiliaryManifestToken must exist if an adBreak hydration was requested");K=this.Oe.Um(null === (F=null === C || void 0 === C?void 0:C.Ef) || void 0 === F?void 0:F.Bd);return K.fq.then(function(N){var I,O,L;N=N.W.Kf;I=K.la;(0,A.oa)(void 0 !== I,"parent xid must exist if an adBreak hydration was requested");O=l.rl.sm;L={QL:!0,dg:!1,VC:Date.now()};return D.Qh.gy({la:Number(I),Wa:L,J:J,Oq:O,rf:void 0,fO:void 0,Of:{Oi:z,mc:E,Bd:J,DV:N}},!1).then(function(H){var M,R;D.GTa(H,B);H.jp.forEach(function(Y){var oa;function ea(Ga){D.tWa(Ga,oa);B.events.kr("playbackClosing",ea);}function ca(Ga){D.tWa(Ga,oa);B.events.kr("manifestRemovedFromCache",ca);}oa={J:Y.Ga.O,Bd:J,mc:E};D.k1b(oa,z,Y);B.events.on("manifestRemovedFromCache",ca);B.events.on("playbackClosing",ea);});if(null === (M=H.Ga.Dm) || void 0 === M || !M.de.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (J + ", adBreakToken: " + z));return null === (R=H.Ga.Dm) || void 0 === R?void 0:R.de[0];});});};k.prototype.GTa=function(z,B){var C,D,F;C=this;D=z.Ga;null === (F=D.jp) || void 0 === F?void 0:F.forEach(function(G){C.kv(G.O,B,h.gp.bi,{Ef:{mc:G.mc,Bd:D.O}},G);});};k.prototype.lzb=function(z,B){var C,D,F,G,E,J;F=new c();if(this.vC.has(z.O)){G=this.vC.get(z.O);E=G.UM;if(E.O === z.O && E.ud === z.ud)J=G.W5b.key;this.Tv.getStats().contents.some(function(K){return K.id === z.O;}) && (F=G.aja);}G=h.gp.bi.Mn((0,m.P2)(z.ud));J || (J={J:z.O,config:G});E={J:z.O};this.Oe.has(E) || this.Oe.store(E,this.jzb(z,B,G));B={key:J,xdc:!1,priority:z.priority,o2:d.N.Na(null !== (D=null === (C=z.qb) || void 0 === C?void 0:C.ab) && void 0 !== D?D:0),Oe:this.Oe};this.vC.set(z.O,{W5b:B,UM:z,aja:F});return B;};k.prototype.jzb=function(z,B,C){var D,F,G;D=this;F=z.O;return {get la() {return B.Ys(F);},Nq:!1,events:new u.EventEmitter(),dSa:function(){},get fq() {G || (G=D.TYa(z.O,B,z.qb).then(function(E){return {W:E,hv:E.n5 && !E.yB,config:C,Ava:{}};}));return G;},J:F,hwa:!1,equals:function(E){var J;J=B.Ys(F);return E && E.J === F && (!E.la || !J || J === E.la);}};};k.prototype.kv=function(z,B,C,D,F){var G,E,J,K,N,I,O,L;G=this;N=B.Ys(z);if(N || D){I={J:z,Bd:null === (E=null === D || void 0 === D?void 0:D.Ef) || void 0 === E?void 0:E.Bd,mc:null === (J=null === D || void 0 === D?void 0:D.Ef) || void 0 === J?void 0:J.mc};if(!this.Oe.has(I)){O=null !== N && void 0 !== N?N:this.Oe.Um(null === (K=null === D || void 0 === D?void 0:D.Ef) || void 0 === K?void 0:K.Bd).la;this.Oe.store(I,{dSa:function(){},equals:function(H){return H && H.J === I.J && (O === H.la || !H.la || !O);},get fq() {L || (L=(F?Promise.resolve(F):G.TYa(z,B)).then(function(H){return {W:H,hv:H.n5 && !H.yB,config:C,Ava:{}};}));return L;},set fq(H) {L=H;},events:new u.EventEmitter(),la:O,J:I.J,Nq:!1,hwa:!1});}}};k.prototype.j$a=function(z){this.$X=z;};k.prototype.A$a=function(z){this.j$a(z);this.Tv.z$a(this.$X);};k.prototype.s8a=function(z){this.vC.has(z) && (this.j$a(this.$X.filter(function(B){return B.key.J !== z;})),this.vC.delete(z));};Wa.Object.defineProperties(k.prototype,{Tv:{configurable:!0,enumerable:!0,get:function(){this.sx || (this.sx=this.jVb(),this.sx.hva(this.Csa).s$a(new y.nEa()).Y9a({DB:this.config.gVb}),this.sx.events.on("prefetchComplete",this.HSb));return this.sx;}}});a=k;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(f.Xa)),r.__param(1,(0,p.l)(g.cc)),r.__param(2,(0,p.l)(q.Jda)),r.__param(3,(0,p.l)(n.Lya)),r.__param(4,(0,p.l)(t.yD))],a);b.Kya=a;},30676:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){var q;q=this;this.$f=n;n=p();this.sg=new m({log:l.Ta("CacheManager"),sa:{getTime:function(){return q.$f.Fb().ba(d.na);}},Promise:Promise,pf:!1,Otb:n.pVb,Ntb:n.nVb,rDb:n.d7a,qDb:n.oVb});}Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(71163);d=a(2467);g=a(17244);m=a(22153);c=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(f.Jc)),r.__param(2,(0,k.l)(g.cc))],c);b.Xza=c;},27181:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;a.prototype.TWa=function(c,k){var f;return null !== (f=this.eEb(c,k)) && void 0 !== f?f:this.iEb(c,k);};a.prototype.eEb=function(c,k){var f,h;f=this;h=k.fa;return c.find(function(d){var g;return f.l3(h,null === (g=d.fa) || void 0 === g?void 0:g.fa);});};a.prototype.iEb=function(c,k){var f,h;f=k.fa.we;h=k.fa.L[f];return c.find(function(d){var g;d=null === (g=d.fa) || void 0 === g?void 0:g.fa;d=(g=null === d || void 0 === d?void 0:d.we) && (null === d || void 0 === d?void 0:d.L[g]) || void 0;return f === g && h.J === (null === d || void 0 === d?void 0:d.J) && h.va === (null === d || void 0 === d?void 0:d.va);});};a.prototype.l3=function(c,k){var f;f=this;return c === k?!0:"object" !== typeof c || "object" !== typeof k?c === k:Object.keys(c).length === Object.keys(k).length && Object.keys(c).every(function(h){return f.l3(c[h],k[h]);});};b.nEa=a;},61932:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A;function c(z,B,C,D,F,G,E,J,K,N,I){this.nr=C;this.VW=D;this.jc=F;this.sa=G;this.Fa=E;this.bM=J;this.kUb=K;this.Qh=N;this.gi=I;this.log=z.Ta("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(17244);d=a(73374);g=a(3971);m=a(41047);l=a(811);n=a(50563);p=a(84036);q=a(31224);u=a(2467);t=a(35664);v=a(58998);w=a(45186);y=a(62298);x=a(76586);a=a(23152);c.prototype.fetch=function(z,B){var C;C=this;this.log.trace("Fetching LDL",(0,w.BI)(z));this.O=z.O;this.Xc=B;return B.jL(z.O,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,w.BI)(z));return C.Qh.y4(z.O).then(function(D){var F,G;C.W=D;C.Ga=D.Ga;if(D=C.Xc.I$a(z.O,C.Ga))throw {status:D};D=C.Ga.Xt[0].ZV;F=C.Ga.Xt[0].pka;G=(D?D:[F]).map(function(E){return C.jc.decode(E.bytes);});C.ee=C.RA({FVa:C.log,Pka:function(E){return C.handleError(E);},ke:void 0,bra:function(){},sa:{getTime:function(){return C.Fa.Fb().ba(u.na);},Mcc:function(){return C.sa.ue.ba(u.vm);}}});B.Z9a(z.O,C.ee);return C.ee.create(C.config.Ul).then(function(){return C.ee.Xg(m.Gh.tn,G,!0);}).then(function(){return C.ee;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.lj.ag};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.ee.close();this.Xc.FSa(this.O);this.Xc.Qia(this.O);};c.prototype.RA=function(z){var B,C;B=this;if(!this.nr.AI || !this.nr.yI){C=this.kUb();this.nr.AI=C.gz;this.nr.yI=C.request;}C=new this.nr.yI(z.FVa,function(D){var F;F=[];D.yj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.jc.encode(G.data)});});D={yj:F,C3:[B.Ga.Nk],rf:g.qm.CTa(D.rf),Kf:B.Ga.Kf,la:B.Xc.d3(B.O),ri:B.W.ri,ig:B.W.Ga.ig};B.log.trace("xid created ",{MovieId:B.O,xid:D.la});return B.bM.Wu(D);},void 0,{pf:!1,nk:!1});return this.nr.AI(z.FVa,z.ke,{pf:!1,nk:!1,xo:C,aW:this.config.y7a,$:void 0,xz:this.config.MVa,onerror:z.Pka,bra:z.bra,sa:z.sa,VG:!1,ksb:this.VW.W2([]),u5b:this.VW.c3([]),opa:this.gi.Q1.ba(u.na)});};A=c;A=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.cc)),r.__param(2,(0,k.l)(l.x_)),r.__param(3,(0,k.l)(n.XP)),r.__param(4,(0,k.l)(q.kh)),r.__param(5,(0,k.l)(t.Fg)),r.__param(6,(0,k.l)(v.Jc)),r.__param(7,(0,k.l)(p.rP)),r.__param(8,(0,k.l)(y.tda)),r.__param(9,(0,k.l)(x.yD)),r.__param(10,(0,k.l)(a.kq))],A);b.HEa=A;},2094:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u;function c(t,v,w,y,x,A){this.jc=w;this.uBb=y;this.nM=x;this.Qh=A;this.log=t.Ta("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(17244);d=a(41047);g=a(31224);m=a(96630);l=a(26041);n=a(73374);p=a(45186);q=a(76586);u=a(85060);c.prototype.fetch=function(t,v){var w;w=this;this.log.trace("Fetching LDL",(0,p.BI)(t));this.O=t.O;this.Xc=v;return v.jL(t.O,"ldl").then(function(y){return y.H9;}).catch(function(){w.log.trace("Requesting a new license",(0,p.BI)(t));return w.Qh.y4(t.O).then(function(y){var x,A,z,B,C,D;w.Ga=y.Ga;if(v.i_a(t.O))return v.jL(t.O,"ldl").then(function(F){return F.H9;});x=w.Xc.I$a(t.O,w.Ga);if(x)throw {status:x};A=w.Ga.Xt[0];x=A.ZV;z=A.pka;A=A.streams[0].QA;B=(0,u.xoa)(A);C=(x?x:[z]).map(function(F){return w.jc.decode(F.bytes);});D=w.uBb().then(function(F){var G;G={type:d.Gh.tn,initData:C,V5:B,context:{n6:(0,u.Bma)(y.Ga.Xt[0].streams)},zi:{O:t.O,la:v.d3(t.O),Kf:w.Ga.Kf,Nk:w.Ga.Nk,ri:y.ri,ig:y.Ga.ig}};return F.Xg(G,w.nM());}).catch(function(F){w.handleError("Unable to prepare an EME session.",F);throw F;});w.Xc.Z9a(t.O,{H9:D,source:"videopreparer"},function(){if(!w.Xc.uxa(t.O))try{D.then(function(F){return F.close();}).catch(function(F){w.handleError("Unable to cleanup LDL session, Unable to get the session.",F);});}catch(F){w.handleError("Unable to cleanup LDL session, unexpected exception.",F);}});return D;}).catch(function(y){w.log.warn("Manifest not available for ldl request",y);if(void 0 !== y.status)throw y;throw {status:n.lj.ag};});});};c.prototype.handleError=function(t,v){this.log.warn(t + " LDL is now invalid.",v);this.Xc.FSa(this.O);this.Xc.Qia(this.O);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.cc)),r.__param(2,(0,k.l)(g.kh)),r.__param(3,(0,k.l)(m.TY)),r.__param(4,(0,k.l)(l.BP)),r.__param(5,(0,k.l)(q.yD))],a);b.NEa=a;},10382:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w,y){this.LU=v;this.$f=w;this.Qh=y;this.log=u.Ta("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(70655);k=a(17244);f=a(86700);h=a(71163);d=a(58998);g=a(2467);m=a(23251);l=a(93);n=a(45186);p=a(76586);q=a(41047);c.prototype.fetch=function(u,t){var v,w;this.log.trace("Fetching manifest",(0,n.BI)(u));w=u.qb;this.config.Upb && w && w.W && !this.Qh.m5(u.O) && (!(("clientGenesis" in w.W) && w.W.clientGenesis) || "number" === typeof w.W.clientGenesis && Date.now() - w.W.clientGenesis < this.config.d7a) && (w=this.LU.create(w.W)) && (w.nH=this.$f.Fb().ba(g.na),w.mN=this.$f.Fb().ba(g.na),this.Qh.dX(u.O,w));return this.Qh.gy({la:t.d3(u.O),J:u.O,Wa:null !== (v=u.qb) && void 0 !== v?v:{},Oq:l.rl.TI,rf:q.Gh.tn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Xa)),r.__param(1,(0,f.l)(k.cc)),r.__param(2,(0,f.l)(m.LI)),r.__param(3,(0,f.l)(d.Jc)),r.__param(4,(0,f.l)(p.yD))],a);b.OFa=a;},90098:function(r,b,a){var k,f,h;function c(d,g){this.wb=g;this.ja=d.Ta("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(89542);c.prototype.JAb=function(d){var g;g=this;try{return {direction:d.direction,Gdc:d.layoutHasChanged,cfc:d.rowInteractionIndex,Gb:d.lolomos.map(function(m){return g.EAb(m);})};}catch(m){this.ja.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.EAb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(m){return g.DAb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,dfc:d.rowSegment};};c.prototype.DAb=function(d){var g,m;g={Me:d.pts,property:d.property,J:d.viewableId,index:d.index};m=d.preplay;this.wb.wg(m) && (g.E8=this.IAb(m));d=d.params;this.wb.wg(d) && (g.qb=this.TUa(d));return g;};c.prototype.IAb=function(d){var g;g={Me:d.pts,J:d.viewableId,NM:d.pipelineNum,index:d.index};d=d.params;this.wb.wg(d) && (g.qb=this.TUa(d));return g;};c.prototype.TUa=function(d){return {ud:d.uiLabel,Uj:d.trackingId,dm:d.sessionParams};};c.prototype.HAb=function(d){var g;g=this;try{return d.map(function(m){return g.FAb(m);});}catch(m){this.ja.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.FAb=function(d){var g,m;m=d.params;this.wb.wg(m) && (g=this.GAb(m));return {O:d.movieId,priority:d.priority,force:d.force,qb:g,ud:d.uiLabel,hgc:d.uiExpectedStartTime,ggc:d.uiExpectedEndTime,Ok:d.firstTimeAdded};};c.prototype.GAb=function(d){var g,m;g=void 0;m=d.sessionParams;this.wb.wg(m) && (g=m);return {j2:this.CAb(d.authParams),dm:g,Uj:d.trackingId,ab:d.startPts,W:d.manifest,dg:d.isBranching};};c.prototype.CAb=function(d){return {dUb:null === d || void 0 === d?void 0:d.pinCapableClient};};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.Zf))],h);b.LIa=h;},57730:function(r,b,a){var k,f,h,d;function c(g){this.Zl=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Jda=b.GJa=void 0;r=a(70655);k=a(37986);f=a(86700);h=a(52115);d=a(41427);c.prototype.e3a=function(g){var m,l;m=this;if(g.Cd.key.fa)return Promise.resolve(g.Cd.key.fa);l=g.Cd.key.J;return g.Cd.Oe.Um(l).fq.then(function(n){n=n.W;return n.np?(0,d.B2)(n.np,{config:k.config}):(0,d.X9)(l,m.Zl.Pq(l));});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.VI))],a);b.GJa=a;b.Jda="PlaygraphResolverSymbol";},45186:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BI=void 0;b.BI=function(){return "";};},96467:function(r,b,a){var k,f;function c(h,d,g,m,l,n,p,q){this.type=h;this.Nn=d;this.$Tb=void 0 === g?!1:g;this.notify=l;this.ODb=n;this.UM=p;this.Xc=q;this.id=++f;this.status=k.lj.Nn;}Object.defineProperty(b,"__esModule",{value:!0});b.RP=void 0;k=a(73374);f=0;c.prototype.Vs=function(){var h;h={id:this.id,type:this.type,created:this.Nn,status:this.status,movieId:this.O};this.startTime && (h.startTime=this.startTime);this.endTime && this.startTime && (h.duration=this.endTime - this.startTime,h.endTime=this.endTime);return h;};c.prototype.zM=function(h){this.notify && this.notify(h);};c.prototype.OYb=function(){return this.ODb.fetch(this.UM,this.Xc);};Wa.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.UM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.UM.priority;}}});b.RP=c;},65537:function(r,b,a){var k,f,h,d,g,m,l,n,p,q;function c(u,t,v,w){this.is=v;this.$f=w;this.log=u.Ta("TaskScheduler");this.Eb=new p.Xj();this.config=t();this.currentIteration=this.jS=0;this.QH=[];this.paused=!1;this.e$=[];this.iTa=[];this.HLb=this.config.mVb || q.append;this.addEventListener=this.Eb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(70655);k=a(86700);f=a(97204);h=a(71163);d=a(17244);g=a(73374);m=a(89542);l=a(58998);n=a(2467);p=a(59883);(function(u){u.prepend="prepend";u.append="append";u.OKb="ignore";})(q || (q={}));c.prototype.Nqb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.QH=this.ILb(u);this.jS=0;this.currentIteration+=1;this.Qf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Qf=function(){var u,t,v,w;u=this;if(this.jS === this.QH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.jS,numberOfTasks:this.QH.length});else {t=this.UHb();v=this.currentIteration;t.startTime=this.$f.Fb().ba(n.na);t.status=g.lj.jw;this.Eb.Cc(f.WI.n2b,{O:t.O,type:t.type});this.e$.push(t);w=function(y){t.endTime=u.$f.Fb().ba(n.na);y();u.iTa.push(t);u.e$.splice(u.e$.indexOf(t),1);u.currentIteration === v && (u.jS++,u.Qf());};t.OYb().then(function(){w(function(){t.status=g.lj.TN;u.Wsa(t,f.WI.o2b,"task succeeded");});}).catch(function(y){w(function(){0 <= [g.lj.ag,g.lj.eSa,g.lj.pia].indexOf(y.status)?(t.status=y.status,u.Wsa(t,f.WI.l2b,"cancelled task")):(t.status=g.lj.Os,u.Wsa(t,f.WI.m2b,"task failed",y));});});}};c.prototype.UHb=function(){return this.QH[this.jS];};c.prototype.getStats=function(u,t,v){var w,y,x,A;w=this.iTa.map(function(z){return z.Vs();});y=this.e$.map(function(z){return z.Vs();});x=this.is.wg(u) && this.is.wg(t);A={};if(this.is.wg(v))return (A.Yvb=w.filter(function(z){return z.movieId === v;}),A);w.concat(y).forEach(function(z){var B;A[z.type + "_" + z.status]=(A[z.type + "_" + z.status] | 0) + 1;B=z.status == g.lj.jw?z.startTime:z.endTime;x && B && B >= u && B < t && (A[z.type + "_" + z.status + "_delta"]=(A[z.type + "_" + z.status + "_delta"] | 0) + 1);});return A;};c.prototype.Wsa=function(u,t,v,w){var y;y=u.Vs();w?this.log.warn(v,y,w):this.log.trace(v,y);this.Eb.Cc(t,{O:u.O,type:u.type,reason:u.status});u.zM(y);};c.prototype.ILb=function(u){var t,v;t=this.QH.filter(function(w){return w.$Tb && w.status === g.lj.Nn;});v=this.HLb;return v === q.OKb?[].concat(u):v === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(d.cc)),r.__param(2,(0,k.l)(m.Zf)),r.__param(3,(0,k.l)(l.Jc))],a);b.UJa=a;},52686:function(r,b,a){var f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C,D,F,G,E,J,K){this.d6b=z;this.wb=B;this.$f=C;this.Kd=D;this.HWa=F;this.MDb=G;this.NDb=E;this.b4=J;this.events=new y.EventEmitter();this.log=x.Ta("VideoPreparer");this.config=A();this.Hxa={};this.u7={};this.Wf={num_of_calls:0,num_of_movies:0};this.b4.qa(this);this.sg=K.sg;}function k(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;r=a(70655);f=a(96467);h=a(17244);d=a(86700);g=a(71163);m=a(24166);l=a(89542);n=a(97204);p=a(58998);q=a(2467);u=a(73374);t=a(19419);v=a(84337);w=a(27138);y=a(28075);c.prototype.Z9a=function(x,A,z){this.sg.setData(x,"ldl",A,z);};c.prototype.i_a=function(x){return this.sg.LT(x,"ldl");};c.prototype.FSa=function(x){this.sg.clearData(x,"ldl",void 0,!0);};c.prototype.jL=function(x,A){return this.sg.getData(x,A);};c.prototype.UXa=function(x){var A;A=this.sg.getData(x,"ldl");this.sg.clearData(x,"ldl",void 0,!0);return A;};c.prototype.uxa=function(x){return this.mab === x || this.fUa === x;};c.prototype.aH=function(x,A){var z,B,C;z=this;x=x.map(function(D){D.qb=D.qb || ({j2:{dUb:!1},Uj:0});z.wb.gF(D.qb.Uj) || (D.qb.Uj=0);z.wb.gF(D.Me) && (D.qb.ab=D.Me);return D;});B=x.map(function(D){return z.bzb(D,A);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.O + "-" + D.type;});this.log.trace("prepare tasks",C);this.Kd.Nqb(B);this.Wf.num_of_calls++;this.Wf.num_of_movies+=x.length;};c.prototype.getStats=function(x,A,z){return Object.assign(Object.assign({},z && this.u7[z] || ({})),{QH:this.Kd.getStats(x,A,z),cache:this.sg.getStats(x,A),vFb:Object.assign(Object.assign({},this.Wf),this.b4.getStats())});};c.prototype.OJb=function(x){this.mab=x;};c.prototype.MJb=function(x){this.log.trace("task scheduler paused on playback created");this.Kd.pause();this.config.xAb && this.sg.Lia(x,["manifest"]);this.config.wAb && this.sg.Lia(x,["ldl"]);this.config.uAb && this.sg.clearData(x,"manifest");this.b4.s8a(x);this.fUa=x;};c.prototype.d_a=function(){this.log.info("ad played, clearing all manifests from cache");this.hXa();};c.prototype.e_a=function(){this.log.info("track changed, clearing all manifests from cache");this.hXa();};c.prototype.LJb=function(x){var A;A=this;this.config.vAb?this.sg.clearData(x,"manifest"):this.sg.LT(x,"manifest") && this.sg.getData(x,"manifest").then(function(z){z.Ga.isSupplemental || A.sg.clearData(x,"manifest");},function(z){A.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",z);});this.Qia(x);this.mab=this.fUa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.hXa=function(){this.sg.Lia("none",["manifest","ldl"]);};c.prototype.Qia=function(x){delete this.Hxa[x];};c.prototype.Ys=function(x){return this.Hxa[x];};c.prototype.d3=function(x){return this.Hxa[x]=this.d6b.SA();};c.prototype.I$a=function(x,A){if(this.i_a(x))return u.lj.ag;if(!A.yB)return u.lj.pia;};c.prototype.bzb=function(x,A){var z,B;x.ud && x.qb && (x.qb.ud=x.ud);this.w4b(x.O,x.Ok);z=this.Iyb(x,A);B=this.Eyb(x,null === z || void 0 === z?void 0:z.id,A);x=this.Lyb(x,null === z || void 0 === z?void 0:z.id,A);return [z,B,x].filter(k);};c.prototype.Iyb=function(x,A){if(this.sg.LT(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new f.RP("manifest",this.$f.Fb().ba(q.na),!!x.qb.vua,void 0,A,this.HWa,x,this);};c.prototype.Eyb=function(x,A,z){if(this.config.FS)if(this.sg.LT(x.O,"ldl"))!1;else return this.config.Mr?new f.RP("ldl",this.$f.Fb().ba(q.na),!!x.qb.vua,A,z,this.MDb,x,this):new f.RP("ldl",this.$f.Fb().ba(q.na),!!x.qb.vua,A,z,this.NDb,x,this);};c.prototype.Lyb=function(x,A,z){if(this.config.VVa)return new f.RP("getMedia",this.$f.Fb().ba(q.na),!!x.qb.vua,A,z,this.b4,x,this);};c.prototype.w4b=function(x,A){this.u7[x] || (this.u7[x]={B8:0,Ok:0});x=this.u7[x];x.B8=(void 0 !== x?void 0 !== x.B8?x.B8:0:0) + 1;x.Ok=A;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.Xa)),r.__param(1,(0,d.l)(h.cc)),r.__param(2,(0,d.l)(m.Kw)),r.__param(3,(0,d.l)(l.Zf)),r.__param(4,(0,d.l)(p.Jc)),r.__param(5,(0,d.l)(n.Lda)),r.__param(6,(0,d.l)(v.TJa)),r.__param(7,(0,d.l)(v.SJa)),r.__param(8,(0,d.l)(v.RJa)),r.__param(9,(0,d.l)(w.Haa)),r.__param(10,(0,d.l)(t.bba))],a);b.HMa=a;},32408:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.qdb=void 0;r=a(86700);c=a(63034);k=a(27279);b.qdb=new r.Yc(function(f){f(c.FMa).to(k.EMa).da();});},63034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FMa="VideoPlayerFactorySymbol";},34202:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vc=b.bb=b.yf=b.Ub=b.nY=b.ea=b.eca=b.HD=b.Ja=void 0;(function(c){c.D2a="loadedtracks";c.C2a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.On="currenttimechanged";c.kcb="unthrottledcurrenttimechanged";c.t2="bufferedtimechanged";c.tka="durationchanged";c.txa="videosizechanged";c.n6a="pausedchanged";c.Dsa="playingchanged";c.dWa="endedchanged";c.dK="busychanged";c.h2="audiotracklistchanged";c.El="audiotrackchanged";c.Rt="timedtexttracklistchanged";c.ll="timedtexttrackchanged";c.CX="trickplayframeschanged";c.z4a="mutedchanged";c.zdb="volumechanged";c.zva="showsubtitle";c.Fta="removesubtitle";c.P5b="watermark";c.Qoa="isReadyToTransition";c.GL="inactivated";c.F0a="internalPlaybackError";c.rZb="segmentmaploaded";c.sZb="segmentpresenting";c.jRa="autoplaywasallowed";c.k2="autoplaywasblocked";c.drb="adsstatechanged";c.YB="livestatechanged";})(b.Ja || (b.Ja={}));(b.HD || (b.HD={})).IW="playgraphsegmenttransition";b.eca=a;a.S9a="serverTimeChanged";(function(c){c.GE="aseReport";c.F6="liveReport";c.E6="livePipelineFailover";c.Eha="autoplayWasAllowed";c.Kh="autoplayWasBlocked";c.Dx="bufferUnderrun";c.closed="closed";c.ug="closing";c.On="currentTimeChanged";c.lF="downloadComplete";c.GL="inactivated";c.l2a="licenseAdded";c.yU="licensed";c.EU="locationSelected";c.Tpa="manifestClosing";c.yG="manifestPresenting";c.X6="mediaBufferChanged";c.B7="nextBranchingSegmentChosen";c.zt="playbackStart";c.Yk="playbackReady";c.Hj="repositioned";c.EC="repositioning";c.q9a="safePlayRequested";c.tH="segmentPresenting";c.LW="serverSwitch";c.L$a="shouldUpdateVideoDiagInfo";c.SN="subtitleError";c.pwa="throttledMediaTimeChanged";c.lcb="unthrottledMediaTimeChanged";c.YN="timedTextRebuffer";c.Rt="timedTextTrackListChanged";c.CX="trickPlayFramesChanged";c.Ywa="updateNextBranchingSegmentWeights";c.cdb="userInitiatedPause";c.ddb="userInitiatedResume";c.Nbb="tracksHydrated";c.YB="livestatechanged";})(b.ea || (b.ea={}));(b.nY || (b.nY={})).yA="adBreakComplete";(function(c){c[c.OI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.ae=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Ub || (b.Ub={}));(function(c){c[c.ae=1]="NORMAL";c[c.Pe=2]="BUFFERING";c[c.FKa=3]="STALLED";})(b.yf || (b.yf={}));(function(c){c[c.Mf=1]="WAITING";c[c.me=2]="PLAYING";c[c.Xh=3]="PAUSED";c[c.jq=4]="ENDED";})(b.bb || (b.bb={}));(function(c){c[c.Tr=0]="INITIAL";c[c.Yw=1]="SEEK";c[c.pP=2]="LIVE_EDGE";c[c.W_=3]="TRACK_CHANGED";c[c.ZI=4]="SEGMENT_CHANGED";c[c.ZY=5]="FORCE_REBUFFER";})(b.Vc || (b.Vc={}));},51842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gAa="CdnPartitionerSymbol";},6474:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B;Object.defineProperty(b,"__esModule",{value:!0});b.K_a=void 0;r=a(86700);c=a(50209);k=a(17602);f=a(31383);h=a(80688);d=a(78139);g=a(62907);m=a(99494);l=a(93397);n=a(31303);p=a(83250);q=a(98431);u=a(83443);t=a(88693);v=a(77174);w=a(46883);y=a(51842);x=a(64317);A=a(89043);z=a(14641);B=a(89869);b.K_a=new r.Yc(function(C){C(c.nDa).to(k.mDa).da();C(f.rDa).to(h.qDa).da();C(d.bDa).to(g.aDa).da();C(m.dDa).to(l.cDa).da();C(y.gAa).to(x.fAa).da();C(n.pJa).to(p.oJa).da();C(q.jea).to(u.yLa);C(t.tP).to(A.sP);C(z.wP).to(B.vP);C(v.Uba).to(w.tDa);});},77174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uba="HLSConfigSymbol";},78139:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bDa="HLSPlaylistBuilderSymbol";},99494:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="HLSPlaylistTransformerSymbol";},50209:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nDa="HeaderFetcherSymbol";},31383:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rDa="HLSHeaderParserFactorySymbol";},88693:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V8b="LogblobBuilderSymbol";b.tP="HLSLogblobBuilderFactorySymbol";},14641:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="HLSLogblobMonitorFactorySymbol";},31303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pJa="PlayerPlaydataMonitorSymbol";},98431:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jea="StreamChangeDetectorSymbol";},64317:function(r,b,a){var k,f;function c(h){this.ja=h.Ta("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;r=a(70655);k=a(86700);a=a(71163);c.prototype.jGb=function(h){var g,m,l,n,p,q,u;function d(t,v,w){var y,x,A;y=t.map(function(z){return z.Ig;});y.sort(function(z,B){return v[z] - v[B];});if(1 === y.length)(!1,l.set(w,{YM:t[0],x9:t[0]}));else {x=y.find(function(z){return g.has(z);});x || ((x=y.find(function(z){return !m.has(z);}))?g.add(x):(x=y[0],!1));A=y.find(function(z){return m.has(z) && z !== x;});A || ((A=y.find(function(z){return !g.has(z) && z !== x;}))?m.add(A):(A=y.find(function(z){return z !== x;}),!1));l.set(w,{YM:t.find(function(z){return z.Ig === x;}),x9:t.find(function(z){return z.Ig === A;})});}}g=new Set();m=new Set();l=new Map();n=h.video;p=h.audio;q=h.text;u=h.zk.reduce(function(t,v){t[v.id]=v.bc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Pm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Pm);});q.forEach(function(t){var v,w;if(!t.track.NB || t.track.a6){v=t.stream;t=t.id;w=v.urls.reduce(function(y,x,A){y[x.Ig]=A + 1;return y;},{});d(v.urls,w,t);}});return l;};f=c;f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Xa))],f);b.fAa=f;},46883:function(r,b,a){var k,f,h,d;function c(g){return f.Qe.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;r=a(70655);k=a(86700);f=a(90187);h=a(59578);a=a(54662);ia(c,f.Qe);Wa.Object.defineProperties(c.prototype,{S6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Iv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},Iy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},L_a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},st:{configurable:!0,enumerable:!0,get:function(){return 80;}},dha:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Nc,"playsInline")],d.prototype,"S6a",null);r.__decorate([a.config(a.IB,"minAudioMediaRequestDuration")],d.prototype,"Iv",null);r.__decorate([a.config(a.IB,"minVideoMediaRequestDuration")],d.prototype,"Iy",null);r.__decorate([a.config(a.IB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"L_a",null);r.__decorate([a.config(a.IB,"minStartingVideoVMAF")],d.prototype,"st",null);r.__decorate([a.config(a.Nc,"allowMultipleAudioTextTracks")],d.prototype,"dha",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.xl))],d);b.tDa=d;},62907:function(r,b,a){var d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z){this.pS=A;this.Ad=x.filter(function(B){return B.Mwa[p.wl.g0];}).map(function(B){return {track:B,stream:B.Mwa[p.wl.g0],id:B.rVa[p.wl.g0]};});z || (this.Ad=this.Ad.filter(function(B){return B.track.Jf === A;}));}function k(x,A,z){var B;this.PH=A;this.st=z;B=x[0];this.bI=B.streams.map(function(C){return {track:B,NT:C.dab,stream:C};});}function f(x,A,z,B,C){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=x;this.PH=z;this.pS=B;this.bI=A.map(function(F){var G;G=F.streams.reduce(D);return {track:F,NT:G.Ak?G.Ak.offset + G.Ak.size:void 0,stream:G};});C || (this.bI=this.bI.filter(function(F){return F.track.Jf === B;}));}function h(x,A,z,B,C,D){this.mKb=x;this.oKb=A;this.MUb=z;this.Bub=B;this.aG=C;this.If=D;this.ja=D.Ta("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Elb=b.Mlb=b.Leb=b.aDa=void 0;r=a(70655);d=a(86700);g=a(50209);m=a(31383);l=a(68172);n=a(56003);p=a(56261);q=a(99494);u=a(51842);t=a(77174);v=a(71163);w=a(75183);y=a(18920);h.prototype.Lh=function(x,A){var z,B,C,D,F,G;z=this;D=x.Ga;x=this.TFb(D,A);F=this.sJb(D,A);G=null !== (C=null === (B=D.iW) || void 0 === B?void 0:B.$N) && void 0 !== C?C:D.aO.find(function(E){var J;return E.id === (null === (J=D.n3) || void 0 === J?void 0:J[0].Nab);}).Jf;B=new c(D.aO,G,this.aG.dha);return Promise.all([x,F,B]).then(function(E){var J,K;J=ma(E);E=J.next().value;K=J.next().value;J=J.next().value;E={audio:E.getMetadata(),video:K.getMetadata(),text:J.getMetadata(),GUa:E.jma(),bAb:J.jma(),duration:D.duration,zk:D.zk};K=z.Bub.jGb(E);A("h_s");return {dPb:z.MUb.transform(E,K),Eub:K,o1b:E};});};h.prototype.sJb=function(x,A){var z;z=new k(x.Xt,this.aG.L_a,this.aG.st);return this.lVa(z.bI,y.v.Z,A).then(function(B){z.cva(B);return z;});};h.prototype.TFb=function(x,A){var z,B,C,D;C=null !== (B=null === (z=x.iW) || void 0 === z?void 0:z.ip) && void 0 !== B?B:x.Cs.find(function(F){var G;return F.id === (null === (G=x.n3) || void 0 === G?void 0:G[0].ip);}).Jf;D=new f(this.ja,x.Cs,this.aG.Iv,C,this.aG.dha);return this.lVa(D.bI,y.v.ga,A).then(function(F){D.cva(F);return D;});};h.prototype.Sra=function(x,A,z,B){if(x=this.oKb.parse(A,x,z))return x;this.ja.error("Failed to parse headers",{type:A === y.v.ga?"audio":"video",downloadableId:B.stream.Pm});};h.prototype.lVa=function(x,A,z){var B;B=this;return Promise.all(x.map(function(C,D){if(C.NT)return B.mKb.download({urls:C.stream.urls,offset:0,length:C.NT}).then(function(F){z("h_" + (0 === A?"A":"V") + "_" + D + "_s");return B.Sra(F,A,A == y.v.ga?B.aG.Iv:B.aG.Iy,C);}).catch(function(){z("h_" + C.track.Ch[0] + "_" + D + "_f");B.ja.warn("Failed to download and parse headers for " + C.stream.Pm);});B.ja.warn("Stream data offset is missing",{downloadableId:C.stream.Pm});}));};a=h;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.nDa)),r.__param(1,(0,d.l)(m.rDa)),r.__param(2,(0,d.l)(q.dDa)),r.__param(3,(0,d.l)(u.gAa)),r.__param(4,(0,d.l)(t.Uba)),r.__param(5,(0,d.l)(v.Xa))],a);b.aDa=a;f.prototype.cva=function(x){var A;A=this;if(!x.find(function(z){return void 0 !== z;}))throw n.Lc.Ldb(l.V.XDa,l.R.Fca);this.Ad=this.bI.map(function(z,B){if(B=x[B])return {track:z.track,stream:z.stream,La:B,PH:A.PH};}).filter(w.Noa);};f.prototype.getMetadata=function(){return this.Ad;};f.prototype.jma=function(){var x,A;x=this;if(!this.Ad.find(function(z){return z.track.Jf === x.pS;}) && 0 < this.Ad.length){A=this.Ad[0].track.Jf;this.log.warn("Did not find metadata for audio track " + this.pS + ", falling back to " + A);return A;}return this.pS;};b.Leb=f;k.prototype.cva=function(x){var A,z;A=this;if(!x.find(function(B){return void 0 !== B;}))throw n.Lc.Ldb(l.V.XDa,l.R.Gca);z=this.bI.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,La:C,PH:A.PH};}).filter(w.Noa);this.Ad=this.aIb(z);};k.prototype.getMetadata=function(){return this.Ad;};k.prototype.aIb=function(x){var A,z,B;A=this;x.sort(function(C){return C.stream.bitrate;});z=x.findIndex(function(C){var D;return (null !== (D=C.stream.zb) && void 0 !== D?D:0) >= A.st;});if(-1 !== z && z !== x.length - 1){B=x[z];x.splice(z,1);x.push(B);}x.reverse();return x;};b.Mlb=k;c.prototype.jma=function(){return this.pS;};c.prototype.getMetadata=function(){return this.Ad;};b.Elb=c;},93397:function(r,b,a){var k,f,h,d,g,m;function c(l){this.ja=l.Ta("HLSPlaylistTransformerImpl");this.A5b=d.RY.Iq();this.usb=g.uba.Iq();}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(65853);d=a(73124);g=a(21973);m=[0,1];c.prototype.transform=function(l,n){var p,q,u,t,v,w,y,x,A;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=l.text;t=l.audio;v=l.video;w=l.duration;y=l.GUa;x=l.bAb;u.forEach(function(z){m.forEach(function(B){var C,D,F,G;C=0 === B;D=z.stream;F=z.track;G=n.get(z.id);C=C?G.YM:G.x9;D=p.dJb({url:C.url,duration:w / 1E3,size:D.size,Jl:"Manifest for subtitles " + F.language + ' stream "' + F.UB + '", ' + F.Jf + ", cdn " + C.Ig});p.ja.trace("Text variant manifest",D.join("\n"));B=p.eJb({groupId:B,name:F.UB,yoa:F.Jf === x,$m:F.a6,WLb:F.Ch === h.Jo.kaa,language:F.language,uri:p.M6(D)});q.push(B);});});t.forEach(function(z){m.forEach(function(B){var C,D,F,G,E,J;C=0 === B;D=z.stream;F=z.track;G=z.La;E=z.PH;J=n.get(D.Pm);C=C?J.YM:J.x9;D=p.aZa({url:C.url,NT:D.Ak.offset + D.Ak.size,La:G,cbb:Math.floor(E / 1E3),Jl:"Manifest for audio " + F.language + ' stream "' + F.UB + '", ' + F.Jf + ", cdn " + C.Ig});p.ja.trace("Audio variant manifest",D.join("\n"));B=p.UFb({groupId:B,language:F.language,name:F.UB,yoa:F.Jf === y,uri:p.M6(D)});q.push(B);});});A=this.usb[t[0].track.profile];v.forEach(function(z){m.forEach(function(B){var C,D,F,G,E,J;C=0 === B;D=z.stream;F=z.track;G=z.La;E=z.PH;J=n.get(D.Pm);J=C?J.YM:J.x9;C=0 < u.length;F=p.aZa({url:J.url,NT:D.Ak?D.Ak.offset + D.Ak.size:D.dab,La:G,cbb:Math.floor(E / 1E3),Jl:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Jf + ", cdn " + J.Ig});p.ja.trace("Video variant manifest",F.join("\n"));B=p.tJb({groupId:B,NR:1E3 * D.bitrate,Isb:1E3 * D.bitrate,AMb:0 <= D.QA.indexOf("-hdr-") || 0 <= D.QA.indexOf("-dv5-"),framerate:(D.tXa / D.sXa).toFixed(3),cl:D.aua + "x" + D.S8a,t5b:p.A5b[D.QA],jsb:A,t2b:C});q.push(B);B=p.M6(F);q.push("" + B);});});this.ja.trace("Primary manifest",q.join("\n"));return this.M6(q);};c.prototype.UFb=function(l){var n;n=l.yoa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + l.groupId + '"','CHANNELS="2"','LANGUAGE="' + l.language + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + l.uri + '"'].join(", ");};c.prototype.aZa=function(l){var n,p;n=l.La;p=["#EXTM3U","# " + l.Jl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + l.cbb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.ab.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.Gtb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.tJb=function(l){var n,p;n=l.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + l.NR,"AVERAGE-BANDWIDTH=" + l.Isb,"VIDEO-RANGE=" + (l.AMb?"PQ":"SDR"),"FRAME-RATE=" + l.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + l.cl,'CODECS="' + l.t5b + "," + l.jsb + '"'];l.t2b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.dJb=function(l){var n;n=l.duration;return ["#EXTM3U","# " + l.Jl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + l.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.eJb=function(l){var n,p,q;n=l.yoa;p=l.language;q=l.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + l.groupId + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (l.$m?"YES":"NO")];l.WLb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.M6=function(l){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n"));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa))],a);b.cDa=a;},17602:function(r,b,a){var k,f,h,d;function c(g,m){this.CKb=g;this.log=m.Ta("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(2381);d=a(5485);c.prototype.download=function(g){var l,n,p,q,u;function m(t){if(u < n.length - 1)return (!1,u++,l.nVa(n[u].url,p,q).catch(m));throw t;}l=this;n=g.urls;p=g.offset;q=g.length;u=0;return this.nVa(n[u].url,p,q).catch(m);};c.prototype.nVa=function(g,m,l){return this.CKb.download({url:g,withCredentials:!1,responseType:d.ResponseType.dfb,ZA:"hls_headers",Lr:!0,offset:m,length:l,zr:d.JP},{F3a:1});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.wDa)),r.__param(1,(0,k.l)(f.Xa))],a);b.mDa=a;},80688:function(r,b,a){var k,f,h;function c(d){this.ja=d.Ta("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;r=a(70655);k=a(86700);f=a(86393);a=a(71163);c.prototype.parse=function(d,g,m){d=new f.Yr(this.ja,{mediaType:d},g,["sidx"]).parse();if(d.vt && d.La)return this.$ga(d.La,m);};c.prototype.$ga=function(d,g){var m,l,n,p,q;m=0;l=0;n=0;p=d.offset;q=[];d.mf.forEach(function(u,t){l+=u;n+=d.sizes[t];if(1E3 * l / d.T >= g || t === d.mf.length - 1)(q.push({duration:l / d.T,ab:m / d.T,byteOffset:p,Gtb:n}),m+=l,l=0,p+=n,n=0);});return q;};h=c;h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Xa))],h);b.qDa=h;},89043:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t){this.If=n;this.yy=p;this.Sf=q;this.uc=u;this.Fa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(71163);d=a(14959);g=a(95114);m=a(91022);l=a(94139);c.prototype.create=function(n){return new l.uP(this.If,this.yy,this.Sf,this.Fa,this.uc,n);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(h.Xa)),r.__param(1,(0,k.l)(m.Lw)),r.__param(2,(0,k.l)(d.rm)),r.__param(3,(0,k.l)(g.uca)),r.__param(4,(0,k.l)(f.Jc))],a);b.sP=a;},94139:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t,v){var w;w=this;this.yy=p;this.Sf=q;this.Fa=u;this.uc=t;this.wqa=this.JB=this.qW=0;this.rG=!1;this.Hy=function(){var y;y=w.PV();y.prstate=w.hy();y.paustate=w.j.mt();y.midplayseq=w.wqa++;w.uc.IL(y);w.vc(k.Ec.Hy,void 0,l.Ld | l.$r,y);};this.Kh=function(){w.vc(k.Ec.yRa,void 0,l.Ld | l.Fo,{});};this.ll=function(y){w.jpa=w.getTime();w.kpa=y.oldValue;};this.IR=function(y){w.cpa=y.oldValue;};this.l8=function(y){y != w.rG && (w.Tva(w.rG,y),w.rG=y);};this.Tva=function(y,x){var A;A=w.j.Ba;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};w.uc.Cp(y,A.Td.value && A.Td.value.stream,A.tf.value && A.tf.value.stream);w.vc(k.Ec.bX,void 0,l.Ld,y);};this.XW=function(y){w.vc(k.Ec.bab,void 0,l.Ld,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.nz=function(y){var x,A,z;x=w.j.Ba;A=x.xb.value;if(y.newValue || A && A.co() && !A.$m()){z=(y=null !== (z=y.newValue) && void 0 !== z?z:A)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Vb,rank:y.bc,isImageBased:y.pk}:{};y=(y=w.kpa)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Vb,rank:y.bc,isImageBased:y.pk}:{};z={switchdelay:(0,f.cg)(w.getTime() - w.jpa),track:z,oldtrack:y};w.uc.Cp(z,x.Td.value && x.Td.value.stream,x.tf.value && x.tf.value.stream);w.vc(k.Ec.wbb,void 0,l.Ld,z);}};this.nsa=function(y,x){var A;A=w.j.Ba;y={waittime:(0,f.cg)(y),abortedevent:"resumeplay",resumeplayreason:x};w.uc.Cp(y,A.Ne.value,A.Qg.value);w.vc(k.Ec.PM,void 0,l.Ld | l.Fo,y);};this.It=function(y,x,A){y={playdelay:(0,f.cg)(y),reason:A,intrplayseq:w.JB - 1,skipped:x};"repos" === A && (y.prstate=!0 === w.j.Ah.value?"playing":"paused");w.vc(k.Ec.It,void 0,l.Ld | l.Zr,y);};this.Cha=function(){var y,x,A,z;x=w.j.Ba.tc.value;A=w.j.Ba.Qg.value.Vb;x=x?{trackId:x.trackId,bcp47:x.re,downloadableId:A,rank:x.bc,chan:x.channels}:{};A=w.vy;z=null === (y=w.cpa) || void 0 === y?void 0:y.Vb;y=A?{trackId:A.trackId,bcp47:A.re,downloadableId:z,rank:A.bc,chan:A.channels}:{};w.vc(k.Ec.fRa,void 0,l.Ld,{switchdelay:(0,f.cg)(w.getTime() - w.dpa),track:x,oldtrack:y});};this.El=function(y){w.dpa=w.getTime();w.vy=y.oldValue;};this.osa=function(){var y,x,A;y=w.j.Ba;x={abortedevent:"startplay",trackid:y.Uj,prstate:w.hy(),paustate:w.j.mt()};try{A=(0,h.QF)();A && (x.pdltime=A);(0,f.Rd)(x,y.Rc,{prefix:"sm_"});}catch(z){}w.uc.G5(x,y);w.uc.JL(x,!1,y.Mg.value,y);w.uc.Cp(x,y.Ne.value,y.Qg.value);w.dG(x);w.vc(k.Ec.PM,void 0,l.Ld | l.$r | l.Fo,x);};this.Ix=function(y,x,A,z){y={moff:(0,f.Nl)(A),moffms:(0,f.cg)(A),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Vb,vdlidold:y.Vb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:z};w.vc(k.Ec.Ix,void 0,0,y);};this.DC=function(y,x,A){y={moffold:(0,f.Nl)(y),reposseq:w.qW++,prstate:w.hy(),paustate:w.j.mt()};w.uc.Cp(y,A && A.stream,x && x.stream);w.vc(k.Ec.DC,void 0,l.Ld,y);};this.Er=function(y){var x,A,z,B,C;B=y.Ba;C={playdelaysdk:(0,f.cg)(w.j.UR()),applicationPlaydelay:(0,f.cg)(w.j.jia()),playdelay:(0,f.cg)(w.j.kia()),trackid:B.Uj,bookmark:(0,f.cg)(B.Fl || 0),pbnum:B.index};w.j.Kh && (C.blocked=w.j.Kh);C.initvbitrate=w.j.XT;w.uc.boa(C);w.uc.a0a(C);C.esnSource=null === (x=pb._cad_global.device) || void 0 === x?void 0:x.P3;w.h0a(C,B);C.pdltime=(0,h.QF)();(0,f.Rd)(C,B.Rc,{prefix:"sm_"});C.ttTrackFields=null === (A=B.xb.value) || void 0 === A?void 0:A.zg;w.uc.X_a(C,B.tc.value,B);w.uc.JL(C,!0,B.Mg.value,B);C.packageId=null === (z=B.W) || void 0 === z?void 0:z.Ga.hn;w.uc.IL(C);w.uc.G5(C,B);w.dG(C);w.vc(k.Ec.Er,y.vh,l.Ld | l.Zr | l.$r | l.jD | l.Fo,C);};this.Zx=function(){var y,x,A;y=w.j;x=y.Ba;y=y.vh;A=w.PV();A.paustate=!w.j.OB();A.muted=w.j.Foa();A.endreason=y?"error":w.j.Aoa()?"ended":"stopped";w.uc.JL(A,!1,x.Mg.value,x);w.uc.IL(A);w.dG(A);w.vc(k.Ec.Zx,y,l.Ld | l.Zr | l.$r | l.jD | l.Fo,A);};this.Ita=function(y,x,A){var z;z=w.j.Ba.tf;y={moff:(0,f.Nl)(A),moffms:(0,f.cg)(A),vdlidold:y.Vb,vbitrateold:y.bitrate};w.uc.Cp(y,x,z.value && z.value.stream);w.vc(k.Ec.nW,void 0,0,y);};this.hy=function(){var y;y=w.j.mb.value;return y === g.bb.me?"playing":y === g.bb.Xh?"paused":y === g.bb.jq?"ended":"waiting";};this.ja=n.Ta("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;k=a(63563);f=a(30818);h=a(24133);d=a(68172);g=a(34202);m=a(2467);c.prototype.getTime=function(){return this.Fa.Fb().ba(m.na);};c.prototype.ana=function(){return this.getTime() - this.j.Ba.Rh.ba(m.na);};c.prototype.h0a=function(n,p){var q;if(p=null === (q=p.Mg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,h.DO)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,h.DO)(p.map(function(u){return u.height;})));};c.prototype.dG=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.PV=function(){var n,p,q,u;n=this.j.Ba;p=n.Xk;q={totaltime:(0,f.Nl)(p.zp()),totalcontenttime:(0,f.Nl)(p.ET()),reposcount:this.qW,intrplaycount:this.JB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Ne.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.ama()) && (q.abrdel=u);(u=p.v5() && p.MXa()) && (q.tw_vmaf=u);(p=p.KXa()) && (0,f.Rd)(q,p);q.rbfrs=this.JB;this.h0a(q,n);return q;};c.prototype.vc=function(n,p,q,u){var t,v,w;t=this;p && (0,d.XY)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.za,this.ana(),void 0) && (v="info");w=this.j.Ba;this.Ega(u,p,q);p=v || (p?"error":"info");u=this.yy.Hs(n,p,u,w);this.Sf.vc(u);"error" !== p && n !== k.Ec.Zx || this.Sf.flush(!1).catch(function(){t.ja.debug("Failed to flush the logblobs");});};c.prototype.Ega=function(n,p,q){var u;u=this.j.Ba;this.uc.$_a(n,u);q & l.Ld && this.uc.d0a(n,u,!1);q & l.Zr && this.uc.f0a(n,u);q & l.$r && this.uc.g0a(n,this.j.Vm());p && q & l.jD && this.uc.b0a(n,u,p);q & l.Fo && this.uc.boa(n);};b.uP=c;(function(n){n[n.Ld=1]="MOFF";n[n.Zr=2]="PRESENTEDSTREAMS";n[n.$r=4]="SCREEN";n[n.jD=8]="FATALERROR";n[n.Fo=16]="BROWSERINFO";})(l || (l={}));},89869:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p,q,u,t){this.Sf=n;this.config=p;this.sa=q;this.Fa=u;this.Gpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;r=a(70655);k=a(86700);f=a(58998);h=a(35664);d=a(17244);g=a(14959);m=a(88693);l=a(72342);c.prototype.create=function(n){return new l.xP(n,this.Sf,this.config,this.Fa,this.Gpa.create(n));};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.rm)),r.__param(1,(0,k.l)(d.cc)),r.__param(2,(0,k.l)(h.Fg)),r.__param(3,(0,k.l)(f.Jc)),r.__param(4,(0,k.l)(m.tP))],a);b.vP=a;},72342:function(r,b,a){var k,f,h;function c(d,g,m,l,n){var p;p=this;this.j=d;this.Sf=g;this.config=m;this.Fa=l;this.cb=n;this.XR=function(){p.ug();p.j.Ba.$h.removeListener(p.nz);p.j.Ba.xb.removeListener(p.cb.ll);p.j.Ba.tc.removeListener(p.El);p.j.Ba.Qg.removeListener(p.cb.IR);p.j.Ah.removeListener(p.R6a);p.j.lN.removeListener(p.Hj);p.j.Ba.Td.removeListener(p.XV);p.j.mb.removeListener(p.gv);p.j.mb.removeListener(p.mK);p.j.Ba.Ne.removeListener(p.UX);p.j.Ba.playbackRate.removeListener(p.cb.XW);p.j.removeEventListener(h.Ja.closed,p.XR);p.j.removeEventListener(h.Ja.k2,p.cb.Kh);};this.mK=function(){p.j.mb.value === h.bb.me && (p.j.mb.removeListener(p.mK),p.zt());};this.nz=function(q){p.Pp && p.cb.nz(q);};this.Hj=function(q){p.Pp && void 0 !== q.newValue && (p.xr && p.Do && p.cb.nsa(p.getTime() - p.Do,p.xr),p.xr="repos",p.cb.DC(q.newValue,p.j.Ba.tf.value,p.j.Ba.Td.value),p.Do=p.getTime(),(0,f.Qf)(p.gv));};this.R6a=function(q){p.Pp && p.cb.l8(!q.newValue);};this.El=function(q){q.oldValue && (p.vy=q.oldValue,p.cb.El(q),p.xr="repos",p.Do=p.getTime(),(0,f.Qf)(p.gv));};this.gv=function(){var q;if(p.Do && p.j.mb.value !== h.bb.Mf){q=p.getTime() - p.Do;p.cb.It(q,!1,p.xr);p.vy && p.vy != p.j.Ba.tc.value && p.cb.Cha();p.Do=void 0;p.xr=void 0;}};this.zt=function(){p.Pp || (p.Pp=!0,p.cb.Er(p.j),p.koa(),p.config().N5 && (p.py=pb.setTimeout(function(){p.Sf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.py=void 0;},p.config().N5)));};this.ug=function(){p.py && (pb.clearTimeout(p.py),p.py=void 0);p.HX && p.HX();p.Pp?p.cb.Zx():p.j.vh?p.cb.Er(p.j):p.cb.osa();};this.UX=function(q){q.oldValue && q.Mh && q.Mh.TE && p.cb.Ix(q.oldValue,q.newValue,q.Mh.TE,q.Mh.NR);};this.XV=function(q){var u;if(q.newValue){u=q.newValue.stream;p.sG != u && (p.sG && u && p.cb.Ita(p.sG,u,q.newValue.nK.startTime),p.sG=u);}};this.b$();}Object.defineProperty(b,"__esModule",{value:!0});b.xP=void 0;k=a(2467);f=a(66052);h=a(34202);c.prototype.b$=function(){this.j.addEventListener(h.Ja.closed,this.XR);this.j.addEventListener(h.Ja.k2,this.cb.Kh);this.j.Ba.$h.addListener(this.nz);this.j.Ba.xb.addListener(this.cb.ll);this.j.Ba.tc.addListener(this.El);this.j.Ba.Qg.addListener(this.cb.IR);this.j.Ah.addListener(this.R6a);this.j.lN.addListener(this.Hj);this.j.Ba.Td.addListener(this.XV);this.j.mb.addListener(this.gv);this.j.mb.addListener(this.mK);this.j.Ba.Ne.addListener(this.UX);this.j.Ba.playbackRate.addListener(this.cb.XW);};c.prototype.getTime=function(){return this.Fa.Fb().ba(k.na);};c.prototype.koa=function(){var d,g,m;d=this;m=[];this.config().X3a && (this.config().Y3a.forEach(function(l){m.push(pb.setTimeout(d.cb.Hy,l));}),this.config().h7 && (g=pb.setInterval(this.cb.Hy,this.config().h7)),this.HX=function(){m.forEach(function(l){pb.clearTimeout(l);});g && pb.clearInterval(g);});};b.xP=c;},83250:function(r,b,a){var k,f,h,d,g;function c(m,l){var p;function n(){p.bsa.then(function(q){p.ja.trace("Unloading PBO Playdata Services");q.close();});d.fe.removeListener(d.Qk,n);}p=this;this.p6a=l;this.bsa=l();this.ja=m.Ta("PlayerPlaydataMonitorImpl");d.fe.addListener(d.Qk,n);}Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;r=a(70655);k=a(86700);f=a(71163);h=a(12496);d=a(25892);g=a(34202);c.prototype.Sj=function(m,l){this.bsa.then(function(n){n.Sj(l,!0,function(p){return m.close(p);});n.Rva(l);m.addEventListener(g.Ja.Dsa,function(){m.OB() && n.L9a(l).catch(function(p){(p=p.QM) && m.close(p);});});m.addEventListener(g.Ja.ll,function(){n.F9(l).catch(function(p){(p=p.QM) && m.close(p);});});m.addEventListener(g.Ja.El,function(){n.F9(l).catch(function(p){(p=p.QM) && m.close(p);});});});};c.prototype.cX=function(m){return this.bsa.then(function(l){l.qab();return l.cX(m).catch();});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(h.OP))],a);b.oJa=a;},83443:function(r,b,a){var k,f,h,d;function c(g){this.uqa={};this.I5={};this.r6=-1;this.dwa=new h.Hb(null);this.Isa=new h.Hb(null);this.ja=g.Ta("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(70655);k=a(86700);f=a(91854);h=a(14414);a=a(71163);c.prototype.qa=function(g,m,l){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.uqa[q.url]=[p,q.Ig];});});this.Yja=m;this.Yzb=l;new PerformanceObserver(function(p){n.i4b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.$9a=function(g){var m,l,n;if(this.Yja){l=this.L4(g);if(l !== this.r6){for(this.r6=l;0 <= l && !this.I5[l];){l--;}n=ma(null !== (m=this.I5[l]) && void 0 !== m?m:[this.Yja,this.Yzb]);m=n.next().value;n=n.next().value;this.ja.debug("Setting time to " + g + ", using metadata from fragment " + l + " for " + ((0,f.CG)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));g=m.La[this.r6];l=g.ab;this.Isa.set({stream:m,nK:{startTime:Math.floor(1E3 * l),endTime:Math.floor(1E3 * (l + g.duration))},Hm:n});}}};c.prototype.L4=function(g){var m,l,n,p,q;m=this.Yja.La;g/=1E3;l=0;n=m.length - 1;if(g >= m[n].ab)return n;for(;n >= l;){p=l + Math.floor((n - l) / 2);q=m[p];if(g < q.ab)n=p - 1;else if(g >= q.ab + q.duration)l=p + 1;else return p;}return m.length - 1;};c.prototype.i4b=function(g){var m;m=this;g.filter(function(l){return "video" === l.initiatorType;}).forEach(function(l){var n,p,q;n=l.name.indexOf("&fi=");if(0 < n){p=l.name.substring(0,n);n=Number(l.name.substring(n + 4));if(m.uqa[p]){q=ma(m.uqa[p]);l=q.next().value;q=q.next().value;p && !Number.isNaN(n) && l && (m.I5[n] && (m.r6=-1),m.I5[n]=[l,q],p=l.La[n].ab,!1,m.dwa.set(l,{TE:Math.floor(1E3 * p),Hm:q}));}}});};d=c;d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Xa))],d);b.yLa=d;},24631:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v;function c(w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L){var H,M,R;H=this;this.RV=y;this.my=x;this.Fa=A;this.Qh=z;this.Eb=B;this.NU=C;this.LUb=D;this.F6a=F;this.V$=G;this.g2=E;this.sa=J;this.eM=K;this.config=N;this.EA=I;this.u=O;this.zh=L;this.DU=new n.Hb(!0);this.Ah=new n.Hb(!1);this.Cr=new n.Hb(!1);this.ended=new n.Hb(!1);this.w2=new n.Hb(0);this.mb=new n.Hb(k.bb.Mf);this.lN=new n.Hb(void 0);this.loaded=this.$W=this.closed=!1;this.h7a=function(Y,ea){return function(ca){var oa,Ga,Fa,Ja,Xa;oa=ca.newValue;Ga=oa.Hm;ca=oa.nK;Fa=oa.stream;oa=Y.value;Ja=oa.streams.find(function(cb){return cb.bitrate === Fa.stream.bitrate;});Xa=H.Ba.tg.find(function(cb){return cb.id === Ga;});H.log.info("Presenting " + Ja.type + " request with bitrate " + Ja.bitrate + ", track " + (oa.trackId + " [" + ca.startTime + "..." + ca.endTime + "]"));ea.set({stream:Ja,nK:ca,Ac:Xa});};};this.Dab=function(Y,ea,ca){return function(oa){var Ga,Fa;Ga=Y.value;Fa=Ga.streams.find(function(Ja){return Ja.bitrate === oa.newValue.stream.bitrate;});H.log.info("Streaming " + Fa.type + " stream with bitrate " + Fa.bitrate + ", track " + Ga.trackId);ea.set(Fa,{TE:oa.Mh.TE,NR:void 0});Ga=H.Ba.tg.filter(function(Ja){return Ja.id === oa.Mh.Hm;})[0];ca.set(Ga);};};this.$Wa=new Set();this.log=w.Ta("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.S6a;this.Ba=this.RV(h.Vz.index++,O.O,O.id,null !== (M=O.qb) && void 0 !== M?M:{},this.my.SA(),this.Fa.Fb(),!1,void 0,function(){return H.Rq();});this.Ba.mediaTime.set(null !== (R=this.Ba.Fl) && void 0 !== R?R:0);this.lI();this.Enb=this.eM.create(this);this.Enb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;k=a(34202);f=a(24133);h=a(58680);d=a(93);g=a(41047);m=a(68172);l=a(3971);n=a(14414);p=a(2467);q=a(95919);u=a(56170);t=a(30818);v=a(18920);c.prototype.Y1b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.lI=function(){var w;w=this;this.$.addEventListener("loadedmetadata",function(){w.kb(k.Ja.D2a);w.kb(k.Ja.C2a);w.kb(k.Ja.El);w.kb(k.Ja.h2);w.kb(k.Ja.ll);w.kb(k.Ja.Rt);});this.$.addEventListener("error",function(y){y=w.zh(m.V.AHa,y);w.close(y);});this.$.addEventListener("timeupdate",function(){w.ended.set(!1);w.Ba.mediaTime.set(w.Rq());w.dka();w.kb(k.Ja.On);w.kb(k.Ja.kcb);});this.$.addEventListener("durationchange",function(){w.kb(k.Ja.tka);});this.$.addEventListener("resize",function(){w.kb(k.Ja.txa);});this.$.addEventListener("playing",function(){w.dka();w.Cr.set(!1);w.Ah.set(!0);w.ended.set(!1);w.mb.set(k.bb.me);});this.$.addEventListener("pause",function(){w.Ah.set(!1);w.Cr.set(!1);w.mb.set(k.bb.Xh);});this.$.addEventListener("waiting",function(){w.mb.set(k.bb.Mf);});this.$.addEventListener("stalled",function(){w.Cr.set(!0);});this.$.addEventListener("seeking",function(){w.Cr.set(!1);w.lN.set(w.Ba.mediaTime.value);w.mb.set(k.bb.Mf);});this.$.addEventListener("seeked",function(){void 0 !== w.lN.value && (w.Ba.Xk.dra(w.lN.value,w.Rq()),w.lN.set(void 0));w.mb.set(w.OB()?k.bb.me:k.bb.Xh);});this.$.addEventListener("progress",function(){w.kb(k.Ja.t2);w.a4b();});this.$.addEventListener("ended",function(){w.mb.set(k.bb.jq);w.Cr.set(!1);w.Ah.set(!1);w.ended.set(!0);});this.$.addEventListener("volumechange",function(){w.kb(k.Ja.zdb);w.kb(k.Ja.z4a);});this.Ah.addListener(function(){w.kb(k.Ja.Dsa);w.kb(k.Ja.n6a);w.mK();});this.w2.addListener(function(){w.kb(k.Ja.dK);});this.Cr.addListener(function(){w.kb(k.Ja.dK);});this.DU.addListener(function(){w.mK();});this.ended.addListener(function(){w.kb(k.Ja.dWa);});this.Ba.playbackRate.addListener(function(y){w.$.playbackRate=y.newValue;});};c.prototype.mK=function(){!this.OB() || this.DU.value || this.$W || this.iRa || (this.$W=!0,this.Ba.qy=this.sa.xH,this.F6a.Sj(this,this.Ba));};c.prototype.UR=function(){return this.QV - (this.Ba.Rh.ba(p.na) + this.Fa.xy.ba(p.na));};c.prototype.EF=function(){var w;w=this.Ba.Wa.VC;return (0,q.rb)(w)?w:this.Ba.Rh.ba(p.na) + this.Fa.xy.ba(p.na);};c.prototype.jia=function(){return this.sa.ue.ba(p.na) - this.EF();};c.prototype.kia=function(){return this.QV - this.EF();};c.prototype.a4b=function(){var w;w=this.$.readyState <= l.qm.gP.HAVE_METADATA?0:this.$.readyState <= l.qm.gP.HAVE_CURRENT_DATA?.5:1;1 === w && (this.QV=this.sa.ue.ba(p.na),this.DU.set(!1),this.vla(k.Ja.loaded));this.w2.set(w);};c.prototype.dka=function(){var w;w=this.Rq();this.V$.$9a(w);this.g2.$9a(w);};c.prototype.KW=function(){var w;w=this;this.Ba.ke("ats");return this.Qh.gy({la:this.Ba.la,Wa:this.Ba.Wa,J:this.Ba.O,Oq:d.rl.O_,rf:g.Gh.sm}).then(function(y){var A;function x(z){var B;B=z;z && z.co() && !z.$m() && (B=null);w.Ba.$h.set(B);}w.Ba.ke("at");A=w.NU.create({}).i6a(y);w.Ba.W=y;w.Ba.yc=A;w.$.audioTracks.addEventListener("addtrack",function(){w.Gcb(w.Ba.tc.value);});w.$.audioTracks.addEventListener("change",function(){for(var z,B,C={},D=ma(w.$.audioTracks),F=D.next();!F.done;(C={yO:C.yO},F=D.next())){C.yO=F.value;C.yO.enabled && C.yO.label !== (null === (z=w.Ba.tc.value) || void 0 === z?void 0:z.displayName) && (!1,F=null !== (B=w.Ba.ci.find((function(G){return function(E){return E.displayName === G.yO.label;};})(C))) && void 0 !== B?B:null,w.Ba.tc.set(F));}});w.Ba.tc.addListener(function(z){w.Gcb(z.newValue);w.kb(k.Ja.El);w.kb(k.Ja.Rt);});w.$.textTracks.addEventListener("addtrack",function(){w.Hcb(w.Ba.xb.value);});w.$.textTracks.addEventListener("change",function(){var G;for(var z,B,C=w.$.textTracks,D={},F=0;F < C.length;(D={zO:D.zO},F++)){if((D.zO=C[F],"showing" === D.zO.mode && D.zO.label !== (null === (z=w.Ba.xb.value) || void 0 === z?void 0:z.displayName))){!1;G=null !== (B=w.Ba.hh.find((function(E){return function(J){return J.displayName === E.zO.label;};})(D))) && void 0 !== B?B:null;w.Ba.xb.set(G);x(G);}}});w.Ba.xb.set(A.oS);x(A.oS);w.Ba.xb.addListener(function(z){w.Hcb(z.newValue);w.kb(k.Ja.ll);});return w.LUb.Lh(y,function(z){return w.Ba.ke(z);});}).then(function(y){var x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H;x=y.dPb;A=y.Eub;y=y.o1b;z=y.audio;B=y.GUa;C=y.video;D=w.Ba;F=D.Qg;G=D.tc;E=D.ci;J=D.Ne;K=D.Mg;y=D.Fl;N=D.Td;I=D.tf;O=D.Xk;D=D.yc;D.ci=E.filter(function(M){return z.find(function(R){return R.track.Jf === M.trackId;});});K.set(D.o3);G.set(E.find(function(M){return M.trackId === B;}));D=C[0];L=D.stream;E=z.find(function(M){return M.track.Jf === B;});H=E.stream;w.XT=L.bitrate;w.V$.Isa.addListener(w.h7a(K,N));w.V$.dwa.addListener(w.Dab(K,J,w.Ba.Ac[v.v.Z]));J=A.get(L.Pm).YM.Ig;w.V$.qa(C,D,J);w.g2.Isa.addListener(w.h7a(G,I));w.g2.dwa.addListener(w.Dab(G,F,w.Ba.Ac[v.v.ga]));A=A.get(H.Pm).YM.Ig;w.g2.qa(z,E,A);w.$.src=x;w.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;w.$.load();O.dra(0,y && 0 < y?y:1);}).catch(function(y){var x,A;if(y instanceof Error){A=(0,t.ve)(y);w.log.error("uncaught exception",y,A);}w.close(w.zh(null !== (x=y.code) && void 0 !== x?x:m.V.qMa,y));});};c.prototype.Hcb=function(w){var A;for(var y=this.$.textTracks,x=0;x < y.length;x++){A=y[x];A.label === w.displayName && "showing" !== A.mode && (!1,A.mode="showing");A.label !== w.displayName && "showing" === A.mode && (!1,A.mode="hidden");}};c.prototype.Gcb=function(w){for(var y=ma(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== w.displayName || x.enabled || (!1,x.enabled=!0);x.label !== w.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Vn=function(){};c.prototype.Pl=function(){};c.prototype.Rq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.B4=function(){return this.Rq();};c.prototype.mL=function(){return this.Rq();};c.prototype.hma=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.cZa=function(){return this.u.O;};c.prototype.Ys=function(){return this.Ba.la;};c.prototype.Vm=function(){return this.$;};c.prototype.isReady=function(){return null === this.wh();};c.prototype.OB=function(){return this.Ah.value;};c.prototype.mt=function(){return !this.Ah.value;};c.prototype.Aoa=function(){return this.$.ended;};c.prototype.wh=function(){return 1 !== this.w2.value?{stalled:this.Cr.value,progress:this.w2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,y;return null !== (y=null === (w=this.vh) || void 0 === w?void 0:w.zX()) && void 0 !== y?y:null;};c.prototype.SXa=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.YZa=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Foa=function(){return this.$.muted;};c.prototype.ZZa=function(){return this.$.volume;};c.prototype.m$a=function(w){this.$.muted=w;};c.prototype.y$a=function(w){this.$.volume=w;};c.prototype.addEventListener=function(w,y,x){this.Eb.addListener(w,y,x);};c.prototype.removeEventListener=function(w,y){this.Eb.removeListener(w,y);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.EA.CU(function(y){w.Y1b()?y.ka?w.KW():w.close(w.zh(y.errorCode || m.V.$ba,y)):w.close(w.zh(m.V.Dhb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Ba.mediaTime.set(this.Rq());this.dka();this.Ba.eS=this.B4();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === w || void 0 === w?void 0:w.o$a(!this.DU.value);(this.vh=w) && this.kb(k.Ja.error,w.zX());this.kb(k.Ja.closed);return this.F6a.cX(this.Ba);};c.prototype.play=function(){var w,y;w=this;y=this.$.play();this.iRa=!1;y && y.then(function(){w.vla(k.Ja.jRa);}).catch(function(x){w.kb(k.Ja.dK);"NotAllowedError" === x.name && (w.log.warn("Playback is blocked by the browser settings",x),w.iRa=!0,w.Kh=!0,w.vla(k.Ja.k2,{player:{play:function(){return w.play();}}}));});};c.prototype.kb=function(w,y,x){y=y || ({});y.target=this;this.Eb.Cc(w,y,!x);};c.prototype.vla=function(w,y){this.$Wa.has(w) || (this.$Wa.add(w),this.kb(w,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.m6a=function(){this.pause();};c.prototype.seek=function(w){this.$.currentTime=w / 1E3;};c.prototype.j0a=function(w){this.close(this.zh(m.V.SBa,m.R.Lo,w));};c.prototype.vL=function(){return this.Ba.playbackRate.value;};c.prototype.M9=function(w){this.Ba.playbackRate.set(w);};c.prototype.IXa=function(){var w;w=this;return this.Ba.ci.map(function(y){return w.Ap(y);});};c.prototype.lna=function(w){var y;y=this;return this.AT(w).map(function(x){return y.Ap(x);});};c.prototype.HXa=function(){var w;w=this.Ba.tc.value;return w && this.Ap(w);};c.prototype.kna=function(){var w;w=this.Ba.xb.value;return w && this.Ap(w);};c.prototype.X9a=function(w){if((w=this.TS(w)) && w.xg)return (this.Ba.tc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.nva=function(w){var y,x;y=this;x=this.Ba.hh.find(function(A){return y.Ap(A) === w;});if(x && x.xg)return (this.Ba.xb.set(x),this.Ba.$h.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.XYa=function(){var w;return this.rT(this.Ba.ci,null === (w=this.Ba.W) || void 0 === w?void 0:w.Ga.C3a);};c.prototype.Ema=function(w){var y;return this.rT(this.AT(w),null === (y=this.Ba.W) || void 0 === y?void 0:y.Ga.D3a);};c.prototype.Ap=function(w){var y;y=w.gta=w.gta || ({trackId:w.trackId,bcp47:w.re,displayName:w.displayName,trackType:w.Ch,rawTrackType:w.CC,channels:w.channels});this.Koa(w) && (y.isNative=w.isNative,y.surroundFormatLabel=w.jX);this.Loa(w) && (y.isNoneTrack=w.co(),y.isForcedNarrative=w.$m(),y.isImageBased=w.pk);y.subType=w.MH;y.variant=w.variant;return y;};c.prototype.Koa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Loa=function(w){return "undefined" !== typeof w.co && "undefined" !== typeof w.$m;};c.prototype.TS=function(w){var y;y=this;return w && this.Ba.ci.find(function(x){return y.Ap(x) === w;});};c.prototype.AT=function(w){var y;w=this.TS(w) || this.Ba.tc.value;return null !== (y=null === w || void 0 === w?void 0:w.hh) && void 0 !== y?y:[];};c.prototype.rT=function(w,y){var x;x=w.length - 1;if("number" !== typeof y)return x;w=w.findIndex(function(A){return A.bc > y;});return -1 === w?x:w - 1;};c.prototype.I$=function(w){this.Ba.Wa=(0,u.g7)(this.Ba.Wa,w);};c.prototype.ii=function(w){if(w !== this.Ba.I)throw (!1,Error("Unknown segmentId " + w));return this.Ba;};c.prototype.nZa=function(){return this.Ba.Wa;};c.prototype.Qga=function(){!1;};c.prototype.Mv=function(){!1;};c.prototype.MG=function(){!1;};c.prototype.IT=function(){!1;return Promise.reject();};c.prototype.bna=function(){return {};};c.prototype.C4=function(){};c.prototype.FXa=function(){return {};};c.prototype.bva=function(){};c.prototype.LN=function(){};c.prototype.N0a=function(){return !1;};c.prototype.lYa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.RK=function(){!1;return Promise.resolve({success:!0});};c.prototype.UZa=function(){!1;};c.prototype.DT=function(){!1;};c.prototype.FN=function(){!1;};c.prototype.rva=function(){!1;};c.prototype.z2a=function(){!1;};c.prototype.zXa=function(){!1;return Promise.reject();};c.prototype.C6a=function(){!1;return Promise.reject();};c.prototype.I7a=function(){!1;return Promise.reject();};c.prototype.hj=function(){!1;return Promise.reject();};c.prototype.aH=function(){!1;};b.GMa=c;},88790:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p,q,u,t,v,w,y,x,A,z,B,C,D){var F;F=this;this.Zd=l;this.wb=n;this.Eb=q;this.Bt=t;this.aS=v;this.AXa=w;this.config=x;this.zh=z;this.u=B;this.j=A.create(B.O,B.Rh,y,C,D,B.qb,B.id,B.W);this.j.background.set(!0);this.log=p.Ta("VideoPlayer",this.j);this.q6a=[];this.ended=!1;this.lI();this.j.state.addListener(function(G){G.newValue === f.Ub.ae && F.kb(f.Ja.Qoa,{movieId:B.O});});this.j.Wa.dg && (this.bK=u.eyb(this,this.j),this.j.addEventListener(f.ea.tH,function(G){G=G.position.segmentId;F.zNb !== G && (F.zNb=G,F.kb(f.Ja.sZb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;k=a(68172);f=a(34202);h=a(2467);d=a(50876);g=a(8010);m=a(30818);c.prototype.isReady=function(){return this.j.state.value === f.Ub.ae;};c.prototype.cZa=function(){return this.j.O;};c.prototype.Ys=function(){return this.j.la;};c.prototype.Vm=function(){return this.j.xk;};c.prototype.OB=function(){return this.j.Ah.value;};c.prototype.mt=function(){return this.j.paused.value;};c.prototype.Aoa=function(){return this.ended;};c.prototype.wh=function(){var l;l=this.j.cia.value;return l?{networkStalled:!!l.Cr,stalled:!!l.Cr,progress:l.progress,progressRollback:!!l.jWb}:null;};c.prototype.getError=function(){var l;l=this.j.vh;return l?l.zX():null;};c.prototype.Vn=function(){var l;return null === (l=this.j.Vn()) || void 0 === l?void 0:l.ICb;};c.prototype.Pl=function(){return this.j.$c;};c.prototype.mL=function(){return this.Pl().ha?this.Pl().f5():this.Rq();};c.prototype.Rq=function(){return this.j.mediaTime.value;};c.prototype.SXa=function(){var l;l=(this.B4() || 0) + this.j.RXa();return Math.min(l,this.hma());};c.prototype.B4=function(){return this.Pl().ha?this.Pl().f5():this.j.sB();};c.prototype.hma=function(){return this.Pl().ha?this.Pl().QYa():this.j.Qx.ba(h.na);};c.prototype.YZa=function(){var l;l=this.j.YC.value;return l?{width:l.width,height:l.height}:null;};c.prototype.C4=function(){return this.j.C4();};c.prototype.zXa=function(l){var n,p;return (null === (n=this.j.W) || void 0 === n?0:n.ri.rL("generateScreenshots"))?this.AXa.Sn(this.log,this.j.W.ri,l):(n=null === (p=this.j.Wa) || void 0 === p?void 0:p.hn)?this.AXa.Hf(this.log,Object.assign({packageId:n},l)):Promise.reject("Unknown packageId");};c.prototype.lYa=function(){return this.BGb(this.j.$Ua);};c.prototype.IXa=function(){var l;l=this;return this.j.ci.map(function(n){return l.Ap(n);});};c.prototype.XYa=function(){var l;return this.rT(this.j.ci,null === (l=this.j.W) || void 0 === l?void 0:l.Ga.C3a);};c.prototype.lna=function(l){var n;n=this;return this.AT(l).map(function(p){return n.Ap(p);});};c.prototype.Ema=function(l){var n;return this.rT(this.AT(l),null === (n=this.j.W) || void 0 === n?void 0:n.Ga.D3a);};c.prototype.Foa=function(){return this.j.muted.value;};c.prototype.ZZa=function(){return this.j.volume.value;};c.prototype.HXa=function(){var l,n;n=(null === (l=this.Pv) || void 0 === l?void 0:l.tc) || this.j.tc.value;return n && this.Ap(n);};c.prototype.kna=function(){var l,n;n=(null === (l=this.Pv) || void 0 === l?void 0:l.rX) || this.j.xb.value;return n && this.Ap(n);};c.prototype.N0a=function(){return this.j.background.value;};c.prototype.m$a=function(l){this.j.muted.set(!!l);};c.prototype.y$a=function(l){this.j.volume.set(this.MRb(l));};c.prototype.M9=function(l){this.j.playbackRate.set(l);};c.prototype.vL=function(){return this.j.playbackRate.value;};c.prototype.X9a=function(l){var n,p,q,u,t;n=this;q=this.TS(l);if(q){if(q.xg)return (this.j.tc.set(q),Promise.resolve());u=(l=(null === (p=this.Pv) || void 0 === p?void 0:p.rX) || this.j.xb.value) && this.r1a(q,l)?l:q.hh[0];p=q.trackId;t=u.trackId;this.Pv={tc:q,rX:u};this.kb(f.Ja.El);this.kb(f.Ja.Rt);u !== l && this.kb(f.Ja.ll);return this.j.O_a(p,t).then(function(v){v=v.tc;n.Pv=void 0;n.j.tc.set(v);}).catch(function(v){n.Pv=void 0;v=n.Zd.ve(v);n.log.error(v);n.close(n.zh(k.V.KI,{za:k.R.Bca,Kb:v,bG:{LKb:q.trackId,Q_a:q.re,MKb:u.trackId,R_a:u.re}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.nva=function(l){var n,p,q,u;n=this;q=(null === (p=this.Pv) || void 0 === p?void 0:p.tc) || this.j.tc.value;if(null !== q){u=q.hh;p={};for(var t=0;t < u.length;(p={Or:p.Or},t++)){p.Or=u[t];if(!l && null === p.Or)return (this.j.xb.set(null),Promise.resolve());if(this.Ap(p.Or) === l){if(p.Or.xg)return (this.log.info("Setting Timed Text, profile: " + p.Or.profile),this.j.xb.set(p.Or),Promise.resolve());l=q.trackId;u=p.Or.trackId;this.Pv={tc:q,rX:p.Or};this.kb(f.Ja.ll);return this.j.O_a(l,u).then(function(v){v=v.rX;n.Pv=void 0;n.j.xb.set(v);}).catch((function(v){return function(w){n.Pv=void 0;w=n.Zd.ve(w);n.log.error(w);n.close(n.zh(k.V.KI,{za:k.R.Bca,Kb:w,bG:{LKb:q.trackId,Q_a:q.re,MKb:v.Or.trackId,R_a:v.Or.re}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.bva=function(l){this.j.background.set(l);};c.prototype.LN=function(){this.j.LN();};c.prototype.I$=function(l){this.j.I$(l);};c.prototype.ii=function(l){return this.j.ii(l);};c.prototype.nZa=function(){return this.j.Wa;};c.prototype.Mv=function(){this.j.Mv();};c.prototype.MG=function(l){this.j.MG(l);};c.prototype.IT=function(l,n,p){return this.j.IT(l,n,p);};c.prototype.Qga=function(l,n){this.j.addEventListener(l,n,void 0);};c.prototype.addEventListener=function(l,n,p){this.Eb.addListener(l,n,p);};c.prototype.removeEventListener=function(l,n){this.Eb.removeListener(l,n);};c.prototype.aH=function(){};c.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{l.kb(f.Ja.D2a,void 0,!0);n.W && (n.W.Ga.Idb && l.kb(f.Ja.P5b,n.W.Ga.Idb,!0),n.W.Ga.np && l.kb(f.Ja.rZb,{segmentMap:n.W.Ga.np},!0));p({ka:!0});}catch(q){p({za:k.R.ql,Kb:l.Zd.ve(q)});}}));};c.prototype.close=function(l){var n;n=this;this.RSa || (this.RSa=new Promise(function(p){l?n.j.UE(l,p):n.j.close(p);}));return this.RSa;};c.prototype.play=function(){this.j.Kh?this.j.fireEvent(f.ea.q9a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ea.ddb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ea.cdb));};c.prototype.m6a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{yM:!0});};c.prototype.seek=function(l,n,p,q){n=void 0 === n?f.Vc.Yw:n;this.j.vub() && (this.Pl().ha && this.Pl().w1a(this.Pl().g9a(l))?this.Pl().z9():this.j.je?(this.Pl().ha && (l=this.Pl().g9a(l)),this.j.je.seek(l,n,p,q)):(this.Pl().ha && (l=this.Pl().Cma(l).Fl),this.j.Fl=l));};c.prototype.C6a=function(l){return this.bK?(this.log.trace("Playing a segment",l),this.bK.play(l)):Promise.resolve();};c.prototype.I7a=function(l){return this.bK?(this.log.trace("Queueing a segment",l),this.bK.$M(l)):Promise.resolve();};c.prototype.hj=function(l,n){return this.bK?(this.log.trace("Updating next segment weights",l,n),this.bK.hj(l,n)):Promise.resolve();};c.prototype.DT=function(){var l;l=this.j.nn.DT();return {bounds:l.PR,margins:l.er,size:l.size,visibility:l.visibility};};c.prototype.FN=function(l){var n,p,q;n=l.bounds;p=l.margins;q=l.size;l=l.visibility;this.j.vX && (n && this.j.vX.ova(n),p && this.j.vX.pva(p),"boolean" === typeof l && this.j.vX.qva(l));this.j.nn && q && this.j.nn.C_b(q);};c.prototype.rva=function(l){this.j.jm=l;};c.prototype.UZa=function(l){return this.j.oz && this.j.oz.XGb(l) || null;};c.prototype.FXa=function(){return this.Zd.fC({playerver:this.config.version,jssid:this.config.iNb,groupName:this.config.$Gb(),xid:this.j.la,pbi:this.j.index},this.config.mUb,{prefix:"pi_"});};c.prototype.j0a=function(l){this.j.kd(k.V.SBa,k.R.Lo,l);};c.prototype.z2a=function(l,n,p,q){if(!this.wb.wQa(l))throw Error("invalid url");this.q6a.push({url:l,name:n,Gsb:p,options:q});this.v7a();};c.prototype.bna=function(){var l,n,p,q,u,t,v,w;l={};n=this.j.$W;try{if((this.j.vh && (l.errorCode=this.j.vh.x3,l.errorType=n?"endplay":"startplay"),l.playdelay=(0,m.cg)(this.j.UR()),l.xid=this.j.la,this.j.W && this.wb.ep(this.j.W.Ga.hn) && (l.packageId=Number(this.j.W.Ga.hn)),l.auth=this.j.WFb(),n)){l.totaltime=this.j.Xk?this.Nl(this.j.Xk.zp("content")):0;l.abrdel=this.j.Xk?this.j.Xk.ama():0;p=this.j.je;q=p?p.JF():null;this.wb.fk(q) && (l.totdfr=q);q=p?p.lT():null;this.wb.fk(q) && (l.totcfr=q);u=p?p.jHb():null;u && (l.rbfrs_decoder=u.i3,l.rbfrs_network=u.z7);l.rbfrs_delay=this.j.Xk?this.j.Xk.uoa:0;l.init_vbr=this.j.P5;t=this.QF();this.wb.gF(t) && (l.pdltime=t);v=this.j.Td.value;w=v && v.stream;w && (l.vbr=w.bitrate,l.vdlid=w.Vb);l.bufferedTime=this.j.RXa();}}catch(y){this.log.error("error capturing session summary",y);}return l;};c.prototype.RK=function(l){this.j.Wa.dm && (this.j.Wa.dm.userEngageAction=1);return this.wb.fk(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.Bt.create(this.j)),{action:l}),this.aS(g.Go.RK).Sn(this.log,this.j.W.ri,l).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.ec,errorExternalCode:n.Oc,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.BGb=function(l){return {register:l.register.bind(l),notifyUpdated:l.d5a.bind(l),getModel:l.MHb.bind(l),getGroups:l.pT.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};c.prototype.Ap=function(l){var n;n=l.gta=l.gta || ({trackId:l.trackId,bcp47:l.re,displayName:l.displayName,trackType:l.Ch,rawTrackType:l.CC,channels:l.channels});this.Koa(l) && (n.isNative=l.isNative,n.surroundFormatLabel=l.jX);this.Loa(l) && (n.isNoneTrack=l.co(),n.isForcedNarrative=l.$m(),n.isImageBased=l.pk);n.subType=l.MH;n.variant=l.variant;return n;};c.prototype.Koa=function(l){return "undefined" !== typeof l.isNative;};c.prototype.Loa=function(l){return "undefined" !== typeof l.co && "undefined" !== typeof l.$m;};c.prototype.TS=function(l){var n;n=this;return l && this.j.ci.find(function(p){return n.Ap(p) === l;});};c.prototype.AT=function(l){var n,p;l=this.TS(l) || (null === (n=this.Pv) || void 0 === n?void 0:n.tc) || this.j.tc.value;return null !== (p=null === l || void 0 === l?void 0:l.hh) && void 0 !== p?p:[];};c.prototype.rT=function(l,n){var p;p=l.length - 1;if("number" !== typeof n)return p;l=l.findIndex(function(q){return q.bc > n;});return -1 === l?p:l - 1;};c.prototype.r1a=function(l,n){return 0 <= l.hh.indexOf(n);};c.prototype.MRb=function(l){return 0 <= l?1 >= l?l:1:0;};c.prototype.Nl=function(l){return this.wb.fk(l)?(l / 1E3).toFixed(0):"";};c.prototype.kb=function(l,n,p){n=n || ({});n.target=this;this.Eb.Cc(l,n,!p);};c.prototype.lI=function(){var l;l=this;this.j.addEventListener(f.ea.pwa,function(){l.kb(f.Ja.On);});this.j.YC.addListener(function(){l.kb(f.Ja.txa);});this.j.addEventListener(f.ea.lcb,function(){l.kb(f.Ja.kcb);});this.j.addEventListener(f.ea.X6,function(){l.kb(f.Ja.t2);});this.j.addEventListener(f.ea.Hj,function(){l.kb(f.Ja.t2);});this.j.addEventListener(f.ea.GL,function(n){l.kb(f.Ja.GL,{errorCode:n});});this.j.addEventListener(f.ea.Eha,function(){l.kb(f.Ja.jRa);});this.j.addEventListener(f.ea.Kh,function(n){l.kb(f.Ja.k2,n);});this.j.addEventListener(f.ea.Nbb,function(){l.kb(f.Ja.h2);l.kb(f.Ja.Rt);});this.j.Ah.addListener(function(){l.kb(f.Ja.Dsa);});this.j.paused.addListener(function(){l.kb(f.Ja.n6a);});this.j.muted.addListener(function(){l.kb(f.Ja.z4a);});this.j.volume.addListener(function(){l.kb(f.Ja.zdb);});this.j.mb.addListener(function(){l.scb();});this.j.state.addListener(function(){l.scb();});this.j.cia.addListener(function(n){l.xOb || l.j.state.value != f.Ub.ae || n.newValue || (l.xOb=!0,l.kb(f.Ja.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.bna());}));l.kb(f.Ja.dK);});this.j.tc.addListener(function(){l.kb(f.Ja.El);l.kb(f.Ja.Rt);setTimeout(function(){var n,p;n=l.j.tc.value;p=l.j.xb.value;null === n || null === p || l.r1a(n,p) || (l.log.info("Changing timed text track to match audio track"),l.j.xb.set(n.hh[0]));},0);});this.j.xb.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || l.kb(f.Ja.ll);});this.j.addEventListener(f.ea.Rt,function(){l.kb(f.Ja.Rt);});this.j.addEventListener(f.ea.CX,function(){l.kb(f.Ja.CX);});this.j.state.addListener(function(n){switch(n.newValue){case f.Ub.ae:l.kb(f.Ja.tka);l.kb(f.Ja.txa);l.kb(f.Ja.h2);l.kb(f.Ja.Rt);l.kb(f.Ja.C2a);l.v7a();l.T5b();break;case f.Ub.CLOSING:l.j.vh && l.kb(f.Ja.F0a,l.j.vh);break;case f.Ub.CLOSED:(l.kb(f.Ja.closed),l.Eb.uh());}});this.j.addEventListener(f.ea.YB,function(){l.kb(f.Ja.YB);l.kb(f.Ja.On);l.kb(f.Ja.t2);l.kb(f.Ja.tka);});};c.prototype.T5b=function(){var l;l=this;this.j.nn.addEventListener("showsubtitle",function(n){l.kb(f.Ja.zva,n,!0);});this.j.nn.addEventListener("removesubtitle",function(n){l.kb(f.Ja.Fta,n,!0);});this.j.Vn().Cl.addListener(function(){l.kb(f.Ja.drb);});};c.prototype.v7a=function(){if(this.j.state.value == f.Ub.ae){for(var l,n,p;n=this.q6a.shift();){l=this.j.nn.Fga(n.url,n.name,n.options);n.Gsb && (p=l);}p && this.j.xb.set(p);}};c.prototype.scb=function(){var l;l=this.j.state.value == f.Ub.ae && this.j.mb.value == f.bb.jq;this.ended !== l && (this.ended=l,this.j.CE("Ended changed: " + l),(l || this.j.state.value === f.Ub.CLOSING) && this.kb(f.Ja.dWa));};c.prototype.QF=function(){var l,n;try{l=/playercore.*js/;n=d.ru.getEntriesByType("resource").filter(function(p){return null !== l.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.rEa=c;},27279:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K;function c(N){this.ac=N;}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;r=a(70655);k=a(86700);f=a(98540);h=a(89682);d=a(89542);g=a(71163);m=a(1265);l=a(89895);n=a(56281);p=a(88790);q=a(78274);u=a(8010);t=a(17445);v=a(24631);w=a(21182);y=a(24166);x=a(58998);A=a(76586);z=a(69379);B=a(78139);C=a(17244);D=a(31303);F=a(98431);G=a(35664);E=a(77174);J=a(14641);K=a(60634);c.prototype.vK=function(N,I,O,L,H,M){return this.ac.get(C.cc)().K$?new v.GMa(this.ac.get(g.Xa),this.ac.get(w.Dda),this.ac.get(y.Kw),this.ac.get(x.Jc),this.ac.get(A.yD),this.ac.get(m.Iba),this.ac.get(z.Hca),this.ac.get(B.bDa),this.ac.get(D.pJa),this.ac.get(F.jea),this.ac.get(F.jea),this.ac.get(G.Fg),this.ac.get(J.wP),this.ac.get(E.Uba),this.ac.get(K.Vh),L,O):new p.rEa(this.ac.get(h.ph),this.ac.get(d.Zf),this.ac.get(g.Xa),this.ac.get(m.Iba),this.ac.get(l.bea),this.ac.get(q.oda),this.ac.get(u.Hba),this.ac.get(t.$Ha),this.ac.get(n.iBa),N,I,O,L,H,M);};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.oEa))],a);b.EMa=a;},77424:function(r,b,a){r.exports={Qkb:a(62448),g7b:a(69675)};},69675:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function k(f){this.Ve=null;this.js=f;this.size=0;}b=a(5301);c.prototype.Ug=function(f){return f?this.right:this.left;};c.prototype.aq=function(f,h){f?this.right=h:this.left=h;};k.prototype=new b();k.prototype.et=function(f){if(null === this.Ve)(this.Ve=new c(f),this.size++);else for(var h=0,d=null,g=this.Ve;;){if(null === g){g=new c(f);d.aq(h,g);ret=!0;this.size++;break;}if(0 === this.js(g.data,f))break;h=0 > this.js(g.data,f);d=g;g=g.Ug(h);}};k.prototype.remove=function(f){var h,d,n;if(null === this.Ve)return !1;h=new c(void 0);d=h;d.right=this.Ve;for(var g=null,m=null,l=1;null !== d.Ug(l);){g=d;d=d.Ug(l);n=this.js(f,d.data);l=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,g.aq(g.right === d,d.Ug(null === d.left)),this.Ve=h.right,this.size--,!0):!1;};r.exports=k;},62448:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function k(g){this.Ve=null;this.js=g;this.size=0;}function f(g){return null !== g && g.red;}function h(g,m){var l;l=g.Ug(!m);g.aq(!m,l.Ug(m));l.aq(m,g);g.red=!0;l.red=!1;return l;}function d(g,m){g.aq(!m,h(g.Ug(!m),!m));return h(g,m);}b=a(5301);c.prototype.Ug=function(g){return g?this.right:this.left;};c.prototype.aq=function(g,m){g?this.right=m:this.left=m;};k.prototype=new b();k.prototype.et=function(g){var m,l,n,p,q,u,t,v;if(null === this.Ve)(this.Ve=new c(g),this.size++);else {m=new c(void 0);l=0;n=0;p=null;q=m;u=null;t=this.Ve;for(q.right=this.Ve;;){null === t?(t=new c(g),u.aq(l,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){v=q.right === p;t === u.Ug(n)?q.aq(v,h(p,!n)):q.aq(v,d(p,!n));}v=this.js(t.data,g);if(0 === v)break;n=l;l=0 > v;null !== p && (q=p);p=u;u=t;t=t.Ug(l);}this.Ve=m.right;}this.Ve.red=!1;};k.prototype.remove=function(g){var m,l,t,v,w;if(null === this.Ve)return !1;m=new c(void 0);l=m;l.right=this.Ve;for(var n=null,p,q=null,u=1;null !== l.Ug(u);){t=u;p=n;n=l;l=l.Ug(u);v=this.js(g,l.data);u=0 < v;0 === v && (q=l);if(!f(l) && !f(l.Ug(u)))if(f(l.Ug(!u)))(p=h(l,u),n.aq(t,p),n=p);else if(!f(l.Ug(!u)) && (v=n.Ug(!t),null !== v))if(f(v.Ug(!t)) || f(v.Ug(t))){w=p.right === n;f(v.Ug(t))?p.aq(w,d(n,t)):f(v.Ug(!t)) && p.aq(w,h(n,t));t=p.Ug(w);t.red=!0;l.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,v.red=!0,l.red=!0);}null !== q && (q.data=l.data,n.aq(n.right === l,l.Ug(null === l.left)),this.size--);this.Ve=m.right;null !== this.Ve && (this.Ve.red=!1);return null !== q;};r.exports=k;},5301:function(r){function b(){}function a(c){this.uPa=c;this.Mo=[];this.pg=null;}b.prototype.clear=function(){this.Ve=null;this.size=0;};b.prototype.find=function(c){var f;for(var k=this.Ve;null !== k;){f=this.js(c,k.data);if(0 === f)return k.data;k=k.Ug(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var k=this.Ve,f=this.iterator(),h=this.js;null !== k;){d=h(c,k.data);if(0 === d)return (f.pg=k,f);f.Mo.push(k);k=k.Ug(0 < d);}for(d=f.Mo.length - 1;0 <= d;--d){if((k=f.Mo[d],0 > h(c,k.data)))return (f.pg=k,f.Mo.length=d,f);}f.Mo.length=0;return f;};b.prototype.upperBound=function(c){for(var k=this.lowerBound(c),f=this.js;null !== k.data() && 0 === f(k.data(),c);){k.next();}return k;};b.prototype.min=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Ms=function(c){for(var k=this.iterator(),f;null !== (f=k.next());){c(f);}};a.prototype.data=function(){return null !== this.pg?this.pg.data:null;};a.prototype.next=function(){var c;if(null === this.pg){c=this.uPa.Ve;null !== c && this.oOa(c);}else if(null === this.pg.right){do {if((c=this.pg,this.Mo.length))this.pg=this.Mo.pop();else {this.pg=null;break;}}while(this.pg.right === c);}else (this.Mo.push(this.pg),this.oOa(this.pg.right));return null !== this.pg?this.pg.data:null;};a.prototype.dH=function(){var c;if(null === this.pg){c=this.uPa.Ve;null !== c && this.kOa(c);}else if(null === this.pg.left){do {if((c=this.pg,this.Mo.length))this.pg=this.Mo.pop();else {this.pg=null;break;}}while(this.pg.left === c);}else (this.Mo.push(this.pg),this.kOa(this.pg.left));return null !== this.pg?this.pg.data:null;};a.prototype.oOa=function(c){for(;null !== c.left;){this.Mo.push(c);c=c.left;}this.pg=c;};a.prototype.kOa=function(c){for(;null !== c.right;){this.Mo.push(c);c=c.right;}this.pg=c;};r.exports=b;},21924:function(r,b,a){var c,k,f;c=a(40210);k=a(55559);f=k(c("String.prototype.indexOf"));r.exports=function(h,d){d=c(h,!!d);return "function" === typeof d && -1 < f(h,".prototype.")?k(d):d;};},55559:function(r,b,a){var k,f,h,d,g,m,l;function c(){return d(k,f,arguments);}k=a(58612);b=a(40210);f=b("%Function.prototype.apply%");h=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || k.call(h,f);g=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);l=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(k,h,arguments);g && m && g(p,"length").configurable && m(p,"length",{value:1 + l(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},4289:function(r,b,a){var c,k,f,h,d,g;c=a(82215);k="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;h=Array.prototype.concat;d=Object.defineProperty;b=a(31044)();g=d && b;r.exports=function(m,l){var n,p,u,t,v,w;n=2 < arguments.length?arguments[2]:{};p=c(l);k && (p=h.call(p,Object.getOwnPropertySymbols(l)));for(var q=0;q < p.length;q+=1){u=m;t=p[q];v=l[p[q]];w=n[p[q]];if(!((t in u)) || "function" === typeof w && "[object Function]" === f.call(w) && w())g?d(u,t,{configurable:!0,enumerable:!1,value:v,writable:!0}):u[t]=v;}};},41503:function(r,b,a){var c,k,f,h,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;k=a(34149);f=a(95320);h=a(18923);d=a(12636);r.exports=function(g){var m,l,n;if(k(g))return g;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){l=Symbol.toPrimitive;n=g[l];if(null !== n && "undefined" !== typeof n){if(!f(n))throw new TypeError(n + " returned for property " + l + " of object " + g + " is not a function");l=n;}else l=void 0;}else d(g) && (l=Symbol.prototype.valueOf);if("undefined" !== typeof l){m=l.call(g,m);if(k(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (h(g) || d(g)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(l=0;l < m.length;++l){if((n=g[m[l]],f(n) && (n=n.call(g),k(n))))break a;}throw new TypeError("No default value");}return n;};},34149:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},17187:function(r){function b(){this.gb=this.gb || ({});this.ss=this.ss || void 0;}function a(k){return "function" === typeof k;}function c(k){return "object" === typeof k && null !== k;}r.exports=b;b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.ss=void 0;b.Xja=10;b.prototype.setMaxListeners=function(k){if("number" !== typeof k || 0 > k || isNaN(k))throw TypeError("n must be a positive number");this.ss=k;return this;};b.prototype.emit=function(k){var f,h,d,g;this.gb || (this.gb={});if("error" === k && (!this.gb.error || c(this.gb.error) && !this.gb.error.length)){h=arguments[1];if(h instanceof Error)throw h;d=Error('Uncaught, unspecified "error" event. (' + h + ")");d.context=h;throw d;}d=this.gb[k];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(h=Array.prototype.slice.call(arguments,1),d.apply(this,h));}else if(c(d)){h=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,h);}}return !0;};b.prototype.addListener=function(k,f){if(!a(f))throw TypeError("listener must be a function");this.gb || (this.gb={});this.gb.dRb && this.emit("newListener",k,a(f.listener)?f.listener:f);this.gb[k]?c(this.gb[k])?this.gb[k].push(f):this.gb[k]=[this.gb[k],f]:this.gb[k]=f;c(this.gb[k]) && !this.gb[k].zxa && (f=void 0 === this.ss?b.Xja:this.ss) && 0 < f && this.gb[k].length > f && (this.gb[k].zxa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.gb[k].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(k,f){var d;function h(){this.removeListener(k,h);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;h.listener=f;this.on(k,h);return this;};b.prototype.removeListener=function(k,f){var h,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.gb || !this.gb[k])return this;h=this.gb[k];d=h.length;g=-1;if(h === f || a(h.listener) && h.listener === f)(delete this.gb[k],this.gb.removeListener && this.emit("removeListener",k,f));else if(c(h)){for(;0 < d--;){if(h[d] === f || h[d].listener && h[d].listener === f){g=d;break;}}if(0 > g)return this;1 === h.length?(h.length=0,delete this.gb[k]):h.splice(g,1);this.gb.removeListener && this.emit("removeListener",k,f);}return this;};b.prototype.removeAllListeners=function(k){var f;if(!this.gb)return this;if(!this.gb.removeListener)return (0 === arguments.length?this.gb={}:this.gb[k] && delete this.gb[k],this);if(0 === arguments.length){for(f in this.gb){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.gb={};return this;}f=this.gb[k];if(a(f))this.removeListener(k,f);else if(f)for(;f.length;){this.removeListener(k,f[f.length - 1]);}delete this.gb[k];return this;};b.prototype.listeners=function(k){return this.gb && this.gb[k]?a(this.gb[k])?[this.gb[k]]:this.gb[k].slice():[];};b.prototype.listenerCount=function(k){if(this.gb){k=this.gb[k];if(a(k))return 1;if(k)return k.length;}return 0;};b.listenerCount=function(k,f){return k.listenerCount(f);};},17648:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var k;k=this;if("function" !== typeof k || "[object Function]" !== a.call(k))throw new TypeError("Function.prototype.bind called on incompatible " + k);for(var f=b.call(arguments,1),h,d=Math.max(0,k.length - f.length),g=[],m=0;m < d;m++){g.push("$" + m);}h=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var l;if(this instanceof h){l=k.apply(this,f.concat(b.call(arguments)));return Object(l) === l?l:this;}return k.apply(c,f.concat(b.call(arguments)));});k.prototype && (d=function(){},d.prototype=k.prototype,h.prototype=new d(),d.prototype=null);return h;};},58612:function(r,b,a){b=a(17648);r.exports=Function.prototype.bind || b;},40210:function(r,b,a){var h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D;function c(F){var G,E,J;G=z(F,0,1);E=z(F,-1);if("%" === G && "%" !== E)throw new h("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new h("invalid intrinsic syntax, expected opening `%`");J=[];A(F,C,function(K,N,I,O){J[J.length]=I?A(O,D,"$1"):N || K;});return J;}function k(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}h=SyntaxError;d=Function;g=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(F){m=null;}b=m?(function(){try{return (arguments.callee,k);}catch(F){try{return m(arguments,"callee").get;}catch(G){return k;}}})():k;l=a(41405)();n=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && l?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && l?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?n(("")[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":h,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=n(n(F));u["%Error.prototype%"]=b;}t=function E(G){var J,K;if("%AsyncFunction%" === G)J=f("async function () {}");else if("%GeneratorFunction%" === G)J=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)J=f("async function* () {}");else if("%AsyncGenerator%" === G){K=E("%AsyncGeneratorFunction%");K && (J=K.prototype);}else "%AsyncIteratorPrototype%" === G && (K=E("%AsyncGenerator%")) && (J=n(K.prototype));return u[G]=J;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(58612);w=a(17642);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);A=b.call(Function.call,String.prototype.replace);z=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,E){var J,K,N,I,O,L,H,M,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");J=c(G);K=0 < J.length?J[0]:"";N="%" + K + "%";I=N;if(w(v,I)){O=v[I];I="%" + O[0] + "%";}if(w(u,I)){L=u[I];L === p && (L=t(I));if("undefined" === typeof L && !E)throw new g("intrinsic " + N + " exists, but is not available. Please file an issue!");}else throw new h("intrinsic " + N + " does not exist!");N=L;I=!1;O && (K=O[0],x(J,y([0,1],O)));O=1;for(L=!0;O < J.length;O+=1){H=J[O];M=z(H,0,1);R=z(H,-1);if(('"' === M || "'" === M || "`" === M || '"' === R || "'" === R || "`" === R) && M !== R)throw new h("property names with quotes must have matching quotes");"constructor" !== H && L || (I=!0);K+="." + H;M="%" + K + "%";if(w(u,M))N=u[M];else if(null != N){if(!((H in N))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}m && O + 1 >= J.length?(R=m(N,H),N=(L=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:N[H]):(L=w(N,H),N=N[H]);L && !I && (u[M]=N);}}return N;};},31044:function(r,b,a){var k;function c(){if(k)try{return (k({},"a",{value:1}),!0);}catch(f){}return !1;}k=a(40210)("%Object.defineProperty%",!0);c.VJb=function(){if(!c())return null;try{return 1 !== k([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},41405:function(r,b,a){var c,k;c="undefined" !== typeof Symbol && Symbol;k=a(55419);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:k();};},55419:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},96410:function(r,b,a){var c;c=a(55419);r.exports=function(){return c() && !!Symbol.toStringTag;};},17642:function(r,b,a){b=a(58612);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},99934:function(r,b,a){var f,h;function c(d,g,m,l,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(f.kib);Reflect.Dna(d,g) && (p=Reflect.getMetadata(d,g));m=p[n];if(Array.isArray(m)){q=0;for(var u=m;q < u.length;q++){t=u[q];if(t.key === l.key)throw Error(f.Kgb + " " + t.key.toString());}}else m=[];m.push(l);p[n]=m;Reflect.p3(d,p,g);}function k(d,g){return function(m,l){g(m,l,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);h=a(6867);b.OH=function(d,g,m,l){c(h.ILa,d,g,l,m);};b.oX=function(d,g,m){c(h.JLa,d.constructor,g,m);};b.WA=function(d,g,m){"number" === typeof m?(d=[k(m,d)],Reflect.WA(d,g)):"string" === typeof m?Reflect.WA([d],g,m):Reflect.WA([d],g);};},5744:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);f=a(47738);h=a(99934);r=(function(){function d(g){this.lmb=g;}d.prototype.V3b=function(){return this.lmb();};return d;})();b.nca=r;b.l=function(d){return function(g,m,l){var n;if(void 0 === d)throw Error(c.Glb(g.name));n=new f.Metadata(k.mP,d);"number" === typeof l?h.OH(g,m,l,n):h.oX(g,m,n);};};},64315:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);b.U=function(){return function(f){var h;if(Reflect.Dna(k.$ca,f))throw Error(c.Jgb);h=Reflect.getMetadata(k.ggb,f) || [];Reflect.p3(k.$ca,h,f);return f;};};},71693:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.IG=function(h){return function(d,g,m){var l;l=new k.Metadata(c.xD,h);"number" === typeof m?f.OH(d,g,m,l):f.oX(d,g,l);};};},38085:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.B4a=function(h){return function(d,g,m){var l;l=new k.Metadata(c.Qz,h);"number" === typeof m?f.OH(d,g,m,l):f.oX(d,g,l);};};},6515:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.optional=function(){return function(h,d,g){var m;m=new k.Metadata(c.eHa,!0);"number" === typeof g?f.OH(h,d,g,m):f.oX(h,d,m);};};},7014:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);f=a(47738);b.W6a=function(){return function(h,d){d=new f.Metadata(k.NP,d);if(Reflect.Dna(k.NP,h.constructor))throw Error(c.bjb);Reflect.p3(k.NP,d,h.constructor);};};},32052:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(47738);k=a(99934);b.abb=function(f,h){return function(d,g,m){var l;l=new c.Metadata(f,h);"number" === typeof m?k.OH(d,g,m,l):k.oX(d,g,l);};};},55638:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.pX=function(h){return function(d,g,m){var l;l=new k.Metadata(c.i_,h);f.OH(d,g,m,l);};};},86757:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.pn=function(){return function(h,d,g){var m;m=new k.Metadata(c.aQ,!0);f.OH(h,d,g,m);};};},44290:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);k=a(37791);r=(function(){function f(h,d){this.id=k.id();this.zga=!1;this.Eg=h;this.scope=d;this.type=c.ij.yib;this.$E=function(){return !0;};this.IK=this.Lv=this.Vy=this.$K=this.cache=this.Sl=null;}f.prototype.clone=function(){var h;h=new f(this.Eg,this.scope);h.zga=!1;h.Sl=this.Sl;h.IK=this.IK;h.scope=this.scope;h.type=this.type;h.$K=this.$K;h.Vy=this.Vy;h.$E=this.$E;h.Lv=this.Lv;h.cache=this.cache;return h;};return f;})();b.efb=r;},23184:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Raa={i9b:2,VGa:0,Bjb:1};},16674:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jgb="Cannot apply @injectable decorator multiple times.";b.Kgb="Metadata key was used more than once in a parameter:";b.IP="NULL argument";b.xEa="Key Not Found";b.deb="Ambiguous match found for serviceIdentifier:";b.Afb="Could not unbind serviceIdentifier:";b.mjb="No matching bindings found for serviceIdentifier:";b.Pib="Missing required @injectable annotation in:";b.Qib="Missing required @inject or @multiInject annotation in:";b.Glb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Dfb="Circular dependency found:";b.A9b="Sorry, this feature is not fully implemented yet.";b.jib="Invalid binding type:";b.ojb="No snapshot available to restore.";b.nib="Invalid return type in middleware. Middleware must return!";b.mib="Value provided to function binding must be a function!";b.oib="The toSelf function can only be applied when a constructor is used as service identifier";b.kib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.feb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Tfb="Invalid Container constructor argument. Container options must be an object.";b.Rfb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Qfb="Invalid Container option. Auto bind injectable must be a boolean";b.Sfb="Invalid Container option. Skip base check must be a boolean";b.bjb="Cannot apply @postConstruct decorator multiple times in the same class";b.vkb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Efb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.jlb="Maximum call stack size exceeded";},28421:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qr={Request:"Request",eea:"Singleton",$_:"Transient"};b.ij={uAa:"ConstantValue",vAa:"Constructor",CBa:"DynamicValue",Kba:"Factory",Function:"Function",Instance:"Instance",yib:"Invalid",aKa:"Provider"};b.$w={jAa:"ClassProperty",wAa:"ConstructorArgument",wea:"Variable"};},6867:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qz="named";b.i_="name";b.aQ="unmanaged";b.eHa="optional";b.mP="inject";b.xD="multi_inject";b.ILa="inversify:tagged";b.JLa="inversify:tagged_props";b.$ca="inversify:paramtypes";b.ggb="design:paramtypes";b.NP="post_construct";},51389:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u;c=this && this.__awaiter || (function(t,v,w,y){return new (w || (w=Promise))(function(x,A){function z(D){try{C(y.next(D));}catch(F){A(F);}}function B(D){try{C(y["throw"](D));}catch(F){A(F);}}function C(D){D.done?x(D.value):new w(function(F){F(D.value);}).then(z,B);}C((y=y.apply(t,v || [])).next());});});k=this && this.__generator || (function(t,v){var x,A,z,B,C;function w(D){return function(F){return y([D,F]);};}function y(D){if(A)throw new TypeError("Generator is already executing.");for(;x;){try{if((A=1,z && (B=z[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(z,D[1])).done))return B;if((z=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;z=D[1];D=[0];continue;case 7:D=x.OG.pop();x.Vj.pop();continue;default:if(!(B=x.Vj,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.OG.push(D));else {B[2] && x.OG.pop();x.Vj.pop();continue;}}D=v.call(t,x);}catch(F){D=[6,F];z=0;}finally{A=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,Ra:function(){if(B[0] & 1)throw B[1];return B[1];},Vj:[],OG:[]};return (C={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});f=a(44290);h=a(16674);d=a(28421);a(6867);g=a(51377);m=a(86311);l=a(31927);n=a(51860);p=a(37791);q=a(55800);a(85700);u=a(80175);r=(function(){function t(v){v=v || ({});if("object" !== typeof v)throw Error("" + h.Tfb);if(void 0 === v.eF)v.eF=d.Qr.$_;else if(v.eF !== d.Qr.eea && v.eF !== d.Qr.$_ && v.eF !== d.Qr.Request)throw Error("" + h.Rfb);if(void 0 === v.LR)v.LR=!1;else if("boolean" !== typeof v.LR)throw Error("" + h.Qfb);if(void 0 === v.DH)v.DH=!1;else if("boolean" !== typeof v.DH)throw Error("" + h.Sfb);this.options={LR:v.LR,eF:v.eF,DH:v.DH};this.id=p.id();this.UD=new u.Gib();this.mpb=[];this.parent=this.Ofa=null;this.Onb=new g.Mca();}t.prototype.load=function(){var x,A;for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}w=this.ENa();for(var y=0;y < v.length;y++){x=v[y];A=w(x.id);x.zta(A.uRa,A.dcb,A.y1a,A.$7a);}};t.prototype.CU=function(){for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}c(this,void 0,void 0,function(){var y,x,A,z,B;return k(this,function(C){switch(C.label){case 0:(y=this.ENa(),x=0,A=v,C.label=1);case 1:if(!(x < A.length))return [3,4];z=A[x];B=y(z.id);return [4,z.zta(B.uRa,B.dcb,B.y1a,B.$7a)];case 2:(C.Ra(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.icb=function(){function v(A){return function(z){return z.o4a === A;};}for(var w=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(A){A=v(A.id);w.UD.EXb(A);});};t.prototype.bind=function(v){var w;w=new f.efb(v,this.options.eF || d.Qr.$_);this.UD.add(v,w);return new n.gfb(w);};t.prototype.IWb=function(v){this.ccb(v);return this.bind(v);};t.prototype.ccb=function(v){try{this.UD.remove(v);}catch(w){throw Error(h.Afb + " " + q.xL(v));}};t.prototype.P0a=function(v){var w;w=this.UD.l_a(v);!w && this.parent && (w=this.parent.P0a(v));return w;};t.prototype.restore=function(){var v;v=this.mpb.pop();if(void 0 === v)throw Error(h.ojb);this.UD=v.OR;this.Ofa=v.lQb;};t.prototype.iyb=function(){var v;v=new t(this.options);v.parent=this;return v;};t.prototype.get=function(v){return this.DNa(!1,!1,d.$w.wea,v);};t.prototype.getAll=function(v){return this.DNa(!0,!0,d.$w.wea,v);};t.prototype.resolve=function(v){var w;w=this.iyb();w.bind(v).Cbb();return w.get(v);};t.prototype.ENa=function(){var A;function v(z){return function(B){B=A.IWb.bind(A)(B);B.xc.o4a=z;return B;};}function w(){return function(z){return A.P0a.bind(A)(z);};}function y(){return function(z){A.ccb.bind(A)(z);};}function x(z){return function(B){B=A.bind.bind(A)(B);B.xc.o4a=z;return B;};}A=this;return function(z){return {uRa:x(z),y1a:w(z),$7a:v(z),dcb:y(z)};};};t.prototype.DNa=function(v,w,y,x){var A;A=null;v={Jsb:v,qwb:function(z){return z;},wMb:w,key:void 0,Eg:x,k2b:y,value:void 0};if(this.Ofa){if((A=this.Ofa(v),void 0 === A || null === A))throw Error(h.nib);}else A=this.Cob()(v);return A;};t.prototype.Cob=function(){var v;v=this;return function(w){var y;y=m.OM(v.Onb,v,w.wMb,w.k2b,w.Eg,w.key,w.value,w.Jsb);y=w.qwb(y);return l.resolve(y);};};return t;})();b.AY=r;},33244:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);b.Yc=(function(){return function(k){this.id=c.id();this.zta=k;};})();b.Wya=(function(){return function(k){this.id=c.id();this.zta=k;};})();},85700:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y7b=(function(){function a(){}a.of=function(c,k){var f;f=new a();f.OR=c;f.lQb=k;return f;};return a;})();},80175:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);r=(function(){function k(){this.Nf=new Map();}k.prototype.add=function(f,h){var d;if(null === f || void 0 === f)throw Error(c.IP);if(null === h || void 0 === h)throw Error(c.IP);d=this.Nf.get(f);void 0 !== d?(d.push(h),this.Nf.set(f,d)):this.Nf.set(f,[h]);};k.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.IP);f=this.Nf.get(f);if(void 0 !== f)return f;throw Error(c.xEa);};k.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.IP);if(!this.Nf.delete(f))throw Error(c.xEa);};k.prototype.EXb=function(f){var h;h=this;this.Nf.forEach(function(d,g){d=d.filter(function(m){return !f(m);});0 < d.length?h.Nf.set(g,d):h.Nf.delete(g);});};k.prototype.l_a=function(f){if(null === f || void 0 === f)throw Error(c.IP);return this.Nf.has(f);};k.prototype.clone=function(){var f;f=new k();this.Nf.forEach(function(h,d){h.forEach(function(g){return f.add(d,g.clone());});});return f;};return k;})();b.Gib=r;},86700:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);b.Y8b=r;r=a(51389);b.AY=r.AY;r=a(28421);b.Qr=r.Qr;b.ij=r.ij;b.$w=r.$w;r=a(33244);b.Wya=r.Wya;b.Yc=r.Yc;r=a(64315);b.U=r.U;r=a(32052);b.abb=r.abb;r=a(38085);b.B4a=r.B4a;r=a(5744);b.l=r.l;b.nca=r.nca;r=a(6515);b.optional=r.optional;r=a(86757);b.pn=r.pn;r=a(71693);b.IG=r.IG;r=a(55638);b.pX=r.pX;r=a(7014);b.W6a=r.W6a;r=a(51377);b.Mca=r.Mca;r=a(37791);b.id=r.id;r=a(99934);b.WA=r.WA;r=a(80758);b.Ubb=r.Ubb;b.bbb=r.bbb;b.C4a=r.C4a;b.acb=r.acb;r=a(55800);b.xL=r.xL;a=a(70600);b.y4a=a.y4a;},95228:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function k(f){this.id=c.id();this.hb=f;}k.prototype.Eqb=function(f){this.OM=f;};return k;})();b.zAa=r;},47738:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function k(f,h){this.key=f;this.value=h;}k.prototype.toString=function(){return this.key === c.Qz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return k;})();b.Metadata=r;},51377:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function k(){}k.prototype.dYa=function(f){var h;h=Reflect.getMetadata(c.$ca,f);f=Reflect.getMetadata(c.ILa,f);return {eTa:h,Z4b:f || ({})};};k.prototype.rIb=function(f){return Reflect.getMetadata(c.JLa,f) || [];};return k;})();b.Mca=r;},55314:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dkb=(function(){return function(a,c){this.IM=a;this.kua=c;};})();},86311:function(r,b,a){var d,g,m,l,n,p,q,u,t,v,w,y;function c(x,A,z,B,C){var D,F;D=h(z.hb,C.Eg);F=[];D.length === d.Raa.VGa && z.hb.options.LR && "function" === typeof C.Eg && x.dYa(C.Eg).eTa && (z.hb.bind(C.Eg).Cbb(),D=h(z.hb,C.Eg));F=A?D:D.filter(function(G){var E;E=new w.Request(G.Eg,z,B,G,C);return G.$E(E);});k(C.Eg,F,C,z.hb);return F;}function k(x,A,z,B){switch(A.length){case d.Raa.VGa:if(z.e1a())return A;x=p.xL(x);A=g.mjb;A+=p.KNb(x,z);A+=p.t2a(B,x,h);throw Error(A);case d.Raa.Bjb:if(!z.isArray())return A;default:if(z.isArray())return A;x=p.xL(x);A=g.deb + " " + x;A+=p.t2a(B,x,h);throw Error(A);}}function f(x,A,z,B,C,D){var F;if(null === C){A=c(x,A,B,null,D);F=new w.Request(z,B,null,A,D);z=new t.Dkb(B,F);B.Eqb(z);}else (A=c(x,A,B,C,D),F=C.NPa(D.Eg,A,D));A.forEach(function(G){var E,J,K;E=null;if(D.isArray())E=F.NPa(G.Eg,G,D);else {if(G.cache)return;E=F;}if(G.type === m.ij.Instance && null !== G.Sl){J=v.yGb(x,G.Sl);if(!B.hb.options.DH){K=v.YFb(x,G.Sl);if(J.length < K)throw (G=g.feb(v.getFunctionName(G.Sl)),Error(G));}J.forEach(function(N){f(x,!1,N.Eg,B,E,N);});}});}function h(x,A){var z,B;z=[];B=x.UD;B.l_a(A)?z=B.get(A):null !== x.parent && (z=h(x.parent,A));return z;}Object.defineProperty(b,"__esModule",{value:!0});d=a(23184);g=a(16674);m=a(28421);l=a(6867);n=a(85265);p=a(55800);q=a(95228);u=a(47738);t=a(55314);v=a(6E3);w=a(6748);y=a(18924);b.Lcc=function(x){return x.UD;};b.OM=function(x,A,z,B,C,D,F,G){void 0 === G && (G=!1);A=new q.zAa(A);z=new u.Metadata(z?l.xD:l.mP,C);B=new y.Y_(B,"",C,z);void 0 !== D && (D=new u.Metadata(D,F),B.Ad.push(D));try{return (f(x,G,C,A,null,B),A);}catch(E){throw (n.p1a(E) && A.OM && p.ivb(A.OM.kua),E);}};b.Gbc=function(x,A,z,B){z=new y.Y_(m.$w.wea,"",A,new u.Metadata(z,B));x=new q.zAa(x);return new w.Request(A,x,null,[],z);};},88460:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.QN=c;}a.prototype.startsWith=function(c){return 0 === this.QN.indexOf(c);};a.prototype.endsWith=function(c){var k;k=c.split("").reverse().join("");c=this.QN.split("").reverse().join("");return this.startsWith.call({QN:c},k);};a.prototype.contains=function(c){return -1 !== this.QN.indexOf(c);};a.prototype.equals=function(c){return this.QN === c;};a.prototype.value=function(){return this.QN;};return a;})();b.Okb=r;},6E3:function(r,b,a){var d,g,m,l,n,p;function c(q,u,t,v){var w,y,x,A,B,C,D,F,G,E,J,K;w=q.dYa(t);y=w.eTa;if(void 0 === y)throw Error(g.Pib + " " + u + ".");w=w.Z4b;x=Object.keys(w);A=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var z=0;z < A;z++){B=z;C=v;D=u;F=y;G=w[B.toString()] || [];E=h(G);J=!0 !== E.pn;F=F[B];K=E.l || E.IG;F=K?K:F;F instanceof d.nca && (F=F.V3b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!C && J)throw Error(g.Qib + " argument " + B + " in class " + D + ".");B=new p.Y_(m.$w.wAa,E.pX,F);B.Ad=G;G=B;}else G=null;null !== G && x.push(G);}q=k(q,t);return x.concat(q);}function k(q,u){var x,A,z;for(var t=q.rIb(u),v=[],w=0,y=Object.keys(t);w < y.length;w++){x=y[w];A=t[x];z=h(t[x]);x=new p.Y_(m.$w.jAa,z.pX || x,z.l || z.IG);x.Ad=A;v.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=k(q,u),v=v.concat(q));return v;}function f(q,u){var t,v;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);v=t.map(function(w){return w.Ad.filter(function(y){return y.key === l.aQ;});});v=[].concat.apply([],v).length;t=t.length - v;return 0 < t?t:f(q,u);}return 0;}function h(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[l.mP],IG:u[l.xD],pX:u[l.i_],pn:u[l.aQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(5744);g=a(16674);m=a(28421);l=a(6867);n=a(55800);b.getFunctionName=n.getFunctionName;p=a(18924);b.yGb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.YFb=f;},6748:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function k(f,h,d,g,m){this.id=c.id();this.Eg=f;this.IM=h;this.Ny=d;this.target=m;this.Fia=[];this.OR=Array.isArray(g)?g:[g];this.eYb=null === d?new Map():null;}k.prototype.NPa=function(f,h,d){f=new k(f,this.IM,this,h,d);this.Fia.push(f);return f;};return k;})();b.Request=r;},18924:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(37791);f=a(47738);h=a(88460);r=(function(){function d(g,m,l,n){this.id=k.id();this.type=g;this.Eg=l;this.name=new h.Okb(m || "");this.Ad=[];g=null;"string" === typeof n?g=new f.Metadata(c.Qz,n):n instanceof f.Metadata && (g=n);null !== g && this.Ad.push(g);}d.prototype.u_a=function(g){for(var m=0,l=this.Ad;m < l.length;m++){if(l[m].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.u_a(c.xD);};d.prototype.nPb=function(g){return this.Zpa(c.xD)(g);};d.prototype.Goa=function(){return this.u_a(c.Qz);};d.prototype.Soa=function(){return this.Ad.some(function(g){return g.key !== c.mP && g.key !== c.xD && g.key !== c.i_ && g.key !== c.aQ && g.key !== c.Qz;});};d.prototype.e1a=function(){return this.Zpa(c.eHa)(!0);};d.prototype.OHb=function(){return this.Goa()?this.Ad.filter(function(g){return g.key === c.Qz;})[0]:null;};d.prototype.vGb=function(){return this.Soa()?this.Ad.filter(function(g){return g.key !== c.mP && g.key !== c.xD && g.key !== c.i_ && g.key !== c.aQ && g.key !== c.Qz;}):null;};d.prototype.Zpa=function(g){var m;m=this;return function(l){var q;for(var n=0,p=m.Ad;n < p.length;n++){q=p[n];if(q.key === g && q.value === l)return !0;}return !1;};};return d;})();b.Y_=r;},52279:function(r,b,a){var f,h,d;function c(g,m,l){var n;m=m.filter(function(p){return null !== p.target && p.target.type === h.$w.jAa;});n=m.map(l);m.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function k(g,m){var l;if(Reflect.cKb(d.NP,g)){l=Reflect.getMetadata(d.NP,g);try{m[l.value]();}catch(n){throw Error(f.vkb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);h=a(28421);d=a(6867);b.sYb=function(g,m,l){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === h.$w.wAa;}).map(l),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,m,l)):n=new g();k(g,n);return n;};},31927:function(r,b,a){var f,h,d,g,m;function c(l){return function(n){var p,q,u,t,v;p=n.OR;q=n.Fia;u=n.target && n.target.isArray();t=!n.Ny || !n.Ny.target || !n.target || !n.Ny.target.nPb(n.target.Eg);if(u && t)return q.map(function(w){return c(l)(w);});u=null;if(!n.target.e1a() || 0 !== p.length){v=p[0];p=v.scope === h.Qr.eea;t=v.scope === h.Qr.Request;if(p && v.zga)return v.cache;if(t && null !== l && l.has(v.id))return l.get(v.id);if(v.type === h.ij.uAa)u=v.cache;else if(v.type === h.ij.Function)u=v.cache;else if(v.type === h.ij.vAa)u=v.Sl;else if(v.type === h.ij.CBa && null !== v.IK)u=k("toDynamicValue",v.Eg,function(){return v.IK(n.IM);});else if(v.type === h.ij.Kba && null !== v.$K)u=k("toFactory",v.Eg,function(){return v.$K(n.IM);});else if(v.type === h.ij.aKa && null !== v.Vy)u=k("toProvider",v.Eg,function(){return v.Vy(n.IM);});else if(v.type === h.ij.Instance && null !== v.Sl)u=m.sYb(v.Sl,q,c(l));else throw (q=g.xL(n.Eg),Error(f.jib + " " + q));"function" === typeof v.Lv && (u=v.Lv(n.IM,u));p && (v.cache=u,v.zga=!0);t && null !== l && !l.has(v.id) && l.set(v.id,u);return u;}};}function k(l,n,p){try{return p();}catch(q){if(d.p1a(q))throw Error(f.Efb(l,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);h=a(28421);d=a(85265);g=a(55800);m=a(52279);b.resolve=function(l){return c(l.OM.kua.eYb)(l.OM.kua);};},83366:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);k=a(71325);r=(function(){function f(h){this.xc=h;}f.prototype.da=function(){this.xc.scope=c.Qr.eea;return new k.cD(this.xc);};f.prototype.Xna=function(){this.xc.scope=c.Qr.$_;return new k.cD(this.xc);};return f;})();b.ffb=r;},99812:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(83366);k=a(51811);f=a(98370);r=(function(){function h(d){this.xc=d;this.kQ=new f.Saa(this.xc);this.Iea=new k.sY(this.xc);this.fNa=new c.ffb(d);}h.prototype.da=function(){return this.fNa.da();};h.prototype.Xna=function(){return this.fNa.Xna();};h.prototype.when=function(d){return this.kQ.when(d);};h.prototype.YX=function(){return this.kQ.YX();};h.prototype.Lv=function(d){return this.Iea.Lv(d);};return h;})();b.kza=r;},51811:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(98370);r=(function(){function k(f){this.xc=f;}k.prototype.Lv=function(f){this.xc.Lv=f;return new c.Saa(this.xc);};return k;})();b.sY=r;},51860:function(r,b,a){var c,k,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(28421);f=a(99812);h=a(71325);r=(function(){function d(g){this.xc=g;}d.prototype.to=function(g){this.xc.type=k.ij.Instance;this.xc.Sl=g;return new f.kza(this.xc);};d.prototype.Cbb=function(){if("function" !== typeof this.xc.Eg)throw Error("" + c.oib);this.to(this.xc.Eg);};d.prototype.ml=function(g){this.xc.type=k.ij.uAa;this.xc.cache=g;this.xc.IK=null;this.xc.Sl=null;new h.cD(this.xc);};d.prototype.SC=function(g){this.xc.type=k.ij.CBa;this.xc.cache=null;this.xc.IK=g;this.xc.Sl=null;return new f.kza(this.xc);};d.prototype.W2b=function(g){this.xc.type=k.ij.vAa;this.xc.Sl=g;new h.cD(this.xc);};d.prototype.Vd=function(g){this.xc.type=k.ij.Kba;this.xc.$K=g;new h.cD(this.xc);};d.prototype.X2b=function(g){if("function" !== typeof g)throw Error(c.mib);this.ml(g);this.xc.type=k.ij.Function;};d.prototype.Abb=function(g){this.xc.type=k.ij.Kba;this.xc.$K=function(m){return function(){return m.hb.get(g);};};new h.cD(this.xc);};d.prototype.yX=function(g){this.xc.type=k.ij.aKa;this.xc.Vy=g;new h.cD(this.xc);};d.prototype.Z2b=function(g){this.SC(function(m){return m.hb.get(g);});};return d;})();b.gfb=r;},71325:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);k=a(98370);r=(function(){function f(h){this.xc=h;this.kQ=new k.Saa(this.xc);this.Iea=new c.sY(this.xc);}f.prototype.when=function(h){return this.kQ.when(h);};f.prototype.YX=function(){return this.kQ.YX();};f.prototype.Lv=function(h){return this.Iea.Lv(h);};return f;})();b.cD=r;},98370:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);a(80758);r=(function(){function k(f){this.xc=f;}k.prototype.when=function(f){this.xc.$E=f;return new c.sY(this.xc);};k.prototype.YX=function(){this.xc.$E=function(f){return null !== f.target && !f.target.Goa() && !f.target.Soa();};return new c.sY(this.xc);};return k;})();b.Saa=r;},80758:function(r,b,a){var f;function c(h){return function(d){function g(m){return null !== m && null !== m.target && m.target.Zpa(h)(d);}g.T3a=new f.Metadata(h,d);return g;};}function k(h,d){h=h.Ny;return null !== h?d(h)?!0:k(h,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);f=a(47738);b.Ubb=k;b.bbb=c;a=c(r.Qz);b.C4a=a;b.acb=function(h){return function(d){var g;if(null !== d){g=d.OR[0];return "string" === typeof h?g.Eg === h:h === d.OR[0].Sl;}return !1;};};},70600:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y4a=function(a){return function(c){return function(){for(var k=[],f=0;f < arguments.length;f++){k[f]=arguments[f];}return k.forEach(function(h){return a.bind(h).Z2b(c);});};};};},85265:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);b.p1a=function(k){return k instanceof RangeError || k.message === c.jlb;};},37791:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},55800:function(r,b,a){var g;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function k(m,l){return null === m.Ny?!1:m.Ny.Eg === l?!0:k(m.Ny,l);}function f(m){function l(n,p){var q;void 0 === p && (p=[]);q=c(n.Eg);p.push(q);return null !== n.Ny?l(n.Ny,p):p;}return l(m).reverse().join(" --\x3e ");}function h(m){m.Fia.forEach(function(l){if(k(l,l.Eg))throw (l=f(l),Error(g.Dfb + " " + l));h(l);});}function d(m){var l;if(m.name)return m.name;m=m.toString();l=m.match(/^function\s*([^\s(]+)/);return l?l[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});g=a(16674);b.xL=c;b.t2a=function(m,l,n){var p;p="";m=n(m,l);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var u;u="Object";null !== q.Sl && (u=d(q.Sl));p=p + "\n " + u;q.$E.T3a && (p=p + " - " + q.$E.T3a);}));return p;};b.ivb=h;b.KNb=function(m,l){var n,p;if(l.Soa() || l.Goa()){n="";p=l.OHb();l=l.vGb();null !== p && (n+=p.toString() + "\n");null !== l && l.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},95320:function(r){var k,f,h,d,g,m,l,n;function b(){return !1;}function a(p){try{if(c(p))return !1;k.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=k.call(p);return g.test(q);}catch(u){return !1;}}k=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,h);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;m=Object.prototype.toString;l="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && m.call(document.all) === m.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=m.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,h);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(l)return a(p);if(c(p))return !1;q=m.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},18923:function(r,b,a){var c,k,f;c=Date.prototype.getDay;k=Object.prototype.toString;f=a(96410)();r.exports=function(h){if("object" !== typeof h || null === h)h=!1;else if(f)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object Date]" === k.call(h);return h;};},98420:function(r,b,a){var c,k,f,h,d,g,m;b=a(21924);if(a=a(96410)()){c=b("Object.prototype.hasOwnProperty");k=b("RegExp.prototype.exec");f={};h=function(){throw f;};d={toString:h,valueOf:h};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=h);}g=b("Object.prototype.toString");m=Object.getOwnPropertyDescriptor;r.exports=a?function(l){var n;if(!l || "object" !== typeof l)return !1;n=m(l,"lastIndex");if(!n || !c(n,"value"))return !1;try{k(l,d);}catch(p){return p === f;}}:function(l){return !l || "object" !== typeof l && "function" !== typeof l?!1:"[object RegExp]" === g(l);};},29981:function(r,b,a){var c,k,f;c=String.prototype.valueOf;k=Object.prototype.toString;f=a(96410)();r.exports=function(h){if("string" === typeof h)h=!0;else if("object" !== typeof h)h=!1;else if(f)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object String]" === k.call(h);return h;};},12636:function(r,b,a){var c,k,f;c=Object.prototype.toString;if(a(41405)()){k=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(h){if("symbol" === typeof h)return !0;if("[object Symbol]" !== c.call(h))return !1;try{return "symbol" !== typeof h.valueOf()?!1:f.test(k.call(h));}catch(d){return !1;}};}else r.exports=function(){return !1;};},43186:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y;Object.defineProperties(b,{__esModule:{value:!0}});b.rya=void 0;c=a(70655);k=a(28075);f=a(21173);h=a(13024);d=a(43956);g=a(6495);m=a(73520);l=a(47571);a(64196);n=a(59708);p=a(4145);q=a(44724);u=a(89098);t=a(92758);v=a(33969);w=a(89909);y=a(74573);x=a(22258);A=a(72393);z=a(50971);B=a(79906);C=a(74005);D=c.__importDefault(a(29736));F=a(96607);G=a(1684);E=a(38534);J=a(5015);K=a(19829);N=a(19824);I=a(65398);O=a(23711);L=a(3442);H=a(56151);M=a(46127);R=a(37293);Y=a(27291);r=(function(){function ea(ca){this.S=ca;this.events=new k.EventEmitter();this.zc=f.au.CLOSED;this.Vu=[];this.TW=[];this.TQ=[];this.Vo=[];this.gNa={};this.f1={};this.cwa=f.GO.default;this.vpb=new y.Au({en:this,source:"engine",ko:10,console:ca});}Object.defineProperties(ea.prototype,{Tv:{get:function(){(0,q.assert)(this.sx);return this.sx;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{state:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{FUb:{get:function(){return this.TQ;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{$G:{get:function(){return this.Vo.map(function(ca){return ca.fa;});},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{HUb:{get:function(){return this.Vo;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{Sd:{get:function(){this.SH();return this.Nx.Sd;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{hV:{get:function(){this.SH();return this.Nx.hV;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{Gp:{get:function(){this.SH();return this.Nx.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{C5b:{get:function(){return this.Vu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{cK:{get:function(){return this.gNa;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{GRa:{get:function(){return this.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{EH:{get:function(){return this.f1;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{$Pb:{get:function(){return this.mOa || (this.mOa=this.aub());},enumerable:!1,configurable:!0}});ea.prototype.open=function(ca,oa,Ga,Fa){var Ja;Ja=this;if(this.zc === f.au.OPEN)return !1;this.X=ca;this.gq=new z.YP(new B.T_({li:!0,currentTime:function(){return C.N.Na(D.default.time.Da());},speed:1}),this.S,"Engine Scheduler");this.LNa=new g.HCa(this.S,ca);this.pA=new n.wKa(this.i6.bind(this),ca);ca.J$ && (this.Cn=new h.Cza(this.S,function(){return Ja.cK;}));this.Nx=m.pAa.Lma(ca,this.S,oa);this.zc=f.au.OPEN;ca=Object.create(ca,{jrb:{value:ca.Qqa || ca.irb}});this.sx=(0,O.vT)(ca);Ga && this.sx.s$a(Ga);Fa && this.sx.hva(Fa);this.O6a=new L.FJa({zj:function(){Ja.zc !== f.au.CLOSED && Ja.pA.zj("playgraphOpportunity");}});this.nOa=new E.sGa(function(){return Ja.R4();},function(){return Ja.S4().global;},this.S);this.Xyb();return !0;};ea.prototype.wR=function(ca,oa,Ga,Fa,Ja){var Xa,cb,W;Xa=this;void 0 === Ja && (Ja=!0);this.SH();Ga=Object.create(Ga,{GN:{value:this.EH}});if(Ja){cb=this.Tv.kvb(ca,Ga);if(cb)return (cb.Jcb(oa),ca=this.wo.bind(this,Fa,cb),cb.v_b(ca),cb);}cb=new N.yKa(function(aa){return Xa.wo(Fa,W,aa);},function(aa){return Xa.cw(Fa,aa);});W=(0,M.a3)(this.X,[ca,oa,Ga,ea.hRb++,this.Sd,cb,function(aa){return Xa.pA.zj(aa);},Ja?this.Tv.jvb.bind(this.Tv):function(){},this.R4.bind(this),this.Cn],this.S);W.Ye(new v.sLa(W));W.Ye(new w.MLa(W.Jd));W.J6.Ye(new J.Nya(W));W.J6.Ye(new I.TEa(W));this.oA.lH.forEach(function(aa){return W.Ye(aa);});this.O6a.wR(W);ca=new k.gf();ca.on(W.events,"requestsPruned",this.iYb.bind(this));ca.on(W.events,"weightUpdated",this.Hra.bind(this));ca.on(W.events,"underflow",this.yh.bind(this,W));this.Vo.push({fa:W,bn:ca,jW:0});this.Hra();return W;};ea.prototype.yh=function(ca){ca=this.nOa.fFb(ca);(null === ca || void 0 === ca?0:ca.u3) || this.Tv.reset();};ea.prototype.az=function(ca){this.O6a.az(ca);this.Vo=this.Vo.filter(function(oa){return oa.fa === ca?(oa.bn.clear(),!1):!0;});ca.Qa();this.Hra();};ea.prototype.Iqb=function(ca,oa){var Ga,Fa,Ja;this.SH();Ja=oa.fg;Ja=void 0 === Ja?[l.v.ga,l.v.Z]:Ja;ca=(0,R.vK)(this.X,[ca,Ja,c.__assign({GN:null !== (Fa=null !== (Ga=oa.GN) && void 0 !== Ga?Ga:this.f1) && void 0 !== Fa?Fa:{}},oa)]);this.TQ.push(ca);return ca;};ea.prototype.y8a=function(ca){this.SH();this.TQ=this.TQ.filter(function(oa){return oa !== ca;});ca.Qa();};ea.prototype.UZb=function(ca,oa){this.gNa=ca;this.f1=oa;this.mOa=void 0;};ea.prototype.DN=function(ca,oa){var Ga,Fa;Fa=null === (Ga=(0,p.qc)(this.Vu,function(Ja){return Ja.ZE.equals(ca);})) || void 0 === Ga?void 0:Ga.pa;Fa?Fa.DN(c.__assign(c.__assign({},oa),{nV:this.$qa.bind(this)})):this.TW.push({tdb:ca,Ava:oa});};ea.prototype.A8a=function(ca){this.TW=this.TW.filter(function(oa){return !oa.tdb.equals(ca);});};ea.prototype.close=function(){this.zc !== f.au.CLOSED && (this.AXb(),(0,q.assert)(0 === this.Vu.length,"Unexpected viewable lease after Playgraph destruction."),this.zXb(),this.TW=[],delete this.Nx,this.zc=f.au.CLOSED,this.gq.Qa());};ea.prototype.B_b=function(ca){this.cwa=ca;this.pA.zj("streamingModeChanged");};ea.prototype.Xyb=function(){this.oA=new K.Uda(this.X);this.oA.Ye(new F.bCa(this));this.oA.Ye(new A.zKa(this.Sd,this.pA));this.oA.Ye(new t.ZBa(this.Sd));this.oA.Ye(new x.ax(this.vpb));this.oA.Ye(new x.ax(this.pA.Fp));this.oA.Ye(new x.ax(this.LNa.ih));this.oA.Ye(new x.ax(this.nOa.ih));};ea.prototype.$qa=function(){};ea.prototype.kO=function(ca){return c.__awaiter(this,void 0,void 0,function(){var oa,Ga,Fa,Ja;return c.__generator(this,function(Xa){switch(Xa.label){case 0:return ((0,q.assert)(ca,"ase.updateViewable(): Viewable config not found."),oa=(0,p.qc)(this.Vu,function(cb){return !0 !== cb.ZE.Nq && cb.ZE.equals(ca);}),(0,q.assert)(oa,"ase.updateViewable(): Viewable entry not found."),[4,oa.yz]);case 1:return (Ga=Xa.Ra(),Ja=(Fa=Ga).kO,[4,ca.fq]);case 2:return (Ja.apply(Fa,[Xa.Ra()]),[2]);}});});};ea.prototype.wo=function(ca,oa,Ga){var Fa,Ja,Xa,cb;Fa=this;Ja=Ga.J;Xa=ca.Um(Ja,Ga.rW);(0,q.assert)(Xa,"ase.requestViewable(): Viewable config not found.");cb=(0,p.qc)(this.Vu,function(W){return !0 !== W.ZE.Nq && W.ZE.equals(Xa);});cb || (cb={ZE:Xa,yz:(function(){return c.__awaiter(Fa,void 0,void 0,function(){var W,aa;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,Xa.fq];case 1:return (W=Q.Ra(),aa=this.kv(Ja,Xa,W),cb.pa=aa,[2,aa]);}});});})(),pa:void 0,ENb:new u.oca(function(W){W() && Fa.Hta(cb);},(0,C.Ph)(D.default,this.S,("").concat(Ja)))},this.Vu.push(cb));ca=new Y.MMa(cb,this.S,oa,Ga);ca.events.once("error",this.Hta.bind(this,cb,!1));return ca;};ea.prototype.Hta=function(ca,oa){var Ga,Fa;void 0 === oa && (oa=!0);(0,q.assert)(ca,"expected viewableEntry to exist");Ga=ca.pa;Fa=ca.yz;oa && (Ga?Ga.Qa():Fa.then(function(Ja){Ja.Qa();}));this.Vu=this.Vu.filter(function(Ja){return Ja !== ca;});};ea.prototype.kv=function(ca,oa,Ga){var Ja,Xa,cb,W,aa,Q;function Fa(ka){Ja.events.emit("logdata",ka);}Ja=this;this.SH();Xa=Ga.W;cb=Ga.hv;W=Ga.wp;aa=Ga.fg;aa=void 0 === aa?l.Oz:aa;Ga=Ga.config;Q=[new d.Lca(l.v.ga),new d.Lca(l.v.Z)];Xa={W:Xa,config:Ga,hv:cb,wp:W,fg:aa,Sd:this.Nx.Sd,Gp:this.Nx.Gp,eDb:{xB:function(){return Ja.pA.zj("networkFailureReset");},uf:this.uf.bind(this,ca),Zq:this.Zq.bind(this,ca),LG:Fa},nKb:{LG:Fa,tL:function(ka){return Q[ka];},udc:function(){return !0;}},tW:{av:this.av.bind(this),Vp:this.Vp.bind(this)},EH:this.f1};ca=new d.Tya(ca,Xa);Ga.OK && (Xa=(0,p.qc)(this.TW,function(ka){return ka.tdb.equals(oa);})) && (Xa=Xa.Ava,this.A8a(oa),ca.DN(c.__assign(c.__assign({},Xa),{nV:this.$qa.bind(this)})));return ca;};ea.prototype.cw=function(ca,oa){return c.__awaiter(this,void 0,void 0,function(){var Ga,Fa,Ja,Xa,cb,W,aa,Q,ka;return c.__generator(this,function(P){switch(P.label){case 0:(Ga=oa.Oi,Fa=oa.J,Ja=ca.Um(Fa),(0,q.assert)(Ja,"ase.requestAdBreakHydration(): Parent viewable config not found."),Xa=(0,p.qc)(this.Vu,function(fa){return !0 !== fa.ZE.Nq && fa.ZE.equals(Ja);}),(0,q.assert)(Xa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Fa)),cb=Xa.pa,(0,q.assert)(cb,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Fa)),W=cb.W.mc,aa={Ef:{mc:W,Bd:Fa}},P.label=1);case 1:return (P.Vj.push([1,3,,4]),[4,ca.cw(Ga,aa)]);case 2:return (Q=P.Ra(),[2,{B1:Q,vha:cb}]);case 3:return (ka=P.Ra(),[2,Promise.reject(ka)]);case 4:return [2];}});});};ea.prototype.i6=function(){var ca,oa;(0,q.assert)(this.state === f.au.OPEN);ca=this.S4();oa=this.AL();return this.LNa.A5a(ca,oa);};ea.prototype.AL=function(){var ca,oa,Ga;ca=this;Ga=null !== (oa=this.X.fVb) && void 0 !== oa?oa:this.Vo.every(function(Fa){return !Fa.fa.Vq;});oa=(0,p.flatten)(this.Vo.map(function(Fa){return Fa.fa.AL().map(function(Ja){Fa.fa.Vq || 1 === Fa.jW || (Ja.WF=Fa.jW);return Ja;});}));this.cwa === f.GO.disabled?oa=[]:this.cwa === f.GO.MOb && (oa=oa.filter(function(Fa){return ca.X.o3a >= Fa.Fr - Fa.Jq;}));Ga || (Ga=oa.filter(function(Fa){var Ja;return 1 === (null !== (Ja=Fa.WF) && void 0 !== Ja?Ja:1);}),Ga.length && (oa=Ga));Ga=this.Vu.reduce(function(Fa,Ja){return Ja.pa?c.__spreadArray(c.__spreadArray([],c.__read(Fa),!1),c.__read(Ja.pa.AL()),!1):Fa;},[]);return (0,p.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(oa),!1),c.__read(Ga),!1));};ea.prototype.SH=function(){if(this.zc === f.au.CLOSED)throw Error("Engine CLOSED");};ea.prototype.AXb=function(){var ca,Fa;try{for(var oa=c.__values(this.Vo),Ga=oa.next();!Ga.done;Ga=oa.next()){Fa=Ga.value;Fa.bn.clear();this.az(Fa.fa);}}catch(Xa){var Ja;Ja={error:Xa};}finally{try{Ga && !Ga.done && (ca=oa.return) && ca.call(oa);}finally{if(Ja)throw Ja.error;}}};ea.prototype.zXb=function(){var ca;try{for(var oa=c.__values(this.TQ),Ga=oa.next();!Ga.done;Ga=oa.next()){this.y8a(Ga.value);}}catch(Ja){var Fa;Fa={error:Ja};}finally{try{Ga && !Ga.done && (ca=oa.return) && ca.call(oa);}finally{if(Fa)throw Fa.error;}}};ea.prototype.uf=function(ca,oa,Ga,Fa,Ja,Xa,cb){var W;void 0 === cb && (cb=!1);W=!1;this.pZa(ca).forEach(function(aa){if(!cb || (0,l.bo)(aa.jf.value))W=aa.uf(oa,ca,Ga,Fa,Ja,Xa,cb);});return W;};ea.prototype.Zq=function(ca){return this.pZa(ca).some(function(oa){return oa.Zq();});};ea.prototype.pZa=function(ca){return this.Vo.filter(function(oa){var Ga;for(oa=oa.fa;oa.Va;){oa=oa.Va;}Ga=oa.fa;return Object.keys(Ga.L).some(function(Fa){return Ga.L[Fa].J === ca;});}).map(function(oa){return oa.fa;});};ea.prototype.S4=function(){var ca;ca=new G.FCa();this.Vo.forEach(function(oa){var Ga,Fa;Ga=oa.fa;oa=oa.jW;Fa=Ga.S4();Fa.WF=oa;ca.add(Ga.id,Fa);});return ca;};ea.prototype.R4=function(){return this.$Pb;};ea.prototype.aub=function(){var ca,oa;oa=(0,H.XRa)(this.X,this.cK);return {total:(ca={},ca[l.v.Z]=this.cK.video || Infinity,ca[l.v.ga]=this.cK.audio || Infinity,ca[l.v.Ya]=this.cK.text || Infinity,ca.total=this.cK.total || Infinity,ca),Uva:oa};};ea.prototype.av=function(ca){var oa;this.pA.av(ca);null === (oa=this.Cn) || void 0 === oa?void 0:oa.av(ca);};ea.prototype.Vp=function(ca){this.pA.Vp(ca);};ea.prototype.Hra=function(){var ca;ca=this.$G.reduce(function(oa,Ga){return Math.max(Ga.weight,0) + oa;},0);this.Vo.forEach(function(oa){oa.jW=0 >= oa.fa.weight?0:oa.fa.weight / ca;});};ea.prototype.iYb=function(ca){var oa;oa=this;this.Cn && ca.requests.forEach(function(Ga){return oa.Cn.Vp(Ga);});};ea.hRb=0;c.__decorate([(0,y.Sb)({methodName:"open"})],ea.prototype,"open",null);c.__decorate([(0,y.Sb)({methodName:"addPlaygraph",context:function(ca){var oa,Ga;return {playgraphCount:null !== (Ga=null === (oa=ca.p5a.Vo) || void 0 === oa?void 0:oa.length) && void 0 !== Ga?Ga:0};}})],ea.prototype,"wR",null);c.__decorate([(0,y.Sb)({methodName:"removePlaygraph",context:function(ca){return {playgraphCount:ca.p5a.Vo.length};}})],ea.prototype,"az",null);c.__decorate([(0,y.Sb)({methodName:"close"})],ea.prototype,"close",null);c.__decorate([(0,y.Sb)({methodName:"setStreamingMode",zq:!0})],ea.prototype,"B_b",null);c.__decorate([(0,y.Sb)({methodName:"notifyAseException",zq:!0})],ea.prototype,"$qa",null);c.__decorate([(0,y.Sb)({methodName:"updateViewable"})],ea.prototype,"kO",null);c.__decorate([(0,y.Sb)({methodName:"requestViewable"})],ea.prototype,"wo",null);c.__decorate([(0,y.Sb)({methodName:"removeViewable"})],ea.prototype,"Hta",null);c.__decorate([(0,y.Sb)({methodName:"createViewable"})],ea.prototype,"kv",null);c.__decorate([(0,y.Sb)({methodName:"requestAdBreakHydration"})],ea.prototype,"cw",null);c.__decorate([(0,y.Sb)({methodName:"issueRequestOpportunity",ik:!0,return:!0})],ea.prototype,"i6",null);c.__decorate([(0,y.Sb)({methodName:"reportStreamingFailure",zq:!0})],ea.prototype,"uf",null);return ea;})();b.rya=r;},37293:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vK=void 0;c=a(70655);k=a(19821);f=a(51472);b.vK=function(h,d){var g,m,l;g=[function(n){return new (k.Faa.bind.apply(k.Faa,c.__spreadArray([void 0],c.__read(n.wUb),!1)))();}];if(h.ES){m=a(70744).lja;g.unshift(function(n,p){return m(n,p);});}if(h.rF){l=a(70744).lja;g.unshift(function(n,p){return l(n,p);});}return f.TO.R5({wUb:d},g);};},46127:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.a3=void 0;c=a(70655);k=a(95994);f=a(19709);h=a(86021);d=a(51472);b.a3=function(g,m,l){var n,p,q,u;n=[function(t){return new (f.Gaa.bind.apply(f.Gaa,c.__spreadArray([void 0],c.__read(t.SV),!1)))();}];p=(0,h.Ym)({fa:m[0]});k.K && l.trace("Creating playgraph",{Rec:p,Bbc:g.ES,Ze:g.rF});if(g.ES){q=a(93750);n.unshift(function(t,v){return q.dS({},t,v);});}if(g.rF){u=a(48487);n.unshift(function(t,v){return u.dS({},t,v);});}return d.TO.R5({SV:m,gha:[]},n);};},79391:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oYb=b.uL=void 0;c=a(70655).__importDefault(a(29736));k=a(43186);b.uL=function(){var h;if(!f){h=new c.default.Console("ASEJS","media|asejs");f=new k.rya(h);}return f;};b.oYb=function(){f=void 0;};},3442:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FJa=void 0;r=(function(){function a(c){this.zj=c.zj;this.xv=this.nLb();}a.prototype.wR=function(c){c.events.on("requestsPruned",this.xv);};a.prototype.az=function(c){c.events.removeListener("requestsPruned",this.xv);};a.prototype.nLb=function(){var c;c=this;return function(){return c.zj();};};return a;})();b.FJa=r;},23711:function(r,b,a){var k,f,h,d;function c(){return k.__awaiter(this,void 0,void 0,function(){var g;return k.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return k.__importStar(a(79391));})];case 1:return (g=m.Ra().uL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.vT=void 0;k=a(70655);f=a(12568);h=k.__importDefault(a(29736));b.vT=function(g){var m;m=new h.default.Console("ASEJS","media|asejs");d || (d=new f.QJa(function(){return c();},g,m));return d;};},56151:function(r,b,a){var k;function c(f,h,d,g){return f && h?Math.min(f - h * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.XRa=void 0;k=a(47571);b.XRa=function(f,h){var d,g,m,l,n,p,q,u;u=c(h.audio,h.Uac,f.mja,null !== (g=f.yTa) && void 0 !== g?g:0);g=c(h.video,h.vgc,f.mja,null !== (m=f.ATa) && void 0 !== m?m:0);m=c(h.text,h.Tfc,f.mja,null !== (l=f.zTa) && void 0 !== l?l:0);return (d={},d[k.v.ga]=u,d[k.v.Z]=g,d[k.v.Ya]=m,d.total=(h.total || Infinity) - (null !== (n=f.yTa) && void 0 !== n?n:0) - (null !== (p=f.ATa) && void 0 !== p?p:0) - (null !== (q=f.zTa) && void 0 !== q?q:0),d);};},27291:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;c=a(70655);k=a(28075);f=a(95994);h=a(42324);r=(function(){function d(g,m,l,n){this.wdb=g;this.console=m;this.Orb=l;this.rW=n;this.events=new k.EventEmitter();this.vG=g.ENb.Wu();}Object.defineProperties(d.prototype,{pa:{get:function(){var g;return null === (g=this.wdb) || void 0 === g?void 0:g.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var m;return c.__generator(this,function(l){switch(l.label){case 0:return (l.Vj.push([0,2,,3]),[4,this.wdb.yz]);case 1:return [2,l.Ra()];case 2:throw (m=l.Ra(),h.WIa.CMb(m) && this.Orb.uf(m),f.K && this.console.trace("Removing broken viewable entry due to error",this.rW),this.events.emit("error",{error:m}),m);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.MMa=r;},69570:function(r,b,a){var k;function c(f,h){var d;void 0 === h && (h=c);d="";f.YK && (d=null === f || void 0 === f?void 0:f.YK.map(h).reduce(function(g,m){return ("").concat(g,",").concat(m);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.uaa=void 0;k=a(70655);r=(function(f){function h(d,g){d=f.call(this,h.yFb(d,g)) || this;d.Omb=g;d.name="AggregateError";return d;}k.__extends(h,f);h.yFb=function(d,g){return g.reduce(function(m,l){return ("").concat(m,"\n").concat(l);},d);};h.stringify=function(d){return c(d);};Object.defineProperties(h.prototype,{YK:{get:function(){return this.Omb;},enumerable:!1,configurable:!0}});return h;})(Error);b.uaa=r;},5607:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(74104),b);r.__exportStar(a(2150),b);r.__exportStar(a(15063),b);},74104:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2150:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15063:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TLb=b.K0a=void 0;b.K0a=function(a){return ("ttml" in a);};b.TLb=function(a){return ("images" in a);};},31976:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},45356:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},35510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.om=void 0;r=b.om || (b.om={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.um=2]="STREAMING";},12677:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},21173:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.au=b.GO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.MOb=2]="lowCpuPlaybackStarting";})(b.GO || (b.GO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.au || (b.au={}));},93959:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pc=void 0;r=a(70655);r.__exportStar(a(21173),b);r.__exportStar(a(45356),b);r.__exportStar(a(35510),b);r.__exportStar(a(12677),b);r.__exportStar(a(619),b);r.__exportStar(a(5607),b);r.__exportStar(a(2150),b);r.__exportStar(a(56365),b);r.__exportStar(a(31976),b);r.__exportStar(a(13815),b);c=a(19829);Object.defineProperties(b,{pc:{enumerable:!0,get:function(){return c.pc;}}});},619:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56365:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49944:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rI=void 0;r=b.rI || (b.rI={});r[r.start=0]="start";r[r.end=1]="end";},34117:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},96080:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},5594:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(49944),b);r.__exportStar(a(96080),b);r.__exportStar(a(34117),b);r.__exportStar(a(36178),b);},13815:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(5594),b);},69565:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hq=void 0;c=a(70655).__importDefault(a(29736));k=a(312);r=(function(){function f(h){h=("(").concat(h,")");this.S=new c.default.Console("ASEJS","media|asejs",h);this.Mfa=[];}f.prototype.wv=function(h){var d;if(!this.Mfa[h]){d=("[").concat(h,"]");this.Mfa[h]=(0,k.Ph)(c.default,this.S,d);}return this.Mfa[h];};return f;})();b.hq=new r(0);},43956:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Tya=b.Lca=void 0;c=a(70655);k=a(28075);f=a(19236);r=a(23563);h=a(34684);d=a(89718);g=a(22687);m=a(47571);l=c.__importDefault(a(29736));n=a(44724);a(74005);p=a(4145);q=a(61360);u=a(60482);t=a(28035);v=a(31047);w=a(36088);y=a(3591);b.Lca=(function(){return function(x){this.mediaType=x;this.g2a=void 0;};})();a=(function(x){function A(z,B){var C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga;D=B.W;F=B.fg;G=B.hv;E=B.wp;J=B.config;K=B.nKb;N=B.tW;I=B.Sd;O=B.Gp;L=B.eDb;B=B.EH;H=x.call(this) || this;H.J=z;H.C_a=!1;H.f2a=0;H.BJ={};H.Cv=(C={},C[m.v.ga]={},C[m.v.Z]={},C[m.v.Ya]={},C);H.yac=[];H.Hnb=[];H.VD=[];H.XA=[];H.L0=!1;H.Z4a=!1;H.pTa={B6:"liveEdgeCushion",BG:"maxMediaBufferAllowed",DUa:"decryptOCSideChannelMinInterval",EUa:"decryptOCSideChannelMinIntervalAfterCompleted"};H.oTa=Object.keys(H.pTa).reduce(function(Fa,Ja){Fa[H.pTa[Ja]]=Ja;return Fa;},{});H.gOa=D;H.QB=function(Fa){return 0 <= F.indexOf(Fa);};H.console=new l.default.Console("ASEJS","media|asejs","<" + String(H.J) + ">");H.config=H.Dpb(D,J);H.AU=new w.XEa();K && (z=K.tL,H.ky=new y.oDa(H,H.console,H.config,K.LG,z),H.tL=z);H.events=new k.EventEmitter();H.Sd=I;H.tW=N;H.EH=B;H.hv=G;H.wp=!!E;M=[[],[],[]];R=[{},{},{}];Y=[0,0];ea=!1;oa=H.QB(m.v.ga);Ga=H.QB(m.v.Z);G=H.ha;["audio_tracks","video_tracks"].forEach(function(Fa,Ja){var Xa,cb;Xa=Ja === m.v.Z;cb=Ja === m.v.ga;cb && !oa || Xa && !Ga || H.W[Fa].forEach(function(W,aa){if(W.type !== m.v.ga || !1 !== W.xg)(aa=new h.sI({pa:H,jo:W,mediaType:Ja,wp:H.wp,$H:aa,zE:aa + (cb?H.W.video_tracks.length:0)},H.config,H.console),Ja === m.v.Z && J.BCb && new q.Uya(J).cWb(aa.hg),Ja === m.v.Z && (ca=u.dJ.from({ut:W.lqa,Ks:W.kqa})),M[Ja].push(aa),R[Ja]=c.__assign(c.__assign({},R[Ja]),aa.VF()),aa.maxBitrate > Y[aa.mediaType] && (Y[aa.mediaType]=aa.maxBitrate),ea=ea || aa.Rl);});});G && H.W.timedtexttracks.forEach(function(Fa,Ja){var Xa;if("none" !== Fa.id){Xa=m.v.Ya;Fa=new h.sI({pa:H,jo:Fa,mediaType:Xa,wp:!1,$H:Ja,zE:Ja},H.config,H.console);M[Xa].push(Fa);R[Xa]=c.__assign(c.__assign({},R[Xa]),Fa.VF());}});H.W.Dm && ((0,n.assert)(ca,"Should have video track if there are adverts"),H.Dm={de:H.W.Dm.de.map(function(Fa){var Ja;Ja=c.__assign(c.__assign({},Fa),{Tt:Fa.qk,qk:ca.normalize(Fa.qk)});Fa.Ze !== Fa.ads && (Ja.unnormalizedLocationMs=Ja.Tt,Ja.locationMs=Ja.qk);return Ja;})});H.Uk=new g.bFa(H.W,R,I,O,H.config,null === L || void 0 === L?void 0:L.LG);I=L.xB;O=L.Zq;H.KJ=L.uf;H.Zq=O;H.xB=I;H.D0=new d.eCa(H.Uk,H.config,H.EJb.bind(H),H.DJb.bind(H));H.D0.events.addListener("requestError",function(Fa){H.ha && H.config.lOb && 404 === Fa.ly && H.AU.GYb();});H.jQ=M;H.j$=R;H.hM=Y;H.Rl=ea;return H;}c.__extends(A,x);Object.defineProperties(A.prototype,{W:{get:function(){return this.gOa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ha:{get:function(){var z,B;z=this.W;B=z.Ej;return "LIVE" === z.ig && !!B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{VU:{get:function(){var z;return !(null === (z=this.jQ[m.v.Z][0]) || void 0 === z || !z.VU);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{np:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tl:{get:function(){return this.L0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{by:{get:function(){(0,n.assert)(this.D0,"ErrorDirector is not available on old architecture prefetch viewables.");return this.D0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{XK:{get:function(){return this.by.events;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Mt:{get:function(){return this.AU.Mt;},set:function(z){this.AU.Mt=z;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{u2a:{get:function(){return this.BJ;},enumerable:!1,configurable:!0}});A.prototype.Qa=function(){this.close();this.$e();};A.prototype.close=function(){var z;this.XA=[];null === (z=this.D0) || void 0 === z?void 0:z.Qa();this.Uk.Qa();this.L0=!0;};A.prototype.$e=function(){this.ky && this.ky.$e();};A.prototype.kO=function(z){var B,C,D,F,G,E;B=this;C=z.W;D=z.hv;z=z.fg;F=void 0 === z?m.Oz:z;(0,n.assert)(D === this.hv,"Updating Viewable clearplay not supported");m.Oz.forEach(function(J){(0,n.assert)(B.QB(J) === 0 <= F.indexOf(J),"Updating Viewable media types not supported");});(0,n.assert)(C.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");G=this.QB(m.v.ga);E=this.QB(m.v.Z);["audio_tracks","video_tracks"].forEach(function(J,K){var N,I,O,L;N=K === m.v.Z;I=K === m.v.ga;if(!(I && !G || N && !E)){O=C[J];L=B.jQ[K];(0,n.assert)(L.every(function(H){var M;M=O[H.$H];return M && M.hO === H.trackId && (M.type === m.v.Z || !1 !== M.xg);}),"Existing tracks must still exist and be hydrated in updated manifest");O.forEach(function(H,M){var R,Y;if(H.type !== m.v.ga || !1 !== H.xg){R=B.getTrackById(H.hO);if(R){H=H.streams;Y=Object.keys(R.VF());(0,n.assert)(H.length === Y.length,"Expected updated manifest track to have same number of streams");H.forEach(function(ea){ea=ea.downloadable_id;(0,n.assert)(-1 !== Y.indexOf(ea),"Changing Viewable track streams unsupported");});}else (R=new h.sI({pa:B,jo:H,mediaType:K,wp:B.wp,$H:M,zE:M + (I?B.W.video_tracks.length:0)},B.config,B.console),L.push(R),B.j$[K]=c.__assign(c.__assign({},B.j$[K]),R.VF()),R.maxBitrate > B.hM[R.mediaType] && (B.hM[R.mediaType]=R.maxBitrate),(0,n.assert)(B.Rl || !R.Rl,"Can not update clear viewable with drm track."));}});}});this.gOa=C;this.Uk.G1(this.W,this.j$);};A.prototype.IKb=function(z,B){var C,D;C=this;(0,n.assert)(this.W.Dm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,n.assert)(this.Dm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Dm.de.some(function(F,G){var E,J;if(F.Oi === B){E=C.Dm.de[G];J=E.qk;E=E.Tt;D=c.__assign(c.__assign({},z),{Tt:E,qk:J,Oi:B});F.Ze !== F.ads && (D.unnormalizedLocationMs=D.Tt,D.locationMs=D.qk,D.adBreakToken=D.Oi);C.Dm.de[G]=D;return !0;}});return D;};A.prototype.DN=function(z){var B,C,D;B=z.Np;C=z.la;D=z.jka;z=z.nV;B && C?(this.S9=new f.bLa(B,{la:String(C),jka:!!D,PPb:this.config.o_.mx,otb:this.config.o_.lv},z),this.by.DN(this.S9)):this.Z4a || (z("SideChannel: pbcid/xid is missing."),this.Z4a=!0);};A.prototype.woa=function(){return void 0 !== this.np;};A.prototype.Wm=function(z,B){return (0,v.YYa)(this.W,z,B);};A.prototype.getTracks=function(z){return this.jQ[z];};A.prototype.getTrackById=function(z){var B;this.jQ.some(function(C){return C.some(function(D){if(D.trackId === z)return (B=D,!0);});});B || this.console.warn("getTrackById not found:",z,"length:",this.jQ.length);return B;};A.prototype.ena=function(z,B){return (z=this.VF(z)) && z[B];};A.prototype.VF=function(z){return this.j$[z];};A.prototype.SMb=function(z){var B,C;if(void 0 === z.H8 || void 0 === z.Qsa){B=this.Uk.kC.filter(function(D){return void 0 !== D.streams[z.Nb];})[0];C=B.children.filter(function(D){return D.urls.some(function(F){return F.stream.id === z.Nb;});})[0];z.H8=B.id;z.Qsa=C.id;}return {Xoa:z.location === z.H8,TMb:z.dc === z.Qsa};};A.prototype.jva=function(z,B,C){void 0 !== B && void 0 !== C && (this.I8a(z.mediaType,B),z.jva(B,C));};A.prototype.I8a=function(z,B){var C;C=this.config.Pqa;("location" === C || "video_location" === C && z === m.v.Z) && this.Sd.L9(B);};A.prototype.uf=function(z,B,C,D,F,G){(0,n.assert)(this.KJ,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.KJ(z,B,C,D,F,G);};A.prototype.qn=function(){var z;z=this;if(this.Tl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);m.Oz.forEach(function(B){z.QB(B) && z.x4b(B) && z.o4b(B);});this.h4b();return !0;};A.prototype.Qs=function(z,B){var C;C=this.getTracks(m.v.Z)[0];(0,n.assert)(C);if(C.fG)return C.Qs(z,B);};A.prototype.x4b=function(z){var B;B=this;return this.Tl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.QB(z)?this.VD.reduce(function(C,D){return (0,p.U1)(C,D.Xd.filter(function(F){return F.mediaType === z;}));},[]).map(function(C){return B.Uk.Ecb(B.J,C.hg);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z),!1);};A.prototype.h4b=function(){(0,n.assert)(this.ky,"Headers not available on old architecture prefetch viewables.");this.ky.qn();};A.prototype.o4b=function(z){var B,C,G;C=[];if(this.Tl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else if(this.QB(z))try{for(var D=c.__values(this.VD),F=D.next();!F.done;F=D.next()){G=F.value.qn(z);G.length && C.push.apply(C,G);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (B=D.return) && B.call(D);}finally{if(E)throw E.error;}}else this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z);};A.prototype.Dpb=function(z,B){var C,F,G;if((z=z.steeringAdditionalInfo) && z.streamingClientConfig && Object.keys(z.streamingClientConfig).length){z=z.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(z));for(var D in z){if(this.oTa.hasOwnProperty(D)){F=this.oTa[D];if(B.hasOwnProperty(F)){G=Number(z[D]);B.set?0 === B.set((C={},C[F]=G,C)) && this.console.trace("Invalid key" + D):B[F]=G;}}}}return B;};A.prototype.yh=function(){var z;z=this;this.Uk.yh();this.by.yh();this.S9 && ((0,n.assert)(this.tL),m.Oz.forEach(function(B){B=z.tL(B);z.S9.Rua("rebuffer",B.g2a);}));};A.prototype.KF=function(z,B){return this.ky.KF(z,B);};A.prototype.a_b=function(z,B,C){this.XA.push({u:B,stream:z,YIb:C});};A.prototype.o8a=function(){this.XA=[];};A.prototype.GXb=function(z){this.XA=this.XA.filter(function(B){return B.stream !== z;});};A.prototype.FXb=function(z){this.XA=this.XA.filter(function(B){return B !== z;});};A.prototype.AL=function(){var z;z=this;return this.Zq()?[]:this.XA.map(function(B){var C,D,F,G,E,J,K;C=B.u;D=B.stream;F=B.YIb;G=F();F=G.ah;E=G.jf;J=G.Oy;K=G.Fr;G=G.Jq;return {identifier:("").concat(D.J,"-").concat(D.mediaType,"-").concat(D.bitrate),mediaType:D.mediaType,ah:F,jf:E,Oy:J,Fr:K,Jq:G,Msa:0,Lsa:Infinity,YV:1,dz:1,cXa:0,groupId:("").concat(z.J),PB:!0,ht:!1,Rk:!1,v1a:function(){return {result:!0};},A1a:function(){if(D.dI(C))return (z.GXb(D),{oi:!0,reason:"success"});z.FXb(B);return {oi:!1,reason:"viewableTryIssueHeaderRequest"};}};});};A.prototype.dI=function(z,B,C){(0,n.assert)(this.ky,"Headers not available on old architecture prefetch viewables.");return this.ky.dI(z,B,C);};A.prototype.jR=function(z,B){(0,n.assert)(this.ky,"Headers not available on old architecture prefetch viewables.");return this.ky.jR(z,B);};A.prototype.GJb=function(z){var B,C;B=z.Nb;C=z.mediaType;this.ha || this.n4b(C,z.stream.La);this.ena(C,B).c4b(l.default.sT()[C],this.woa()?this.config.uPb:0);this.events.emit("onHeaderFragments",z);};A.prototype.nXb=function(z){this.VD.push(z);};A.prototype.Q3b=function(z){z=this.VD.indexOf(z);(0,n.assert)(-1 !== z,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.VD.splice(z,1);};A.prototype.e8=function(z){var B;null === (B=this.tW) || void 0 === B?void 0:B.av(z);};A.prototype.FM=function(z){this.Tl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",z):void 0 !== z.location && this.I8a(z.mediaType,z.location);};A.prototype.GM=function(z){this.Tl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",z):this.by.G$(z);};A.prototype.Xl=function(z){var B;null === (B=this.tW) || void 0 === B?void 0:B.Vp(z);this.Tl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",z):this.Zq() || this.by.G$(z);};A.prototype.CV=function(z,B,C){var D;C && (null === (D=this.tW) || void 0 === D?void 0:D.Vp(z));};A.prototype.d8=function(z){var B,C,D,F;B=this;this.Tl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",z):(this.by.wr(z,void 0,z.status,z.Sg,z.aj),this.ha && !z.Hd && z.Yg && !z.vo.$sa(z.Yg)?null !== (C=z.ho) && void 0 !== C && C.rN || ((null === (D=z.ho) || void 0 === D?void 0:D.Zp) <= this.config.C6?z.ho.rN=setTimeout(function(){z.ho.rN=void 0;B.ycb(z,!1);},this.config.p2b):(null === (F=z.ho) || void 0 === F?void 0:F.Zp) === this.config.C6 + 1 && this.config.G6 && this.ycb(z,!0)):this.qn() || this.uf(z.wF || "unknown","NFErr_MC_StreamingFailure",z.Sg,z.status,z.aj));};A.prototype.RVb=function(){var z,B;this.xcb(null === (z=this.W.Ej) || void 0 === z?void 0:z.Zka,null === (B=this.W.Ej) || void 0 === B?void 0:B.T3,!0);};A.prototype.xcb=function(z,B,C){var D,F,G,E,J;(0,n.assert)(this.W.Ej,"Missing manifest liveMetadata.");G=this.W.Ej;E=G.Zka;J=G.T3;G=this.u2a;this.BJ={startTime:null !== (D=null !== E && void 0 !== E?E:z) && void 0 !== D?D:G.startTime,endTime:null !== (F=null !== J && void 0 !== J?J:B) && void 0 !== F?F:G.endTime};z=this.BJ.startTime !== G.startTime;B=this.BJ.endTime !== G.endTime;(C || z || B) && this.events.emit("liveEventTimesUpdated",c.__assign({pa:this},this.BJ));B && this.VD.forEach(function(K){K.jN();});};A.prototype.k4b=function(z,B){if(this.Cv[z].sF !== B.sF || this.Cv[z].tF !== B.tF)(this.Cv[z]=B,this.events.emit("liveLoggingInfoUpdated",{pa:this,mediaType:z,info:B}));};A.prototype.eOb=function(){(0,n.assert)(this.ha,"liveEventCompleted called on viewable that is not live");return void 0 !== this.BJ.endTime;};A.prototype.ycb=function(z,B){var C,G;try{for(var D=c.__values(this.VD),F=D.next();!F.done;F=D.next()){G=F.value.ef(z.mediaType);G && G.l4b(z,B);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(E)throw E.error;}}};A.prototype.n4b=function(z,B){this.Hnb[z]=B.dqa;};A.prototype.EJb=function(z){var B,C,D;if(!this.L0){B=z.BMb;C=z.cTb;D=z.eTb;z=z.fTb;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + C + ", last http code: " + D + ", last native code: " + z);B?(this.console.warn(" > Permanent failure, done"),B=this.uf("Permanent failure","NFErr_MC_StreamingFailure",C,D,z)):(this.console.warn(" > We are buffering, calling it!"),B=this.uf("Temporary failure while buffering","NFErr_MC_StreamingFailure",z,D,z,!0));B || (this.console.warn(" > Resetting failures"),this.by.h9());}};A.prototype.DJb=function(){(0,n.assert)(this.xB,"Error handling not available on old architecture prefetch viewables.");this.L0 || (this.qn(),this.xB());};return A=c.__decorate([t.DF],A);})(r.Ez);b.Tya=a;},25580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;c=a(70655);r=(function(){function k(f,h,d,g){this.J=f;this.wo=h;this.AV=d;this.Gra=g;}Object.defineProperties(k.prototype,{pa:{get:function(){var f;return null === (f=this.XX) || void 0 === f?void 0:f.pa;},enumerable:!1,configurable:!0}});k.prototype.Qa=function(){var f;this.pa && (this.pa.Q3b(this.tb),this.Gra(this.pa));null === (f=this.XX) || void 0 === f?void 0:f.vG.release();this.XX=void 0;};k.prototype.qa=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,d,g,m,l;return c.__generator(this,function(n){switch(n.label){case 0:return (this.tb=f,h=this.wo(this.J),d=h.yz,g=h.pa,m=h.vG,this.XX={vG:m,pa:g},g?(this.p0a(g,f,!1),[2,g]):[4,d]);case 1:return (l=n.Ra(),this.p0a(l,f,!0),[2,l]);}});});};k.prototype.p0a=function(f,h,d){this.XX && (this.XX.pa=f,f.nXb(h),this.AV(h,f,d));};return k;})();b.wza=r;},3591:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oDa=void 0;c=a(70655);k=a(69565);f=a(41736);h=c.__importDefault(a(29736));r=a(23563);d=a(44724);g=a(65519);a=(function(m){function l(n,p,q,u,t){var v;v=m.call(this,n) || this;v.PJ=n;v.S=p;v.X=q;v.LG=u;v.tL=t;v.XNa=[void 0,void 0];v.tfa={fA:[Object.create(null),Object.create(null)]};v.oe=g.iD.instance.Ux("headers","" + v.PJ.J,!0,!1,{},v.X);v.oe.qa();return v;}c.__extends(l,m);Object.defineProperties(l.prototype,{fA:{get:function(){return this.tfa.fA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{v0:{get:function(){return this.tfa.v0;},set:function(n){this.tfa.v0=n;},enumerable:!1,configurable:!0}});l.prototype.$e=function(){var n;n=this;this.fA.forEach(function(p,q){for(var u in p){p[u].$e();n.aka(q,u);}});this.oe && g.iD.instance.s3(this.oe);this.oe=void 0;};l.prototype.KF=function(n,p){return this.fA[n][p];};l.prototype.dI=function(n,p,q){var u,t,v,w;u=this.X;t=this.KF(n.mediaType,n.Nb);if(t)return (t.stream.La || t.Y9 && this.JSa(t),!1);t=this.znb;v=this.Anb;if(void 0 !== u.Dqa && void 0 !== t && void 0 !== v){w=h.default.time.Da();if(w - t < u.Dqa || w - v < u.Dqa)return !1;}n=this.y3b(n,{u:p,offset:0},q);this.Anb=h.default.time.Da();return n;};l.prototype.y3b=function(n,p,q){var u,t,v,w;t=n.mediaType;k.hq.wv(t);if(this.KF(t,n.Nb))n=!1;else {v=this.X.Qab && n.ha;w=v?0:p.offset;v=v?0:null !== (u=p.xa) && void 0 !== u?u:this.Pmb(n);p=c.__assign(c.__assign({},p),{offset:w,xa:v});u=!!p.xS;w=!!p.iV;this.CIb?q=this.CIb(t,!!p.WS,u,w,!1):q || (q=this.oe);(0,d.assert)(q);n.url && (this.tL(t).g2a=n.SF(!0));if(!this.umb(n,q,p).HM())return (this.PJ.uf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);n=!0;}return n;};l.prototype.qn=function(){var n,p;n=this;p=[];this.fA.forEach(function(q,u){var v;k.hq.wv(u);for(var t in q){u=q[t];v=u.cxa();1 === v?p.push(u):2 === v && n.PJ.uf("swapUrl failure");}});return p;};l.prototype.Xl=function(n){var p,q;p=n.mediaType;q=k.hq.wv(p);this.PJ.Tl?q.warn("header onrequestcomplete ignored, session shutdown:",n.toString()):(this.LG({type:"logdata",target:"startplay",Hc:{usedNativeDataView:n.Y4b}}),n.i8 > n.$Sb && (this.XNa[p]=n.i8),n.Y9 && this.JSa(n),this.jnb(n),this.znb=h.default.time.Da(),this.PJ.events.emit("onHeaderRequestComplete",n));this.lB(n);};l.prototype.jR=function(n,p){var q,u,t,v;q=[];u=this.fA[n];for(t in u){v=u[t];v && !v.stream.La && v.$M === p && (this.aka(n,t),q.push({u:v.u,stream:v.stream,offset:v.offset,xa:v.xa,xS:v.xS,WS:v.WS,iV:v.iV,Xra:v.Xra}),v.$e());}return q;};l.prototype.wqb=function(n){this.fA[n.mediaType][n.Nb]=n;};l.prototype.jnb=function(n){var p,q,u,v;p=this.X;q=k.hq.wv(n.mediaType);u=n.stream.La;if(p.Nja){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){v=u.get(t);q.trace("fragment: " + t + ", startPts: " + v.Ma.G + ", duration: " + v.Nd.G + ", offset: " + v.offset);}}this.Ylb(n);};l.prototype.Ylb=function(n){var p,q;p=n.mediaType;q=n.Nb;k.hq.wv(p);n.K5a && (n.K5a.forEach(function(u){(u=u.ena(p,q)) && u !== n.stream && !u.lk && u.uwb(n.stream);}),n.K5a=void 0);this.PJ.GJb(n);};l.prototype.umb=function(n,p,q){var u,t;u=this;t=k.hq.wv(n.mediaType);n=new f.Eya(n,this.X,p,q,this,q.u,!1,t);n.addListener("headerRequestCancelled",function(v){u.inb(v.request);});this.wqb(n);return n;};l.prototype.Pmb=function(n){var p,q,u,t;p=n.Ak;q=n.pa;u=q.duration;t=this.X;return n.ha?512:q.wp?t.EWa?t.EWa:t.w5:t.V4b && p?p.offset + p.size:(n=this.XNa[n.mediaType])?n + 128:t.Ska?2292 + 12 * Math.ceil(u / 2E3):t.w5;};l.prototype.inb=function(n){this.aka(n.mediaType,n.Nb);};l.prototype.aka=function(n,p){delete this.fA[n][p];};l.prototype.JSa=function(n){this.v0 === n.Nb && (this.v0=void 0);};return l;})(r.Ez);b.oDa=a;},36088:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.XEa=void 0;r=a(70655);c=a(95994);k=r.__importDefault(a(29736));a=(function(){function f(){this.console=new k.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{Mt:{get:function(){return void 0 === this.yH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),k.default.time.now()):k.default.time.Da() - this.yH;},set:function(h){this.tG=k.default.time.Da();this.uG=h;h=this.tG - this.uG;if(void 0 === this.yH || h < this.yH)this.yH=h;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{QK:{get:function(){var h;h=k.default.time.Da();return void 0 === this.yH?{OSa:h}:{OSa:h,Mt:h - this.yH,tG:this.tG,uG:this.uG};},enumerable:!1,configurable:!0}});f.prototype.GYb=function(){void 0 !== this.tG && void 0 !== this.uG && (this.yH=this.tG - this.uG);};return f;})();b.XEa=a;},31047:function(r,b,a){var k;function c(f){var h;h={profile:f.spoofedProfile || f.profile,cFb:f.max_framerate_value,bFb:f.max_framerate_scale,maxWidth:f.maxWidth,maxHeight:f.maxHeight,lsa:f.pixelAspectX,msa:f.pixelAspectY,channels:f.channels,sampleRate:f.channels?48E3:void 0};f.spoofedProfile && (h.Eec=f.profile);return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.IHb=b.YYa=void 0;k=a(47571);b.YYa=function(f,h,d){var g;g=[{},{}];(d === k.v.ga?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(m,l){f[m].some(function(n,p){return p === h[l]?(g[l]=c(n),!0):!1;});});return g;};b.IHb=c;},57563:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.JHa=void 0;r=a(70655);c=a(41427);k=r.__importDefault(a(29736));a=(function(){function f(h,d){this.J=h;this.x5b=d;this.hv=!0;this.C_a=this.Rl=this.wp=!1;this.O=("").concat(c.xn);this.ha=this.VU=!1;this.console=new k.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{Mt:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return k.default.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.yh=function(){};f.prototype.o8a=function(){};f.prototype.uf=function(){return !0;};return f;})();b.JHa=a;},19236:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bLa=void 0;r=a(70655);c=a(74005);a=r.__importDefault(a(29736));k=a.default.Yj;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(h,d,g){this.nV=g;this.Opb=new c.Bea(h);this.la=d.la;this.gmb=1E3 * d.PPb / d.otb;this.fBb=d.jka;this.OQa=!1;}f.prototype.Hs=function(h){var d,g,m;d={s_xid:this.la,dl:this.fBb?1:0};h.ME && (d.bs=(0,c.oK)(Math.floor(h.ME / this.gmb) + 1,1,5));h.D7 && (d.limit_rate=h.D7);h.xRa && (d.bb_reason=h.xRa);h.ybb && (d.tm=h.ybb);if(h.Y5a){g=h.Y5a;m=g.Mp;"HYBRID" === m?(d.hybrid=g.EL.GKb,d.cspr=g.EL.Ov,d.cu=g.EL.ria,d.cldl=g.EL.Sta,d.h_ms=g.EL.QPb):"CCSP" === m && ((m=g.e6()) || !m && this.OQa) && (d.cpr_ss=g.jz,d.cpr_ca=g.Px,d.cpr_rec=g.Zy,this.OQa=m);}h.Sha && (d.br="" + h.Sha.start + "+" + h.Sha.size);return this.kob(d);};f.prototype.Rua=function(h,d){var g,m;try{g=new k(void 0,"notification");m=this.Hs({xRa:h});d && m && g.open(d,void 0,2,void 0,void 0,void 0,m);}catch(l){this.nV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l);}};f.prototype.kob=function(h){var d;try{d=this.hpb(h);return this.Opb.encrypt(d);}catch(g){this.nV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.hpb=function(h){return Object.keys(h).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(h[d]));}).join("&");};return f;})();b.bLa=a;},62158:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FIa=void 0;r=a(70655);c=r.__importDefault(a(54186));k=c.default.un;f=c.default.vu;h=a(47571);d=a(74005);g=a(70950);m=r.__importDefault(a(73764));l=r.__importDefault(a(29736));a=(function(){function n(p,q,u,t,v){this.yt=p;this.pv=q;this.X=u;this.S=t;this.Af=v;}n.prototype.ARb=function(p){var q;q=p.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:g.N.Na(this.yt.$ia).wa(q.Ud)},completePlayerStreamingTimestamp:g.N.Na(this.yt.cS),trackIndex:p.stream.track.zE};(0,d.Eq)(this.pv,p.type,p);};n.prototype.CRb=function(p,q,u){var t,v,w;v=this.Af;w=this.yt.il.ye;w.t$a(p);v === h.v.Z && this.X.w9 && (void 0 === w.ipa?w.u$a(l.default.time.Da()):l.default.time.Da() - w.ipa > this.X.w9 && (p.bitrate !== w.d2a && (l.default.storage.set("vb",p.bitrate),w.z_b(p.bitrate)),w.u$a(l.default.time.Da())));w.t6 && w.t6 === p || (this.yt.il.q1b(q,w.t6,p),w.n_b(p),q=0,p.Yb && p.Yb.confidence && p.Yb.sb && (q=p.Yb.sb.Ea),u={I:this.yt.tb.u.id,offset:g.N.Na(u).wa(this.yt.tb.u.Ud)},p={type:"streamSelected",nativetime:l.default.time.Da(),mediaType:v,streamId:p.id,trackIndex:p.track.zE,streamIndex:p.Ot,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.pa) || void 0 === t?void 0:t.W},(0,d.Eq)(this.pv,p.type,p));};n.prototype.xRb=function(p,q,u){var t,v,w,y;t=q.pa;v=t.Uk;w=this.yt.il.ye;y=t.SMb(q);t=y.Xoa;y=y.TMb;u && q.dc && !w.rU?(y=f.xu,q.Lt=f.name[y],this.c5a(p,q.dc,q.Lt,q.location,q.bitrate),w.rU=q.dc):!u && q.dc && q.dc !== w.rU && (y=y?void 0 === w.rU?f.xu:v.BN === f.gda?f.dlb:f.Oaa:f.clb,q.Lt=f.name[y],this.c5a(p,q.dc,q.Lt,q.location,q.bitrate),w.rU=q.dc);w.YL || (y={type:"logdata",target:"startplay",fields:{}},this.Af === k.ga?y.fields.alocid=q.location:this.Af === k.Z && (y.fields.locid=q.location),(0,d.Eq)(this.pv,y.type,y));u && q.location && !w.YL?(y=f.xu,q.Lt=f.name[y],this.b5a(p,q.location,q.ypa,q.dc,q.MW,q.Lt,q.Uv),w.YL=q.location):!u && q.location && q.location !== w.YL && (y=t?void 0 === w.YL?f.xu:v.BN === f.gda?f.Dib:f.Oaa:f.Cib,q.Lt=f.name[y],this.b5a(p,q.location,q.ypa,q.dc,q.MW,q.Lt,q.Uv),q.Uv=void 0,w.YL=q.location);this.X.eH || (q.X1a=q.location,q.c2a=q.dc);};n.prototype.fra=function(p){p={type:"requestsPruned",requests:p};(0,d.Eq)(this.pv,p.type,p);};n.prototype.c5a=function(p,q,u,t,v){var w,y;if(this.Af === k.Ya)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(w={},w[h.v.ga]="audio",w[h.v.Z]="video",w[h.v.Ya]="subtitle",w)[this.Af];w=m.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:v,confidence:w.confidence};w.confidence && (p.throughput=w.sb.Ea);this.yt.il.ye.rU && (p.oldserver=q);(0,d.Eq)(this.pv,p.type,p);}};n.prototype.b5a=function(p,q,u,t,v,w,y){var x,A;if(this.Af === k.Ya)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {A=(x={},x[h.v.ga]="audio",x[h.v.Z]="video",x[h.v.Ya]="subtitle",x)[this.Af];p={type:"locationSelected",segmentId:p,mediatype:A,location:q,locationlv:u,serverid:t,servername:v,selreason:w,seldetail:y};(0,d.Eq)(this.pv,"locationSelected",p);}};n.prototype.dob=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,d.Eq)(this.pv,p.type,p);};n.prototype.WEb=function(p){(0,d.Eq)(this.pv,"transportReport",p);};n.prototype.VEb=function(p){(0,d.Eq)(this.pv,"mediaRequestComplete",p);};return n;})();b.FIa=a;},28376:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;c=a(70655);k=a(28075);f=a(62158);h=a(23563);d=a(14384);g=a(47571);m=a(80849);l=a(22782);n=a(74005);p=a(44724);q=a(70950);u=c.__importDefault(a(29736));r=a(57772);t=a(40885);v=a(53597);w=a(65519);y=a(28035);a=(function(x){function A(z,B,C,D,F,G,E,J,K,N,I,O){var L;L=x.call(this,z) || this;L.X=B;L.ds=F;L.wq=G;L.tnb=E;L.qx=I;L.Cn=O;L.events=new k.EventEmitter();L.connected=!1;L.Ana=!1;L.hs=!1;L.Vfa=!1;L.r4=new d.XGa(L.mediaType,B,C,L);z="[" + L.mediaType + "]";L.S=(0,n.Ph)(u.default,C,z);L.dA=L.S.error.bind(L.S);L.ys=L.S.warn.bind(L.S);L.Tu=L.S.trace.bind(L.S);L.m1=E.G;L.lPa=J;L.Uo=new f.FIa(L,D,L.X,L.S,L.mediaType);L.uq=new m.vKa(L,B,L.S,L.Uo,L.ds,L.mediaType,L.qx,function(){return L.jn;});B.fl && (L.fl=new l.oLa(B.fl,L.S));K && (L.Jj=null !== N && void 0 !== N?N:(0,v.Ux)(L.mediaType,L.track.pa,L.X,L.S,L.track.ha,L.Uo.WEb.bind(L.Uo),L.Uo.VEb.bind(L.Uo),function(){}),L.Jj.on("created",function(){return L.events.emit("requestQueueCreated");}));return L;}c.__extends(A,x);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.wq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.wq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{tb:{get:function(){return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{I:{get:function(){return this.ds.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ff:{get:function(){return this.uq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hg:{get:function(){return this.wq.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{M2:{get:function(){return this.uq.M2;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{f9:{get:function(){return this.uq.f9;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{jl:{get:function(){return this.m1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{d$:{get:function(){var z;return null !== (z=this.Bb) && void 0 !== z?z:this.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kl:{get:function(){var z;return null !== (z=this.ff.Kl) && void 0 !== z?z:this.d$;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cS:{get:function(){return this.ff.cS;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$ia:{get:function(){return this.ff.$ia;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sNb:{get:function(){var z;z=this.ff.S1a;return null === z || void 0 === z?void 0:z.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rk:{get:function(){return !!this.qf && (this.lC > this.qf.index || this.m1 >= this.qf.Za.G);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{frb:{get:function(){return this.Rk && 0 === this.ff.WC;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ai:{get:function(){return this.Rk && 0 === this.uq.PTb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Zra:{get:function(){var z;if(this.Vfa)return !0;if(!this.ai)return !1;z=this.xT();return this.Vfa || (this.Vfa=void 0 === z || z.Zra);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qrb:{get:function(){return !!this.ff.S1a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{CA:{get:function(){return this.ff.CA;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kr:{get:function(){return this.Mb?q.N.max(this.Mb.wa(this.OC),q.N.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bL:{get:function(){return this.tb.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{uzb:{get:function(){return this.ff.La.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{il:{get:function(){return this.lPa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ye:{get:function(){return this.il.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{fo:{get:function(){return this.il.ye.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{T:{get:function(){var z,B;return null !== (B=null === (z=this.cf) || void 0 === z?void 0:z.T) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{lb:{get:function(){var z;return null === (z=this.cf) || void 0 === z?void 0:z.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{nb:{get:function(){var z;return null === (z=this.qf) || void 0 === z?void 0:z.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{jn:{get:function(){return this.tb.se.Wd(this.T).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Cna:{get:function(){return this.ff.Cna;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{jw:{get:function(){return this.ff.jw;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Qva:{get:function(){return this.ff.Qva;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ry:{get:function(){return this.tnb.add(this.tb.se);},enumerable:!1,configurable:!0}});A.prototype.kR=function(){var z;z=this;this.uq.kR(function(B){var C,D;D=B[0];B=null === (C=D.Ma) || void 0 === C?void 0:C.G;C=D.index;C < z.lC && z.CN(B,C);});};A.prototype.reset=function(){this.ff.reset();this.cf && this.CN(this.cf.Ma.G,this.cf.index);this.Jj && this.tb.pa.jR(this.mediaType,this.Jj);};A.prototype.Pf=function(z){var B;this.hs=!0;this.uq.Pf(z);null === (B=this.lPa) || void 0 === B?void 0:B.ye.Qa();this.Jj && (this.tb.pa.jR(this.mediaType,this.Jj),w.iD.instance.s3(this.Jj),this.Jj.removeAllListeners(),this.Jj=void 0);};A.prototype.toJSON=function(){return {started:this.jw,startOfSequence:this.Qva,segmentId:this.I,requestedBufferLevel:this.f9,viewableId:this.ds.pa.J,hasFragments:this.Cna};};A.prototype.qn=function(z){return this.ff.qn(z);};A.prototype.CN=function(z,B){this.m1=z;this.lC=B;};A.prototype.tB=function(){return this.ff.tB();};A.prototype.xT=function(){return this.tb.jZa(this.mediaType);};A.prototype.rK=function(z){return (z=this.ff.oEb(z.G))?z.complete:!1;};Object.defineProperties(A.prototype,{ah:{get:function(){return this.ds.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{OC:{get:function(){var z,B,C,D;return null !== (D=null !== (z=this.ff.OC) && void 0 !== z?z:null === (C=null === (B=this.cf) || void 0 === B?void 0:B.Ma) || void 0 === C?void 0:C.add(this.tb.se)) && void 0 !== D?D:this.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Bab:{get:function(){return q.N.Na(this.m1);},enumerable:!1,configurable:!0}});A.prototype.Xbb=function(z,B,C){var D;(0,p.assert)(this.Jj);(0,p.assert)(!this.hs,"pipeline.tryIssueRequest on disabled pipeline");(0,p.assert)(!this.ht(),"pipeline.tryIssueRequest on done pipeline");(0,p.assert)(!this.Rk);if(!z.lk)return (z=z.dI(this.tb.u,this.Jj))?{oi:z,reason:"success"}:{oi:z,reason:"pipelineTryIssueHeaderRequest"};if(z.ha)((0,p.assert)(this.track.ha,"Unexpected live stream."),z=this.B3b(z,this.Jj,C));else {D=z.cHb();(0,p.assert)(D,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(z.lk,", headerFragments:").concat(D));z=this.C3b(z,D,this.Jj,B,C);}this.Pub();return z;};A.prototype.Q5=function(z,B){z && (this.cf=z);B && (this.qf=B);(0,p.assert)(this.cf);(0,p.assert)(this.qf);(0,p.assert)(void 0 === this.lC);this.CN(this.cf.Ma.G,this.cf.index);};A.prototype.truncate=function(z){var B;B=this;(0,p.assert)(this.cf,"expected first fragment to exist on updateStreaming");this.qf=z;this.Rk && (z=c.__read(this.uq.Spb(z),2),this.CN(z[0],z[1]),this.Rk && (this.ff.W9a(),this.ff.pSa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};A.prototype.PB=function(){return this.ht()?!1:this.Wg()?!0:this.track.gV;};A.prototype.Wg=function(){return void 0 !== this.cf && void 0 !== this.qf;};A.prototype.ht=function(){return this.hs || this.frb;};A.prototype.g1a=function(){var z,B,C;C=this.X.qo;if(null === (z=this.Jj) || void 0 === z?0:z.track)C=null === (B=this.Jj) || void 0 === B?void 0:B.track.qo;return C;};Object.defineProperties(A.prototype,{g7a:{get:function(){var z;z=!0;this.X.Yta && (z=this.connected);this.X.Xta && (z=z && this.Ana);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{nTb:{get:function(){return void 0 !== this.fl;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P5a:{get:function(){var z;return (null === (z=this.fl) || void 0 === z?0:z.A2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.Xl=function(z){this.Uo.ARb(z);"oncomplete" === this.X.i0a && (this.Ana=!0);this.lB(z);};A.prototype.FM=function(z){var B,C;z.Hd || this.Uo.CRb(z.stream,null === (B=z.Bb) || void 0 === B?void 0:B.G,null === (C=z.Ma) || void 0 === C?void 0:C.G);this.Uo.xRb(this.I,z.stream,z.Hd);this.$S(z);};A.prototype.nC=function(z){z.pQa || (this.connected=!0);"onfirstbyte" === this.X.i0a && (this.Ana=!0);this.eL(z);};A.prototype.BYa=function(z){var B,C;B=this.ff.La;if(0 === B.length)return {La:[],j8:0,mr:0,gN:0};C=B.SS(z.G);0 > C && (C=void 0 === B.Bb || z.G <= B.Bb.G?0:B.length);return {La:B.uZb(C),j8:Math.max(0,B.hTa - C),mr:B.mr,gN:B.gN};};A.prototype.qB=function(){return this.track.qB();};A.prototype.l4b=function(z,B){var C;if(B && this.X.G6){C=this.hg.indexOf(z.vo);if(-1 === C){this.dA("reissueLiveRequest: stream not found in stream list, falling back to first stream");return;}z.vo=this.hg[0 < C?Math.max(C - 1,0):Math.min(1,this.hg.length - 1)];}this.qn(!B);};A.prototype.C3b=function(z,B,C,D,F){var G,E,J,K,N,I,O,L,H,M;O=this.ds;L=O.pa;H=this.mediaType;M=this.lC;if(M >= B.length)return (this.ys("makeRequest nextFragmentIndex:",M,"past fragments length:",B.length),{oi:!1,reason:"insufficientFragments"});if(!this.cf || !this.qf)return (this.ys("makeRequest delayed, first or last fragment not set","first:",!!this.cf,"last:",!!this.qf),{oi:!1,reason:"noFirstOrLastFragment"});B=H === g.v.ga && !!this.X.ez && (null === (G=this.tb.u.u) || void 0 === G?void 0:G.Ns) && this.cf.Nd.G < this.X.ez && void 0 !== this.cf.Ha;G=H === g.v.ga && !!this.X.ez && (null === (E=this.tb.u.u) || void 0 === E?void 0:E.Tn) && this.qf.Nd.G < this.X.ez && void 0 !== this.qf.Ha;E=this.r4.AYa(z,M,B,G);if(H === g.v.ga && this.X.ez){if(null === (J=this.tb.u.u) || void 0 === J?0:J.Ns)E.ey?E.e$a():E.index === this.cf.index + 1 && this.cf.Nd.G < this.X.ez && void 0 !== this.cf.Ha && E.e$a(this.cf.Ha.end - this.cf.Ha.start);if(null === (K=this.tb.u.u) || void 0 === K?0:K.Tn)E.Dj?E.f$a():E.index === this.qf.index - 1 && this.qf.Nd.G < this.X.ez && void 0 !== this.qf.Ha && E.f$a(this.qf.Ha.end - this.qf.Ha.start);}if(this.Cn && !this.Cn.Tub(this.mediaType,E.xa))return {oi:!1,reason:this.mediaType === g.v.Z?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.fpa=E.region;E.fz=F;null === (N=this.fl) || void 0 === N?void 0:N.gLb(E,z);E.Dj && H === g.v.Z && this.Uo.dob(O.u,E.Mb.G);this.X.jM && (E.jM=this.X.jM);E.location=z.location;E.Dc=z.dc;E.Zua=z.Lt;(F=O.pa.S9) && "OPEN_CONNECT_APPLIANCE" === z.zr && (J=this.X.uCb && this.mediaType === g.v.Z && this.X.qo,E.xW=this.X.K3 || H === g.v.ga && this.X.H3 || H === g.v.Z && this.X.I3?D:void 0,E.T9=F.Hs({ME:O.Wn(this.mediaType),D7:this.X.oCb?this.X.D7:void 0,ybb:String(u.default.time.Da()),Y5a:D,Sha:J?{start:E.offset,size:E.xa}:void 0}));u.default.time.Da();C=this.ff.WTa(E,C,z);if(!C.HM()){this.ys("MediaRequest.open error: " + C.Sg + " native: " + C.aj);if(7 === C.readyState)return {oi:!1,reason:"requestAborted"};this.ys("makeRequest caught:",C.Sg);L.uf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {oi:!1,reason:"openAseMediaRequest"};}null === (I=this.fl) || void 0 === I?void 0:I.PCb(C,E,z);this.CN(C.Za.G,E.jV);return {oi:!0,reason:"success"};};A.prototype.B3b=function(z,B,C){var D,F,G,E,J,K,N,I,O,L;G=this.ds;E=G.pa;J=this.lC;K=z.T;N=z.Yn();I=N.MN;O=N.Nd.Wd(K);I=O.Jv(J - I);O=I.add(O);if(O.G > N.qUa)return {oi:!1,reason:"exceedsLiveEdge"};if((N=J === (null === (D=this.qf) || void 0 === D?void 0:D.index)) && this.mediaType === g.v.ga && (D=this.tb.ef(g.v.Z)) && D.qf)L=D.qf.Za.G;C={Yg:J,index:J,lb:I.ya,nb:O.ya,T:K,offset:0,xa:0,fz:C,ey:J === (null === (F=this.cf) || void 0 === F?void 0:F.index),Dj:N,Kt:{Yd:G.u.jYa(),UL:G.u.qX},kw:L};z=this.ff.WTa(C,B,z);if(!z.HM()){this.ys("MediaRequest.open error: " + z.Sg + " native: " + z.aj);if(7 === z.readyState)return {oi:!1,reason:"requestAborted"};this.ys("makeRequest caught:",z.Sg);E.uf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {oi:!1,reason:"openAseMediaRequest"};}this.CN(O.G,this.lC + 1);return {oi:!0,reason:"success"};};A.prototype.Pub=function(){this.Rk && (this.ff.W9a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([y.DF],A);})(h.Ez);b.DIa=a;(0,t.gj)(r.bu,a);},49252:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Jya=void 0;c=a(70655);r=a(28075);k=a(95994);f=c.__importDefault(a(29736));h=a(74005);d=a(39223);g=a(89383);m=a(30184);l=a(70950);n=a(65015);p=a(2479);q=a(53548);u=a(44724);t=a(75969);a=(function(v){function w(){var y;y=null !== v && v.apply(this,arguments) || this;y.VOa=0;y.aga=0;y.p0=0;y.Qea=0;return y;}c.__extends(w,v);w.prototype.Uta=function(y){var x,A,z,B;v.prototype.Uta.call(this,y);this.VOa++;this.aga++;this.tPa=f.default.time.Da();this.tJ || (this.tJ={mwb:null === (x=y.Za) || void 0 === x?void 0:x.G,T2:null === (A=y.Ma) || void 0 === A?void 0:A.G,index:y.index},this.E0 || (this.E0=this.tJ));x=this.R0;A=!1;x && 100 > Math.abs(x.Mb.G - (null === (z=y.Bb) || void 0 === z?NaN:z.G)) && (this.p0+=y.Mb.G - x.Mb.G,this.Qea++,A=!0);A || (this.p0=null === (B=y.Nd) || void 0 === B?void 0:B.G,this.Qea=1);this.R0=y;};w.prototype.stop=function(){v.prototype.stop.call(this);this.aga=0;this.tJ=void 0;};w.prototype.JYa=function(){var y,x,A,z,B;x=this.us;A=x.e3;if(A){B=A.ef(this.Af);B && B.ff && (z=B.ff.wZa());return {RM:z,currentBranch:{sId:A.u && A.u.id,cancelled:A.ag},currentReceivedCount:x && x.szb,totalReceivedCount:this.VOa,currentState:x && x.nUa || "Uninitialized",lastRequestPushed:this.R0 && ({contentEndPts:null === (y=this.R0.Za) || void 0 === y?void 0:y.G,fragmentIndex:this.R0.index}),tslp:this.tPa && f.default.time.Da() - this.tPa,cpts:this.p0,crq:this.Qea,rslp:this.aga,firstRequestSSPushed:this.tJ && ({contentStartPts:this.tJ.T2,fragmentIndex:this.tJ.index}),firstRequestPushed:this.E0 && ({contentStartPts:this.E0.T2,fragmentIndex:this.E0.index})};}};return w;})((function(v){function w(y,x,A,z,B,C,D,F,G,E,J){var K;K=v.call(this) || this;K.ng=y;K.Af=x;K.X=z;K.S=B;K.Y=C;K.usa=D;K.Jd=F;K.ol=G;K.jA=new h.Uw(!1);K.gA=new h.Uw(l.N.Na(-Infinity));K.S=(0,h.Ph)(f.default,K.S,("AsePlayerBuffer [").concat(x,"]:"));K.us=new d.vza(K.S,A,x);K.resume();C && D && F && (J?(K.VM=J,J.cv(C,F,K.ng)):K.OTa(),y=new n.mCa(null === C || void 0 === C?void 0:C.Jd,l.N.Na(K.X.q7),B),K.us.H1(y),K.X.FQa && (C=new p.HHa(null === C || void 0 === C?void 0:C.Jd,K.X.FQa,l.N.Na(K.X.xrb),B),K.us.H1(C)),E && (K.bPa=new q.PKa(E,K.mediaType,B),K.us.H1(K.bPa)),k.K && K.X.iCb && (B=new t.VEa(B),K.us.H1(B)));K.ng.on("requestAppended",function(N){K.jA.set(!0);N.request.Mb && K.gA.set(N.request.Mb);K.emit("requestAppended");});return K;}c.__extends(w,v);Object.defineProperties(w.prototype,{gr:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{q6:{get:function(){return this.gA;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{VLb:{get:function(){return this.us.li;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{CH:{get:function(){return this.ng.endOfStream;},enumerable:!1,configurable:!0}});w.prototype.OTa=function(){(0,u.assert)(this.Y && this.usa && this.Jd,"Player should be defined");this.VM=new m.XJa(this.Af,this.S,this.Y,this.ng,this.Y.events,this.usa,this.Jd,this.ol);};Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.Af;},enumerable:!1,configurable:!0}});w.prototype.JYa=function(){};w.prototype.resume=function(){k.K && this.S.trace("resume");this.fab();};Object.defineProperties(w.prototype,{esb:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});w.prototype.q0b=function(){this.ng.I7(!0);};w.prototype.reset=function(y,x){var A,z,B;void 0 === y && (y=!1);k.K && this.S.trace("reset");this.stop();this.ng.reset(y);this.jA.set(!1);this.gA.set(l.N.Na(-Infinity));y || (this.iJ=void 0,null === (A=this.VM) || void 0 === A?void 0:A.reset(),y=null === (z=this.Y) || void 0 === z?void 0:z.fg,null === (B=this.bPa) || void 0 === B?void 0:B.ySb(y,null !== x && void 0 !== x?x:y));};w.prototype.Vf=function(y){void 0 === y && (y=!1);k.K && this.S.trace("restart");this.reset(y);this.fab(!0);};w.prototype.stop=function(){k.K && this.S.trace("stop");this.us.pab();};w.prototype.close=function(){var y;k.K && this.S.trace("start");null === (y=this.VM) || void 0 === y?void 0:y.close();};w.prototype.Qa=function(){this.stop();this.close();};w.prototype.tV=function(){this.X.Ila && this.ng.LEb();this.ng.E3();};w.prototype.KC=function(y){this.ng.KC(y);};w.prototype.BEb=function(y){this.ng.tRb(y);};w.prototype.di=function(y){var x;return !(null === (x=this.VM) || void 0 === x || !x.di(y));};w.prototype.fab=function(y){if(!this.us.li || y)(this.us.AYb(),g.AsyncIterator.aNb(this.us,this.cNb.bind(this)));};w.prototype.cNb=function(y){y.done || this.Uta(y.value);};w.prototype.Uta=function(y){var x,A,z,B,C,D,F,G;k.K && this.S.trace(("requestReceived: ").concat(null === (x=this.us.e3) || void 0 === x?void 0:x.u.id) + (" ").concat(y.toString(),", edit: ").concat(JSON.stringify(y.Ha)));this.ng.endOfStream?k.K && this.S.error("Buffer manager has declared EOS, ignoring request",y.toString()):(this.iJ?(this.iJ.uNb=null === (D=y.Za) || void 0 === D?void 0:D.G,this.iJ.wNb=null === (F=y.Mb) || void 0 === F?void 0:F.G,this.iJ.Y1a=y.Mb):this.iJ={Acc:null === (A=y.Ma) || void 0 === A?void 0:A.G,Bcc:null === (z=y.Bb) || void 0 === z?void 0:z.G,uNb:null === (B=y.Za) || void 0 === B?void 0:B.G,wNb:null === (C=y.Mb) || void 0 === C?void 0:C.G,Y1a:y.Mb},y.ey && y.stream.track.Rl && (null === (G=this.Y) || void 0 === G || !G.fU(y.pa.J)) && this.emit("drmNeeded",{J:y.pa.J,ro:y.Bb}),this.ng.dsb(y));};return w;})(r.EventEmitter));b.Jya=a;},27763:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Bya=void 0;c=a(70655);k=a(86393);f=c.__importDefault(a(54186));r=c.__importDefault(a(29736));h=a(74005);d=a(44724);g=a(97664);m=a(60595);l=a(97476);n=r.default.Yj;a=(function(p){function q(u,t,v,w,y,x,A,z,B){var C;w=p.call(this,u,v,w,y,A,z,B) || this;x=m.pl.prototype.toString.call(w) + (x?"(cache)":"");B={offset:v.offset,xa:v.Jqa + 8,responseType:0};w.push(new l.aD(u,t,x + "(moof)",B,w,y,A,z));B={offset:v.offset + B.xa,xa:v.xa - B.xa,responseType:n.te && !n.te.zW.WP?0:1};if(w.mediaType === f.default.un.Z && w.Ha){if(0 < w.Ha.start){C=w.VWa(w.Ha.start);C && (B.offset=v.offset + C,B.xa=v.xa - C);}w.Ha.end < w.Rs && (C=w.VWa(w.Ha.end)) && (B.xa-=v.xa - C);}w.push(new l.aD(u,t,x + "(mdat)",B,w,y,A,z));return w;}c.__extends(q,p);q.prototype.mk=function(){return !this.rd && !!this.Ka.length && this.Ka.every(function(u){return u.mk();});};q.prototype.yq=function(u,t){var v,w,y,x,A,z,B;if(this.rd)return {status:l.xf.rn};if(!this.mk())return {status:l.xf.Eh};u=!1;v=this.Ka[0].response;w=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(w.byteLength);(0,d.assert)("mdat" === (0,k.pJ)(y.getUint32(w.byteLength + 4)));x=this.Ha && 0 < this.Ha.start;y=this.Ha && this.Ha.end < this.Rs;if(this.Ha && (x || y)){if(x)(A=new k.Qw(this.S,this.stream,w),z=A.u8a(this.Ha.start,this.T));if(y && !1 !== z){A=new k.Qw(this.S,this.stream,z?(0,h.YE)(z.ma):w);B=A.B8a(this.Ha.end - this.Ha.start,this.T);}if(A=y?B:z)(u=t.appendBuffer((0,h.YE)(A.ma),(0,h.Dy)(this)),z && ((0,d.assert)(void 0 !== z.Wp),(0,d.assert)(void 0 !== z.iN),v-=z.Wp),B && ((0,d.assert)(void 0 !== B.Wp),(0,d.assert)(void 0 !== B.iN),v-=B.Wp,z && (0,d.assert)(void 0 !== z.Wp)));A=this.Nta();}else u=t.appendBuffer(w,(0,h.Dy)(this));u && (u=t.appendBuffer((0,k.fM)(v - 8),(0,h.Dy)(this))) && (u=t.appendBuffer(this.Ka[1].response,(0,h.Dy)(this)));this.rd=u;this.xXb();return {status:u?l.xf.rn:l.xf.Eh,Vk:A};};q.prototype.toString=function(){return "ID: " + this.Tg() + ":" + p.prototype.toString.call(this);};return q;})(g.Pr);b.Bya=a;},97664:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Pr=void 0;c=a(70655);k=a(44724);r=a(40885);f=a(74005);h=a(4145);d=a(26699);g=a(60595);m=a(97476);a=(function(l){function n(p,q,u,t,v,w,y){u=l.call(this,p,q,u,t,v,w) || this;g.pl.qa(u,p,q,y);u.Kc=0;u.rd=!1;return u;}c.__extends(n,l);Object.defineProperties(n.prototype,{Hd:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Kc+=p.xa;l.prototype.push.call(this,p);};n.prototype.Vp=function(p){this.Kc-=p.xa;l.prototype.Vp.call(this,p);};n.prototype.mk=function(){var p;return !this.rd && !!this.Ka.length && !(null === (p=(0,h.qc)(this.Ka,function(q){return !q.rd;})) || void 0 === p || !p.mk());};n.prototype.yq=function(p,q,u){var t,v;(0,k.assert)(!this.rd);t=m.xf.KGa;v=(0,f.Dy)(this);this.rd=this.Ka.every(function(w){if(w.rd)return !0;if(!w.mk())return !1;t=w.yq(p,q,u,v).status;return t === m.xf.rn;});t !== m.xf.rn || this.rd || (t=m.xf.r_);return {status:t};};n.prototype.xXb=function(){this.Ka.forEach(function(p){p.hH();});};n.prototype.Tg=function(){return this.Ka?this.Ka[0].Tg() + "-" + this.Ka[this.Ka.length - 1].Tg():"empty";};n.prototype.My=function(p,q,u){this.Kc+=q - u;this.p4(this,q,u);};n.prototype.toString=function(){return "ID: " + this.Tg() + ":" + g.pl.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Tg(),request:l.prototype.toJSON.call(this)};};return n;})(d.xaa);b.Pr=a;(0,r.gj)(g.pl,a);},26699:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=void 0;c=a(70655);c.__importDefault(a(29736));k=a(44724);r=(function(f){function h(d,g,m,l,n,p){d=f.call(this,d,g,m,l,n,p) || this;d.CNa=!1;d.BNa=!1;d.BQ=!1;d.Ka=[];d.En=!1;d.zOa=!1;d.Ae=!1;d.Yo=!1;d.Hi=!1;d.dx=!1;d.zJ=void 0;d.Ku=void 0;return d;}c.__extends(h,f);Object.defineProperties(h.prototype,{Ioa:{get:function(){return this.En && !this.BQ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Hi || (this.Hi=this.Ka.every(function(d){return d.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dk:{get:function(){return this.Ka.reduce(function(d,g){return d + g.Dk;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.Ka.reduce(function(d,g){return d + g.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eg:{get:function(){return this.zJ || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{url:{get:function(){return this.Ka[0] && this.Ka[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{readyState:{get:function(){return this.Ue || this.Ka.reduce(function(d,g){return Math.min(d,g.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.Ku && this.Ku.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sg:{get:function(){return this.Ku && this.Ku.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wF:{get:function(){return this.Ku && this.Ku.wF;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aj:{get:function(){return this.Ku && this.Ku.aj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{PL:{get:function(){return !!this.Ka.length && this.Ka[0].PL;},enumerable:!1,configurable:!0}});h.prototype.push=function(d){this.Ka.push(d);this.En && d.HM();};h.prototype.Vp=function(d){d=this.Ka.indexOf(d);-1 !== d && this.Ka.splice(d,1);};h.prototype.HM=function(){this.zOa=!0;(this.En=this.Ka.every(function(d){return d.HM();})) && this.aT(this);this.zOa=!1;return this.En;};h.prototype.$e=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ka.forEach(function(d){return d.$e();});};h.prototype.lz=function(d){var g;g=this;this.cua();return this.Ka.every(function(m){(0,k.assert)(m.vo === g.Ka[0].vo);return 5 !== m.readyState && 7 !== m.readyState?m.lz(d):!0;});};h.prototype.abort=function(){var d,g,m;d=this.active;g=this.aborted;this.Ue=7;this.dx=!0;this.Yo=this.Ae=!1;m=this.Ka.map(function(l){return l.abort();}).every(function(l){return l;});g || this.dL(this,d,this.Ioa);return m;};h.prototype.getResponseHeader=function(d,g){var m;m=null;this.Ka.some(function(l){return !!(m=l.getResponseHeader(d,g));});return m;};h.prototype.getAllResponseHeaders=function(d){var g;void 0 === d && (d=!1);g=null;this.Ka.some(function(m){return !!(g=m.getAllResponseHeaders(d));});return g;};h.prototype.e8=function(){};h.prototype.FM=function(d){this.Ae || (this.Ae=!0);this.CNa || (this.CNa=!0,this.ur=0,this.zJ=this.Dt=d.eg,this.$S(this));};h.prototype.nC=function(d){this.Yo || (this.Yo=!0);this.BNa || (this.BNa=!0,this.zJ=d.eg,this.eL(this));};h.prototype.GM=function(d){this.zJ=d.eg;this.fL(this);this.ur=this.bytesReceived;this.Dt=d.eg;};h.prototype.Xl=function(d){this.zJ=d.eg;this.complete?(this.Hi=!0,this.Ue=5,this.Yo=this.Ae=!1,this.BQ=!0,this.lB(this)):this.fL(this);this.ur=this.bytesReceived;this.Dt=d.eg;};h.prototype.d8=function(d){this.zJ=d.eg;this.Ku=d;this.Ue=6;this.o4(this);};h.prototype.CV=function(){};h.prototype.Tg=function(){return this.Ka[0].Tg() + "-" + this.Ka[this.Ka.length - 1].Tg();};h.prototype.toString=function(){return ("Compound[").concat(this.Ka.map(function(d){return d.toString();}).join(","),"]");};h.prototype.toJSON=function(){return {requests:this.Ka};};h.prototype.cua=function(){this.Ue=this.Ku=void 0;};return h;})(a(78115).FO);b.xaa=r;},58414:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qY=void 0;c=a(70655);k=a(44724);r=a(40885);f=a(29584);a=a(57772);h=(function(){function d(g,m){this.Sa=[];this.og=void 0;this.Kc=0;this.S=g;m && m.length && (Array.isArray(m)?(this.Sa=m.slice(),this.hQ(0,this.Sa.length)):m instanceof d && (this.Sa=m.Sa.slice(),this.hQ(0,this.Sa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Sa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qd:{get:function(){return this.Sa[this.Sa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lb:{get:function(){return this.first && this.first.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nb:{get:function(){return this.Qd && this.Qd.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hq:{get:function(){return this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xa:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{T:{get:function(){return this.first && this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jn:{get:function(){return this.first && this.first.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});d.prototype.b4b=function(g){this.Kc+=g;};d.prototype.Bsb=function(){var g;if(0 === this.Sa.length)((0,k.assert)(void 0 === this.og),(0,k.assert)(0 === this.Kc));else {(0,k.assert)(this.og instanceof f.Fz);(0,k.assert)("number" === typeof this.Kc);(0,k.assert)(void 0 !== this.Hq && this.Hq.lb === this.lb);g=this.Sa.reduce(function(m,l,n){return 0 === n || l.lb === m?l.nb:m;},0);(0,k.assert)(this.Hq.nb === g);(0,k.assert)(this.Sa.reduce(function(m,l,n){return 0 === n || l.lb === m?l.nb:m;},0) === this.Hq.nb);(0,k.assert)(this.Sa.reduce(function(m,l){return m + l.xa;},0) === this.Kc);}};d.prototype.get=function(g){0 > g && (g+=this.Sa.length);return this.Sa[g];};d.prototype.push=function(g){this.Sa.push(g);this.hQ(this.Sa.length - 1);return this.length;};d.prototype.unshift=function(g){this.Sa.unshift(g);this.hQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Sa.length)return (this.$fa(this.Sa.length - 1),this.Sa.pop());};d.prototype.shift=function(){if(0 !== this.Sa.length)return (this.$fa(0),this.Sa.shift());};d.prototype.splice=function(g,m){for(var l,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Sa.length);0 > g && (g=0);g > this.Sa.length && (g=this.Sa.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Sa.length - g);0 < m && this.$fa(g,g + m);p=(l=this.Sa).splice.apply(l,c.__spreadArray([g,m],c.__read(n),!1));0 < n.length && this.hQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,m){void 0 === g && (g=0);void 0 === m && (m=this.Sa.length);0 > g && (g+=this.Sa.length);if(g >= this.Sa.length)return new d(this.S);m > this.Sa.length && (m=this.Sa.length);0 > m && (m+=this.Sa.length);return new d(this.S,this.Sa.slice(g,m));};d.prototype.et=function(g){if(0 === this.Sa.length || g.lb >= this.nb)this.push(g);else if(g.nb <= this.lb)this.unshift(g);else {for(var m=0,l=this.Sa.length - 1,n;m < l - 1;){n=Math.floor((l + m) / 2);(0,k.assert)(n !== l && n !== m);g.lb >= this.Sa[n].nb?m=n:l=n;}(0,k.assert)(m !== l);(0,k.assert)(this.Sa[m].nb <= g.lb && this.Sa[l].lb >= g.nb);this.splice(l,0,g);}};d.prototype.remove=function(g){g=this.Sa.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}g=g.map(function(l){return l.Sa;});return new d(this.S,Array.prototype.concat.apply(this.Sa,g));};d.prototype.forEach=function(g){var m;m=this;this.Sa.forEach(function(l,n){return g(l,n,m);});};d.prototype.some=function(g){var m;m=this;return this.Sa.some(function(l,n){return g(l,n,m);});};d.prototype.every=function(g){var m;m=this;return this.Sa.every(function(l,n){return g(l,n,m);});};d.prototype.map=function(g){var m;m=this;return this.Sa.map(function(l,n){return g(l,n,m);});};d.prototype.reduce=function(g,m){var l;l=this;return this.Sa.reduce(function(n,p,q){return g(n,p,q,l);},m);};d.prototype.indexOf=function(g){return this.Sa.indexOf(g);};d.prototype.find=function(g){var m,l;m=this;return this.Sa.some(function(n,p){l=p;return g(n,p,m);})?this.Sa[l]:void 0;};d.prototype.findIndex=function(g){var m,l;m=this;return this.Sa.some(function(n,p){l=p;return g(n,p,m);})?l:-1;};d.prototype.filter=function(g){var m;m=this;return new d(this.S,this.Sa.filter(function(l,n){return g(l,n,m);}));};d.prototype.l4=function(g){for(var m=this.Sa.length - 1;0 <= m;--m){g(this.Sa[m],m,this);}};d.prototype.Kva=function(g){for(var m=this.Sa.length - 1;0 <= m;--m){if(g(this.Sa[m],m,this))return !0;}return !1;};d.prototype.pla=function(g){if(this.empty || g < this.Ma.G || g >= this.Za.G)return -1;for(var m=0,l=this.Sa.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(g >= this.Sa[n].Ma.G && g < this.Sa[n].Za.G){l=n;break;}g < this.Sa[n].Za.G?l=n - 1:m=n + 1;}return l;};d.prototype.SS=function(g){if(this.empty || g < this.Bb.G || g >= this.Mb.G)return -1;for(var m=0,l=this.Sa.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(g >= this.Sa[n].Bb.G && g < this.Sa[n].Mb.G){l=n;break;}g < this.Sa[n].Mb.G?l=n - 1:m=n + 1;}return l;};d.prototype.OWa=function(g){g=this.SS(g);return 0 <= g?this.Sa[g]:void 0;};d.prototype.u1=function(g){var m;m=this.Sa[g].nb;for(g+=1;g < this.Sa.length && m === this.Sa[g].lb;++g){m=this.Sa[g].nb;}g < this.Sa.length?void 0 === this.og?this.og=new f.Fz(this,{nb:m}):this.og.PW(m):void 0 === this.og?this.og=new f.Fz(this,{}):this.og.Mia();};d.prototype.gJ=function(g,m){for(var l=g;l < m;++l){this.Kc+=this.Sa[l].xa;}void 0 === this.og || 0 === g?this.u1(0):this.og.nb === this.nb?this.u1(g - 1):this.Sa[g].lb === this.og.nb && this.u1(g);};d.prototype.tx=function(g,m){var l;if(0 === g)(this.og=void 0,m < this.length && this.u1(m));else {l=this.og;l.nb > this.Sa[g - 1].nb && (m < this.length?l.PW(this.Sa[g - 1].nb):l.Mia());}for(;g < m;++g){this.Kc-=this.Sa[g].xa;}};d.prototype.hQ=function(g,m){void 0 === m && (m=g + 1);this.gJ(g,m);};d.prototype.$fa=function(g,m){void 0 === m && (m=g + 1);this.tx(g,m);};return d;})();b.qY=h;(0,r.gj)(a.bu,h);},60595:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pl=void 0;c=a(70655);k=a(44724);f=c.__importDefault(a(54186));h=c.__importDefault(a(84126));d=a(52190);g=a(70950);r=a(40885);m=a(89872);l=a(29584);a=a(57772);n=(function(p){function q(u,t,v){var w;w=p.call(this,u,t) || this;q.qa(w,u,t,v);return w;}c.__extends(q,p);q.qa=function(u,t,v,w){var y;m.bD.qa(u,t,v);u.ce=v.index;u.oJ=v.lb;u.Gu=v.nb;u.Lpb=v.zb?v.zb:t.zb;u.Kt=v.Kt;u.T4=w;u.ANa=!!v.ey;u.aOa=!!v.Dj;u.ROa=null !== (y=v.region) && void 0 !== y?y:0;u.zNa=!!v.Ela;u.$Na=!!v.nt;u.ma=void 0 === v.q4 || void 0 === v.Pla || v.q4 === v.lb && v.Pla === v.nb?u:new l.Fz(u,{lb:v.q4,nb:v.Pla});u.Unb=v.Jqa;u.Zlb=v.wj;u.nnb=t.s5;u.Hh=v.Ha?u.V4a(v.Ha):void 0;u.oPa=v.kw;u.rd=!1;};q.ZTa=function(u){for(var t=new Uint32Array(u.length),v=new Uint32Array(u.length),w=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,A,z,B=0;B < u.length;++B){A=u[B];z=A.Kc;t[B]=A.Gu - A.oJ;v[B]=z;w[B]=A.stream.Ot;void 0 !== A.zb && null !== A.zb && (y[B]=A.zb);x+=z;}return new d.dea(t,v,u.length?u[0].T:1E3,x);};Object.defineProperties(q.prototype,{jt:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ce;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zb:{get:function(){return this.Lpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qha:{get:function(){return 8 * this.xa / this.Nd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lb:{get:function(){return this.oJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nb:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jn:{get:function(){var u,t;return null !== (t=null === (u=this.T4) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ey:{get:function(){return this.ANa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dj:{get:function(){return this.aOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.ROa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ela:{get:function(){return this.zNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nt:{get:function(){return this.$Na;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jqa:{get:function(){return this.Unb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wj:{get:function(){return this.Zlb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.Hh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kw:{get:function(){return this.oPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{RYb:{get:function(){return this.Hh?this.Hh.end - this.Hh.start:this.Rs;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{q4:{get:function(){return this.ma.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pla:{get:function(){return this.ma.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YEb:{get:function(){return this.ma.cB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gL:{get:function(){return this.ma.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qla:{get:function(){return this.ma.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rs:{get:function(){var u;u=this.YEb;(0,k.assert)(u);return u / this.stream.ca.ya;},enumerable:!1,configurable:!0}});q.prototype.kPb=function(){this.ANa=!0;};q.prototype.h3a=function(){this.aOa=!0;};q.prototype.w_b=function(u){this.Kt={Yd:u.jYa(),get UL() {return u.qX;}};};q.prototype.EN=function(u){this.oPa=u;};q.prototype.s_b=function(u,t,v){this.ROa=u;this.zNa=t;this.$Na=v;};q.prototype.Bi=function(u){var t,v;void 0 === u && (u={});t=this.stream.ca.ya;v=this.Hh || ({start:0,end:this.Rs});u=this.V4a(u);this.ma && this.ma !== this || (this.ma=new l.Fz(this,this));u.start > v.start && (this.oJ=this.ma.lb + u.start * t);u.end < v.end && (this.Gu=this.ma.lb + u.end * t);this.Hh=c.__assign(c.__assign({},v),u);};q.prototype.rka=function(u){void 0 === u && (u=1);this.Hh?this.Bi({start:this.Hh.start + u,end:this.Hh.end}):this.Bi({start:u});};q.prototype.F3=function(u){this.Hh?this.Bi({start:this.Hh.start,end:(this.Hh.end || 0) - u}):this.Bi({start:0,end:-u});};q.prototype.fi=function(){this.Ha?this.Bi({start:this.Ha.start,end:this.Ha.start}):this.Bi({start:0,end:0});};q.prototype.x_b=function(u){this.Hh || this.Bi();this.Hh.W9=u;};q.prototype.e$a=function(u){this.Hh || this.Bi();this.Hh.Ns=!0;u && (this.Hh.yWa=u);};q.prototype.f$a=function(u){this.Hh || this.Bi();this.Hh.Tn=!0;u && (this.Hh.zWa=u);};q.prototype.WWa=function(u){var v;if(!(u < this.Ma.G || u >= this.Za.G) && this.wj && this.wj.length){u=new g.N(u + 1 - this.Ma.G,1E3).Ui(this.stream.ca);for(var t=this.wj.length - 1;0 <= t;--t){v=this.wj[t];if(v.Mj <= u)return v;}return {Mj:0,Me:this.gL.G};}};q.prototype.sEb=function(u){var v;if(!(u < this.Ma.G || u >= this.Za.G) && this.wj && this.wj.length){u=new g.N(u + 1 - this.Ma.G,1E3).Ui(this.stream.ca);for(var t=this.wj.length - 1;0 <= t;--t){v=this.wj[t];if(v.Mj <= u)return v;}return {Mj:0,Me:this.gL.G};}};q.prototype.MWa=function(u,t){var v,w,y;if(!(u < this.Ma.G || u >= this.Za.G)){if(!t && this.nnb)return {Mj:0,Me:this.Ma.G};v=this.ca.ya;w=this.ca.T;y=Math.floor(this.cB / v);u=Math.min((t?Math.ceil:Math.floor)((g.N.w4a(u,w) - this.lb + (t?-1:1) * (w / 1E3 - 1)) / v),y);v=g.N.Awa(this.lb + u * v,w);return u === y?void 0:{Mj:u,Me:v};}};q.prototype.pEb=function(u){return this.mediaType === f.default.un.Z?this.WWa(u):this.MWa(u,!1);};q.prototype.tla=function(u){return this.mediaType === f.default.un.Z?this.sEb(u):this.MWa(u,!0);};q.prototype.$ga=function(u){this.Kc+=u.xa;this.Gu=u.nb;this.Hh && (this.ma=new l.Fz(this,{lb:this.q4,nb:this.Gu}),this.Hh.end=this.Rs);};q.prototype.Nta=function(u){var t,v,w;t={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === f.default.un.ga?"audioedit":"videoedit";w=this.gL.equal(this.Ma);w=[w?this.Za.G:this.Ma.G,w?-this.Nd.G:this.Nd.G];u && w.push(u);t.fields[v]={type:"array",value:w};return t;};q.prototype.toString=function(){return ("[").concat(this.Nb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ma.G,"-").concat(this.Za.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Mb.G,",d:").concat(this.Nd.G,"]");};q.prototype.toJSON=function(){var u;u=m.bD.prototype.toJSON.call(this);(0,h.default)({index:this.index,startPts:this.Ma.G,endPts:this.Za.G,"contentStartTicks:":this.lb,contentEndTicks:this.nb,contentStartPts:this.Ma.G,contentEndPts:this.Za.G,fragmentStartPts:this.gL.equal(this.Ma)?void 0:this.gL.G,fragmentEndPts:this.Qla.equal(this.Za)?void 0:this.Qla.G,edit:this.Ha},u);return u;};q.prototype.VWa=function(u){var v;if(this.wj)for(var t=0;t < this.wj.length;++t){if(this.wj[t].Mj === u)v=this.wj[t].offset;}return v;};q.prototype.V4a=function(u){var t,v;t=Math.max(u.start || 0,0);v=void 0 === u.end?this.Rs:Math.min(this.Rs,Math.max(t,0 > u.end?this.Rs + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:v});};return q;})(m.bD);b.pl=n;(0,r.gj)(a.bu,n);},76897:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Dya=void 0;c=a(70655);a(44724);k=a(22084);r=a(40885);f=a(58414);h=a(57772);d=a(23563);g=a(29584);a=(function(m){function l(n,p){var q,u;q=this;u=[new f.qY(n),new f.qY(n),new f.qY(n)];q=m.call(this,u,function(t){return t.complete?q.empty || t.lb <= q.Vvb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Hi=u[0];q.Ae=u[1];q.xs=u[2];q.Xo=0;q.Eea=0;q.S=n;q.Se=p;return q;}c.__extends(l,m);Object.defineProperties(l.prototype,{xa:{get:function(){return this.Hi.xa + this.Ae.xa + this.xs.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R3b:{get:function(){return this.xs;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{KWb:{get:function(){return this.Xo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N2:{get:function(){return this.Hi.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mr:{get:function(){return this.Hi.xa + this.Ae.xa - this.Xo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S3b:{get:function(){return this.xs.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gN:{get:function(){return this.xa - this.Xo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.rFb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qd:{get:function(){return this.Ksb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vka:{get:function(){return !this.Hi.empty || this.xs.empty || this.Ae.empty?this.first:this.Ae.lb < this.xs.lb?this.Ae.first:this.xs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{j2a:{get:function(){return this.xs.empty || this.Ae.empty?this.Qd:this.Ae.nb < this.xs.nb?this.xs.Qd:this.Ae.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fXa:{get:function(){return this.xs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{T:{get:function(){return this.first && this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lb:{get:function(){return this.vka && this.vka.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nb:{get:function(){return this.j2a && this.j2a.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jn:{get:function(){return this.first && this.first.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vvb:{get:function(){return this.Hi.empty?this.lb:this.Hi.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Uvb:{get:function(){var n;return this.Hi.empty?null === (n=this.Ma) || void 0 === n?void 0:n.G:this.Hi.Za.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fTa:{get:function(){var n;return this.Hi.empty?null === (n=this.Bb) || void 0 === n?void 0:n.G:this.Hi.Mb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{l6a:{get:function(){var n,p;return (null === (n=this.Ae.Mb) || void 0 === n?void 0:n.G) || (null === (p=this.Hi.Mb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{WC:{get:function(){return this.xs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gk:{get:function(){return this.Ae.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hTa:{get:function(){return this.Hi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ra:{get:function(){return this.Hi.concat(this.Ae);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hq:{get:function(){return this.og;},enumerable:!1,configurable:!0}});l.prototype.gJ=function(n){var p;n.aborted?++this.Eea:this.Xo+=n.bytesReceived || 0;if(this.empty)this.og=new g.Fz(this,{});else if(n.lb !== this.nb)if(n.lb > this.og.nb)this.og.PW(this.og.nb);else if(n.lb < this.lb || n.lb === this.og.nb){p=n.nb;this.IEb(function(q,u){return q.lb - u.lb;},function(q){p=q.lb === p?q.nb:p;});p === Math.max(this.nb,n.nb)?this.og.Mia():this.og.PW(p);}n.u_b(this);};l.prototype.tx=function(n){n.aborted?--this.Eea:this.Xo-=n.bytesReceived;this.empty?this.og=void 0:n.lb !== this.nb && n.nb <= this.og.nb && n.lb > this.og.lb && this.og.PW(n.lb);n.tvb();};l.prototype.push=function(n){this.gJ(n);return m.prototype.push.call(this,n);};l.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.tx(n);return n;};l.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.tx(n);return n;};l.prototype.unshift=function(n){this.gJ(n);return m.prototype.unshift.call(this,n);};l.prototype.et=function(n){this.gJ(n);m.prototype.et.call(this,n);};l.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.tx(n);return !0;};l.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=m.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.gJ.bind(this));u.forEach(this.tx.bind(this));return u;};l.prototype.lWb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};l.prototype.pla=function(n){return this.PWa(function(p){return p.pla(n);});};l.prototype.SS=function(n){return this.PWa(function(p){return p.SS(n);});};l.prototype.OWa=function(n){n=this.SS(n);return -1 !== n?this.get(n):void 0;};l.prototype.uZb=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};l.prototype.FM=function(n){this.move(n);this.$S(n);};l.prototype.GM=function(n){this.Xo+=n.bytesReceived - n.ur;this.fL(n);};l.prototype.Xl=function(n){for(this.Xo+=n.bytesReceived - n.ur;this.Ae.first && this.Ae.first.complete && (this.Hi.empty?this.Ae.first === this.vka:this.Ae.first.lb === this.Hi.nb);){this.T_b();}this.lB(n);};l.prototype.CV=function(n,p,q){this.Xo-=n.bytesReceived;++this.Eea;this.dL(n,p,q);};l.prototype.My=function(n,p,q){this.Ae.b4b(p - q);this.p4(n,p,q);};return l;})(k.qAa);b.Dya=a;(0,r.gj)(d.Ez,a,!1);(0,r.gj)(h.bu,a);},18026:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rY=void 0;c=a(70655);a(44724);r=a(40885);k=c.__importDefault(a(54186));f=c.__importDefault(a(29736));h=a(97664);d=a(60595);g=a(97476);m=f.default.Yj;l=a(27763);a=(function(n){var R8;R8=2;for(;R8 !== 9;){switch(R8){case 2:c.__extends(p,n);p.create=function(q,u,t,v,w,y,x,A,z){var M2z,B,C;M2z=2;for(;M2z !== 11;){switch(M2z){case 13:return w;break;case 14:var D$4="s";D$4+="u";D$4+="breques";D$4+="t";(B={offset:x,xa:Math.min(C,z),responseType:v.responseType},x+=B.xa,C-=B.xa,w.push(new g.aD(q,t,D$4,B,w,y,u,A)));M2z=6;break;case 4:B=Math.ceil(v.xa / v.jM);x=v.offset;C=v.xa;w=new h.Pr(q,v,w,y,u,A,z);M2z=7;break;case 2:M2z=!u.fl && v.Ha && q.mediaType === k.default.un.Z && m.te && m.te.zW.WP?1:5;break;case 7:z=Math.ceil(v.xa / B);M2z=6;break;case 1:return new l.Bya(q,t,v,w,y,x,u,A,z);break;case 12:return new p(q,t,v,w,y,x,u,A,z);break;case 5:M2z=v.jM && v.xa > v.jM?4:12;break;case 6:M2z=0 < C?14:13;break;}}};p.prototype.toString=function(){var Z$C;Z$C=2;for(;Z$C !== 1;){switch(Z$C){case 2:var m4v="I";m4v+="D";m4v+=":";m4v+=" ";return m4v + this.Tg() + ":" + d.pl.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var N9g;N9g=2;for(;N9g !== 1;){switch(N9g){case 2:return {ID:this.Tg(),request:d.pl.prototype.toJSON.call(this)};break;}}};R8=3;break;case 3:return p;break;}}function p(q,u,t,v,w,y,x,A,z){var o_P,B;o_P=2;for(;o_P !== 6;){switch(o_P){case 3:void 0 === t.responseType && (t.responseType=t.Ha || m.te && !m.te.zW.WP?0:1);B=n.call(this,q,u,B,t,v,w,x,A) || this;d.pl.qa(B,q,t,z);return B;break;case 2:var a_y="e";a_y+="d";a_y+="i";a_y+="t";var E4T="c";E4T+="a";E4T+="c";E4T+="he";var N0L="1SIYb";N0L+="Zr";N0L+="NJCp";N0L+="9";B=this;N0L;B=[E4T,a_y].filter(function(C,D){var T_V;T_V=2;for(;T_V !== 1;){switch(T_V){case 4:return [y,t.Ha][D];break;case 2:return [y,t.Ha][D];break;}}});B=B.length?"(" + B.join(",") + ")":"";o_P=3;break;}}}})(g.aD);b.rY=a;(0,r.gj)(d.pl,a,!1);},96432:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Aaa=void 0;c=a(70655);a(44724);k=a(89872);r=(function(f){function h(d,g,m,l){var n;n=f.call(this,d,m) || this;n.Y9=!1;n.WS=!1;n.iV=!1;n.xS=!1;n.$M=void 0;h.l0a(n,d,g,m,l);return n;}c.__extends(h,f);h.l0a=function(d,g,m,l,n){k.bD.qa(d,g,l);d.u=m;d.cE=l.Oh;d.Ju=l.Xra;d.tNa=l.uF;d.S=n;};Object.defineProperties(h.prototype,{Hd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Oh:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xra:{get:function(){return this.Ju;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uF:{get:function(){return this.tNa;},enumerable:!1,configurable:!0}});h.prototype.$e=function(){};h.prototype.cxa=function(){};h.prototype.toJSON=function(){return c.__assign(c.__assign({},f.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.La});};return h;})(k.bD);b.Aaa=r;},41736:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Eya=void 0;c=a(70655);k=a(86393);r=a(28075);f=c.__importDefault(a(29736));h=a(74005);d=a(40885);g=a(44724);m=a(47571);l=a(96432);n=a(26699);p=a(97476);q=f.default.MediaSource;a=(function(u){function t(v,w,y,x,A,z,B,C){w=u.call(this,v,x,A,z,w,C) || this;l.Aaa.l0a(w,v,z,x,C);w.$M=y;w.track=y.track;w.WS=!!x.WS;w.iV=!!x.iV;w.xS=!!x.xS;w.$Sb=x.xa;w.Y9=!!x.Y9;w.IQ=(B?"(cache)":"") + w.Nb + " header";v=x.offset;x=x.xa;w.Ju && (v+=w.Ju.byteLength,x-=w.Ju.byteLength);w.sE(v,x);return w;}c.__extends(t,u);Object.defineProperties(t.prototype,{Hd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{i8:{get:function(){return this.zob;},enumerable:!1,configurable:!0}});t.prototype.$e=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}u.prototype.$e.call(this);};t.prototype.aT=function(v){this.stream.V7();u.prototype.aT.call(this,v);};t.prototype.dL=function(v,w,y){this.stream.U7();u.prototype.dL.call(this,v,w,y);};t.prototype.Xl=function(v){v.response && this.$Ma(v.response);(0,g.assert)(this.Ju);v.hH();this.stream.U7();this.xob()?u.prototype.Xl.call(this,v):this.aNa?(this.sE(v.offset + v.xa,this.aNa),this.stream.V7(),u.prototype.Xl.call(this,v)):this.o4(this);};t.prototype.c8=function(v){v.response && this.$Ma(v.response);u.prototype.c8.call(this,v);};t.prototype.sE=function(v,w){v=new p.aD(this.stream,this.track,this.IQ + " (" + this.Ka.length + ")",{Hd:!0,offset:v,xa:w,fz:{Bg:m.Db.Hk},location:this.location,Dc:this.Dc,responseType:0},this,this.u,this.config,this.S);this.push(v);this.Kc=this.Ka.reduce(function(y,x){return y + x.xa;},0);};t.prototype.xob=function(){var v,w,y,x,A,z,B;x=this.config;A=new k.Yr(t.LQb,this.stream,this.Ju,this.stream.ha?["moov"]:["sidx"],x.zTb,{Ffc:this.stream.track.Osa,Tra:void 0 === this.ca,Rbb:!q.te || !q.te.Fvb,Gwa:x.Gwa,Em:x.Em,mO:this.config.mO,f9a:!0,Z9:!q.te || !q.te.VQb,Kta:this.config.Kta});z=A.parse({ca:this.ca});this.Y4b=x.mO && A.dKb;if(z.vt){(0,g.assert)(z.Oh);this.cE=z.Oh;this.zob=z.i8;this.tNa=!!z.KCb;void 0 === this.ca && void 0 === z.ca && this.S.error("No frame duration available for " + this.Nb);A=z.ca?new h.N(z.ca):this.ca;B=void 0;if(this.vo.mediaType === m.v.Z && (null === (v=x.MM) || void 0 === v?0:v.enabled))if(null === (w=this.vo.vH) || void 0 === w?0:w.length)B=this.vo.vH;else if((v=this.vo.Ev.vH,0 < (null === v || void 0 === v?void 0:v.length)))for((B=new Uint8Array(v.length),y=0);y < v.length;y++){B[y]=v[y].zb;}else if(null === (y=z.uw) || void 0 === y?0:y.length)for((B=new Uint8Array(z.uw.length),y=0);y < z.uw.length;y++){B[y]=z.uw[y];}this.stream.pra(z.Oh,z.T,A,z.La,z.uM,z.wj,B,z.trackId);this.Ju=void 0;}else this.aNa=z.Vqb || 0;return !!z.vt;};t.prototype.$Ma=function(v){this.Ju=this.Ju?(0,h.YE)(this.Ju,v):v;};t.LQb=new f.default.Console("MP4","media|asejs");return t;})(n.xaa);b.Eya=a;(0,d.gj)(l.Aaa,a,!1,!1);(0,d.gj)(r.EventEmitter,a);},10945:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Baa=void 0;c=a(70655);k=c.__importDefault(a(29736)).default.Yj;a(74005);f=a(44724);h=a(97664);d=a(18026);g=a(43335);m=a(97476);r=(function(l){function n(p,q,u,t,v,w,y,x,A,z){var B,C;q=l.call(this,p,t,v,w,q,y,z) || this;q.rnb=("AseLiveTextAndVideoMediaRequest(").concat(null === (B=q.Ma) || void 0 === B?void 0:B.G,"-").concat(null === (C=q.Za) || void 0 === C?void 0:C.G,")");(0,f.assert)(t.Yg);q.JQ=t.Yg;B=k.te && !k.te.zW.WP?0:1;B=c.__assign(c.__assign({},t),{responseType:B});p=new d.rY(p,u,B,q,w,!1,q.config,q.S,q.T4);q.push(p);x=x.hg[0];A=A.track;t=c.__assign(c.__assign({},t),{responseType:0,lb:q.Ma.Wd(x.T).ya,nb:q.Za.Wd(x.T).ya,T:x.T});w=new g.Caa(x,A,t,q,w,q.config,q.S);q.push(w);return q;}c.__extends(n,l);n.prototype.lz=function(){var p;p=this;this.cua();return this.Ka.every(function(q){var u;if(5 === q.readyState || 7 === q.readyState)return !0;u=q.stream.SF(p.Hd,p.JQ);return q.lz(u);});};n.prototype.Xl=function(p){h.Pr.prototype.Xl.call(this,p);};n.prototype.My=function(p,q,u){h.Pr.prototype.My.call(this,p,q,u);};n.prototype.yq=function(p,q,u){var t,v,w;if(this.rd)return {status:m.xf.rn};if(!this.mk())return {status:m.xf.Eh};t=this.Ka[0];if(t.mk()){v=t.yq(p,q,u);if(v.status === m.xf.Eh)return v;}w=this.Ka[1];if(w.mk() && (v=w.yq(p,q,u),v.status === m.xf.Eh))return v;this.rd=t.rd && w.rd;return {status:this.rd?m.xf.rn:m.xf.r_};};n.prototype.zYb=function(){return this.Ka.map(function(p){return p.response;});};return n;})(h.Pr);b.Baa=r;},43335:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Caa=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(44724);r=a(18026);h=a(97476);a=(function(d){function g(m,l,n,p,q,u,t){l=d.call(this,m,l,n,p,q,!1,u,t) || this;l.qPa=0;(0,f.assert)(0 === n.responseType);(0,f.assert)(n.Yg);l.JQ=n.Yg;l.tj=1E3 * n.lb / n.T;l.Mmb=1E3 * n.nb / n.T;m=m.Yn();l.qPa=m.F8.G;return l;}c.__extends(g,d);g.prototype.yq=function(m){var l,n,p;if(this.rd)return {status:h.xf.rn};n=new Uint8Array(this.response);n=k.default.Rja(n);(0,f.assert)(n);p=this.Dj && (null === (l=this.Kt) || void 0 === l?void 0:l.UL);l={type:"subtitleData",I:this.JQ,ab:this.tj,nf:this.Mmb,sr:this.qPa,F3b:n,endOfStream:p};m.events.emit(l.type,l);this.rd=!0;this.hH();return {status:h.xf.rn};};return g;})(r.rY);b.Caa=a;},97476:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.aD=b.xf=void 0;c=a(70655);r=c.__importDefault(a(28075));k=c.__importStar(a(67841));f=r.default.gf;h=c.__importDefault(a(29736));d=a(8628);g=a(47571);m=c.__importDefault(a(73764));l=a(74005);r=a(40885);a(44724);a(15163);n=a(78115);a=a(89872);(function(q){q[q.KGa=0]="NOTHING_APPENDED";q[q.r_=1]="PARTIAL";q[q.rn=2]="COMPLETE";q[q.Eh=3]="ERROR";})(p=b.xf || (b.xf={}));a=(function(q){function u(t,v,w,y,x,A,z,B){var C;C=q.call(this,t,y) || this;C.TNa=!!y.Hd;n.FO.qa(C,t,y,x,A,z,B);C.Cb=new h.default.Yj(v,w,{mediaType:C.mediaType,Nb:C.Nb,bitrate:C.bitrate,Dc:C.Dc,jt:!C.TNa,I:A.id,config:C.config});C.rh=t.SF(C.Hd,C.Yg);C.lpb=y.T9;C.responseType=void 0 === y.responseType?h.default.Yj.te && !h.default.Yj.te.zW.WP?0:1:y.responseType;C.Ro=new f();C.Ro.on(C.Cb,h.default.Yj.Fh.bHa,C.Rfa.bind(C));C.Ro.on(C.Cb,h.default.Yj.Fh.aHa,C.mob.bind(C));C.Ro.on(C.Cb,h.default.Yj.Fh.cHa,C.pob.bind(C));C.Ro.on(C.Cb,h.default.Yj.Fh.KP,C.Qfa.bind(C));C.Ro.on(C.Cb,h.default.Yj.Fh.V9b,C.lob.bind(C));C.Ro.on(C.Cb,h.default.Yj.Fh.Uz,C.OQ.bind(C));C.dx=!1;C.Ae=!1;C.Yo=!1;C.En=!1;C.BQ=!1;C.Yob=y.xW;C.fpb=y.fz;C.ur=0;C.mediaType === g.v.Ya || !C.config.Iga && C.Hd || (C.nx=m.default.instance());return C;}c.__extends(u,q);Object.defineProperties(u.prototype,{Hd:{get:function(){return this.TNa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{active:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.dx && 5 === this.Cb.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{url:{get:function(){return this.rh;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{status:{get:function(){return this.Cb.status;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Sg:{get:function(){return this.Cb.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wF:{get:function(){return this.Cb.wF;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aj:{get:function(){return this.Cb.aj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eg:{get:function(){return this.Cb.eg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bytesReceived:{get:function(){return this.Cb.bytesReceived;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{response:{get:function(){return this.Cb.response;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{readyState:{get:function(){return this.Cb.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Dk:{get:function(){return this.Cb.Dk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ioa:{get:function(){return this.En && !this.BQ;},enumerable:!1,configurable:!0}});u.prototype.mk=function(){return !this.rd && 6 !== this.Cb.readyState && 7 !== this.Cb.readyState && (1 === this.Cb.responseType?3 <= this.Cb.readyState:5 === this.Cb.readyState);};u.prototype.yq=function(t,v,w,y,x){var A;y || (y=(0,l.Dy)(this));this.rd=x?this.config.XSb?x.every(function(z,B){return v.appendBuffer(z,0 === B?y:void 0);}):v.appendBuffer(1 < x.length?(0,l.YE)(x):x[0],y):v.appendBuffer(this.Cb.response,y);null === (A=this.S0) || void 0 === A?void 0:A.gSb();this.hH();return {status:this.rd?p.rn:p.Eh};};u.prototype.HM=function(){var t;null === (t=this.S0) || void 0 === t?void 0:t.BSb();(this.En=this.Cb.open(this.rh,{start:this.offset,end:this.offset + this.xa - 1},this.responseType,{},void 0,void 0,this.lpb,this.stream.zr,this.stream.ha?this.stream.pa.AU.QK:void 0)) && this.aT(this);return this.En;};u.prototype.abort=function(){var t,v;if(this.aborted)return !0;t=this.Ae;v=this.nx;v && t && v.dw(h.default.time.Da(),this.Yo,this.mH);this.dx=!0;this.Yo=this.Ae=!1;this.Cb.abort();this.dL(this,t,this.Ioa);return !0;};u.prototype.$e=function(){7 !== this.Cb.readyState && 5 !== this.Cb.readyState && this.abort();this.Ro && this.Ro.clear();this.Cb.$e();};u.prototype.lz=function(t){this.rh=t;return this.Cb.lz(t);};u.prototype.getResponseHeader=function(t,v){return this.Cb.getResponseHeader(t,v);};u.prototype.getAllResponseHeaders=function(t){return this.Cb.getAllResponseHeaders(t);};u.prototype.hH=function(){this.Cb.hH();};u.prototype.Tg=function(){return this.Cb.Tg();};u.prototype.Rfa=function(){var t,v;v=this.eg || this.Cb.loadTime;null === (t=this.S0) || void 0 === t?void 0:t.vSb();d.eD.instance().push(h.default.time.Da() - v);this.Ae || (this.Ae=!0,this.PL=this.Cb.track.PL(),this.stream.X.j3a || (t=this.nx) && t.aw(v,this.mH),this.$S(this),this.Dt=this.eg);};u.prototype.mob=function(){var t,v,w,y;null === (t=this.S0) || void 0 === t?void 0:t.rSb();t=this.Cb.eg || this.Cb.yla;v=this.Cb.connect;w=this.Cb.fw;d.eD.instance().push(h.default.time.Da() - t);this.Ae || (this.Ae=!0);if(!this.Yo){this.Yo=!0;y=this.nx;this.stream.X.j3a && y && y.aw(t,this.mH);y && y.dYb();v && 0 < w.length && y && y.BA(w[0]);this.eL(this);this.Dt=t;0 >= this.xa && (t=this.xa,this.WZb(this.Cb.Dk),this.p4(this,this.xa,t));this.stream.ha?(t=this.getResponseHeader("X-TCP-Info",!0),this.stream.HTb(t,this)):this.getAllResponseHeaders(!0);}};u.prototype.pob=function(){var t,v,w,y;t=this;v=this.eg;w=this.bytesReceived - this.ur;d.eD.instance().push(h.default.time.Da() - v);this.Yo || (this.Yo=!0);y=this.nx;y && (void 0 === this.Dt || y.AA(w,this.Dt,v,this.mH),this.Cb.fw && this.Cb.fw.length && this.Cb.fw.forEach(function(x){t.nx.wx(x);}));this.fL(this);this.Dt=v;this.ur=this.bytesReceived;};u.prototype.Qfa=function(){var t,v,w,y;t=this;null === (v=this.S0) || void 0 === v?void 0:v.Q7();v=this.eg;w=this.bytesReceived - this.ur;d.eD.instance().push(h.default.time.Da() - v);y=this.nx;y && (0 < w && y.AA(w,this.Dt,v,this.mH),this.Cb.fw && this.Cb.fw.length && this.Cb.fw.forEach(function(x){t.nx.wx(x);}),y.dw(v,this.Yo,this.mH));this.Yo=this.Ae=!1;this.BQ=!0;this.lB(this);this.Dt=v;this.ur=this.bytesReceived;this.$e();};u.prototype.lob=function(){this.nXa(this);};u.prototype.cnb=function(){var t,v;t=(t=this.stream)?t.toString():this.url;v=this.Cb.fK;v && (t+=",range " + v.start + "-" + v.end);return t;};Object.defineProperties(u.prototype,{mH:{get:function(){return {requestId:this.cnb(),Aj:this.Dc,type:this.mediaType,xW:this.Yob,xa:this.xa,bytesReceived:this.bytesReceived,fz:this.fpb};},enumerable:!1,configurable:!0}});u.prototype.OQ=function(){var t,v,w,y;this.S.warn("AseMediaRequest._onError:",this.toString());t=this.eg;v=this.status;w=this.Sg;y=this.aj;d.eD.instance().push(h.default.time.Da() - t);this.complete?this.S.warn("Error on a done request " + this.toString() + ", failurecode: " + w):this.aborted?this.S.warn("Error on an aborted request " + this.toString() + ", failurecode: " + w):k.rb(w)?(this.nx && this.config && this.config.Ota && this.Cb.loadTime && void 0 === v && this.nx.AA(this.ur?this.bytesReceived - this.ur:this.bytesReceived,this.Dt?this.Dt:this.Cb.loadTime,t,this.mH),this.o4(this)):this.S.warn("ignoring undefined request error (nativecode: " + y + ")");};return u;})(a.bD);b.aD=a;(0,r.gj)(n.FO,a,!1);},18618:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Iya=void 0;c=a(70655);c.__importDefault(a(29736));k=a(47571);f=a(74005);h=a(44724);d=a(97664);g=a(60595);m=a(43335);l=a(97476);(function(p){p[p.INIT=0]="INIT";p[p.dKa=1]="READY";p[p.DONE=2]="DONE";})(n || (n={}));r=(function(p){function q(u,t,v,w,y,x,A,z,B){var C,D;y=p.call(this,u,w,y,x,t,A) || this;y.Tmb=0;y.lga=n.INIT;y.bfa=v;y.Cac=w.offset;(0,h.assert)(w.Yg);y.JQ=w.Yg;y.IQ=g.pl.prototype.toString.call(y) + " multiple";y.rnb=("AseMultiFragmentMediaRequest(").concat(null === (C=y.Ma) || void 0 === C?void 0:C.G,"-").concat(null === (D=y.Za) || void 0 === D?void 0:D.G,")");y.Yg=w.Yg;t=t.fOb;y.c1=t;y.sE(y.IQ,w.offset,t,1,y.bfa,y.zd);z && B && u.mediaType === k.v.Z?(y.rpb=z.hg[0],y.pPa=B.track,y.sE("TEXT",0,0,0,y.pPa,y.rpb)):y.lga=n.DONE;return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{xa:{get:function(){return this.c1;},enumerable:!1,configurable:!0}});q.prototype.lz=function(){var u;u=this;this.cua();return this.Ka.every(function(t){var v;if(5 === t.readyState || 7 === t.readyState)return !0;v=t.stream.SF(u.Hd,u.JQ);return t.lz(v);});};q.prototype.nC=function(u){var t,v;if(0 === u.offset){t=this.imb(u);if(void 0 === t)1 > this.Tmb++?(this.Vp(u),u.abort(),this.sE(this.IQ,0,u.xa,u.responseType,u.mediaType === k.v.Ya?this.pPa:this.bfa,u.stream)):this.S.error("Missing content-range from url: " + u.url);else {v=0 === u.xa?0:t - (u.offset + u.xa);0 < v && (this.sE(this.IQ,u.offset + u.xa,v,1,this.bfa,this.zd),v=this.c1,this.c1=t,d.Pr.prototype.My.call(this,this,this.c1,v));}}d.Pr.prototype.nC.call(this,u);};q.prototype.Xl=function(u){d.Pr.prototype.Xl.call(this,u);};q.prototype.My=function(u,t,v){u.mediaType !== k.v.Ya && d.Pr.prototype.My.call(this,u,t,v);};q.prototype.mk=function(){return !this.rd && !!this.Ka.length && this.Ka.every(function(u){return u.mk();});};q.prototype.yq=function(u,t,v){var w,y;if(this.rd)return {status:l.xf.rn};if(!this.mk())return {status:l.xf.Eh};if(void 0 !== this.rPa){w=this.Ka[this.rPa];w.mk() && (w.yq(u,t,v),this.lga=n.DONE);}y=l.xf.KGa;(this.rd=this.Ka.every(function(x){if(1 !== x.responseType || x.rd)return !0;if(!x.mk())return !1;y=x.yq(u,t,v,(0,f.Dy)(x)).status;return y === l.xf.rn;}) && this.lga === n.DONE) || (y=l.xf.r_);return {status:y};};q.prototype.sE=function(u,t,v,w,y,x){t={O:this.O,mediaType:x.mediaType,Nb:x.id,bitrate:this.bitrate,index:this.Yg,offset:t,xa:v,location:this.location,Dc:this.Dc,responseType:w,Dj:this.Dj,Kt:this.Kt,Yg:this.Yg};t.lb=this.Ma.Wd(x.T).ya;t.nb=this.Za.Wd(x.T).ya;t.T=x.T;x.mediaType === k.v.Ya?(u=new m.Caa(x,y,t,this,this.u,this.config,this.S),this.rPa=this.Ka.length):u=new l.aD(x,y,u + " (" + this.Ka.length + ")",t,this,this.u,this.config,this.S);this.push(u);};q.prototype.imb=function(u){var t;t=u.getResponseHeader("content-range",!1);if(t)return (u=t.indexOf("/"),(0,h.assert)(-1 !== u,"unable to parse content-range: " + t),u=t.slice(u + 1),u=parseInt(u),(0,h.assert)(0 < u,"unable to parse content-range: " + t),u);if(t=u.getResponseHeader("content-length",!1))return parseInt(t);};return q;})(d.Pr);b.Iya=r;},63710:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Eaa=void 0;c=a(70655);k=a(41427);f=a(74005);r=a(40885);h=a(95994);d=a(78115);g=a(57772);m=a(97476);a=(function(l){function n(p,q,u,t,v,w,y,x,A,z,B,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=l.call(this,u,{index:0,offset:0,xa:0,lb:v,nb:w,T:t,ey:C,Dj:D,kw:B},z) || this;p.response=q;p.b6a=u;p.S=x;p.u=A;h.K && p.S.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.Rs," samples"));return p;}c.__extends(n,l);Object.defineProperties(n.prototype,{profile:{get:function(){return this.b6a.profile;},enumerable:!1,configurable:!0}});n.prototype.mk=function(){return !this.rd;};n.prototype.yq=function(p,q,u,t,v){h.K && this.S.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(v || this.response.byteLength," bytes") + (", ").concat(v?"":"not ","edited"));this.rd=q.appendBuffer(v?(0,f.YE)(v):this.response,t || (0,f.Dy)(this));return {status:this.rd?m.xf.rn:m.xf.Eh};};n.prototype.abort=function(){return !1;};n.prototype.$e=function(){};n.prototype.hH=function(){this.response=void 0;};n.prototype.toJSON=function(){var p,q,u,t,v;return {viewableId:k.xn,startPts:null === (p=this.Bb) || void 0 === p?void 0:p.G,endPts:(null === (q=this.Bb) || void 0 === q?void 0:q.G) + (null === (u=this.Nd) || void 0 === u?void 0:u.G),"contentStartTicks:":this.lb,contentEndTicks:this.nb,contentStartPts:null === (t=this.Ma) || void 0 === t?void 0:t.G,contentEndPts:null === (v=this.Za) || void 0 === v?void 0:v.G};};Object.defineProperties(n.prototype,{Nb:{get:function(){return this.b6a.Nb;},enumerable:!1,configurable:!0}});n.prototype.toString=function(){return ("[padding c:").concat(this.Ma.G,"-").concat(this.Za.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Mb.G,",") + ("d:").concat(this.Za.G - this.Ma.G,"]");};return n;})(a(60595).pl);b.Eaa=a;(0,r.gj)(d.FO,a,!1);(0,r.gj)(g.bu,a);},23563:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ez=void 0;r=(function(){function a(c){this.Se=c;}a.prototype.u_b=function(c){this.Se=c;};a.prototype.tvb=function(){this.Se=void 0;};a.prototype.aT=function(c){return this.Se && this.Se.e8 && this.Se.e8(c);};a.prototype.$S=function(c){this.Se && this.Se.FM && this.Se.FM(c);};a.prototype.eL=function(c){this.Se && this.Se.nC && this.Se.nC(c);};a.prototype.fL=function(c){this.Se && this.Se.GM && this.Se.GM(c);};a.prototype.lB=function(c){this.Se && this.Se.Xl && this.Se.Xl(c);};a.prototype.o4=function(c){this.Se && this.Se.d8 && this.Se.d8(c);};a.prototype.dL=function(c,k,f){this.Se && this.Se.CV && this.Se.CV(c,k,f);};a.prototype.p4=function(c,k,f){this.Se && this.Se.My && this.Se.My(c,k,f);};a.prototype.nXa=function(c){this.Se && this.Se.c8 && this.Se.c8(c);};return a;})();b.Ez=r;r.prototype.e8=r.prototype.aT;r.prototype.FM=r.prototype.$S;r.prototype.nC=r.prototype.eL;r.prototype.GM=r.prototype.fL;r.prototype.Xl=r.prototype.lB;r.prototype.d8=r.prototype.o4;r.prototype.CV=r.prototype.dL;r.prototype.My=r.prototype.p4;r.prototype.c8=r.prototype.nXa;},78115:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FO=void 0;c=a(70655);k=c.__importDefault(a(29736));r=(function(f){function h(d,g,m,l,n,p){var q;q=f.call(this,m) || this;q.pQa=!1;h.qa(q,d,g,m,l,n,p);return q;}c.__extends(h,f);h.qa=function(d,g,m,l,n,p,q){d.Se=l;d.vo=g;d.u=n;d.config=p;d.fE=g.location || m.location;d.cR=g.dc || m.Dc;d.Zua=g.Zua || m.Zua;d.Yg=m.Yg;d.t$=k.default.time.Da();d.S=q;};Object.defineProperties(h.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{location:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dc:{get:function(){return this.cR;},enumerable:!1,configurable:!0}});h.prototype.jva=function(d,g){this.fE=d;this.cR=g;};h.prototype.cxa=function(d){var g,m,l;if(this.complete)return 0;g=this.vo;m=g.pa;if(!g.url)return (this.S.warn("updateurl, missing url for streamId:",g.Nb,"mediaRequest:",this,"stream:",g),1);l=g.SF(this.Hd,this.Yg);if(this.url !== l || d)if((m.jva(this,g.location,g.dc),!this.lz(l)))return (this.S.warn("swapUrl failed: ",this.wF),2);return 0;};return h;})(a(23563).Ez);b.FO=r;},57591:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iaa=void 0;c=a(70655);k=a(73101);f=a(30067);h=a(70950);d=a(44724);g=a(37481);m=c.__importDefault(a(29736));l=a(60595);r=(function(){function n(p,q,u){var t,v,w;this.X=q;this.S=u;this.wq=p.track;this.k1=p.Ot;this.Ev=p.Ev;this.vnb=this.mediaType !== k.v.Ya?this.MU.ki:!1;this.qpb=p.r2b;this.cE=this.Sa=void 0;q=p.Yq;this.Yq=void 0 === q?!0:q;this.w3=p.w3;this.uJ=void 0;this.iOa=this.Nea=0;this.url=this.MW=this.dc=this.Lt=this.ypa=this.location=this.sb=this.Yb=void 0;this.zB=!1;this.Xoa=this.bf=void 0;this.lQ=new Set();q=(p=this.X) && "object" === typeof p.x7a && p.x7a[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.Pob=new h.N(q.ticks,q.timescale));this.bob=0 <= (null === (t=p.eRa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (v=p.MM) || void 0 === v?0:v.kcc) && this.mediaType === k.v.Z && (t=this.Ev,0 < (null === (w=t.vH) || void 0 === w?void 0:w.length))){w=t.vH.splice(0,t.vH.length);t=new Uint8Array(w.length);for(v=0;v < w.length;v++){t[v]=w[v].zb;}this.vH=t;}}Object.defineProperties(n.prototype,{lk:{get:function(){return this.ha?!!this.cE:!!this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{M0a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pa:{get:function(){return this.wq.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.pa.J;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.wq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.wq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return this.wq.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{T:{get:function(){return this.wq.T;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{HG:{get:function(){return this.wq.HG;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.wq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.wq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{MU:{get:function(){if(this.mediaType !== k.v.Ya)return this.Ev;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ot:{get:function(){return this.k1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Nb:{get:function(){var p;return this.mediaType === k.v.Ya?null !== (p=this.qpb) && void 0 !== p?p:"":this.MU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Nb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ki:{get:function(){return this.vnb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ha:{get:function(){return this.track.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === k.v.Ya?0:this.MU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zb:{get:function(){var p;if(this.Q3)return this.Q3;if(this.mediaType === k.v.Z)return null !== (p=this.Ev.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rYb:{get:function(){if(this.mediaType === k.v.Z)return this.Ev.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{j9:{get:function(){if(this.mediaType === k.v.Z)return this.Ev.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === k.v.Ya?"timedtext":this.MU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{af:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ak:{get:function(){if(this.mediaType === k.v.Z)return this.Ev.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Uf:{get:function(){return this.Pob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{s5:{get:function(){return this.bob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{La:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gv:{get:function(){return this.Sa && this.Sa.Gv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sv:{get:function(){return void 0 !== this.uJ?this.uJ:this.MMb();},set:function(p){this.uJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mG:{get:function(){return this.Yq && !this.zB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Oh:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{YLb:{get:function(){(0,d.assert)(!!this.La,"Initial header should have been received already");return this.pa.woa() && -1 < this.af.indexOf("h264mpl") && void 0 === this.La.Zga;},enumerable:!1,configurable:!0}});n.prototype.KF=function(){return this.pa.KF(this.mediaType,this.Nb);};n.prototype.cHb=function(){var p;p=this.KF();return p && p.stream.La;};n.prototype.dI=function(p,q){return this.pa.dI(this,p,q);};n.prototype.V7=function(){this.track.V7();};n.prototype.U7=function(){this.track.U7();};n.prototype.pra=function(p,q,u,t,v,w,y,x){this.ha || t && void 0 !== t.Dr && (this.track.lk || void 0 !== t.mf && t.mf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ha && this.X.Em && this.Uf && 0 === t.Dr && (t.Dr+=this.Uf.Wd(t.T).ya),this.lk || (this.cE=p,this.track.pra(this,q,u,t,w,x),this.ha || (this.Sa=new f.zLa(this.k1,this.track.Bo,t,v,w,y,this.O)),this.track.tSb(this))):this.ha || (t?this.S.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.Dr) + "," + this.track.lk + "," + this.track.Osa + "," + (void 0 !== t.mf) + "," + !(!t.mf || !t.mf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.S.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.uwb=function(p){this.lk || (this.track.vwb(p.track),this.Sa=p.La,this.cE=p.Oh);};n.prototype.Xn=function(p){return new l.pl(this,this.La.get(p));};n.prototype.tYa=function(p){var q;q=this.Xn(p.index);p.Ha && (q.Bi(p.Ha),q.EN(p.kw));return q;};n.prototype.c4b=function(p,q){this.Nea=p;this.iOa=q;};n.prototype.wvb=function(){this.sb=this.Yb=this.dc=this.location=this.url=void 0;};n.prototype.Wm=function(){return this.mediaType === k.v.ga?this.RFb():this.rJb();};n.prototype.SF=function(p,q,u){var t,v,w;return this.ha?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (v=null === u || void 0 === u?void 0:u[0]) && void 0 !== v?v:"",v=null !== (w=null === u || void 0 === u?void 0:u[1]) && void 0 !== w?w:"",p?p=this.Yn().yLb:(void 0 === q && this.S.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Yn().media.replace("$Number$",q.toString())),t + "/" + p + (v?"?" + v:"")):u || this.url;};n.prototype.Yn=function(){var p,q;(0,d.assert)(this.ha && this.pa.W.Ej,"liveMetadata missing from manifest");p=this.pa.W.Ej;p=p.Oua[p.mka[this.Nb]];q=new Date(p.m2).getTime();return c.__assign(c.__assign({},p),{Hha:q,qUa:Math.max(0,this.pa.Mt - q - this.X.B6),MN:Number(p.MN),F8:new h.N(Number(p.wVb),p.T),Nd:new h.N(p.duration,p.T)});};n.prototype.HTb=function(p,q){var u,t,v,w,y,x,A,z,B;if(p){p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(t && (q.bKb=!0,p=this.X.DUa,this.pa.eOb() && (p=Math.max(p,this.X.EUa)),!(m.default.time.Da() - this.pa.f2a < p))){(0,d.assert)(null === (u=this.pa.W.NA) || void 0 === u?void 0:u.Np,"Missing pbcid for OC side channel message decryption.");u=new g.Bea(this.pa.W.NA.Np).decrypt(t,!0);try{v=JSON.parse(u);w=v.time;y=Number(w);isNaN(y)?this.S.error(("Invalid live server time in OC side channel message. time:").concat(w)):this.pa.Mt=y;x=v["live-msg-start"];A=v["live-msg-end"];void 0 !== x && isNaN(new Date(x).getTime()) || void 0 !== A && isNaN(new Date(A).getTime())?this.S.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(x,", live-msg-end:").concat(A)):this.pa.xcb(x,A);z=v["encoder-tag"];B=v["encoder-region"];z && B || this.S.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(B));this.pa.k4b(this.mediaType,{tF:z,sF:B});this.pa.f2a=m.default.time.Da();}catch(C){this.S.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(u));}}}};n.prototype.$sa=function(p){return !this.lQ.has(p);};n.prototype.pqb=function(p){this.lQ.has(p)?this.S.trace("segment already blocked: " + p):(this.S.trace("addBlockedLiveSegment: " + p),this.lQ.add(p));};n.prototype.CXb=function(p){this.lQ.has(p) && (this.S.trace("removeBlockedSegment: " + p),this.lQ.delete(p));};n.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Nb,bitrate:this.bitrate,streamIndex:this.Ot,isAvailable:this.Yq,fittable:this.sv,vmaf:this.zb,resolutionWidth:this.rYb,resolutionHeight:this.j9};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Nb + ":" + this.bitrate;};n.prototype.MMb=function(){var p,q,u,t,v,w,y;if(!this.lk)return !0;if(this.track.Mna >= this.bitrate)return this.uJ=!0;if(this.track.S2a <= this.bitrate)return this.uJ=!1;(y=this.ha?this.X.b7 * this.bitrate / 8 * (this.X.eC + (null !== (q=null === (p=this.pa) || void 0 === p?void 0:p.EH.G) && void 0 !== q?q:0)) < this.Nea:this.Sa.Ytb(this.X.eC,this.Nea,null !== (t=null === (u=this.pa) || void 0 === u?void 0:u.EH.G) && void 0 !== t?t:0,null !== (w=null === (v=this.pa) || void 0 === v?void 0:v.EH.xa) && void 0 !== w?w:0,this.iOa))?this.track.Osa && !this.ki && this.track.Rl || (this.track.Mna=this.bitrate):this.track.S2a=this.bitrate;return this.uJ=y;};n.prototype.rJb=function(){return c.__assign(c.__assign({},this.track.Wm()),{profile:this.af});};n.prototype.RFb=function(){return c.__assign(c.__assign({},this.track.Wm()),{profile:this.af,bitrate:this.bitrate});};return n;})();b.Iaa=r;},89872:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.bD=void 0;a(44724);r=(function(){function c(k,f){c.qa(this,k,f);}c.qa=function(k,f,h){k.zd=f;k.Kc=h.xa;k.Ib=h.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xa:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.zd.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.zd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.zd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Nb:{get:function(){return this.zd.Nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.zd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.zd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{T:{get:function(){return this.zd.T;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{HG:{get:function(){return this.zd.HG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.zd.ca;},enumerable:!1,configurable:!0}});c.prototype.WZb=function(k){this.Kc=k;};c.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Nb,offset:this.offset,bytes:this.xa};};return c;})();b.bD=r;},29584:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fz=void 0;r=a(40885);a=a(57772);c=(function(){function k(f,h){this.ox=f;this.oJ=h.lb;this.Gu=h.nb;}Object.defineProperties(k.prototype,{lb:{get:function(){return void 0 !== this.oJ?this.oJ:this.ox.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nb:{get:function(){return void 0 !== this.Gu?this.Gu:this.ox.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T:{get:function(){return this.ox.T;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jn:{get:function(){return this.ox.jn;},enumerable:!1,configurable:!0}});k.prototype.PW=function(f){this.Gu=f;};k.prototype.Mia=function(){this.Gu=void 0;};return k;})();b.Fz=c;(0,r.gj)(a.bu,c);},57772:function(r,b,a){var f;function c(h,d){return void 0 === h?void 0:0 === h?f.N.Ia:new f.N(h,d);}function k(h,d){return void 0 === h || void 0 === d?void 0:h + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.bu=void 0;f=a(70950);r=(function(){function h(){}Object.defineProperties(h.prototype,{cB:{get:function(){var d,g;d=this.nb;g=this.lb;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{CUb:{get:function(){return k(this.lb,this.jn);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yUb:{get:function(){return k(this.nb,this.jn);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nd:{get:function(){return c(this.cB,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ma:{get:function(){return c(this.lb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Za:{get:function(){return c(this.nb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bb:{get:function(){return c(this.CUb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mb:{get:function(){return c(this.yUb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fta:{get:function(){return c(this.jn,this.T);},enumerable:!1,configurable:!0}});return h;})();b.bu=r;},34684:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.sI=void 0;c=a(70655);k=a(73101);f=a(94475);h=a(70950);d=a(44724);g=a(74005);m=a(78281);l=a(60482);n=a(61276);p=a(57591);r=(function(){function q(u,t,v){this.X=t;this.S=v;this.hx=new g.cLa();this.X0=0;this.jo=u.jo;this.pa=u.pa;this.mediaType=u.mediaType;this.$H=u.$H;this.zE=u.zE;this.mediaType === k.v.Z?(t=this.jo,v=c.__read(t.streams,1)[0],this.apb=new n.eJ({w:t.maxWidth,Tq:t.maxHeight},{w:t.lsa,Tq:t.msa}),void 0 !== v.framerate_value && void 0 !== v.framerate_scale && (this.mfa=l.dJ.from({ut:v.framerate_value,Ks:v.framerate_scale}),this.Lfa=this.mfa.ca()),void 0 !== t.lqa && void 0 !== t.kqa && (this.Inb=l.dJ.from({ut:t.lqa,Ks:t.kqa}))):this.mediaType === k.v.ga && (this.mmb=this.jo.streams[0].channels,this.bpb=48E3);this.fb=(this.vJ=this.Lfa) && this.vJ.T;this.mediaType === k.v.Ya && (this.fb=1E3);this.rfa=this.FOa=!1;this.Mna=-Infinity;this.S2a=Infinity;u=q.xmb(this,u.wp);t=u.maxBitrate;v=u.hg;this.Rl=u.Rl;this.maxBitrate=t;this.hg=v;this.ppb=v.reduce(function(w,y){w[y.Nb]=y;return w;},{});!1;}q.xmb=function(u,t){var v,w,y,x,A,z,B;v=u.X;w=u.mediaType === k.v.Z;y=!1;x=0;A=[];if(u.mediaType === k.v.ga || u.mediaType === k.v.Z){z=u.jo;B=z.streams.some(function(C){return C.ki;});z.streams.forEach(function(C,D){var F,G,E;F=C.bitrate;G=!0;if(w){E=C.ki;G=t?!0:E === B;y=y || E;}G && F > x && (x=F);C=new p.Iaa({Ev:C,Ot:D,track:u,Yq:G},v,u.S);A.push(C);});}else u.mediaType === k.v.Ya && (z=u.jo,z=new p.Iaa({Ev:z.ttDownloadables["imsc1.1"],Ot:0,track:u,Yq:!0,r2b:z.downloadableIds["imsc1.1"]},v,u.S),A.push(z));return {Rl:y,maxBitrate:x,hg:A};};Object.defineProperties(q.prototype,{gV:{get:function(){return !this.lk && 0 === this.X0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lk:{get:function(){var u;return this.mediaType === k.v.Ya?!0:this.ha?!(null === (u=this.hx.value) || void 0 === u || !u.lk):!!this.Bo && !!this.hx.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Osa:{get:function(){return this.FOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.pa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === k.v.Ya?this.jo.id:this.jo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jr:{get:function(){return this.Xnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.mfa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Q6:{get:function(){return this.Inb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cl:{get:function(){return this.apb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.mmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.bpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === k.v.Ya?this.jo.rawTrackType:this.jo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YW:{get:function(){return this.mediaType === k.v.Ya?this.jo.rawTrackType:this.jo.YW;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HG:{get:function(){return this.Wnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bo:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fG:{get:function(){return this.hx.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cla:{get:function(){return this.hx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{VU:{get:function(){return this.hg.some(function(u){var t;return 1 < ((null === (t=u.Oh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ha:{get:function(){return this.pa.ha;},enumerable:!1,configurable:!0}});q.prototype.ena=function(u){return this.VF()[u];};q.prototype.VF=function(){return this.ppb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.V7=function(){this.X0++;};q.prototype.U7=function(){0 < this.X0 && this.X0--;};q.prototype.pra=function(u,t,v,w,y,x){if(this.ha || w && void 0 !== w.Dr && (this.lk || void 0 !== w.mf && w.mf.length)){if(u.ki || !u.track.Rl)this.FOa=!0;if(this.lk)!this.rfa && !this.ha && w.mf && w.mf.length > this.Bo.length && (this.Gc=new f.sea(this.mediaType,this.ca,w,y),this.hx.Y8a(),this.Mna=-Infinity,this.rfa=!0);else {this.fPa(t);this.Xnb=x;if(v=v || this.Lfa)(this.ePa(v || this.Lfa),void 0 === this.T && this.gPa(v.T));this.ha || (this.Gc=new f.sea(this.mediaType,this.ca,w,y));if(u.ki || !u.track.Rl)this.rfa=!0;}}else this.ha || this.S && this.S.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.tSb=function(u){void 0 === this.hx.value && this.hx.set(u);};q.prototype.vwb=function(u){this.lk || (this.gPa(u.T),this.fPa(u.HG),this.ePa(u.ca),this.Gc=u.Bo,u.Cla.value?this.hx.set(u.Cla.value):this.hx.Y8a());};q.prototype.Qs=function(u,t,v,w){var y;(0,d.assert)(this.fG);y=this.fG;this.ha && (t=Math.min(t,this.qB().G));return (0,m.Qs)(this.mediaType,u,y,t,v,w);};q.prototype.aL=function(u,t,v){var w,y,x,A,z;(0,d.assert)(this.fG);y=this.fG;if(this.ha){x=this.pa.W.Ej;A=null === x || void 0 === x?void 0:x.T3;z=void 0;if(A)z=new Date(A).getTime();else if(A=this.pa.u2a.endTime)(z=new Date(A).getTime() + this.X.dOb,t=Infinity);Infinity === t && void 0 !== z && (t=y.Yn().Hha,x=null !== (w=null === x || void 0 === x?void 0:x.S3) && void 0 !== w?w:0,t=z - t + x);}return (0,m.aL)(this.mediaType,u,y,t,v);};q.prototype.Wm=function(){var u;if(this.mediaType === k.v.ga){(0,d.assert)(this.mediaType === k.v.ga);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);u={channels:this.channels,profile:this.profile,YW:this.YW,bitrate:this.hg[this.hg.length - 1].bitrate,sampleRate:this.sampleRate,jr:this.jr};}else ((0,d.assert)(this.mediaType === k.v.Z),(0,d.assert)(void 0 !== this.Q6),(0,d.assert)(void 0 !== this.cl),u={J:this.pa.J,Rl:this.Rl,profile:this.profile,cFb:this.Q6.ut,bFb:this.Q6.Ks,YW:this.YW,cl:this.cl,maxWidth:this.cl.cl.w,maxHeight:this.cl.cl.Tq,lsa:this.cl.c6a.w,msa:this.cl.c6a.Tq,jr:this.jr});return u;};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.qB=function(){(0,d.assert)(this.ha,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return h.N.Na(Math.max(0,this.hYa() - this.X.BU));};q.prototype.RYa=function(u){(0,d.assert)(this.ha,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.hYa() - u.G > 1E3 * this.pa.Uk.oOb?"DVR":"LIVE";};q.prototype.hYa=function(){var u;(0,d.assert)(this.ha,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.fG) && void 0 !== u?u:this.hg[0]).Yn().qUa;};q.prototype.gPa=function(u){this.fb=u;};q.prototype.fPa=function(u){this.Wnb=u;};q.prototype.ePa=function(u){this.vJ=u;this.mediaType === k.v.Z && (this.mfa=l.dJ.jFb(u));};return q;})();b.sI=r;},61360:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Uya=void 0;c=a(4145);r=(function(){function k(f){this.config=f;}k.prototype.cWb=function(f){var h,d,g;h=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.zb?g.push(u):d.push(u);});if(0 !== g.length)for(var m=-1,l=-1,n=function(q){var u,t,v,w,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(m=d[(0,c.pha)(d,function(A){return A < u;})] || -1,l=d[(0,c.Bs)(d,function(A){return A > u;})] || -1);v=0;w=h.JPb;q=0;y=h.KPb;-1 < l && (w=f[l].bitrate,y=f[l].zb);-1 < m && (q=f[m].zb,v=f[m].bitrate);w=Math.log(w);v=0 === v?0:Math.log(v);x=Math.log(t.bitrate);t.Q3=Math.max(0,Math.min(110,Math.round((q * (w - x) + y * (x - v)) / (w - v) * 100) / 100));},p=0;p < g.length;p++){n(p);}};return k;})();b.Uya=r;},89383:function(r,b,a){var f,h,d,g,m,l,n;function c(p){return p && "function" === typeof p.uh?!0:!1;}function k(p){return c(p) && (p=typeof p.eMb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Xfb=b.uDb=b.dMb=b.Ieb=b.AsyncIterator=void 0;f=a(70655);h=a(95994);g=(function(){function p(q){var u;u=this;this.mnb=q;this.GQ=!1;this.Nob=function(t){return u.WVb(t);};this.ITa();}p.aNb=function(q,u){function t(){var v;v=q.next();v.then(function(w){k(q) && q.eMb || u(w);});v.then(function(w){return !w.done && t();});}t();};Object.defineProperties(p.prototype,{sy:{get:function(){return this.GQ;},enumerable:!1,configurable:!0}});p.NGb=function(){return new m([]);};p.jna=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{ML:{get:function(){return this.hs || !1;},enumerable:!1,configurable:!0}});p.prototype.uh=function(){this.cancel();};p.prototype.cancel=function(){this.BOa();this.hs=!0;return this.Mea;};p.prototype.next=function(){return this.hs?this.Mea:Promise.race([this.Mea,this.mnb()]).then(this.Nob);};p.prototype.WVb=function(q){q.done && (this.GQ=!0,this.uh());this.ML || (this.BOa(),this.ITa());return q;};p.prototype.ITa=function(){var q;q=this;this.Mea=new Promise(function(u){q.BOa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;m=(function(p){function q(u){var t;t=p.call(this,function(){return t.QHb();}) || this;t.FE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.uh=function(){c(this.FE) && this.FE.uh();p.prototype.uh.call(this);};q.prototype.QHb=function(){return this.FE.length > this.index?Promise.resolve({value:this.FE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.Ieb=m;b.dMb=c;b.uDb=k;l=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.Sqa();}) || this;w.console=t;w.Jk=v;w.Ysa=!1;Array.isArray(u)?w.PQ=new m(u):w.PQ=u;return w;}f.__extends(q,p);q.prototype.YVb=function(u){var t;this.Ysa=!1;t=this.console;h.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.yJ)return (c(u) && u.uh(),g.jna());Array.isArray(u)?this.Jk=new m(u):this.Jk=u;return this.Sqa();};q.prototype.XVb=function(u){var t;t=this.console;h.K && t && t.trace("CompoundIterator: processNextInnerResult",this.yJ,u.done);if(!u.done || this.yJ)return u;this.Jk=void 0;return this.Sqa();};q.prototype.uh=function(){var u;u=this.console;h.K && u && u.trace("CompoundIterator: dispose");this.yJ=!0;p.prototype.uh.call(this);c(this.PQ) && this.PQ.uh();c(this.Jk) && this.Jk.uh();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.yJ," ").concat(this.PQ," ").concat(this.Jk);};q.prototype.Sqa=function(){var u,t;u=this;t=this.console;h.K && t && t.trace("CompoundIterator: nextImpl");if(this.Jk)return (h.K && t && t.trace("CompoundIterator: getNextInner"),this.Jk.next().then(function(v){return u.XVb(v);}));this.Ysa=!0;h.K && t && t.trace("CompoundIterator: getNextOuter");return this.PQ.next().then(function(v){return u.YVb(v);});};return q;})(g);b.Xfb=l;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.dnb();}) || this;w.source=u;w.Wpa=t;w.dja=v;return w;}f.__extends(q,p);q.prototype.uh=function(){c(this.source) && this.source.uh();p.prototype.uh.call(this);};q.prototype.dnb=function(){var u,t,v;u=this.dja;t=this.Wpa;v=this.source;h.K && u && u.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:t(w.value);});};return q;})(g);b.flatten=function(p,q,u){return new l(p,q,u);};},24705:function(r,b,a){var f,h,d,g,m,l,n,p;function c(q,u){return q.done?q:{value:{value:q.value,EPa:u}};}function k(q){q.EPa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Fsb=b.Pkb=b.tI=void 0;f=a(70655);r=a(28075);h=a(89383);d=a(95994);g=f.__importDefault(a(29736));m=a(74005);l=a(44724);a=a(40885);n=(function(){function q(u,t){this.console=u;this.Xf=t;this.$nb=this.tQ=0;this.mg=[];this.console=(0,m.Ph)(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{BAb:{get:function(){return this.tQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gTa:{get:function(){var u,t,v;for(t=0;t < this.mg.length;t++){v=this.mg[t];if(!v.iU || (null === (u=v.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sy:{get:function(){return 0 === this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wta:{get:function(){var u;for(u=0;u < this.mg.length && this.mg[u].Roa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.mg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tqa:{get:function(){var u;for(u=0;u < this.mg.length && this.mg[u].iU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.SK=function(){var u;if(void 0 === this.Xf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.Wwa(this.Tqa - (this.Xf || 0));}};q.prototype.Hr=function(){return this.mg.map(function(u){return u.item;});};q.prototype.AX=function(){this.Cf || (this.Cf=this.mg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.Cf;};q.prototype.Wwa=function(u){var t;d.K && this.console.trace("updateCount",{Aec:this.Xf,Pn:u});if(void 0 !== this.Xf){t=this.mg[this.Xf];t && this.qoa(t);}this.Xf=void 0 === this.Xf?u:void 0 === u?u:this.Xf + u;void 0 !== this.Xf && (this.Xf=Math.max(0,this.Xf),(t=this.mg[this.Xf]) && t.oG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.Tqa;this.E2();return this.kWb(t,{value:u,done:!1}).SUa.promise;};q.prototype.W8a=function(){d.K && this.console.trace("resetEnd");this.Wwa(void 0);};q.prototype.clear=function(u){var t,v,w;d.K && this.console.trace("clear");this.bta();t=this.Wta;v=this.mg.length - t;if(0 < v){w={index:t,ira:v};d.K && this.console.trace("Removing items",w);this.mg.splice(t,v);this.E2();this.emit("onRemoved",w);}for(v=1;v < t;v++){this.qoa(this.mg[v]);}this.Xf=void 0;this.Wwa(u?u + t:u);this.tQ && (this.tQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,m.Ph)(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return u.eZa(v);},t);};q.prototype.AAb=function(){var u;if(0 < this.Wta){u=f.__read(this.mg,1)[0];u.iU && (d.K && this.console.trace("dequeue",u.id),this.bta(1),this.emit("onDequeue",u.oG.promise));}};q.prototype.remove=function(u){var t,v,w;for(t=0;t < this.mg.length;t++){v=this.mg[t];w=v.item;if(w && !w.done && w.value === u){this.mg.splice(t,1);this.Xf && this.Xf > t && this.Xf--;this.E2();d.K && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:t,ira:1});break;}}};q.prototype.bta=function(u){var t;u=u || Math.min(this.Wta,this.Tqa);if(0 < u){t=this.mg.splice(0,u);this.E2();this.Xf && (this.Xf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(v){v.SUa.resolve();});});this.emit("onRemoved",{index:0,ira:u});this.tQ+=u;}};q.prototype.eZa=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.m0a(u);t=this.mg[u];t.hYb.resolve();u=t.oG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.kWb=function(u,t){var v;v=!t.done && t.value;v=v && v.toJSON?v.toJSON():v;d.K && this.console.trace("Providing result",{Erb:u,item:v});this.m0a(u);u=this.mg[u];v=u.oG.resolve;v(t);return u;};q.prototype.m0a=function(u){var t;if(void 0 === this.mg[u]){t={};this.qoa(t);this.mg[u]=t;u === this.Xf && t.oG.resolve({done:!0});d.K && this.console.trace("Item initialized",{Erb:u});}};q.prototype.xja=function(u){var t;t={};t.promise=new Promise(function(v,w){t.resolve=function(y){v(y);u && u(y);};t.reject=w;});return t;};q.prototype.qoa=function(u){var t;t=this;u.oG=this.xja(function(v){u.item=v;u.iU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.Roa && !u.iU && (u.oG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.SUa=this.xja();u.hYb=this.xja(function(){u.Roa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.$nb++;u.Roa=!1;u.iU=!1;u.item=void 0;};q.prototype.E2=function(){this.Cf=void 0;};q.prototype.$la=function(){var u,t,v;u=this;t=(0,m.Ph)(g.default,this.console,"QueueIteratorInstance::");v=new p(this,function(w){var y,x;if(0 === u.count)return h.AsyncIterator.jna();y=u.eZa(w);x=u.mg[0];return y.then(function(A){return c(A,function(){v.ML || (x === u.mg[0]?u.AAb():(0,l.assert)(!u.mg.filter(function(z){return z.oG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return v;};return q;})();b.tI=n;(0,a.gj)(r.EventEmitter,n);p=(function(q){function u(t,v,w){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.KYb(y.index++);}) || this;y.parent=t;y.KYb=v;y.console=w;y.yJ=!1;y.index=0;y.yfa=!1;y.y5a=function(x){var A;A=x.index;x=x.ira;y.index >= A && (y.index=Math.max(A,y.index - x));A=y.console;d.K && A && A.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.uh=function(){this.console.trace("disposed");this.yJ=!0;this.$e();q.prototype.uh.call(this);};u.prototype.next=function(){this.ML || this.poa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.$e();return q.prototype.cancel.call(this);};u.prototype.$e=function(){this.parent.kr("onRemoved",this.y5a);this.yfa=!1;};u.prototype.poa=function(){this.yfa || (this.yfa=!0,this.parent.on("onRemoved",this.y5a));};return u;})(h.AsyncIterator);b.Pkb=p;b.Fsb=function(q){return (0,h.map)(q,k);};},39223:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;c=a(70655);k=a(89383);f=a(95994);r=(function(){function h(d,g,m){this.S=d;this.fmb=g;this.Af=m;this.u0=0;this.P0=!1;this.iQ=[];this.YD=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Af,"]: created"));}Object.defineProperties(h.prototype,{szb:{get:function(){return this.u0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{e3:{get:function(){return this.lNa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{li:{get:function(){return this.P0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nUa:{get:function(){return this.Jk?this.Jk.sy?"Complete":this.Jk.Ysa?"WaitingForBranch":void 0 !== this.YD && 0 !== this.YD?("In Policy ").concat(this.iQ[this.YD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.bOa);},enumerable:!1,configurable:!0}});h.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,m,l;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Jk;if(!d)return [3,6];this.YD=void 0;return [4,d.next()];case 1:(g=n.Ra(),m=0,n.label=2);case 2:if(!(m < this.iQ.length))return [3,5];this.YD=m;l=this.iQ[m];return [4,l.process(g)];case 3:(g=n.Ra(),n.label=4);case 4:return (m++,[3,2]);case 5:this.YD=void 0;if(g.done || this.Jk !== d)return [2,{done:!0}];this.u0++;g.value.EPa();return [2,{done:!1,value:g.value.value}];case 6:return [2,k.AsyncIterator.jna()];}});});};h.prototype.AYb=function(){this.pab();this.QWb();};h.prototype.pab=function(){var d;if(this.Jk){this.bOa=this.nUa;d=this.Jk;d && d.uh();this.iQ.forEach(function(g){return g.reset();});d && f.K && this.S.trace(("BranchRequestIterator [").concat(this.Af,"]: Disposing iterator that was on branch "),this.e3 && this.e3.u.id);this.P0=!1;this.YD=this.Jk=void 0;}};h.prototype.H1=function(d){this.iQ.push(d);};h.prototype.QWb=function(){var d,g,m,l;d=this;if(!this.P0){g=this.S;m=this.fmb;l=this.Af;this.u0=0;this.bOa=this.lNa=void 0;this.Jk=(0,k.flatten)((0,k.map)(m.JIb(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.lNa=n,this.u0=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Af,"]: new branch ").concat(n.u.id)),[4,n.tB(l)]);case 1:if(p=q.Ra())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Af,"]: skipping branch ").concat(n.u.id));return [2,{value:[]}];}});});},g),g);this.P0=!0;}};return h;})();b.vza=r;},35806:function(r,b,a){var k,f,h,d,g,m,l,n;function c(p){return p === d.v.Z?0:p === d.v.ga?1:p === d.v.Ya?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Uaa=b.Hz=b.fjb=b.hI=void 0;k=a(70655);f=a(28075);h=a(95994);d=a(47571);g=k.__importDefault(a(29736));m=a(74005);l=a(44724);b.hI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.fjb={hI:b.hI};(function(p){p[p.SO=0]="CREATED";p[p.LO=1]="CANCELLED";})(n=b.Hz || (b.Hz={}));r=(function(){function p(q,u,t,v,w){this.Mi=q;this.HNa=u;this.Eu=t;this.Zm=v;this.zc=n.SO;this.OJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,m.Ph)(g.default,w,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ag:{get:function(){return this.zc === n.LO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xd:{get:function(){return this.OJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.HNa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.qa=function(){return k.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return k.__generator(this,function(){if(q=this.parent)(q.Mb && (u=q.Mb.wa(this.Zm),this.pw(u,"init from parent")),q.tO.then(function(){var v;if(!t.ag){v=t.parent;(0,l.assert)(v,"Parent is undefined after parent normalization");v.Mb && (v=v.Mb.wa(t.Zm),t.pw(v,"parent normalization"));}}));return [2];});});};p.prototype.pw=function(q,u){void 0 === u && (u="unknown");h.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.Eu.G,".  ").concat(u));this.Eu=q;};p.prototype.jZa=function(q){var t;if(!this.ag)for(var u=this.parent;u;){t=u.OF(q);if(t)return t;u=u.parent;}};p.prototype.Pf=function(){this.HNa=void 0;};p.prototype.r5=function(q){return this.Xd.some(function(u){return u.mediaType === q;});};return p;})();b.Uaa=r;},2631:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.tza=b.Hz=void 0;c=a(70655);k=a(65519);f=a(47571);h=a(74005);d=a(70950);r=a(57772);g=a(40885);m=a(44724);l=a(40572);n=a(44105);p=a(95994);q=a(28035);u=a(53597);t=a(45465);v=a(35806);w=a(36183);(function(x){x[x.SO=0]="CREATED";x[x.LO=1]="CANCELLED";})(y=b.Hz || (b.Hz={}));a=(function(x){function A(z,B,C,D,F,G,E,J,K,N,I,O,L){B=x.call(this,D,K,E,G,B) || this;B.X=z;B.MV=C;B.IYa=F;B.ofa=J;B.mQ=N;B.qx=I;B.jI=O;B.Cn=L;B.zv=new n.EP();B.Tta=0;B.xb=void 0;B.mz=void 0;B.Ip=new h.Lz();B.M5=new h.Lz();B.qra=B.qLb();return B;}c.__extends(A,x);Object.defineProperties(A.prototype,{Xd:{get:function(){var z;this.$n && 0 === (null === (z=this.OJ) || void 0 === z?void 0:z.length) && this.IYa && (p.K && this.console.trace("Branch getting initial tracks"),this.OJ=this.IYa(this.pa).sort(v.hI),p.K && this.console.trace("Branch got initial tracks:",this.OJ));return this.OJ;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{WJ:{get:function(){return this.ai?this.Ws().every(function(z){return z.ff.WJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{xQa:{get:function(){return this.Ws().some(function(z){return z.qrb;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rk:{get:function(){var z;return !(null === (z=this.bd) || void 0 === z || !z.Rk);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ai:{get:function(){var z;return !(null === (z=this.bd) || void 0 === z || !z.ai);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{CA:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.CA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Wg:{get:function(){var z;return !(null === (z=this.bd) || void 0 === z || !z.Wg);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{tO:{get:function(){return this.Ip.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$n:{get:function(){var z;return !(null === (z=this.jI) || void 0 === z || !z.pa);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{q5:{get:function(){return !!this.Xd.length && this.Xd.every(function(z){return z.lk;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pa:{get:function(){(0,m.assert)(this.jI.pa,"viewable should be available");return this.jI.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{T:{get:function(){var z;return (null === (z=this.bd) || void 0 === z?void 0:z.T) || this.Zm.T;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{lb:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.lb) && void 0 !== B?B:this.Zm.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{nb:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.nb) && void 0 !== B?B:this.u.Rf.Wd(this.Zm.T).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{jn:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.jn) && void 0 !== B?B:this.se.Wd(this.T).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ry:{get:function(){var z,B,C;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.ry) && void 0 !== B?B:null === (C=this.Zm) || void 0 === C?void 0:C.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bL:{get:function(){var z,B;B=null === (z=this.u.u.Mq) || void 0 === z?void 0:z[0];return B && this.Ma?d.N.Na(Math.max(0,B[0] - this.Ma.G - this.u.Ud.G)):d.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pr:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.pr) && void 0 !== B?B:this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ZG:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.ZG) && void 0 !== B?B:this.u.Rf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{x6:{get:function(){var z;return null === (z=this.bd) || void 0 === z?void 0:z.x6;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{se:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.se) && void 0 !== B?B:this.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kr:{get:function(){var z,B;return null !== (B=null === (z=this.bd) || void 0 === z?void 0:z.Kr) && void 0 !== B?B:this.u.Rf.wa(this.Zm || this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kl:{get:function(){var z;return null === (z=this.bd) || void 0 === z?void 0:z.Kl;},enumerable:!1,configurable:!0}});A.prototype.qa=function(){return c.__awaiter(this,void 0,void 0,function(){var z,B,C;C=this;return c.__generator(this,function(D){switch(D.label){case 0:x.prototype.qa.call(this);if(this.ag)return [2];p.K && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.jI.qa(this)];case 1:D.Ra();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.ag?"cancelled":"active"));if(this.ag)return [2];z=this.Xd.map(function(F){var G;return null === (G=C.parent) || void 0 === G?void 0:G.zL(F.mediaType);});this.i$a(this.Zm);this.Xd.some(function(F){F.mediaType === f.v.Ya && C.w$a(F);});return [4,this.GWa()];case 2:return (D.Ra(),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.ag?[2]:(B=this.parent)?[4,B.tO]:[3,4]);case 3:D.Ra();if(this.ag)return [2];this.zyb(z);D.label=4;case 4:return (this.normalize(),[2]);}});});};A.prototype.zyb=function(z){var B;B=this;this.zv.forEach(function(C){var D,F;F=null === (D=B.parent) || void 0 === D?void 0:D.zL(C.mediaType);(0,m.assert)(F,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(F)) && (C.il.ye.Qa(),D=new l.kea(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.zL(C.mediaType);}),C.il.ye=D);F=void 0;});z=void 0;};A.prototype.GWa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.q5?this.M5.resolve():(this.pa.events.on("onHeaderFragments",this.qra),this.events.emit("needsRequest"));return [2,this.M5.promise];});});};A.prototype.qLb=function(){var z;z=this;return function(){!z.ag && z.q5 && (z.pa.events.kr("onHeaderFragments",z.qra),z.M5.resolve());};};A.prototype.normalize=function(){this.ag || (this.bd=new w.YGa(this,this.X,this.console,this.pa,this.MV,this.Mi,this.Zm,this.zv.items,this.Eu,this.ofa,this.mQ,this.events,this.qx,this.Cn),this.xka(this.bd.$A),this.Ip.resolve(this.bd));};A.prototype.jN=function(){var z;null === (z=this.bd) || void 0 === z?void 0:z.jN();};A.prototype.update=function(z){var B;this.Mi=z;(null === (B=this.bd) || void 0 === B?0:B.update(z)) && this.xka(!0);};A.prototype.pw=function(z,B){var C;void 0 === B && (B="unknown");x.prototype.pw.call(this,z,B);null === (C=this.bd) || void 0 === C?void 0:C.pw(z);};A.prototype.tB=function(z){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(C){switch(C.label){case 0:return [4,this.Ip];case 1:return (B=C.Ra(),[2,null === B || void 0 === B?void 0:B.tB(z)]);}});});};A.prototype.reset=function(){var z;null === (z=this.bd) || void 0 === z?void 0:z.reset();};A.prototype.Pf=function(z){var B;void 0 === z && (z="other");x.prototype.Pf.call(this,z);this.zc=y.LO;this.$n && this.pa.events.kr("onHeaderFragments",this.qra);null === (B=this.bd) || void 0 === B?void 0:B.Pf(z);this.zv.forEach(function(C){C.cancel();C.il.ye.Qa();});this.jI.Qa();this.mz && (this.mz.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.mz),k.iD.instance.s3(this.mz),this.mz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};A.prototype.S5=function(z){var B;return !(null === (B=this.bd) || void 0 === B || !B.S5(z));};A.prototype.ef=function(z){var B;return null === (B=this.bd) || void 0 === B?void 0:B.ef(z);};A.prototype.r5=function(z){return this.Xd.some(function(B){return B.mediaType === z;});};A.prototype.Ws=function(z){var B,C;void 0 === z && (z=v.hI);return null !== (C=null === (B=this.bd) || void 0 === B?void 0:B.Ws(z)) && void 0 !== C?C:[];};A.prototype.zL=function(z){var B,C;return (null === (B=this.ef(z)) || void 0 === B?void 0:B.il.ye) || (null === (C=this.zv.get(z)) || void 0 === C?void 0:C.il.ye);};A.prototype.Q4=function(){var z,B,C,D;z=this;if(!this.q5)return this.zv.items;D=null !== (C=null === (B=this.bd) || void 0 === B?void 0:B.Q4()) && void 0 !== C?C:[];this.xb && D.some(function(F){if(F.mediaType === f.v.Z)return (F.l2=z.xb,p.K && z.console.trace("Branch setting auxiliaryTrack:",z.xb),!0);});return D;};A.prototype.OF=function(z){var B;return (null === (B=this.bd) || void 0 === B?void 0:B.OF(z)) || this.zv.get(z);};A.prototype.Wn=function(z,B){var C;return (null === (C=this.bd) || void 0 === C?void 0:C.Wn(z,B)) || 0;};A.prototype.iL=function(){var z;return (null === (z=this.bd) || void 0 === z?void 0:z.iL()) || ({});};A.prototype.jT=function(z){var B;return (null === (B=this.bd) || void 0 === B?void 0:B.jT(z)) || this.ry.G;};A.prototype.hz=function(z,B,C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,J;J=this;return c.__generator(this,function(K){switch(K.label){case 0:p.K && this.console.trace("Branch.setTracks:",z);this.OJ=z.sort(v.hI);this.i$a(B);if(!this.Wg)return [3,4];(0,m.assert)(this.bd);D=this.zv.filter(function(N){return N.track.lk;}).items;F=this.bd.zcb(D,B,C);G=F.sS;E=F.$A;G && this.xka(E);if(this.q5)return [3,4];this.M5=new h.Lz();this.Ip=new h.Lz();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.GWa()];case 1:return (K.Ra(),this.ag?[2]:this.parent?[4,this.parent.tO]:[3,3]);case 2:(K.Ra(),K.label=3);case 3:(this.bd.zcb(this.zv.items,B,C),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.Ip.resolve(this.bd),this.events.emit("needsRequest"),K.label=4);case 4:return (z.some(function(N){if(N.mediaType === f.v.Ya)return (J.w$a(N),!0);}),[2]);}});});};A.prototype.w$a=function(z){var B;B=this;this.xb=z;this.mz || (this.mz=(0,u.Ux)(f.v.Ya,this.pa,this.X,this.console,!0,function(C){B.MV.emit("transportReport",C);},function(){},function(C,D){return B.console.error("Handled text streaming error",{failure:C,code:D});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.mz));};A.prototype.RZa=function(){return this.xb;};A.prototype.i$a=function(z){var B;B=this;this.Tta=0;this.zv=new n.EP(this.Xd.filter(function(C){return C.mediaType !== f.v.Ya;}).map(function(C){var D;D=B.zv.find(function(F){return F.track === C;});D || (++B.Tta,D=new t.pDa(B,C,function(){var F;return null !== (F=null === z || void 0 === z?void 0:z.add(B.se)) && void 0 !== F?F:d.N.Ia;},null !== z && void 0 !== z?z:d.N.Ia,B.X,B.console,function(){var F;return null === (F=B.parent) || void 0 === F?void 0:F.zL(C.mediaType);},B.MV,function(){0 === --B.Tta && B.events.emit("requestQueuesCreated");}));return D;}));};A.prototype.qn=function(z){var B;return (null === (B=this.bd) || void 0 === B?void 0:B.qn(z)) || [];};A.prototype.rK=function(z){var B;return !(null === (B=this.bd) || void 0 === B || !B.rK(z));};A.prototype.E4=function(z){return this.bd?this.bd.E4(z):d.N.Ia;};A.prototype.D$=function(z){var B;return !(null === (B=this.bd) || void 0 === B || !B.D$(z));};A.prototype.xka=function(z){z={type:"branchNormalized",segmentContentStart:this.u.Ud,branchContentStart:this.Ma,branchContentEnd:this.Za,didNormalizeSegment:z};this.events.emit(z.type,z);p.K && this.console.trace("branchNormalized:",z);};A.prototype.toJSON=function(){var z;return (null === (z=this.bd) || void 0 === z?void 0:z.toJSON()) || ({});};return A=c.__decorate([q.DF],A);})(v.Uaa);b.tza=a;(0,g.gj)(r.bu,a);},45465:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pDa=void 0;c=a(53597);k=a(65519);f=a(47571);h=a(40572);d=a(1119);g=a(44724);r=(function(){function m(l,n,p,q,u,t,v,w,y){this.tb=l;this.track=n;this.X0b=p;this.R0b=q;this.config=u;this.console=t;this.events=w;this.LSb=y;this.lC=0;this.g7a=this.ai=!1;this.il=this.Yyb(v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.tb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ah:{get:function(){return this.tb.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{d$:{get:function(){return this.X0b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kl:{get:function(){return this.d$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{OC:{get:function(){return this.d$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bab:{get:function(){return this.R0b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bL:{get:function(){return this.tb.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jj:{get:function(){return this.oe || (this.oe=this.Ux());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rk:{get:function(){return !this.track.gV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zra:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.PB=function(){return this.track.gV;};m.prototype.ht=function(){return this.track.lk;};m.prototype.Wg=function(){return !1;};m.prototype.BYa=function(){return {La:[],j8:0,mr:0,gN:0};};m.prototype.g3b=function(){var l;(0,g.assert)(this.ht());l=this.Jj;this.oe=void 0;return l;};m.prototype.Xbb=function(l){return (l=l.dI(this.tb.u,this.Jj))?{oi:l,reason:"success"}:{oi:l,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.oe && (this.tb.pa.jR(this.mediaType,this.oe),k.iD.instance.s3(this.oe),this.oe.removeAllListeners(),this.oe=void 0);};m.prototype.g1a=function(){var l,n,p;p=this.config.qo;if(null === (l=this.Jj) || void 0 === l?0:l.track)p=null === (n=this.Jj) || void 0 === n?void 0:n.track.qo;return p;};m.prototype.xT=function(){return this.tb.jZa(this.mediaType);};m.prototype.Yyb=function(l){var n,p,q;n=this.mediaType === f.v.ga?this.config.ysb:this.track.ha?this.config.nOb:this.config.zab;l=new h.kea(l);l.F_b(this.track);p=this.config;q=this.mediaType;return new d.ALa(n,this.config,l,p.K3 || q === f.v.ga && p.H3 || q === f.v.Z && p.I3);};m.prototype.Ux=function(){var l,n;l=this;n=(0,c.Ux)(this.mediaType,this.track.pa,this.config,this.console,this.track.ha,function(p){return l.events.emit("transportReport",p);},function(p){return l.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.LSb);return n;};return m;})();b.pDa=r;},36183:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w;function c(y,x){return (y.mediaType === g.v.Z?0:1) - (x.mediaType === g.v.Z?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.YGa=b.Ckb=void 0;k=a(70655);f=a(28376);h=a(23563);d=a(89383);g=a(47571);m=a(81581);l=a(74005);n=a(4145);p=a(44724);q=a(70950);u=k.__importDefault(a(29736));r=a(57772);t=a(40885);v=a(44105);w=a(58260);b.Ckb={hI:c};a=(function(y){function x(A,z,B,C,D,F,G,E,J,K,N,I,O,L){var H,M;M=y.call(this,C) || this;M.tb=A;M.X=z;M.pa=C;M.MV=D;M.Mi=F;M.Eu=J;M.ofa=K;M.mQ=N;M.events=I;M.qx=O;M.Cn=L;M.qj=new v.EP([]);M.hs=!1;M.VNa=0;M.hNa=M.mSb.bind(M);(0,p.assert)(C.J === M.u.J || isNaN(C.J) && isNaN(M.u.J));A=F.id && F.id.length?"{" + F.id + "}":"";M.console=(0,l.Ph)(u.default,B,A);M.Zm=null !== G && void 0 !== G?G:M.u.Ud;B=M.parent;M.AOa=null === B || void 0 === B?void 0:B.Mb;null === (H=M.mQ) || void 0 === H?void 0:H.addListener(M.hNa);E=M.QTa(E,M.Zm,!!B).$A;M.$A=E;return M;}k.__extends(x,y);Object.defineProperties(x.prototype,{ag:{get:function(){return this.hs;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Rk:{get:function(){return this.qj.every(function(A){return A.Rk;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ai:{get:function(){return this.qj.every(function(A){return A.ai;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{CA:{get:function(){return this.Ws().reduce(function(A,z){return A + z.CA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wg:{get:function(){return this.Ws().every(function(A){return A.Wg();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xd:{get:function(){return this.tb.Xd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{T:{get:function(){return this.UQ.T;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lb:{get:function(){return this.UQ.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nb:{get:function(){return this.UQ.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{jn:{get:function(){return this.se.Wd(this.T).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ry:{get:function(){return this.Zm.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pr:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ZG:{get:function(){return this.u.Rf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{x6:{get:function(){return this.qj.reduce(function(A,z){return A && z.Mb?q.N.max(A,z.Mb):z.Mb?z.Mb:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kl:{get:function(){return this.qj.reduce(function(A,z){z=z.Kl;return A && z?q.N.max(A,z):A || z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kr:{get:function(){return this.UQ.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{se:{get:function(){return this.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.tb.parent;},enumerable:!1,configurable:!0}});x.prototype.zcb=function(A,z,B){var C;void 0 === z && (z=null !== (C=this.Ma) && void 0 !== C?C:this.Zm);return this.QTa(A,z,B);};x.prototype.jN=function(){var A,z,B,C;if(this.jE){B=this.Mi;C=k.__read(this.jE.jN(B,B.Rf),2);B=C[0];C=C[1];(0,p.assert)(B && C,"branch.renormalize: lastFragment should be defined");null === (A=this.ef(g.v.ga)) || void 0 === A?void 0:A.truncate(B);null === (z=this.ef(g.v.Z)) || void 0 === z?void 0:z.truncate(C);this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(A){var z;z=A.Rf.Zqa(this.Mi.Rf);this.Mi=A;return z && this.jE?(this.jN(),!0):!1;};x.prototype.pw=function(A){this.se.equal(A) || (this.Eu=A,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.tB=function(A){return k.__awaiter(this,void 0,void 0,function(){var z;return k.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ra(),(z=this.ef(A))?[2,z.tB()]:[2,d.AsyncIterator.NGb()]);}});});};x.prototype.kR=function(){this.qj.forEach(function(A){return A.kR();});};x.prototype.reset=function(){this.qj.forEach(function(A){A.reset();});};x.prototype.Pf=function(A){var z,B;this.hs || (this.hs=!0,null === (z=this.jE) || void 0 === z?void 0:z.$e(),this.jE=void 0,this.qj.forEach(function(C){C.Pf("aborted" === A);}),null === (B=this.mQ) || void 0 === B?void 0:B.removeListener(this.hNa));};x.prototype.S5=function(){return !0;};x.prototype.ef=function(A){return this.qj.get(A);};x.prototype.Ws=function(A){void 0 === A && (A=c);return this.qj.items.slice().sort(A);};x.prototype.Q4=function(){return this.qj.items;};x.prototype.OF=function(A){return this.ef(A);};x.prototype.Wn=function(A,z){A=this.ef(A);if(!A)return 0;if(z)return A.f9;z=A.cS;if(void 0 === z)return 0;A=this.ofa();return z - A;};x.prototype.iL=function(){var A,z,B,C,D,F,G;G=null === (A=this.ef(g.v.ga)) || void 0 === A?void 0:A.M2;A=null === (z=this.ef(g.v.Z)) || void 0 === z?void 0:z.M2;return {Q$:null !== (B=null === A || void 0 === A?void 0:A.G) && void 0 !== B?B:0,A1:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,OX:null !== (D=null === A || void 0 === A?void 0:A.xa) && void 0 !== D?D:0,mR:null !== (F=null === G || void 0 === G?void 0:G.xa) && void 0 !== F?F:0};};x.prototype.jT=function(A){var z;return (A=this.ef(A))?null !== (z=A.cS) && void 0 !== z?z:0:0;};x.prototype.qn=function(A){A=this.ef(A);return (null === A || void 0 === A?void 0:A.qn()) || [];};x.prototype.mSb=function(A){A=A.newValue;(0,g.bo)(A) && this.iE();};x.prototype.rK=function(A){return this.qj.every(function(z){return z.rK(A);});};x.prototype.E4=function(A){var z,B;return null !== (B=null === (z=this.qj.get(A)) || void 0 === z?void 0:z.uzb) && void 0 !== B?B:q.N.Ia;};x.prototype.D$=function(A){var z,B,C;z=this.UQ.sNb;if(!z)return !1;A=(0,n.qc)(A,function(D){return z.G <= D.Ma.G;});if(!A)return !1;B=A.Ma;A=!1;C=k.__read((0,w.Jta)(this.X,this.qj,B),2);B=C[0];if(C=C[1])(this.ef(g.v.Z).truncate(C),A=!0);B && (this.ef(g.v.ga).truncate(B),A=!0);A && (B={type:"branchEdited"},this.events.emit(B.type,B));return A;};x.prototype.Xl=function(A){this.hs || (A.pQa || (0,p.assert)(!A.Hd),this.iE(),this.events.emit("requestComplete",{type:"requestComplete",tb:this.tb}),this.ai && this.tob());this.lB(A);};x.prototype.GM=function(A){this.X.WVa && this.iE(!0);this.fL(A);};x.prototype.nC=function(A){this.X.WVa && this.iE(!0);this.eL(A);};x.prototype.QTa=function(A,z,B){var C,D,F;C=this;D=new v.EP();F=!1;A.forEach(function(G){var E;E=C.qj.find(function(J){return J.track === G.track;});void 0 === E?(F=!0,E=new f.DIa(C,C.X,C.console,C.MV,C.tb,G.track,z,G.il,!0,G.g3b(),C.qx,C.Cn),C.BLb(E)):(C.qj.remove(E),E.kR());D.add(E);});this.qj.forEach(function(G){return G.Pf();});this.qj=D;return F?this.normalize(z,B):{sS:!1,$A:!1};};x.prototype.BLb=function(A){var z;z=this;A.events.on("lastRequestIssued",function(){return z.Rk && z.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(A,z){var B;null === (B=this.jE) || void 0 === B?void 0:B.$e();this.jE=new m.EIa({console:this.console,config:this.X,pa:this.pa,u:this.u,rC:this.qj,Ma:A,Za:this.u.Rf,splice:z});this.UQ=this.qj.Psa;z=this.jE.normalize();A=z.sS;z=z.$A;A && this.AOa && (this.Eu=this.AOa.wa(this.Ma));return {sS:A,$A:z};};x.prototype.Y_b=function(A){var z;return (0,g.bo)((null === (z=this.mQ) || void 0 === z?void 0:z.value) || g.Uc.um) && (!A || this.VNa + this.X.Bqa < u.default.time.Da());};x.prototype.iE=function(A){void 0 === A && (A=!1);this.Y_b(A) && (this.VNa=u.default.time.Da(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};x.prototype.tob=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};x.prototype.toJSON=function(){var A,z,B;return {segment:this.u.id,branchOffset:null === (A=this.se) || void 0 === A?void 0:A.G,viewableId:this.Mi.J,contentStartPts:null === (z=this.Ma) || void 0 === z?void 0:z.G,contentEndPts:null === (B=this.Za) || void 0 === B?void 0:B.G};};return x;})(h.Ez);b.YGa=a;(0,t.gj)(r.bu,a);},32018:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z;function c(B){return function(){return ("[").concat(B,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.IHa=b.Hz=void 0;k=a(70655);f=a(86393);h=a(41427);d=a(34684);g=a(47571);m=a(70950);r=a(57772);l=a(63710);n=a(40885);p=a(24705);q=a(44724);u=a(31925);t=a(74005);v=k.__importDefault(a(29736));w=a(60482);y=a(61276);x=a(95994);A=a(28035);a=a(35806);(function(B){B[B.SO=0]="CREATED";B[B.LO=1]="CANCELLED";})(z=b.Hz || (b.Hz={}));a=(function(B){function C(D,F,G,E,J,K){D=B.call(this,F,E,G,m.N.Ia,(0,t.Ph)(v.default,D,"AsePadding")) || this;D.pa=J;D.config=K;D.iI=new p.tI(D.console);D.GA=new p.tI(D.console);D.Ip=new t.Lz();D.console.trace(("PaddingBranch {").concat(F.id,"}: created"));return D;}k.__extends(C,B);C.prototype.cyb=function(D){return k.__awaiter(this,void 0,void 0,function(){var F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P;return k.__generator(this,function(fa){switch(fa.label){case 0:return [4,this.BVb()];case 1:F=fa.Ra();G=F.Uf;E=F.sd;J=F.bitrate;K=F.jr;N=u.U_.instance();I=N.RIb(E,J,K);O=new m.N(I.duration);L=new m.N(I.ca);H=L.T;M=I.profile;R=I.bitrate;Y=I.channels;ea={M0a:!0,mediaType:g.v.ga,af:M,profile:M,T:H,Oh:[{df:0,data:I.qa}],ca:L,Uf:G,pa:this.pa,bitrate:R,Nb:("").concat(h.xn),track:{trackId:"1",mediaType:g.v.ga,Rl:!1,ca:L,pa:this.pa,channels:Y,sampleRate:48E3,profile:M,hg:[],jr:K,toString:c(g.v.ga)},toJSON:function(){return {mediaType:ea.mediaType,Nb:ea.Nb,bitrate:ea.bitrate};}};ea.Wm=ea.track.Wm=d.sI.prototype.Wm.bind(ea.track);ea.track.hg.push(ea);ca=(0,t.Ph)(v.default,this.console,"[0]");this.GA=new p.tI(ca);oa=new m.N(I.ca);Ga=this.config.Em?G:m.N.Ia;Fa=Ga.add(O);x.K && ca.trace(("PaddingBranch: audio target duration is ").concat(D.ob()));Ja=m.N.Ia;Xa=this.config.Em?-Math.ceil(G.Ui(L)):0;W=Ga;for(aa=!0;W.lessThan(D);){W=W.add(O);W.greaterThan(D) && (cb=O.Ui(oa) - Math.floor(W.wa(D).Ui(oa)));Q=W.ji(D);ka=aa?0:Q?D.G:void 0;P=new l.Eaa(I.qa,I.ma,ea,H,Ga.Wd(H).ya,Fa.Wd(H).ya,oa,ca,this.u,this.OXa.bind(this,H,Ja),ka,aa,Q);P.Bi({start:Xa,end:cb});x.K && ca.log(("PaddingBranch: enqueing request ").concat(P,", edit: ").concat(JSON.stringify({start:Xa,end:cb}),", ") + ("offset ").concat(Ja.ob()));this.GA.enqueue(P);Ja=Ja.add(O);Xa=void 0;aa=!1;}this.GA.SK();return [2];}});});};C.prototype.izb=function(){var D,F,G;return k.__awaiter(this,void 0,void 0,function(){var E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W,aa,Q,ka,P,fa,ta,pa,Ra,Pa;return k.__generator(this,function(db){switch(db.label){case 0:return [4,this.DVb()];case 1:E=db.Ra();J=E.profile;K=E.Ax;N=E.jr;I=u.U_.instance();O=null === (G=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.ef(g.v.Z)) || void 0 === F?void 0:F.track.ca) || void 0 === G?void 0:G.g8a();(0,q.assert)(O,"padding branches should always have a frameRate");L=I.SIb(this.pa.x5b,J,O,K,N);H=new m.N(L.duration);M=L.profile;R=L.bitrate;Y=L.width;ea=L.height;ca=L.Sc;oa=L.Tc;Ga=L.ca.T;Fa=new m.N(L.ca);Ja=new w.dJ(Ga,L.ca.ya);Xa={M0a:!0,mediaType:g.v.Z,af:M,profile:M,T:Ga,Oh:[{df:0,data:L.qa}],Nb:("").concat(h.xn),ca:Fa,pa:this.pa,bitrate:R,track:{trackId:"1",mediaType:g.v.Z,Rl:!1,ca:Fa,frameRate:Ja,Q6:Ja,cl:new y.eJ({w:Y,Tq:ea},{w:ca,Tq:oa}),pa:this.pa,profile:M,hg:[],jr:N,toString:c(g.v.Z)},toJSON:function(){return {mediaType:Xa.mediaType,Nb:Xa.Nb,bitrate:Xa.bitrate};}};Xa.Wm=Xa.track.Wm=d.sI.prototype.Wm.bind(Xa.track);cb=new f.Yr(this.console,Xa,L.qa,["moov"],!0,{f9a:!0,Tra:!0});W={ca:Fa};aa=cb.parse(W);(0,q.assert)(aa.vt,"Failed to parse padding fragment header");(0,q.assert)(aa.Oh,"Failed to get initialization segments from padding fragment header");Xa.Oh=aa.Oh;x.K && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),Xa);Xa.track.hg.push(Xa);Q=(0,t.Ph)(v.default,this.console,"[1]");ka=Math.ceil(this.nqa.Ui(H));P=H.Jv(ka);fa=this.u.Ud;ta=fa.add(P).Wd(this.T);x.K && Q.trace(("PaddingBranch: ").concat(ka," fragments of ").concat(H.ob(),", ") + ("duration ").concat(P.ob(),", ") + ("c: ").concat(fa.ob(),"-").concat(ta.ob(),", "));this.u.normalize(fa,ta,[]);for(pa=m.N.Ia;pa.lessThan(P);){Ra=pa.add(H);Pa=new l.Eaa(L.qa,L.ma,Xa,Ga,0,H.Wd(Ga).ya,Fa,Q,this.u,this.OXa.bind(this,Ga,pa),void 0,pa.equal(m.N.Ia),Ra.ji(P));x.K && Q.trace(("PaddingBranch: appended ").concat(Pa));this.iI.enqueue(Pa);pa=Ra;}this.iI.SK();this.d5b=P;return [2,{duration:P}];}});});};Object.defineProperties(C.prototype,{Rk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ai:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{CA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Wg:{get:function(){return this.Ip.gua;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{tO:{get:function(){return this.Ip.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$n:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{T:{get:function(){return this.u.Ud.T;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lb:{get:function(){return this.u.Ud.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nb:{get:function(){return this.u.Rf.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{jn:{get:function(){return this.se.Wd(this.T).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ry:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{bL:{get:function(){(0,q.assert)(!this.u.u.Mq,"exit zone not supported for padding segments");return m.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{WJ:{get:function(){return this.GA && this.iI?this.GA.sy && this.iI.sy:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{xQa:{get:function(){return !(!this.GA && !this.iI);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{pr:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ZG:{get:function(){return this.u.Rf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{x6:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Kl:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{se:{get:function(){return this.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nqa:{get:function(){var D;return null !== (D=this.lOa) && void 0 !== D?D:this.u.Rf.wa(this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Kr:{get:function(){return m.N.Ia;},enumerable:!1,configurable:!0}});C.prototype.qa=function(){return k.__awaiter(this,void 0,void 0,function(){var D;return k.__generator(this,function(F){switch(F.label){case 0:(B.prototype.qa.call(this),F.label=1);case 1:return (F.Vj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.tO]:[3,3]);case 2:(F.Ra(),F.label=3);case 3:return (this.lOa=this.u.Rf.wa(this.u.Ud),[4,this.XTa([g.v.ga,g.v.Z])]);case 4:return (F.Ra(),this.Ip.resolve(),[3,6]);case 5:D=F.Ra();if(!this.ag)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.Mi=D;};C.prototype.tB=function(D){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(D,")"));return D === g.v.ga?[2,this.GA.$la()]:[2,this.iI.$la()];});});};C.prototype.reset=function(){};C.prototype.Pf=function(D){void 0 === D && (D="other");B.prototype.Pf.call(this,D);this.zc=z.LO;this.lOa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.S5=function(){return !0;};C.prototype.ef=function(){};C.prototype.r5=function(D){return [g.v.ga,g.v.Z].some(function(F){return F === D;});};C.prototype.Ws=function(){return [];};C.prototype.zL=function(D){var F;return null === (F=this.parent) || void 0 === F?void 0:F.zL(D);};C.prototype.Q4=function(){return [];};C.prototype.OF=function(){};C.prototype.Wn=function(){return this.nqa.G;};C.prototype.iL=function(){return {};};C.prototype.jT=function(){return this.u.Rf.G;};C.prototype.hz=function(D,F,G,E){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(J){switch(J.label){case 0:return [4,this.Ip.promise];case 1:return (J.Ra(),this.parent?[4,this.parent.tO]:[3,3]);case 2:(J.Ra(),J.label=3);case 3:return [4,this.XTa(E)];case 4:return (J.Ra(),[2]);}});});};C.prototype.XTa=function(D){return k.__awaiter(this,void 0,void 0,function(){var F,G;return k.__generator(this,function(E){switch(E.label){case 0:F=m.N.Ia;if(-1 === D.indexOf(g.v.Z))return [3,2];this.iI.clear();return [4,this.izb()];case 1:(G=E.Ra(),F=G.duration,E.label=2);case 2:if(-1 === D.indexOf(g.v.ga))return [3,4];this.GA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(F.ob()));return [4,this.cyb(this.d5b)];case 3:(E.Ra(),E.label=4);case 4:return [2];}});});};C.prototype.RZa=function(){};C.prototype.qn=function(){return [];};C.prototype.rK=function(D){var F,G;return !!((null === (F=this.Mb) || void 0 === F?0:F.greaterThan(D)) && (null === (G=this.Bb) || void 0 === G?0:G.lessThan(D)));};C.prototype.E4=function(){return this.nqa;};C.prototype.D$=function(){return !1;};C.prototype.toJSON=function(){var D,F;return {segment:this.u.id,viewableId:this.Mi.J,contentStartPts:null === (D=this.Ma) || void 0 === D?void 0:D.G,contentEndPts:null === (F=this.Za) || void 0 === F?void 0:F.G};};C.prototype.DVb=function(){var D,F,G,E,J,K,N;return k.__awaiter(this,void 0,void 0,function(){var I,O,L,H;return k.__generator(this,function(M){switch(M.label){case 0:return (I=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.ef(g.v.Z)) || void 0 === F?void 0:F.ye.fo)?[3,2]:[4,null === (E=null === (G=this.parent) || void 0 === G?void 0:G.ef(g.v.Z)) || void 0 === E?void 0:E.ye.Ddb];case 1:M.Ra();if(this.ag)return [2,Promise.reject()];M.label=2;case 2:return (I=null === (K=null === (J=this.parent) || void 0 === J?void 0:J.ef(g.v.Z)) || void 0 === K?void 0:K.ye.fo,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),O=null === (N=I.track.cl) || void 0 === N?void 0:N.Ax,L=I.track.jr,H=I.af,[2,{profile:H,Ax:O,jr:L}]);}});});};C.prototype.BVb=function(){var D,F,G,E,J,K;return k.__awaiter(this,void 0,void 0,function(){var N,I,O,L,H;return k.__generator(this,function(M){switch(M.label){case 0:return (N=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.ef(g.v.ga)) || void 0 === F?void 0:F.ye.fo)?[3,2]:[4,null === (E=null === (G=this.parent) || void 0 === G?void 0:G.ef(g.v.ga)) || void 0 === E?void 0:E.ye.Ddb];case 1:M.Ra();if(this.ag)return [2,Promise.reject()];M.label=2;case 2:return (N=null === (K=null === (J=this.parent) || void 0 === J?void 0:J.ef(g.v.ga)) || void 0 === K?void 0:K.ye.fo,(0,q.assert)(N,"Parent of padding branch must have last selected audio stream"),I=N.Uf || m.N.Ia,O=-1 !== N.profile.indexOf("heaac")?"heaac":"ddp",L=N.bitrate,H=N.track.jr,[2,{Uf:I,sd:O,bitrate:L,jr:H}]);}});});};C.prototype.OXa=function(D,F){return this.Eu.add(F).Wd(D).ya;};return C=k.__decorate([A.DF],C);})(a.Uaa);b.IHa=a;(0,n.gj)(r.bu,a);},10249:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tTa=void 0;c=a(41427);k=a(57563);f=a(74005);h=a(2631);b.tTa=function(d){var g,m,l,n,p,q,u,t,v,w,y,x;g=d.config;m=d.console;l=d.Bsa;n=d.u;p=d.events;q=d.wH;u=d.Zm;t=d.se;v=d.Ts;w=d.jf;y=d.Jd;x=d.jI;d=d.GRa;n.J === c.xn && g.rF?(p=new k.JHa(n.J,g.Pra),q=f.N.Ia,g=new (a(32018).IHa)(m,n,q,l.W4.bind(l),p,g)):g=new h.tza(g,m,p,n,q,u,t,v,l.W4.bind(l),w,y,x,d);return g;};},8628:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eD=void 0;c=a(14378);k=a(44724);r=(function(){function f(h){this.config=h;this.reset();}f.instance=function(){(0,k.assert)(void 0 !== f.qs);return f.qs;};f.dwb=function(h){f.qs=new f(h);};f.prototype.push=function(h){this.fh && this.fh.push(h);};f.prototype.Yb=function(){if(this.fh)return (this.fh.Ox(),this.fh.yi([.25,.5,.75,.9,.95,.99]).map(function(h){return h?parseFloat(h.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.tCb && this.config.fca && (this.fh=new c.TDigest(this.config.fca.c,this.config.fca.maxc));};return f;})();b.eD=r;},85147:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Bza=b.tt=void 0;c=a(70655);r=a(28075);k=a(69565);f=c.__importDefault(a(54186));h=a(47571);d=c.__importDefault(a(29736));g=a(70950);m=a(44724);l=a(82434);n=a(97476);p=a(50971);q=a(4145);b.tt=function(u){return u.wa(g.N.Na(u.qH));};a=(function(u){function t(v,w,y,x,A,z){var B,C;B=this;B=u.call(this) || this;B.Af=v;B.Ji=w;B.Zc=y;B.X=x;B.Y=A;B.Gn=z;B.yPa=!1;B.sNa=!1;B.dR=!1;B.S=k.hq.wv(B.Af);B.dA=B.S.error.bind(B.S);B.ys=B.S.warn.bind(B.S);B.Tu=B.S.trace.bind(B.S);null === (C=y.events) || void 0 === C?void 0:C.addListener("ready",function(){B.Cu();});B.P3a=new l.pGa(B.X,B.Af,B.Ji.te,B.S);B.reset();return B;}c.__extends(t,u);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.xQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{U1b:{get:function(){return !!this.Zc.MCb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(v){var w,y,x;null === (w=this.uOa) || void 0 === w?void 0:w.Qa();this.xm=!1;v || (this.vq=[]);this.Kk=this.lfa=this.eE=void 0;this.$ea=!1;this.AJ=void 0;this.dR=this.xQ=!1;this.hPa(g.N.Ia);null === (x=(y=this.Zc).reset) || void 0 === x?void 0:x.call(y);this.P3a.reset();};t.prototype.LEb=function(){this.lfa=!0;};t.prototype.pause=function(){this.xm=!0;};t.prototype.resume=function(){this.xm=!1;this.Cu();};t.prototype.E3=function(){this.sNa=!0;this.xm || this.Cu();};t.prototype.KC=function(v){this.yPa=v;};t.prototype.dsb=function(v){this.vq.push(v);this.Cu();};t.prototype.wz=function(){this.Cu();};t.prototype.tRb=function(v){this.X.iha && void 0 === this.Kk && this.dNa(v,0);this.Cu();};t.prototype.I7=function(v,w){var y,x;y=this;void 0 === v && (v=!1);this.xQ || (this.xQ=!0,this.Cu(),!v && this.U1b) || (w && this.Gn && this.X.sAb?(v=g.N.Na(this.X.K2b),w=w.wa(v),v=(0,p.$$)(this.Gn,w,!0),w=v.Bk,v=v.promise,null === (x=this.uOa) || void 0 === x?void 0:x.Qa(),this.uOa=w,v.then(function(){y.xQ && y.Zc.endOfStream();})):this.Zc.endOfStream());};t.prototype.hPa=function(v){var w;null !== (w=this.upb) && void 0 !== w && w.equal(v) || (this.upb=v,this.Zc.E_b(v.ya,v.T));};t.prototype.Cu=function(){var v,w,y,x,A,z,B,C;x=this.X;if(this.vq.length || this.Kk && !this.Kk.rd)if(!this.Zc || !1 === this.Zc.ready)this.JJ("@" + d.default.time.Da() + ", append: not appending, sourceBuffer not ready");else if(!this.Kk || this.Kk.rd || this.Kk.mk())if(this.Kk && !this.Kk.rd || this.vq.length)if(this.xm){A=this.Kk && !this.Kk.rd?this.Kk:this.vq[0];this.JJ("@" + d.default.time.Da() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(A));}else if((!this.Kk || this.Kk.rd || (this.qNa(this.Kk),this.Kk.rd)) && this.vq.length){z=this.vq[0];if(z.aborted)(this.ys("aborted MediaRequest should not appear in the toAppend list:",z.toString(),"complete:",z.complete),this.JJ("@" + d.default.time.Da() + ", append: removing aborted request from toAppend: " + z.toString()),this.vq.shift());else {B=z.stream;C=B.pa;if(B.Oh)if((z.ey && !this.dR && (null === (w=(v=this.Zc).gab) || void 0 === w?void 0:w.call(v,{J:B.track.pa.J,V0a:B.ki}),this.dR=!0),this.V_b(B,z.index)))(this.lfa=!1,this.dNa(B,z.index));else if((v=this.Y.fU(C.J),B=this.XKb(B),v || B || !this.$ea && !x.wxa))if((v=this.zZa(z),this.Af === f.default.un.ga && (z.Dj || z.nt || (null === (A=z.Ha) || void 0 === A?0:A.Tn)) && z.Ha && !x.nN && !this.xQ && this.vq.length <= (z.Dj || z.nt?1:2) && v > x.q7 && (null === (y=z.Kt) || void 0 === y || !y.UL)))this.fZb();else {this.$ea || (this.$ea=B);this.vq.shift();try{this.amb(z);}catch(D){throw (this.S.error(D),D);}}}}};t.prototype.fZb=function(){var v;v=this;this.Gn && (this.Yoa?this.Yoa.L0a || this.Yoa.Vf():this.Yoa=this.Gn.Tx(function(){return v.jNb();},"JIT Appender"));};t.prototype.jNb=function(){var v,w,y,x;return c.__generator(this,function(A){switch(A.label){case 0:if(1 !== this.vq.length)return [3,3];v=this.vq[0];if(!v.Dj && !v.nt || (null === (x=v.Kt) || void 0 === x?0:x.UL))return [2];w=this.zZa(v);y=this.X.q7;return w > y?[4,p.Pg.ZC(g.N.Na(w - y))]:[3,2];case 1:(A.Ra(),A.label=2);case 2:return (this.Cu(),[3,0]);case 3:return [2];}});};t.prototype.zZa=function(v){var w;return (null === (w=v.Bb) || void 0 === w?NaN:w.G) - this.Y.Md.G;};t.prototype.V_b=function(v,w){if(this.lfa || void 0 === this.eE || v.Nb !== this.eE.Nb)return !0;v=v.Oh;(0,m.assert)(v);return 1 < v.length?(0,q.pha)(v,function(y){return y.df <= w;}) !== this.eE.$0a:!1;};t.prototype.XKb=function(v){if(v.mediaType === h.v.ga || !v.ki)return !0;if(void 0 === this.eE)return !1;if(!v.track.VU)return !v.ki;v=v.Oh;(0,m.assert)(v);return !1 === v[this.eE.$0a].uF;};t.prototype.dNa=function(v,w){var y,x,A,z;if(!this.yPa || this.sNa){A=v.Oh.reduce(function(B,C,D){return C.df <= w?D:B;},0);z=v.Oh[A];this.eE || (null === (x=(y=this.Zc).gab) || void 0 === x?void 0:x.call(y,{J:v.track.pa.J,V0a:v.ki}),this.dR=!0);if(this.Zc.appendBuffer(z.data,{Hd:!0,profile:v.profile,bitrate:v.bitrate,Nb:v.Nb}))(this.JJ("@" + d.default.time.Da() + ", header appended, streamId: " + v.Nb),this.eE={Nb:v.Nb,$0a:A},this.Wob(v.Nb,A),this.Cu());else throw (this.ys("appendHeader error: " + this.Zc.error),this.JJ("@" + d.default.time.Da() + ", appendHeader error: " + this.Zc.error),Error("appendHeaderError"));}};t.prototype.amb=function(v){var w,y,x,A,z,B;w=this;A=v.fta || g.N.Ia;z=v.u;z.Rf && !z.Rf.equal(g.N.Dp) && (A=z.Rf.add(A).Bh,Infinity === this.Ji.duration || this.Ji.duration < A) && (this.Ji.duration=A);A=void 0 !== v.kw?g.N.Na(v.kw).add(v.fta):void 0;z=null === (y=this.vq[0]) || void 0 === y?void 0:y.Bb;y={endOfStream:this.endOfStream || !(null === (x=v.Kt) || void 0 === x || !x.UL),oM:A,Rqa:z};A=this.P3a.append(v,y);x=A.fi;z=A.ti;y=A.response;A=A.offset;null === z || void 0 === z?void 0:z.forEach(function(C){return w.emit(C.type,C);});z=v.stream;if(z.ha){B=z.Yn().F8;A=A.wa(B.Wd(z.T));}this.hPa(A);x && (v.Dj || v.nt) && v.fi();this.qNa(v,x,y);};t.prototype.qNa=function(v,w,y){var x,A,z,B,C;void 0 === w && (w=!1);C=w?{status:n.xf.rn,Vk:void 0}:v.yq(this.Ji,this.Zc,this.Ji.te,void 0,y);y=C.status;(C=C.Vk) && this.emit(C.type,C);switch(y){case n.xf.Eh:this.$lb(v);break;case n.xf.r_:w || (this.Kk=v);break;case n.xf.rn:(w || (this.Kk=v,void 0 === this.AJ || this.Af !== f.default.un.ga || v.Bb.equal(this.AJ) || (this.AJ=void 0),this.JJ("@" + d.default.time.Da() + ", request appended, type: " + v.mediaType + ", streamId: " + v.Nb + ", pts: " + (null === (x=v.Bb) || void 0 === x?void 0:x.G) + "-" + v.Mb.G)),v.Dj || v.nt?(this.AJ=w?v.Bb:v.Mb,null === (z=(A=this.Zc).MCb) || void 0 === z?void 0:z.call(A,v.Kt),this.dR=!1,(null === (B=v.Kt) || void 0 === B?0:B.UL) && this.I7(!1,this.AJ)):this.AJ=void 0,this.Xob(v),this.Cu());}};t.prototype.$lb=function(v){if(void 0 !== this.Zc.error){if("done" === this.Zc.error)return;this.dA("failure to append queued mediaRequest:",null === v || void 0 === v?void 0:v.toString(),"err:",JSON.stringify(this.Zc.error));throw this.Zc.error;}v=Error("failure to append queued mediaRequest: " + (null === v || void 0 === v?void 0:v.toString()) + " err: " + this.Zc.error);this.dA(v.message);throw v;};t.prototype.Wob=function(v,w){v={type:"headerAppended",mediaType:this.Af,streamId:v,isIndex:w};this.emit(v.type,v);};t.prototype.Xob=function(v){v={type:"requestAppended",mediaType:this.Af,request:v};this.emit(v.type,v);};t.prototype.JJ=function(v){v={type:"managerdebugevent",message:v};this.emit(v.type,v);};return t;})(r.EventEmitter);b.Bza=a;},13024:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cza=void 0;c=a(47571);k=a(44724);r=(function(){function f(h,d){this.S=h;this.Zmb=d;this.Uu=this.Du=this.ap=0;}f.prototype.av=function(h){var d;if(!h.Hd){d=h.xa;(0,k.assert)(0 < d);this.ap+=d;h.mediaType === c.v.ga?this.Du+=d:this.Uu+=d;(0,k.assert)(this.ap === this.Du + this.Uu);(0,k.assert)(0 < this.ap);(0,k.assert)(0 <= this.Du);(0,k.assert)(0 <= this.Uu);}};f.prototype.Vp=function(h){var d;if(!h.Hd){d=h.xa;(0,k.assert)(0 < d);this.ap-=d;h.mediaType === c.v.ga?this.Du-=d:this.Uu-=d;(0,k.assert)(this.ap === this.Du + this.Uu);(0,k.assert)(0 <= this.ap);(0,k.assert)(0 <= this.Du);(0,k.assert)(0 <= this.Uu);}};f.prototype.Tub=function(h,d){var g;(0,k.assert)(this.ap === this.Du + this.Uu);g=this.Zmb();if(void 0 !== g.total && this.ap + d > g.total)return !1;g=h === c.v.ga?g.audio:g.video;h=h === c.v.ga?this.Du:this.Uu;return void 0 !== g && h + d > g?!1:!0;};return f;})();b.Cza=r;},38264:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TXa=b.WXa=b.yta=b.gia=b.yca=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(44724);h=a(74005);r=(function(){function g(m,l,n){void 0 === n && (n={});this.config=m;this.YCb=l;this.qh=[];this.fia=new h.yu();this.QRa=new h.yu();this.options=c.__assign({ko:10},n);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.TBb;},enumerable:!1,configurable:!0}});g.prototype.Lma=function(m,l){var n;if(!this.isEnabled)return l();n=this.PFb(m);if(n)return n.value;l=l();this.et(m,l);return l;};g.prototype.findIndex=function(m){var l,n,p,q;l=Infinity;n=Infinity;if(this.options.lR || this.options.fN){p=k.default.time.Da();this.options.fN && (l=p - this.options.fN);this.options.lR && (n=p - this.options.lR);}for(p=0;p < this.qh.length;p++){q=this.qh[p];if(this.options.fN && q.h2a < l){this.qh.splice(p,this.qh.length - p);break;}if(this.options.lR && q.Nn < n)(this.qh.splice(p,1),p--);else if(this.YCb(q.key,m))return p;}return -1;};g.prototype.PFb=function(m){var l;m=this.findIndex(m);if(-1 !== m){l=this.qh[m];this.qh.splice(m,1);this.qh.unshift(l);this.options.fN && (l.h2a=k.default.time.Da());this.QRa.push(m);this.fia.push(1);return l;}this.fia.push(0);};g.prototype.et=function(m,l){this.qh.unshift({key:m,value:l});if(this.options.fN || this.options.lR)(m=k.default.time.Da(),this.options.fN && (this.qh[0].h2a=m),this.options.lR && (this.qh[0].Nn=m));this.Qub();};g.prototype.Qub=function(){this.qh.length > this.options.ko && this.qh.pop();};g.prototype.clear=function(){this.qh=[];};return g;})();b.yca=r;d=new WeakMap();b.gia=function(g){void 0 === g && (g="default");return function(m,l,n){var p;p=n.value;n.value=function(q){var u,t,v;u=this;v=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(v,"lruCache not defined");return v.Lma(q,function(){return p.call(u,q);});};};};b.yta=function(g,m,l){d.has(g) || d.set(g,{});d.get(g)[m]=l;};b.WXa=function(g){var m;if(!d.has(g))return [];m=d.get(g);return Object.keys(m).map(function(l){return m[l];});};b.TXa=function(g){return d.has(g)?d.get(g):{};};},2427:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hwb={qt:["minInitVideoBitrate",-Infinity],Fy:["maxInitVideoBitrate",Infinity],bV:["minInitAudioBitrate",-Infinity],QU:["maxInitAudioBitrate",Infinity],i7:["minAcceptableVideoBitrate",-Infinity],$U:["minAcceptableVMAF",0],mQb:["minAcceptableVMAFRebufferScalingFactor",0],zqa:["minAllowedVideoBitrate",-Infinity],oPb:["maxAllowedVideoBitrate",Infinity],FG:["minAllowedVmaf",-Infinity],m3a:["maxAllowedVmaf",Infinity],RN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],L3:["enableResolutionVMAFStreamFilter",!1],fsa:["percentCapTitlesForResolutionVMAFStreamFilter",100],k9:["resolutionVMAFCappingRuleList",[]],U_a:["ignoreUserFilterOnEmptyResult",!0],eC:["minRequiredBuffer",2E4],o7:["minRequiredAudioBuffer",0],hr:["minPrebufSize",5800],Bqa:["minCheckBufferingCompleteInterval",200],WVa:["enableMoreFrequentBufferingCompleteCheck",!1],k4a:["minimumBufferingCompleteInterval",1E4],Xta:["requireDownloadDataAtBuffering",!1],i0a:["indicatorForDownloadDataAtBuffering","oncomplete"],Yta:["requireSetupConnectionDuringBuffering",!1],tta:["rebufferingFactor",1],fr:["maxBufferingTime",2E3],jxa:["useMaxPrebufSize",!0],bC:["maxPrebufSize",4E4],hqa:["maxRebufSize",Infinity],L5:["initialBitrateSelectionCurve",null],n0a:["initSelectionLowerBound",-Infinity],o0a:["initSelectionUpperBound",Infinity],sX:["throughputPercentForAudio",15],Kha:["bandwidthMargin",0],Mha:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],pRa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Hx:76376,scale:18862.4,gamma:3.0569}],Lha:["bandwidthMarginContinuous",!1],qRa:["bandwidthMarginForAudio",!0],kwa:["switchConfigBasedOnInSessionTput",!0],gja:["conservBandwidthMargin",20],ija:["conservBandwidthMarginTputThreshold",6E3],hja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Yab:["switchAlgoBasedOnHistIQR",!1],lwa:["switchConfigBasedOnThroughputHistory","iqr"],B3a:["maxPlayerStateToSwitchConfig",-1],Q2a:["lowEndMarkingCriteria","iqr"],bEa:["IQRThreshold",.5],J_a:["histIQRCalcToUse","simple"],Ds:["bandwidthManifold",{curves:[{min:.05,max:.82,Hx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Hx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],TU:["maxTotalBufferLevelPerSession",0],E_a:["highWatermarkLevel",3E4],Dbb:["toStableThreshold",3E4],y$:["toUnstableThreshold",0],Iva:["skipBitrateInUpswitch",!1],Bxa:["watermarkLevelForSkipStart",8E3],Gva:["simulationDurationStrategy","default"],u0b:["simulationFullBufferPercentage",1],i4a:["minSimulationDuration",2E4],iqa:["maxSimulationDuration",3E5],gxa:["upperThroughputPredictionFactor",1.6],Jna:["highStreamRetentionWindow",9E4],Kpa:["lowStreamTransitionWindow",51E4],Lna:["highStreamRetentionWindowUp",5E5],Mpa:["lowStreamTransitionWindowUp",1E5],Kna:["highStreamRetentionWindowDown",6E5],Lpa:["lowStreamTransitionWindowDown",0],Ina:["highStreamInfeasibleBitrateFactor",.5],zy:["lowestBufForUpswitch",9E3],FU:["lockPeriodAfterDownswitch",15E3],Ppa:["lowWatermarkLevel",15E3],Ay:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Qpa:["lowestWaterMarkLevelBufferRelaxed",!1],b7:["mediaRate",1.5],T6:["maxTrailingBufferLen",15E3],zha:["audioBufferTargetAvailableSize",262144],oxa:["videoBufferTargetAvailableSize",1048576],J3a:["maxVideoTrailingBufferSize",8388608],n3a:["maxAudioTrailingBufferSize",393216],Z3:["fastUpswitchFactor",3],GDb:["fastUpswitchFactorWithoutHeaders",3],FDb:["fastUpswitchFactorForNextSegment",1],kla:["fastDownswitchFactor",3],BG:["maxMediaBufferAllowed",27E4],mec:["minMediaBufferLen",1E4],Q$a:["simulatePartialBlocks",!0],P$a:["simulateBufferFull",!0],jja:["considerConnectTime",!0],fja:["connectTimeMultiplier",1],bOb:["liveDvrSwitchThresholdms",1E4],q3a:["maxDomainFailureWaitDuration",3E4],rWa:["exhaustAllLocationsForFailure",!0],x3a:["maxNetworkErrorsDuringBuffering",20],O6:["maxBufferingTimeAllowedWithNetworkError",6E4],XJ:["alwaysRunUnderflowTimer",!0],CWa:["fastDomainSelectionBwThreshold",2E3],lbb:["throughputProbingEnterThreshold",4E4],mbb:["throughputProbingExitThreshold",34E3],G2a:["locationProbingTimeout",1E4],JWa:["finalLocationSelectionBwThreshold",1E4],jbb:["throughputHighConfidenceLevel",.75],kbb:["throughputLowConfidenceLevel",.4],xpa:["locationStatisticsUpdateInterval",6E4],AOb:["locationSelectorPersistFailures",!0],XVa:["enablePerfBasedLocationSwitch",!1],Wdc:["maxRateMaxFragmentGroups",4500],oCb:["enableNginxRateLimit",!1],D7:["nginxSendingRate",4E4],l3a:["maxActiveRequestsSABCell100",2],T8a:["resetActiveRequestsAtSessionInit",!0],K3:["enableHybridPacing",!1],ria:["catchUpMode",!1],FPb:["maxSegHint",4],Sta:["requestLevelLogging",!1],$Bb:["enableCsprNonPipelined",!1],H3:["enableCprAudio",!1],I3:["enableCprVideo",!1],YBb:["enableCprAudioNonPipelined",!1],ZBb:["enableCprVideoNonPipelined",!0],qCb:["enablePaceReportLogging",!1],sTb:["paceRateSelectorAlgorithm","default"],tTb:["paceRateSelectorAlgorithmAudio","default"],uTb:["paceRateSelectorAlgorithmNonPipelined","default"],oab:["staticPacingRateKbps",0],G2:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],P3b:["unpacedFragmentInterval",0],TKb:["ignorePacedRequestStrategy","none"],GV:["pacedThresholdPct",.1],wka:["effectivePaceRateFactor",1],tXb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],wTb:["pacingTargetBufferStrategy","implicit"],j2b:["targetBufferLevelStddevMultiplier",1],i2b:["targetBufferLevelDurationMs",0],vQb:["minTargetBufferLevelMs",27E4],Vva:["stddevPredictorMultiplier",-.3],Wva:["stddevPredictorUpperMultiplier",2],e1b:["stddevPredictorSource","deliverytime"],Iia:["ciPredictorSource","throughput-ci"],QVa:["enableInitialTputLogging",!1],PVa:["enableInitialThroughputHistory",!1],w5:["headerRequestSize",4096],Ska:["estimateHeaderSize",!0],Qqa:["neverWipeHeaderCache",!1],V4b:["useSidxInfoFromManifestForHeaderRequestSize",!1],zTb:["parseAdditionalBoxesMp4Header",!0],EWa:["fastPlayHeaderRequestSize",0],jM:["maxRequestSize",0],cV:["minRequestSize",65536],k7:["minBufferLenForHeaderDownloading",1E4],C0b:["smartHeaderPreDownloading",!1],UBb:["enableAllHeadersPreDownloading",!1],qo:["pipelineEnabled",!0],fqa:["maxParallelConnections",3],R4b:["usePipelineForAudio",!1],Q4b:["usePipelineDetectionForAudio",!1],T4b:["usePipelineForText",!0],X$a:["socketReceiveBufferSize",0],f2:["audioSocketReceiveBufferSize",32768],U$:["videoSocketReceiveBufferSize",65536],u2b:["textSocketReceiveBufferSize",32768],Xcb:["usePipelineDetectionForVideo",!1],yQb:["minVideoSocketReceiveBufferSize",65536],Gna:["headersSocketReceiveBufferSize",32768],Q_b:["shareDownloadTracks",!0],R_b:["shareOpenRangeTracks",!1],Qab:["supportOpenRangeRequests",!0],VAb:["disableHeaderDownloadTracks",!1],Dqa:["minTimeBetweenHeaderRequests",void 0],TV:["prebufferTimeLimit",6E4],a4a:["minBufferLevelForTrackSwitch",2E3],rCb:["enablePenaltyForLongConnectTime",!1],csa:["penaltyFactorForLongConnectTime",2],Ipa:["longConnectTimeThreshold",200],Xga:["additionalBufferingLongConnectTime",2E3],Yga:["additionalBufferingPerFailure",8E3],gW:["rebufferCheckDuration",6E4],OK:["enableOCSideChannel",!0],DUa:["decryptOCSideChannelMinInterval",1E3],EUa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],Ssa:["probeRequestTimeoutMilliseconds",3E4],Sec:["probeRequestConnectTimeoutMilliseconds",8E3],o_:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],uCb:["enableSCByteRangeHints",!1],rcb:["updateDrmRequestOnNetworkFailure",!0],K2b:["timeBeforeEndOfStreamBufferMark",6E3],cqa:["maxFastPlayBufferInMs",2E4],tPb:["maxFastPlayContentTimeThresholdMs",112E3],s3a:["maxFastPlayBitThreshold",2E8],o3a:["maxBufferingCompleteBufferInMs",Infinity],vtb:["bufferingCompleteOnMemoryLimit",!1],Aqa:["minAudioMediaRequestSizeBytes",0],Eqa:["minVideoMediaRequestSizeBytes",0],qPb:["maxAudioMediaRequestSizeBytes",Infinity],MPb:["maxVideoMediaRequestSizeBytes",Infinity],yPb:["maxMediaRequestSizeBytesInFraction",1],Iv:["minAudioMediaRequestDuration",0],Iy:["minVideoMediaRequestDuration",0],n7:["minMediaRequestDuration",0],pPb:["maxAudioMediaRequestDuration",Infinity],LPb:["maxVideoMediaRequestDuration",Infinity],R6:["maxMediaRequestDuration",Infinity],cha:["allowFirstRequestAggregation",!1],fec:["minAudioMediaRequestDurationCache",0],qec:["minVideoMediaRequestDurationCache",0],Wja:["defaultHeaderCacheSize",4],Vja:["defaultHeaderCacheDataPrefetchMs",0],S4b:["usePipelineForBranchedAudio",!0],r7:["minimumTimeBeforeBranchDecision",2E3],zQb:["minimumAppendedMediaBeforePlayback",5E3],CPb:["maxRequestsToAttachOnBranchActivation",void 0],q7:["minimumJustInTimeBufferLevel",3E3],occ:["enableJustInTimeAppends",!1],FQa:["appendPacingFactor",0],xrb:["appendPacingThreshold",3E3],fbc:["branchEndPtsIntervalMs",250],odc:["ignorePtsJustBeforeCurrentSegment",!1],uPb:["maxFragsForFittableOnBranching",300],Oqa:["networkFailureResetWaitMs",2E3],Nqa:["networkFailureAbandonMs",6E4],S6:["maxThrottledNetworkFailures",5],s$:["throttledNetworkFailureThresholdMs",200],Opa:["lowThroughputThreshold",400],ala:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],J2b:["timeAtEachBitrateRoundRobin",1E4],LYb:["roundRobinDirection","forward"],DKb:["httpsConnectErrorAsPerm",!1],UVa:["enableManagerDebugTraces",!1],Z2a:["managerDebugMessageInterval",1E3],Y2a:["managerDebugMessageCount",20],nN:["requireAudioStreamToEncompassVideo",!1],zab:["ase_stream_selector","optimized"],ysb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],nOb:["liveStreamSelectorAlgorithm","livesimple"],z2b:["throughputDiscountForLive",.8],y2b:["throughputDiscountExponentBC",1.5],BU:["liveTargetBufferDuration",1E4],B6:["liveEdgeCushion",6E3],C6:["liveMaxTemporaryRequestErrorRetries",6],fOb:["liveInitialFetchSizeBytes",1024],lOb:["liveResyncClockOn404Error",!0],dOb:["liveEndSlateMaxDuration",6E4],G6:["liveSwitchStreamsOnErrorInPipeline",!1],p2b:["temporaryRequestFailureRetryIntervalMs",500],TVa:["enableLiveTemporaryRequestRetries",!0],aqa:["maxAttemptsOnFailure",18],Dka:["enableMaxAttemptsOnFailure",!0],joa:["initBitrateSelectorAlgorithm","default"],Yha:["bufferingSelectorAlgorithm","default"],r1b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],ZVa:["enableThroughputTraceResearchData",!1],obb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],$ec:["researchEnvironmentEnabled",!1],wCb:["enableStreamSelectionAugmentData",!1],Csb:["augmentDataNumOfChunks",30],Nja:["ase_dump_fragments",!1],Oja:["ase_location_history",0],xUa:["ase_throughput",0],Ora:["paddingDurationMs",1E3],Pra:["paddingMediaType","padding"],fl:["stallAtFrameCount",void 0],cab:["stallAtFrameCountAudio",void 0],Xpa:["marginPredictor","simple"],Pcb:["useBackupUnderflowTimer",!0],mRb:["noDuplicateUnderflowTimer",!1],ngc:["useManifestDrmHeader",!0],pgc:["useOnlyManifestDrmHeader",!0],Pqa:["networkMeasurementGranularity","video_location"],aRb:["netIntrStoreWindow",36E3],vec:["minNetIntrDuration",8E3],Vmb:["fastHistoricBandwidthExpirationTime",10368E3],pnb:["bandwidthExpirationTime",5184E3],Umb:["failureExpirationTime",86400],COa:["historyTimeOfDayGranularity",4],Qmb:["expandDownloadTime",!0],Snb:["minimumMeasurementTime",500],Rnb:["minimumMeasurementBytes",131072],Lob:["throughputMeasurementTimeout",2E3],Kob:["initThroughputMeasureDataSize",262144],Dnb:["historicBandwidthUpdateInterval",2E3],Jac:["throughputPredictor","ewma"],Iua:["secondThroughputEstimator","slidingwindow"],A9a:["secondThroughputMeasureWindowInMs",3E5],Iac:["throughputMeasureWindow",5E3],Kac:["throughputWarmupTime",5E3],Hac:["throughputIQRMeasureWindow",1E3],qac:["IQRBucketizerWindow",15E3],v3a:["maxIQRSamples",100],d4a:["minIQRSamples",5],Eac:["connectTimeHalflife",10],wac:["responseTimeHalflife",10],RNa:["historicThroughputHalflife",14400],QNa:["historicResponseTimeHalflife",100],PNa:["historicHttpResponseTimeHalflife",100],sDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],sOa:["minReportedNetIntrDuration",4E3],Gac:["throughputBucketMs",500],tac:["bucketHoltWintersWindow",2E3],Jmb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],Rmb:["experimentalFilter",["throughput-wssl"]],UOa:["reportedFilters",[]],hfa:["filterDefinitionOverrides",{}],Dmb:["defaultFilter","throughput-ewma"],Emb:["defaultFilterField","average"],dpb:["secondaryFilter","throughput-sw"],Xea:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],CCb:["enableWsslEstimate",!1],Zdc:["maxWsslRequestSize",131072],Ydc:["maxWsslRequestRatio",.2],Qdb:["wsslAggregationMethod","max"],YVa:["enableSessionHistoryReport",!0],zVa:["earlyStageEstimatePeriod",1E4],i2a:["lateStageEstimatePeriod",3E4],y3a:["maxNumSessionHistoryStored",10],h4a:["minSessionHistoryDuration",3E5],cdc:["highAndStableModelName","baseline"],ncc:["enableHighAndStablePredictor",!1],nec:["minNumSessionHistory",5],cbc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],bdc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],ddc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Iga:["addHeaderDataToNetworkMonitor",!0],Pva:["startMonitorOnLoadStart",!1],Ota:["reportFailedRequestsToNetworkMonitor",!1],n8:["periodicHistoryPersistMs",0],w9:["saveVideoBitrateMs",0],Mqa:["needMinimumNetworkConfidence",!0],Pha:["biasTowardHistoricalThroughput",!1],Jdc:["logMemoryUsage",!1],eH:["probeServerWhenError",!0],xR:["allowSwitchback",!0],l7a:["probeDetailDenominator",100],P6:["maxDelayToReportFailure",300],irb:["allowParallelStreaming",!1],bec:["mediaPrefetchDisabled",!1],gec:["minBufferLevelToAllowPrefetch",5E3],xN:["seamlessAudio",!1],rfc:["seamlessAudioProfiles",[]],sfc:["seamlessAudioProfilesAndTitles",{}],Gua:["seamlessAudioMaximumSyncError",void 0],Hua:["seamlessAudioMinimumSyncError",void 0],B0a:["insertSilentFrames",0],toa:["insertSilentFramesOnSeek",!1],C0a:["insertSilentFramesOnSeekForTitles",[]],GLb:["insertSilentFramesOnSeekCount",3],Fcc:["forceDiscontinuityAtTransition",!0],Pfc:["supportAudioResetOnDiscontinuity",void 0],Ofc:["supportAudioEasingOnDiscontinuity",void 0],FBb:["editCompleteFragments",!0],AQb:["minimumAudioFramesPerFragment",1],BR:["applyProfileTimestampOffset",!1],Em:["applyProfileStreamingOffset",!0],x7a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],eRa:["audioProfilesNonSyncSamples",["xheaac-dash"]],v3b:["truncateEndOfStreamAudio",!1],M4b:["useDpiAssumedAacEncoderDelay",!0],d7:["mediaSourceSupportsNegativePts",!1],j7:["minAudioPtsGap",void 0],tsb:["audioOverlapGuardSampleCount",2],tCb:["enableRecordJSBridgePerf",!1],fca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],E2b:["throughputThresholdSelectorParam",0],J4b:["upswitchDuringBufferingFactor",2],orb:["allowUpswitchDuringBuffering",!1],Ebc:["contentOverrides",void 0],Fbc:["contentProfileOverrides",void 0],H_a:["hindsightDenominator",0],G_a:["hindsightDebugDenominator",0],gdc:["hindsightAlgorithmsEnabled",[]],I_a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],EQa:["appendMediaRequestOnComplete",!1],wxa:["waitForDrmToAppendMedia",!1],F5b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Ila:["forceAppendHeadersAfterDrm",!1],zUa:["declareBufferingCompleteAtSegmentEnd",!1],PU:["maxActiveRequestsPerSession",void 0],qpa:["limitAudioDiscountByMaxAudioBitrate",!1],iha:["appendFirstHeaderOnComplete",!0],m$:["strictBufferCapacityCheck",!1],DR:["aseReportDenominator",0],uha:["aseReportIntervalMs",3E5],Lrb:["aseReportMaxStreamSelections",400],v2a:["liveReportSendIntervalMs",6E4],tpa:["liveReportCollectIntervalMs",5E3],Gwa:["translateToVp9Draft",!1],Kta:["reorderTrakMvex",!1],lX:["switchableAudioProfiles",[]],wsb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],$ab:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],zsb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],H3a:["maxStartingVideoVMAF",110],st:["minStartingVideoVMAF",1],nR:["activateSelectStartingVMAF",!1],E9:["selectStartingVMAFTDigest",-1],zN:["selectStartingVMAFMethod","fallback"],H9a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],MM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Zbc:["disablePtsStartsEvent",!0],i8a:["recordFirstFragmentOnSubBranchCreate",!0],j3a:["markRequestActiveOnFirstByte",!1],f$:["stopOnAllInactiveRequests",!1],HVa:["enableActiveRequestsInFilters",!1],mO:["useNativeDataViewMethods",!0],Jrb:["aseDiagnostics",[{md:"queue-audit",enabled:!0},{md:"task-audit",enabled:!0},{md:"trace-ShimSession",enabled:!0},{md:"trace-engine",enabled:!0},{md:"trace-RequestPacer",enabled:!0},{md:"trace-BufferStateTracker",enabled:!0},{md:"trace-GraphStreamingProcess",enabled:!0},{md:"trace-AsePlaygraph",enabled:!0},{md:"playgraph-branch-audit",enabled:!0},{md:"content-playgraph",enabled:!0},{md:"trace-CphAsePlaygraph",enabled:!0},{md:"trace-GraphLocation",enabled:!0},{md:"cache-ads::gls",enabled:!0},{md:"cache-content::gls",enabled:!0}]],VBb:["enableAseReporting",!0],gtb:["branchDistanceThreshold",6E4],N6:["maxAllowedOutstandingRequests",4],Cqa:["minStreamableConcurrencyWindow",3E3],HPb:["maxStreamableConcurrencyWindow",Infinity],awa:["streamableConcurrencyFactor",.3],SR:["bufferingConcurrencyWindow",7800],Tha:["branchCreationThreshold",12E4],J3:["enableDiscontiguousBuffering",!1],Lla:["forceImmediateTransitionTypeForTitles",[]],Kla:["forceImmediateTransitionExitZone",0],mja:["contiguousBufferMultiplier",3],yTa:["contiguousBufferMinimumAudio",1048576],ATa:["contiguousBufferMinimumVideo",8388608],zTa:["contiguousBufferMinimumText",0],bVb:["prefetchBudgetInBytes",0],a8a:["rebufferRiskHalfLife",1E4],J$:["useBufferSizeLimiter",!1],W4b:["useStaticBufferSizeLimiter",!1],eVb:["prefetchWeightBudget",32],Fqa:["minimumDownstreamBranchProbability",.075],ixa:["useExitZones",!0],fVb:["prefetchWhilePlaying",!0],kVb:["prefetcherSoftReset",!0],GUb:["playgraphDefaultWeight",65520],sAb:["delayNotificationOfEoS",!1],ZPb:["memDeadlockShouldCheckMemory",!0],YPb:["memDeadlockOverageThreshold",.9],XPb:["memDeadlockMaxUtilizationPercentage",.5],BUb:["playerPtsPadding",1],lec:["minFragmentVmaf",void 0],ES:["enableCombinedPlaygraphs",!0],rF:["enableAdPlaygraphs",!0],Eka:["enablePrerollForInitialSeek",!1],bla:["excludedContentPlaygraphIds",[]],b_a:["graphSelectorSetAudioRate",!1],BCb:["enableVmafEstimationFromBitrate",!1],JPb:["maxVMAFMappingBitrate",16E3],KPb:["maxVMAFMappingVMAF",110],Fub:["cdndldistEnabled",!1],ez:["segmentFadeDuration",400],A9:["segmentFadeInDuration",-1],B9:["segmentFadeOutDuration",-1],kM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],l9:["retainSbrOnFade",!1],A0a:["insertSilentFrameOnFade",!0],XSb:["optimizeEditedFragments",!1],Wab:["supportsPtsChanged",!0],TBb:["enableAdLruCaches",!1],WQa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],iCb:["enableLiveRequestLogger",!1],P_a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],A3a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4]};b.lf=b.hwb;},40730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},71502:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hma=b.lrb=void 0;b.lrb=function(a){return a.xN;};b.Hma=function(a,c){return void 0 !== a.j7?a.j7:c && void 0 !== c.j7?c.j7:100;};},53597:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ux=void 0;c=a(95994);k=a(65519);f=a(44724);b.Ux=function(h,d,g,m,l,n,p,q){var u;c.K && m.trace("AsePlaygraph.createRequestQueue()");u=k.iD.instance.Ux(h,d.O,!0,!1,{eB:g.eB,ha:l},g);u.bn.on(u,"networkfailing",function(){var t;c.K && m.trace("requestQueue OnNetworkFailing: ",u);u.ila && ((0,f.assert)(u.jla),null === (t=d.by) || void 0 === t?void 0:t.wr(void 0,u.jla,void 0,u.Sg,u.aj));d.qn();});u.bn.on(u,"error",function(){q(u.Sg,u.aj);});u.on("transportreport",function(t){t.Gka=d.AU.QK;n(t);});u.on("mediaRequestComplete",p);u.qa();return u;};},65519:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iD=void 0;c=a(70655);k=c.__importDefault(a(54186));f=a(47571);h=c.__importDefault(a(29736));d=a(70137);r=(function(){function g(m){this.RD=m;this.Xd=[];this.console=new h.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){var m;if(void 0 === g.qs){m=a(29736)["default"];g.qs=new g(m.ZO);}return g.qs;},enumerable:!1,configurable:!0}});g.reset=function(){g.qs=void 0;};g.prototype.Ux=function(m,l,n,p,q,u){var t;t=u.Q_b?this.kEb(n,l,m,u.R_b):-1;-1 === t?(t={track:this.ryb(n,p,m,q,u),Ah:n,O:l,J7a:m,BC:[],Nn:!1,iF:!1},this.Xd.push(t),this.PWb(t),m=!1):(m=!0,t=this.Xd[t]);m=new d.xKa(this.console,t.track,t.Nn,m);t.BC.push(m);return m;};g.prototype.PWb=function(m){function l(){m.Nn=!0;m.track.removeListener("created",l);}m.track.on("created",l);};g.prototype.s3=function(m){var l,n;m.Ls();l=this.US(function(p){return p.track === m.track;});if(-1 !== l){if((l=this.Xd[l],1 === l.BC.length))(l.track.Ls(),l.iF=!0);else {n=l.BC.indexOf(m);0 <= n && l.BC.splice(n,1);}}else m.track.Ls();};g.prototype.Hf=function(){this.RD.Hf();};g.prototype.ryb=function(m,l,n,p,q){var u,t,v,w,y,x;u=this;v=!1;w=t=!1;y=p.ha;m?n === f.v.Z?(m=1,q.qo?(w=!0,m=q.fqa):q.PU && 2 < q.PU && (w=!0,m=q.PU),t=y?!!q.KX:q.KX || !w,t={type:this.RD.Z,openRange:t,pipeline:w,connections:m,socketBufferSize:q.U$,minRequestSize:q.cV}):n === f.v.ga?(v=q.qo && (q.R4b || l && q.S4b),t=y?!!q.KX:q.KX || !v,t={type:this.RD.ga,openRange:t,pipeline:v,connections:1,socketBufferSize:q.f2,minRequestSize:q.cV}):n === f.v.Ya?(t=y?!!q.KX:q.KX || !q.T4b,t={type:this.RD.Ya,openRange:t,pipeline:q.qo,connections:1,socketBufferSize:q.u2b,minRequestSize:q.cV}):t={type:q.VAb?this.RD.Z:this.RD.Bhb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Gna,minRequestSize:q.cV}:t={type:n === f.v.ga?k.default.un.ga:k.default.un.Z,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === f.v.ga?q.f2:q.U$,minRequestSize:q.cV};x=new this.RD(t,p);x.qo=w;x.on("transportreport",function(A){var z;z=u.US(function(B){return B.track === x;});-1 !== z && (z=u.Xd[z],z.BC.length && z.BC[0].emit("transportreport",A));});x.on("mediaRequestComplete",function(A){var z;z=u.US(function(B){return B.track === x;});-1 !== z && (z=u.Xd[z],z.BC.length && z.BC[0].emit("mediaRequestComplete",A));});x.on("destroyed",function(){var A;A=u.US(function(z){return z.track === x;});-1 !== A && u.Xd.splice(A,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.qo=!1;if(y)x.vta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(v && q.Q4b || q.Xcb)q.Xcb && x.config.type === f.v.Z?x.vta(c.__assign(c.__assign({},x.config),{socketBufferSize:q.yQb,pipeline:!1,openRange:!0,connections:1})):x.vta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.kEb=function(m,l,n,p){return this.US(function(q){return !q.iF && (!p && q.track.config.Dec || !m?!q.Ah && q.J7a === n:q.Ah && q.O === l && q.J7a === n);});};g.prototype.US=function(m){for(var l=0;l < this.Xd.length;++l){if(m(this.Xd[l]))return l;}return -1;};return g;})();b.iD=r;},70137:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xKa=void 0;c=a(70655);k=a(28075);r=(function(f){function h(d,g,m,l){var n;n=f.call(this) || this;n.S=d;n.track=g;n.Nn=!1;n.zfa=!1;n.bn=new k.gf();n.bn.on(g,"networkfailing",function(){n.emit("networkfailing");});n.bn.on(g,"error",function(){n.S.warn("requestQueue got error");n.emit("error");});if(m)(n.Nn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.bn.on(g,"created",function(){n.Nn=!0;n.emit("created");});n.zfa=l;return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{ila:{get:function(){return this.track.ila;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sg:{get:function(){return this.track.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aj:{get:function(){return this.track.aj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jla:{get:function(){return this.track.jla;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});h.prototype.qa=function(){var d,g;this.zfa || (null === (g=(d=this.track).qa) || void 0 === g?void 0:g.call(d),this.zfa=!0);};h.prototype.PL=function(){return this.track.PL();};h.prototype.toString=function(){return this.track.toString();};h.prototype.toJSON=function(){return this.track;};h.prototype.Ls=function(){this.bn.clear();};return h;})(k.EventEmitter);b.xKa=r;},54186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(73101);b["default"]={d7b:{xu:0,x$b:1,name:["STARTUP","STEADY"]},CZ:{Hk:0,w$b:1,Hlb:2,name:["STARTING","STABLE","UNSTABLE"]},un:{ga:r.v.ga,Z:r.v.Z,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},X8b:{ga:r.v.ga,Z:r.v.Z,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},Gg:{URL:0,KD:1,LOCATION:2,qu:3,name:["URL","SERVER","LOCATION","NETWORK"]},sl:{HAVE_NOTHING:0,DI:1,CI:2,cP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},vu:{M6b:0,z8b:1,b$b:2,y9b:3,W9b:4,X$b:5,E8b:6,W8b:7,xu:8,Eh:9,gda:10,wkb:11,Oaa:12,Dib:13,Cib:14,dlb:15,clb:16,Hib:17,ulb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},b8b:{qu:0,D7b:1,name:["NETWORK","DECODE"]},u$b:{E7b:"delayedSeamless",L8b:"hideLongTransition"}};},95994:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},89718:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A;Object.defineProperties(b,{__esModule:{value:!0}});b.eCa=void 0;c=a(70655);k=a(28075);f=c.__importStar(a(67841));h=c.__importDefault(a(29736));d=new h.default.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(54186));m=a(45056);l=a(89098);n=h.default.Yj;p=n.WY;q={};u={};r=[g.default.Gg.qu,!1];a=[g.default.Gg.qu,!0];t=[g.default.Gg.KD,!1];v=[g.default.Gg.KD,!0];w=[g.default.Gg.URL,!0];y=[g.default.Gg.URL,!1];x=[-1,!1];A=[g.default.Gg.KD,!1];q[p.E6b]=t;q[p.UNKNOWN_ERROR]=t;q[p.B9b]=t;q[p.sgb]=t;q[p.KAa]=t;q[p.Egb]=t;q[p.wgb]=v;q[p.Lfb]=v;q[p.Sza]=A;q[p.Qza]=A;q[p.Mfb]=x;q[p.Nfb]=A;q[p.Ofb]=A;q[p.Ifb]=t;q[p.Kfb]=t;q[p.Rza]=r;q[p.Jfb]=t;q[p.Hfb]=A;q[p.q7b]=v;q[p.Ghb]=A;q[p.iDa]=A;q[p.hDa]=A;q[p.eDa]=A;q[p.fDa]=A;q[p.Fhb]=w;q[p.Vba]=v;q[p.TZ]=w;q[p.Wba]=a;q[p.Xba]=v;q[p.Ihb]=w;q[p.UZ]=A;q[p.jDa]=v;q[p.Hhb]=v;q[p.zgb]=v;q[p.tgb]=t;q[p.ilb]=t;q[p.jgb]=t;q[p.kgb]=t;q[p.lgb]=t;q[p.mgb]=t;q[p.ngb]=t;q[p.ogb]=t;q[p.pgb]=t;q[p.qgb]=t;q[p.rgb]=t;q[p.ugb]=t;q[p.vgb]=t;q[p.xgb]=t;q[p.ygb]=t;q[p.Agb]=t;q[p.Bgb]=t;q[p.Cgb]=t;q[p.Dgb]=t;q[p.Fgb]=t;q[p.Ggb]=t;q[p.hlb]=A;q[p.TIMEOUT]=r;u[p.Sza]=!0;u[p.iDa]=!0;u[p.hDa]=!0;u[p.fDa]=!0;u[p.KAa]=!0;r=(function(){var A7T;A7T=2;for(;A7T !== 13;){switch(A7T){case 3:z.prototype.JJb=function(B){var t5S,E,J,K,C,D,F,G;t5S=2;for(;t5S !== 7;){switch(t5S){case 3:(E=this.wy.Sg,J=this.wy.ly,K=this.wy.aj);t5S=9;break;case 2:var I5D="tem";I5D+="pora";I5D+="ri";I5D+="ly";var g3K="perm";g3K+="an";g3K+="ently";var L1s="Ne";L1s+="two";L1s+="r";L1s+="k has failed ";var Z4M=" ms";Z4M+=" a";Z4M+="g";Z4M+="o";var R4Y=" last su";R4Y+="cc";R4Y+="ess was";R4Y+=" ";(C=this,D=h.default.time.Da() - this.$L,F=B,G=this.config);R7xOY.v$C(0);d.warn(R7xOY.g6M(R4Y,Z4M,L1s,B?g3K:I5D,D));!B && D > G.Nqa && (F=!0);t5S=4;break;case 9:var W03="tem";W03+="por";W03+="aryNetworkError";var A7X="tempora";A7X+="ryNetw";A7X+="orkError";B || this.events.emit(A7X,{type:W03,errorCode:E,httpCode:J,nativeCode:K});F?(this.qN && (clearTimeout(this.qN),this.qN=void 0),this.NSa(),this.Rsa.reset(),this.xna({BMb:B,cTb:E,eTb:J,fTb:K})):this.qN || (this.qN=setTimeout(function(){var F94;F94=2;for(;F94 !== 5;){switch(F94){case 2:C.qN=void 0;F94=1;break;case 3:C.qN=-8;F94=6;break;case 1:C.h9();F94=5;break;case 9:C.h9();F94=9;break;}}},G.Oqa));t5S=7;break;case 4:t5S=this.wy?3:9;break;}}};z.prototype.h9=function(){var m31,B;m31=2;for(;m31 !== 5;){switch(m31){case 2:B=this;this.DSa.P1 || this.DSa.Exa(function(){var a9Q;a9Q=2;for(;a9Q !== 1;){switch(a9Q){case 2:B.qN || (B.Uk.h9(),B.qwa={},B.xB());a9Q=1;break;}}});m31=5;break;}}};z.prototype.G$=function(B){var z67,C;z67=2;for(;z67 !== 6;){switch(z67){case 2:C=this.config;this.$L=Math.max(B.eg || h.default.time.Da(),this.$L);this.NSa();this.Bka=!1;this.R2=0;this.Uk.ha && void 0 !== B.Yg && !B.vo.$sa(B.Yg) && this.Uk.GYa(B.vo).zx.CXb(B.Yg);z67=8;break;case 8:var O$p="upd";O$p+="atingLastSucces";O$p+="sEv";O$p+="ent";var b9X="updatingLastSuccessEv";b9X+="en";b9X+="t";C.eH && this.Rsa.G$(B);this.events.emit(b9X,{type:O$p});z67=6;break;}}};z.prototype.yh=function(){var W1Q,B,C,D;W1Q=2;for(;W1Q !== 3;){switch(W1Q){case 2:var K6p="m";K6p+="s";var i19="Sett";i19+="ing unde";i19+="rflow timeout in ";(B=this,C=this.config,D=C.O6);this.$L=Math.max(h.default.time.Da(),this.$L);!C.Pcb || this.GX || C.mRb || (d.info(i19 + D + K6p),this.GX=setTimeout(function(){var x2L;x2L=2;for(;x2L !== 4;){switch(x2L){case 2:var k_w="Forcing p";k_w+="ermanent ne";k_w+="two";k_w+="rk f";k_w+="ailure after ";var I6V="m";I6V+="s, since under";I6V+="f";I6V+="low with no success";R7xOY.v$C(1);d.info(R7xOY.G5G(I6V,k_w,D));B.GX=void 0;B.Uk.wr(g.default.Gg.qu,!0);x2L=4;break;}}},D));this.config.Dka && (this.Bka=!0);W1Q=3;break;}}};z.prototype.NSa=function(){var q61;q61=2;for(;q61 !== 1;){switch(q61){case 2:var L52="Clear";L52+="e";L52+="d underf";L52+="low";L52+=" timeout";this.GX && (clearTimeout(this.GX),this.GX=void 0,d.info(L52));q61=1;break;}}};return z;break;case 2:z.prototype.Qa=function(){var T8N;T8N=2;for(;T8N !== 1;){switch(T8N){case 2:this.bn.clear();T8N=1;break;case 4:this.bn.clear();T8N=9;break;}}};z.prototype.DN=function(B){var v0i;v0i=2;for(;v0i !== 1;){switch(v0i){case 4:this.U9=B;v0i=2;break;case 2:this.U9=B;v0i=1;break;}}};z.prototype.wr=function(B,C,D,F,G){var E2F,n99,Fa,Ja,Xa,cb,W,aa,oa,Ga,f_z,X89,m5j,Y,E,J,K,N,I,O,L,ea,ca,x4k,ka,P,B76,a0t,v5j,H,M,R;E2F=2;for(;E2F !== 33;){switch(E2F){case 18:E2F=R !== x?17:33;break;case 13:this.R2++;E2F=12;break;case 25:try{n99=2;for(;n99 !== 8;){switch(n99){case 1:n99=!Ga.done?5:8;break;case 5:var D2I="e";D2I+="r";D2I+="ro";D2I+="r";var j08=" Re";j08+="try c";j08+="ount increa";j08+="sin";j08+="g ";var O9L="] s";O9L+="egment";O9L+="Id";O9L+=" ";var o_4=" Retry in progress already, skip";o_4+=" u";o_4+="pdating";o_4+=" retry counters";(Fa=Ga.value,Ja=Fa.urls,Xa=Fa.url,cb=Fa.Dc,W=Fa.stream,aa=Fa.dc);R === A || R === t?this.Rsa.MVb(Fa,{rQa:cb,EX:R,ly:D,Sg:F,BWa:L,aj:G}):this.config.TVa && R === y && (null === (I=null === W || void 0 === W?void 0:W.zx) || void 0 === I?0:I.ha) && (null === (O=null === W || void 0 === W?void 0:W.zx) || void 0 === O?void 0:O.dc) === aa.id && B && B.ho?B.ho.rN?d.log(B.mediaType + " " + B.Yg + o_4 + B.ho.Zp):(B.ho.Zp++,d.log("[" + B.mediaType + O9L + B.Yg + j08 + B.ho.Zp),W.zx.pqb(B.Yg || 0)):Ja.some(function(ta){var m7x;m7x=2;for(;m7x !== 5;){switch(m7x){case 2:M.wr(ea,ca,ta.url);return ea === g.default.Gg.KD;break;}}});!this.U9 || 0 !== D && void 0 !== D || this.U9.Rua(D2I,Xa);n99=9;break;case 2:(oa=c.__values(C),Ga=oa.next());n99=1;break;case 9:Ga=oa.next();n99=1;break;}}}catch(ta){var Q;Q={error:ta};}finally{f_z=2;for(;f_z !== 1;){switch(f_z){case 2:try{X89=2;for(;X89 !== 1;){switch(X89){case 2:Ga && !Ga.done && (E=oa.return) && E.call(oa);X89=1;break;}}}finally{m5j=2;for(;m5j !== 5;){switch(m5j){case 9:throw Q.error;m5j=6;break;case 1:throw Q.error;m5j=5;break;case 2:m5j=Q?1:5;break;case 3:m5j=Q?2:3;break;}}}f_z=1;break;}}}E2F=33;break;case 14:return;break;case 16:Y=M.GYa(B.vo);E2F=15;break;case 34:var l6k="Unmapped failure code in JSASE";l6k+=" e";l6k+="rro";l6k+="r director : ";R7xOY.n0y(2);d.error(R7xOY.g6M(l6k,F));E2F=33;break;case 9:E2F=this.Bka?8:12;break;case 2:L=n.WY.name;E2F=1;break;case 23:E2F=C?22:21;break;case 35:return;break;case 8:E2F=this.R2 >= this.config.aqa?7:13;break;case 27:(ea=R[0],ca=R[1]);E2F=26;break;case 21:var q4u="Invalid a";q4u+="ffected for";q4u+=" ne";q4u+="twork";q4u+=" failure";d.error(q4u);E2F=35;break;case 15:C=M.GZa(B).map(function(ta){var r74;r74=2;for(;r74 !== 1;){switch(r74){case 2:return {url:B.url,Dc:ta.id,dc:ta,stream:Y,urls:ta.urls,I:B.Yg};break;}}});E2F=27;break;case 3:E2F=F && f.isArray(q[F])?9:34;break;case 7:var y_T=" consecuti";y_T+="ve netw";y_T+="ork f";y_T+="ailure mode in underf";y_T+="low mode";var U8c="Forcing permanent net";U8c+="work failu";U8c+="re after ";d.info(U8c + this.R2 + y_T);this.Uk.wr(g.default.Gg.qu,!0);E2F=14;break;case 17:E2F=B?16:23;break;case 24:try{x4k=2;for(;x4k !== 13;){switch(x4k){case 1:x4k=!P.done?5:13;break;case 2:(ka=c.__values(C),P=ka.next());x4k=1;break;case 7:var D_E="e";D_E+="r";D_E+="r";D_E+="or";Ja.some(function(ta){var B3K;B3K=2;for(;B3K !== 5;){switch(B3K){case 2:M.wr(ea,ca,ta.url);return ea === g.default.Gg.KD;break;}}});!this.U9 || 0 !== D && void 0 !== D || this.U9.Rua(D_E,Xa);x4k=14;break;case 5:Fa=P.value;cb=Fa.Dc;Ja=Fa.urls;Xa=Fa.url;x4k=8;break;case 14:P=ka.next();x4k=1;break;case 8:x4k=R === A && !this.TXb(cb)?13:7;break;}}}catch(ta){var fa;fa={error:ta};}finally{B76=2;for(;B76 !== 1;){switch(B76){case 2:try{a0t=2;for(;a0t !== 1;){switch(a0t){case 2:P && !P.done && (J=ka.return) && J.call(ka);a0t=1;break;}}}finally{v5j=2;for(;v5j !== 5;){switch(v5j){case 1:throw fa.error;v5j=5;break;case 2:v5j=fa?1:5;break;}}}B76=1;break;}}}E2F=33;break;case 22:C=M.OZb(C.host,C.port).map(function(ta){var e4H,pa,Ra;e4H=2;for(;e4H !== 5;){switch(e4H){case 2:return {url:null !== (Ra=null === (pa=ta.url.stream.zx) || void 0 === pa?void 0:pa.SF(!0)) && void 0 !== Ra?Ra:"",Dc:ta.dc.id,dc:ta.dc,stream:ta.url.stream,urls:ta.dc.urls};break;}}}).filter(function(ta){var Z1C;Z1C=2;for(;Z1C !== 1;){switch(Z1C){case 2:return "" !== ta.url;break;}}});E2F=27;break;case 1:var f2E=" : cr";f2E+="i";f2E+="tica";f2E+="l er";f2E+="ror count = ";var g3y=" ";g3y+="on";g3y+=" ";var H_n=" ";H_n+="h";H_n+="ttpCo";H_n+="de ";var K3E="Fa";K3E+="i";K3E+="lure ";L=F?L[F]:void 0;(H=this.config,M=this.Uk);d.warn(K3E + L + H_n + D + g3y + JSON.stringify(B?B:C) + f2E + this.mv);E2F=3;break;case 20:var S5_="cri";S5_+="tic";S5_+="alN";S5_+="etwork";S5_+="Error";var z1Q="cr";z1Q+="itical";z1Q+="NetworkError";var P5k="r";P5k+="eques";P5k+="tE";P5k+="rror";var h0s="r";h0s+="equestE";h0s+="r";h0s+="r";h0s+="or";this.events.emit(h0s,{type:P5k,ly:D});u[F] && (++this.mv,this.events.emit(z1Q,{type:S5_,Sg:F}));E2F=18;break;case 12:R=q[F];M.ha && B && (this.config.TVa && F === p.TZ && 404 === D?(B.ho || (B.ho={Zp:0,rN:void 0}),(null === (K=B.ho) || void 0 === K?void 0:K.Zp) < this.config.C6?R=y:(null === (N=B.ho) || void 0 === N?void 0:N.Zp) === this.config.C6 && B.ho.Zp++):F === p.Xba && B.bKb && (R=t));this.wy={ly:D,Sg:F,BWa:L,aj:G};E2F=20;break;case 26:E2F=H.eH?25:24;break;}}};z.prototype.TXb=function(B){var V57,C,D,F;V57=2;for(;V57 !== 7;){switch(V57){case 2:(C=h.default.time.Da(),D=this.config,F=this.qwa[B]);V57=1;break;case 4:(F.Qd=C,F.count=1);V57=7;break;case 8:this.qwa[B]={Qd:C,count:1};V57=7;break;case 9:return F.bz=!0;break;case 1:V57=F?5:8;break;case 5:V57=F.Qd < this.$L?4:3;break;case 3:V57=!(F.Qd >= C - D.s$ || F.bz || (F.Qd=C,++F.count,F.count < D.S6))?9:7;break;}}};A7T=3;break;}}function z(B,C,D,F){var d41;d41=2;for(;d41 !== 18;){switch(d41){case 12:this.mv=0;this.qwa={};d41=10;break;case 3:var v6e="1";v6e+="SIYbZrNJC";v6e+="p9";this.events=new k.EventEmitter();this.bn=new k.gf();v6e;d41=7;break;case 10:this.Rsa=new m.ZJa(B,F,C);this.Bka=!1;this.R2=0;d41=18;break;case 2:this.Uk=B;this.config=C;this.xna=D;this.xB=F;d41=3;break;case 7:var z49="netw";z49+="or";z49+="kFailed";this.DSa=new l.I_();q[p.eDa]=C.DKb?v:A;this.bn.addListener(this.Uk,z49,this.JJb.bind(this));this.$L=h.default.time.Da();d41=12;break;}}}})();b.eCa=r;},55326:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Mya=void 0;c=a(70655);k=a(28075);f=c.__importDefault(a(29736)).default.mj;r=(function(h){function d(g){var m;m=h.call(this) || this;m.HOa=g;m.G0=g.groupId;m.Ro=new k.gf();m.Ro.on(m,f.Fh.KP,m.Qfa);m.Ro.on(m,f.Fh.Uz,m.OQ);return m;}c.__extends(d,h);d.prototype.WSb=function(g,m,l){f.prototype.open.call(this,g,m,l);};d.prototype.g_b=function(g){this.G0=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.G0;},enumerable:!1,configurable:!0}});d.prototype.$e=function(){this.Ro && this.Ro.clear();f.prototype.$e.call(this);};d.prototype.Qfa=function(g){this.HOa.NVb(g.probed,g.affected);this.$e();};d.prototype.OQ=function(g){this.HOa.KVb(g.probed,g.affected);this.$e();};return d;})(f);b.Mya=r;},45056:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZJa=void 0;c=a(44724);k=a(55326);f=a(29736)["default"];new f.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function h(d,g,m){this.KQ=d;this.xB=g;this.config=m;this.Ps={};this.yC={};this.qE=!0;this.groupId=1;}h.prototype.MVb=function(d,g){var m,l,n,p,q,u,t,v,w,y;m=this;l=this.config;n=d.Dc;p=d.stream;q=d.dc.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.si[0];v=!1;w=this.Ps[n];y=f.time.Da();if(!w)w=this.P_b(n,y,g,d);else if(w.Qd >= y - l.s$)return;w.bz || (t && q.id === t.id && (d.isPrimary=!0),w.Qd=y,w.bz=!1,w.error=g,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var A,z,B,C,D;B=x.dc.id;C=B + "-" + n;D=m.yC[C];if(void 0 === D || void 0 === D.I8)(D && D.im && clearTimeout(D.im),x=(null === (z=null === (A=d.stream) || void 0 === A?void 0:A.zx) || void 0 === z?0:z.ha)?m.uHb(d.stream.zx,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),A=m.STa(x,d,B),m.yC[C]={ka:!1,count:0,I8:A.Tg()},u.push(A.Tg()),v=!0);-1 === w.$ua.indexOf(B) && w.$ua.push(B);}),0 < u.length && (l={ts:f.time.Da(),es:g.rQa,fc:g.Sg,fn:g.BWa,nc:g.aj,pb:u,gid:this.groupId},g.ly && (l.hc=g.ly),this.xG(l,"errpb")),v && this.groupId++));};h.prototype.STa=function(d,g,m){var l,n;l=new k.Mya(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));l.WSb(d + (-1 !== d.indexOf("?")?"&":"?") + n,g,m);return l;};h.prototype.P_b=function(d,g,m,l){var n;n=this.Ps[d];l=l.dc.location;n || (n=this.Ps[d]={count:0,Qd:g,bz:!1,error:m,$ua:[],Tsa:{},location:l,I:m.I,qcc:m});return n;};h.prototype.getState=function(d){return this.Ps[d];};h.prototype.uvb=function(d){this.Ps[d]=void 0;};h.prototype.xG=function(d,g){var m;if(this.qE){m={type:"logdata",target:"endplay",fields:{}};m.fields[g]={type:"array",value:d,adjust:["ts"]};this.KQ.LG(m);}};h.prototype.uHb=function(d,g,m){var l;l=void 0 === g || g === d.Yn().MN;return d.SF(l,l?void 0:g,m);};h.prototype.NVb=function(d,g){var m,l,n,p,q,u,t,v,w,y,x,A;m=this;p=this.KQ;q=this.config;u=g.Dc;t=this.Ps[u];if(t){v=d.url;w=this.yC[d.Dc + "-" + u];if(w){y=t.error;w && w.im && clearTimeout(w.im);w.ka=!0;w.count=0;w.I8=void 0;t.Tsa[d.Dc]=!0;w=this.Ps[d.Dc];if((null === w || void 0 === w?0:w.bz) && q.xR){p.X8a(d.Dc,w.error.EX[1]);if(this.qE){x={ts:f.time.Da(),id:d.requestId,servid:g.Dc,gid:d.groupId?d.groupId:-1};this.xG(x,"errst");}this.Ps[d.Dc]=void 0;this.xB();}if(v !== g.url){A=this.yC[u + "-" + u];A && A.ka || (u=null === w || void 0 === w?void 0:w.location,q=Math.min((null === (n=null === (l=null === u || void 0 === u?void 0:u.Yb) || void 0 === l?void 0:l.A5) || void 0 === n?void 0:n.Ea) || Math.random() * q.P6,q.P6),setTimeout(function(){var z;if(!(!1 !== t.bz || A && A.ka) && (t.bz=!0,p.wr(y.EX[0],y.EX[1],g.stream.zx.url,y),m.qE)){z={ts:f.time.Da(),id:d.requestId,servid:g.Dc,gid:d.groupId?d.groupId:-1};m.xG(z,"erep");}},q));}this.qE && (x={ts:f.time.Da(),id:d.requestId,result:1,servid:d.Dc,gid:d.groupId?d.groupId:-1},this.xG(x,"pbres"));}}};h.prototype.KVb=function(d,g){var m,l,n,p,q,u,t,v,w,y,x,A,z;m=this;p=this.KQ;q=this.config;u=g.Dc;t=this.Ps[u];v=d.Dc;w=this.yC[v + "-" + u];if(w && t){y=0;w.ka=!1;w.I8=void 0;t.Tsa[v]=!1;x=t.$ua;if(q.xR && v === u && g.isPrimary){A=t.location;A=(null === (n=null === (l=null === A || void 0 === A?void 0:A.Yb) || void 0 === l?void 0:l.A5) || void 0 === n?void 0:n.Ea) || 300 * Math.random();l=Math.min(A * Math.pow(2,w.count),12E4);l+=Math.random() * (1E4 > l?100:1E4);w.im=setTimeout(function(){var B;w.im=void 0;B=m.STa(d.url,g,v);B.g_b(d.groupId);w.I8=B.Tg();},l);}++w.count;if(v === u && (y=0,x.forEach(function(B){!1 === t.Tsa[B] && y++;}),x.length === y && t.count >= q.S6)){z=t.error;t.bz=!0;q=g.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.wr(z.EX[0],z.EX[1],B.url,z);m.qE && (B={ts:f.time.Da(),id:-1,servid:B.dc.id},m.xG(B,"erep"));});}this.qE && (q={ts:f.time.Da(),id:d.requestId,result:0,servid:d.Dc,gid:d.groupId?d.groupId:-1},this.xG(q,"pbres"));}};h.prototype.G$=function(d){var g,m,l;if(d.url){m=this.KQ;l=m.LZb(d.url);l || (l=null === (g=this.KQ.GZa(d)[0]) || void 0 === g?void 0:g.id);l && (d=this.Ps[l]) && d.bz && this.config.xR && (m.X8a(d.error.rQa,!1),this.qE && (m={ts:f.time.Da(),id:-1,servid:l},this.xG(m,"errst")),this.uvb(l),(l=this.yC[l + "-" + l]) && l.im && clearTimeout(l.im));}};h.prototype.reset=function(){var d,g,m;d=this.yC;for(m in d){d.hasOwnProperty(m) && (g=d[m + "-" + m]) && g.im && clearTimeout(g.im);}this.yC={};this.Ps={};};return h;})();b.ZJa=r;},3833:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BVa=b.lMb=b.X0a=b.xZa=void 0;c=a(4145);b.xZa=function(k,f){if((k=k.tb.u.Zv) && 0 !== k.length)return (0,c.qc)(k,function(h){return h.Ma.G <= f && f < h.Za.G;});};b.X0a=function(k,f){return f.index === k.cf.index?!0:(k=k.tb.u.Zv) && 0 !== k.length?k.some(function(h){h=h.Ma;return f.Ma.VB(h) && h.lessThan(f.Za);}):!1;};b.lMb=function(k,f){return f.index === k.qf.index?!0:(k=k.tb.u.Zv) && 0 !== k.length?k.some(function(h){h=h.Za;return f.Ma.lessThan(h) && h.VB(f.Za);}):!1;};b.BVa=function(k,f,h,d){var g,m,l,n,p,q,u,t;k=null === (g=f.Ha) || void 0 === g?void 0:g.start;g=null === (m=f.Ha) || void 0 === m?void 0:m.end;t=m=!1;if((null === d || void 0 === d?0:d.yMb) || (null === d || void 0 === d || !d.jMb) && f.Ma.lessThan(h.Ma)){if(u=f.tla(h.Ma.G))(u=(null !== (n=null === (l=f.Ha) || void 0 === l?void 0:l.start) && void 0 !== n?n:0) + u.Mj,k=Math.max(null !== k && void 0 !== k?k:0,u));u=h.Ma.G;m=!0;}if((null === d || void 0 === d || !d.qMb) && f.Za.greaterThan(h.Za)){if(u=f.tla(h.Za.G))(u=(null !== (q=null === (p=f.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Mj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.jV=f.index);u=h.Za.G;t=!0;}if(void 0 !== k || void 0 !== g)(f.Bi({start:k,end:g}),void 0 !== u && (!f.kw || u > f.kw) && f.EN(u));f.s_b(h.region,m,t);};},82677:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sya=void 0;c=a(70655);k=a(42229);r=(function(){function f(h,d){this.uk=h;this.filter=d;this.r3a=Math.max(h.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.hW=[];this.offset=0;this.lw=this.QC=null;this.filter.reset();this.wX=null;};f.prototype.add=function(h,d,g){var m;m=this.lw;null !== m && g > m && (this.offset+=Math.max(d - m,0),this.lw=null);for((0,k.z0a)(this.hW,[d - this.offset,g - this.offset,h]);this.hW && this.hW.length > this.r3a;){h=c.__read(this.hW.shift(),3);this.filter.add(h[2],h[0],h[1]);}this.wX=null;};f.prototype.get=function(h,d){var g,n;if(!this.wX){this.wX=this.filter.Mn();try{for(var m=c.__values(this.hW),l=m.next();!l.done;l=m.next()){n=c.__read(l.value,3);this.wX.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{l && !l.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}}p=this.lw;return this.wX.get((null === p?h:p) - this.offset,d);};f.prototype.Mn=function(){var h;h=new f(this.uk,this.filter.Mn());h.lw=this.lw;h.offset=this.offset;return h;};f.prototype.start=function(h){var d;d=this.lw;null !== d && h > d && (this.offset+=h - d,this.lw=null);this.filter.start(h - this.offset);};f.prototype.stop=function(h){this.lw=null === this.lw?h:Math.min(this.lw,h);this.filter.stop(h - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.r3a + ", " + this.filter.toString() + ")";};return f;})();b.sya=r;},8533:function(r){(function(){function b(){var L7N;L7N=2;for(;L7N !== 5;){switch(L7N){case 2:this.nA=this.Kc=0;this.jb=this.rg=void 0;L7N=5;break;}}}var X7q;X7q=2;for(;X7q !== 8;){switch(X7q){case 9:var D_w="1";D_w+="SIYb";D_w+="ZrNJCp";D_w+="9";D_w;X7q=8;break;case 2:b.prototype.start=function(a){var s_J;s_J=2;for(;s_J !== 1;){switch(s_J){case 2:this.rg?a < this.rg?(this.nA+=this.rg - a,this.rg=a):a > this.jb && (this.jb=this.rg=a):this.jb=this.rg=a;s_J=1;break;}}};b.prototype.stop=function(a){var C8q;C8q=2;for(;C8q !== 1;){switch(C8q){case 2:this.jb && a > this.jb && (this.nA+=a - this.jb,this.jb=a);C8q=1;break;}}};b.prototype.add=function(a,c,k){var x66;x66=2;for(;x66 !== 4;){switch(x66){case 2:this.start(c);this.stop(k);this.Kc+=a;x66=4;break;}}};b.prototype.get=function(){var k2V;k2V=2;for(;k2V !== 1;){switch(k2V){case 2:return {Ea:this.nA?Math.floor(8 * this.Kc / this.nA):null,fVa:this.nA?this.nA:0};break;}}};r.exports=b;X7q=9;break;}}})();},90494:function(r,b,a){var k,f;function c(h){this.X={SU:h.maxc || 25,bja:h.c || .5,R5b:h.w || 15E3,mtb:h.b || 5E3};k.call(this,this.X.R5b,this.X.mtb);this.aR();}k=a(24068);f=a(14378).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var h;h=this.xt(0);k.prototype.shift.call(this);null !== h && (this.We.push(h,1),this.uA=!0);return h;};c.prototype.flush=function(){var h;h=this.get();this.We.push(h,1);this.uA=!0;k.prototype.reset.call(this);return h;};c.prototype.get=function(){return this.PZa();};c.prototype.sL=function(){var h;h=this.PZa();return {min:h.min,p10:h.Kra,p25:h.Kp,p50:h.gn,p75:h.Lp,p90:h.Lra,max:h.max,centroidSize:h.Gub,sampleSize:h.sampleSize,centroids:h.xj};};c.prototype.PZa=function(){var h;if(0 === this.We.size())return null;h=this.We.yi([0,.1,.25,.5,.75,.9,1]);if(h[2] === h[4])return null;if(this.uA || !this.qh)(this.uA=!1,this.qh={min:h[0],Kra:h[1],Kp:h[2],gn:h[3],Lp:h[4],Lra:h[5],max:h[6],yi:this.We.yi.bind(this.We),Gub:this.We.size(),sampleSize:this.We.n,xj:this.kGb(),sL:this.sL.bind(this)});return this.qh;};c.prototype.kGb=function(){var h;if(0 === this.We.size())return null;if(!this.uA && this.qh)return this.qh.centroids;h=this.We.yi([.25,.75]);if(h[0] === h[1])return null;this.We.size() > this.X.SU && this.We.Ox();h=this.We.Hr(!1).map(function(d){return {mean:d.Tf,n:d.n};});return JSON.stringify(h);};c.prototype.LZa=function(){return this.We.summary();};c.prototype.size=function(){return this.We.size();};c.prototype.toString=function(){return "btdtput(" + this.RJ + "," + this.xd + "," + this.uj + "): " + this.We.summary();};c.prototype.aR=function(){this.We=new f(this.X.bja,this.X.SU);};r.exports=c;},14482:function(r,b,a){var k,f;function c(h,d,g,m){k.call(this,g,m);this.Ou=new f(h);this.Qnb=d;}k=a(24068);f=a(41176);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var h;h=this.xt(0);k.prototype.shift.call(this);null !== h && this.Ou.dQa(h);return h;};c.prototype.flush=function(){var h;h=this.get();this.Ou.dQa(h);k.prototype.reset.call(this);return h;};c.prototype.get=function(){var h;h=this.yT();return {sampleSize:this.BT(),gsa:h,Vqa:h.gn?(h.Lp - h.Kp) / h.gn:void 0};};c.prototype.BT=function(){return this.Ou.BT();};c.prototype.yT=function(){return this.Ou.BT() < this.Qnb?{Kp:void 0,gn:void 0,Lp:void 0,sampleSize:void 0,yi:void 0}:{Kp:this.Ou.jK(25),gn:this.Ou.jK(50),Lp:this.Ou.jK(75),sampleSize:this.Ou.BT(),yi:this.Ou.jK.bind(this.Ou)};};c.prototype.toString=function(){return "biqr(" + this.RJ + "," + this.xd + "," + this.uj + ")";};r.exports=c;},9153:function(r,b,a){var f,h,d,g;function c(m,l,n){f.call(this,m,l,n);}function k(m,l){h.call(this,new c(m,l,!1));}f=a(73856);h=a(29374);d=a(312).JXa;g=a(312).WZa;c.prototype=Object.create(f.prototype);c.prototype.Ea=function(){return Math.floor(8 * d(this.yd) / this.xd);};c.prototype.$d=function(){return Math.floor(64 * g(this.yd) / (this.xd * this.xd));};c.prototype.get=function(){return {Ea:this.Ea(),$d:this.$d(),ibc:this.yd.length};};c.prototype.toString=function(){return "bsw(" + this.RJ + "," + this.xd + "," + this.uj + ")";};k.prototype=Object.create(h.prototype);k.prototype.setInterval=function(m){this.rQ.setInterval(m);};r.exports=k;},5640:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;c=a(70655).__importDefault(a(8533));r=(function(){var J$t;J$t=2;for(;J$t !== 9;){switch(J$t){case 3:return k;break;case 2:k.prototype.add=function(f,h,d,g){var j_g,m;j_g=2;for(;j_g !== 4;){switch(j_g){case 2:m=this.a1;void 0 === m[g] && (m[g]=new c.default());m[g].add(f,h,d);j_g=4;break;}}};k.prototype.start=function(f,h){var r_Y,d;r_Y=2;for(;r_Y !== 4;){switch(r_Y){case 2:d=this.a1;void 0 === d[h] && (d[h]=new c.default());d[h].start(f);r_Y=4;break;}}};k.prototype.stop=function(f,h){var i7n,d;i7n=2;for(;i7n !== 5;){switch(i7n){case 2:d=this.a1;void 0 !== d[h] && d[h].stop(f);i7n=5;break;}}};k.prototype.get=function(){var u_8,f,h,d,g,m,l;u_8=2;for(;u_8 !== 8;){switch(u_8){case 2:(f=this.a1,h=Object.keys(f).map(function(n){var y6B;y6B=2;for(;y6B !== 1;){switch(y6B){case 2:return parseInt(n);break;case 4:return parseInt(n);break;}}}),d=[],g=0);u_8=1;break;case 9:return d;break;case 5:(m=h[g],l=f[m].get());l && d.push({cdnid:m,avtp:l.Ea,tm:l.fVa});u_8=3;break;case 3:g++;u_8=1;break;case 1:u_8=g < h.length?5:9;break;}}};J$t=3;break;}}function k(){var w_G;w_G=2;for(;w_G !== 5;){switch(w_G){case 2:var v62="1SIYbZ";v62+="rN";v62+="J";v62+="C";v62+="p9";this.a1={};v62;w_G=5;break;}}}})();b.cAa=r;},4978:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;c=a(70655);k=a(14378);new (c.__importDefault(a(29736)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function f(h){this.config=h;this.cja=h.c;this.eqa=h.$dc;this.GU=h.GU;this.OT=h.OT;this.O5=h.O5;this.a0b=h.Mbc;this.ZF=h.ZF;this.p3a=h.p3a;this.reset();}f.prototype.reset=function(){this.fh=new k.TDigest(this.cja,this.eqa);this.jb=null;};f.prototype.add=function(h,d,g){var m,l,n,u;g=Math.max(g - d,1);h=8 * h / g;if(this.a0b){null === this.jb && (this.jb=d);l=Math.pow(2,(d - this.jb) / this.ZF);n=g * l;if(l >= this.p3a){n=new k.TDigest(this.cja,this.eqa);try{for(var p=c.__values(this.fh.Hr()),q=p.next();!q.done;q=p.next()){u=q.value;n.push(u.Tf,u.n / l);}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(t)throw t.error;}}this.fh=n;n=g;this.jb=d;}this.fh.push(h,n);}else this.fh.push(h,g);};f.prototype.get=function(){var h;h=this.fh.yi([this.GU,this.OT,this.O5]);return {low:h[0] || 0,high:h[1] || 0,initial:h[2] || 0};};f.prototype.Mn=function(){var h,d,g,n;d=new f(this.config);g=new k.TDigest(this.cja,this.eqa);try{for(var m=c.__values(this.fh.Hr()),l=m.next();!l.done;l=m.next()){n=l.value;g.push(n.Tf,n.n);}}catch(q){var p;p={error:q};}finally{try{l && !l.done && (h=m.return) && h.call(m);}finally{if(p)throw p.error;}}d.fh=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.rAa=r;},42874:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aBa=b.Ngb=b.vba=b.qhb=b.Ogb=void 0;c=a(70655);k=a(9133);a=(function(){return function(){};})();b.Ogb=a;f=(function(){function h(d,g,m,l,n){this.alpha=d;this.Ea=g;this.weight=l;this.fea=m * this.weight;this.xX=n;}h.prototype.Mn=function(){return new h(this.alpha,this.Ea,this.$d,this.weight,this.xX);};Object.defineProperties(h.prototype,{$d:{get:function(){return this.weight?this.fea / this.weight:0;},enumerable:!1,configurable:!0}});h.prototype.update=function(d,g,m){var l,n,p,q;l=this.alpha;n=this.weight;p=this.xX;q=l * (d - p);5 < q && (this.weight/=Math.exp(q),this.xX=p=d);d=Math.exp(l * (g - p)) - Math.exp(l * (d - p));g=this.weight+=d;l=this.Ea;this.Ea=p=l + d * (m - l) / g;this.fea=n?this.fea * (g - d) / n + d * (m - p) * (m - l):0;};return h;})();b.qhb=f;r=(function(){function h(d){var G5j,g,m;G5j=2;for(;G5j !== 7;){switch(G5j){case 2:var x0s="1SI";x0s+="YbZ";x0s+="r";x0s+="NJCp9";this.uk=d;x0s;(g=d.min_b,m=d.min_iv);G5j=4;break;case 4:this.ZF=d.hl;this.c4a=g;this.tQb=m;G5j=8;break;case 8:this.reset();G5j=7;break;}}}var r5f;r5f=2;for(;r5f !== 14;){switch(r5f){case 7:h.prototype.flush=function(){};return h;break;case 4:h.prototype.add=function(d,g,m){var N68=R7xOY;var k2N,l;k2N=2;for(;k2N !== 7;){switch(k2N){case 9:N68.v$C(3);this.HH.update(g,m,N68.G5G(d,l));N68.n0y(4);this.IH.update(g,m,N68.G5G(l,d,8));k2N=7;break;case 1:this.Jr=null === l?g:Math.min(l,g);l=this.QC;this.QC=null === l?m:Math.max(l,m);N68.n0y(5);l=Math.max(N68.g6M(g,m),1);k2N=9;break;case 2:l=this.Jr;k2N=1;break;}}};h.prototype.get=function(d,g){var L0i=R7xOY;var j1v,t,v,w,m,l,n,p,q,u;j1v=2;for(;j1v !== 16;){switch(j1v){case 14:L0i.v$C(5);q.update(L0i.g6M(m,l),L0i.G5G(m,d,L0i.n0y(5)),L0i.G5G(g,n,L0i.n0y(3)));j1v=13;break;case 10:n=1E-11 < v?Math.max(w / v,n):n + 2 * t / p;j1v=14;break;case 7:j1v=0 === t?6:12;break;case 6:n=Math.max(n,p);j1v=14;break;case 4:void 0 === g && (g=this.c4a);n >= p && (g=Math.min(g,this.c4a));p=g * q.Ea;L0i.n0y(6);var l4G=L0i.G5G(12,19,29);t=Math.pow(g,l4G) * q.$d;j1v=7;break;case 5:j1v=(q=new f(q.alpha,q.Ea,q.$d,q.weight,q.xX),u=new f(u.alpha,u.Ea,u.$d,u.weight,u.xX),0 < q.weight && 0 !== g)?4:20;break;case 13:L0i.v$C(5);u.update(L0i.G5G(m,l),L0i.g6M(m,d),0);j1v=20;break;case 1:j1v=0 < n?5:17;break;case 17:(q=this.HH,u=this.IH);j1v=20;break;case 12:(v=new k.a_(p,t).zub(n),w=p - v[1]);L0i.n0y(7);var e7i=L0i.G5G(0,7,8,14);v=e7i - v[0];j1v=10;break;case 2:(m=this.Jr || 0,l=this.QC || 0,n=d - l,p=this.tQb,q=this.HH,u=this.IH);j1v=1;break;case 20:d=q.weight;g=u.weight;return {Ea:d?q.Ea:null,$d:d?q.$d:null,$J:g?u.Ea:null,qO:g?u.$d:null};break;}}};h.prototype.toString=function(){var q70;q70=2;for(;q70 !== 1;){switch(q70){case 2:var w$4="Del";w$4+="iv";w$4+="e";w$4+="ryDist(";return w$4.concat(this.ZF,")");break;case 4:return (")").concat(this.ZF,")");break;}}};h.prototype.stop=function(){};r5f=7;break;case 2:h.prototype.Mn=function(d){var P4Q;P4Q=2;for(;P4Q !== 8;){switch(P4Q){case 2:d || (d=new h(this.uk));d.Jr=this.Jr;d.QC=this.QC;d.HH=this.HH.Mn();d.IH=this.IH.Mn();return d;break;}}};h.prototype.reset=function(){var p53,d;p53=2;for(;p53 !== 3;){switch(p53){case 5:this.IH=new f(d,0,0,0,0);this.Jr=this.QC=null;p53=3;break;case 2:d=-Math.log(.5) / this.ZF;this.HH=new f(d,0,0,0,0);p53=5;break;}}};h.prototype.start=function(d){var S6L;S6L=2;for(;S6L !== 1;){switch(S6L){case 2:null === this.Jr && (this.Jr=d);S6L=1;break;}}};r5f=4;break;}}})();b.vba=r;a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);return d;})(a);b.Ngb=a;r=(function(h){function d(g){var m;m=h.call(this,g) || this;m.uk=g;return m;}c.__extends(d,h);d.prototype.get=function(){var g,m,l;if(0 === this.HH.weight || 0 === this.IH.weight)return {low:null,high:null,initial:null};switch(this.uk.qM){case "deliverytime":g=this.HH;g=new k.a_(g.Ea,g.$d);(m=this.uk.accuracy,l=this.uk.wPb);return {low:8 / g.Sv(this.uk.OT,m,l),high:8 / g.Sv(this.uk.GU,m,l),initial:8 / g.Sv(this.uk.O5,m,l)};default:return (g=this.IH,g=new k.a_(g.Ea,g.$d),m=this.uk.accuracy,l=this.uk.wPb,{low:g.Sv(this.uk.GU,m,l),high:g.Sv(this.uk.OT,m,l),initial:g.Sv(this.uk.O5,m,l)});}};d.prototype.Mn=function(){var g;g=new d(this.uk);h.prototype.Mn.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.uk.GU,this.uk.OT),"])");};return d;})(r);b.aBa=r;},80194:function(r,b,a){var h;function c(d){this.reset();this.o_b(d);}function k(d){this.setInterval(d);this.reset();}function f(d){this.eA=new k(d);this.Ib=0;this.Fc=null;}h=a(67841);c.prototype.o_b=function(d){this.hJ=Math.pow(.5,1 / d);this.DQ=d;};c.prototype.reset=function(d){d && d.Ea && h.rb(d.Ea)?d.$d && h.rb(d.$d)?(this.Hu=this.snb,this.No=d.Ea,this.aA=d.$d + d.Ea * d.Ea):(this.Hu=this.snb,this.No=d.Ea,this.aA=d.Ea * d.Ea):this.aA=this.No=this.Hu=0;};c.prototype.add=function(d){var g;if(h.rb(d)){this.Hu++;g=this.hJ;this.No=g * this.No + (1 - g) * d;this.aA=g * this.aA + (1 - g) * d * d;}};c.prototype.Vma=function(){var d,g,m;if(0 === this.Hu)return {Ea:0,$d:0};d=this.No;g=this.aA;m=1 - Math.pow(this.hJ,this.Hu);d/=m;g/=m;m=d * d;return {Ea:d,$d:g > m?g - m:0};};c.prototype.get=function(){var d;d=this.Vma();return {Ea:Math.floor(d.Ea),$d:Math.floor(d.$d)};};c.prototype.getState=function(){return 0 === this.Hu?null:{a:Number(this.No.toPrecision(6)),s:Number(this.aA.toPrecision(6)),n:this.Hu};};c.prototype.dh=function(d){if(h.Wb(d) || !h.has(d,"a") || !h.has(d,"s") || !h.isFinite(d.a) || !h.isFinite(d.s))return (this.aA=this.No=this.Hu=0,!1);this.No=d.a;this.aA=d.s;h.has(d,"n") && h.rb(d.n)?this.Hu=d.n:this.Hu=16 * this.DQ;return !0;};k.prototype.setInterval=function(d){this.DQ=d;this.hJ=-Math.log(.5) / d;};k.prototype.reset=function(d){this.jb=this.rg=null;d && h.isFinite(d.Ea)?this.No=d.Ea:this.No=0;};k.prototype.start=function(d){h.Wb(this.rg) && (this.jb=this.rg=d);};k.prototype.add=function(d,g,m){var l,n,p;h.Wb(this.rg) && (this.jb=this.rg=g);this.rg=Math.min(this.rg,g);g=Math.max(m - g,1);l=this.hJ;n=Math.max(m,this.jb);p=n - this.jb;m=n - m;this.No=this.No * (0 < p?Math.exp(-l * p):1) + 8 * d / g * (1 - Math.exp(-l * g)) * (0 < m?Math.exp(-l * m):1);this.jb=n;};k.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.No * Math.exp(-this.hJ * (d - this.jb));d=1 - Math.exp(-this.hJ * (d - this.rg));0 < d && (g/=d);return {Ea:Math.floor(g)};};k.prototype.toString=function(){return "ewmav(" + this.DQ + ")";};f.prototype.setInterval=function(d){this.eA.setInterval(d);};f.prototype.reset=function(d){this.eA.reset(d);this.Ib=0;this.Fc=null;};f.prototype.start=function(d){!h.Wb(this.Fc) && d > this.Fc && (this.Ib+=d - this.Fc,this.Fc=null);this.eA.start(d - this.Ib);};f.prototype.add=function(d,g,m){!h.Wb(this.Fc) && m > this.Fc && (this.Ib+=g > this.Fc?g - this.Fc:0,this.Fc=null);this.eA.add(d,g - this.Ib,m - this.Ib);};f.prototype.stop=function(d){this.Fc=Math.max(h.Wb(this.eA.jb)?0:this.eA.jb + this.Ib,h.Wb(this.Fc)?d:Math.min(this.Fc,d));};f.prototype.get=function(d){return this.eA.get((h.Wb(this.Fc)?d:this.Fc) - this.Ib);};f.prototype.toString=function(){return this.eA.toString();};r.exports={Sgb:c,A7b:k,Qgb:f};},32364:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x;function c(A){this.config=A;this.Fmb=A.Xea;}k=a(2838).kda;f=a(4978).rAa;b=a(80194);h=b.Sgb;d=b.Qgb;g=a(83602).Rgb;m=a(42874).vba;l=a(42874).aBa;n=a(83602).Qlb;p=a(14482);q=a(90494);u=a(45041).NLa;t=a(10764);v=a(45409);w=a(8533);y=a(47376).qJa;x=a(82677).sya;c.prototype.constructor=c;c.prototype.create=function(A,z){var B,C,D,F;B=this.Fmb[A];C=z[A];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new k(this.config,new g(D.mw));break;case "discontiguous-ewma":F=new k(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":F=new y(new d(D.mw),D.playerStates);break;case "wssl":F=new n(D.mw,D.max_n);break;case "iqr":F=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new q(D);break;case "ci":F=new k(this.config,new x(D,new f(D)));break;case "discrete-ewma":F=new h(D.hl);break;case "tdigest-history":F=new u(D);break;case "iqr-history":F=new t(D);break;case "avtp":F=new w();break;case "entropy":F=new v(D);break;case "deliverytime":F=new k(this.config,new x(D,new m(D)));break;case "deliverytime-ci":F=new k(this.config,new x(D,new l(D)));}F && (F.type=D.type);return F;};r.exports=c;},48643:function(r,b,a){r.exports={ucc:a(80194),Gfc:a(83602),j7b:a(9153),vba:a(42874),i7b:a(14482),k7b:a(90494),vhb:a(32364)};},42016:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NGa=void 0;r=a(70655).__importDefault(a(29736));c=a(47571);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function k(f,h){this.config=f;this.T7=h;this.reset();}k.prototype.reset=function(){this.confidence=c.Tz.HAVE_NOTHING;this.startTime=this.xa=0;};k.prototype.Mn=function(){var f;f=new k(this.config,this.T7);f.confidence=this.confidence;f.xa=this.xa;f.startTime=this.startTime;return f;};k.prototype.add=function(f,h,d){0 === this.startTime && (this.startTime=h,this.xa=0);this.xa+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Tz.DI);this.confidence < c.Tz.CI && (f > this.config.Snb || this.xa > this.config.Rnb) && (this.confidence=c.Tz.CI);this.confidence < c.Tz.cP && (f > this.config.Lob || this.xa > this.config.Kob) && (this.confidence=c.Tz.cP,this.T7());};k.prototype.get=function(){return this.confidence;};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;})();b.NGa=a;},45409:function(r,b,a){var k;function c(f){var h,d;h=f.sw;d=f.mw;this.QJ=h;this.Jea={uhd:f.uhdl,hd:f.hdl};this.uj=Math.max(Math.ceil(1 * h / d),1);this.Tnb=f.mins || 1;k.call(this,h,d);this.reset();}k=a(24068);new (a(29736)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.yd.map(function(f,h){this.hQa(f,this.Ula(h));},this);};c.prototype.Ttb=function(){var f,h,d,g,m,l,n,t;f=this.Jea;for(h in f){if(f.hasOwnProperty(h)){d=f[h];g=this.oga[h];m=this.nga[h];if(g.first){l=g.first;n=g.dH;void 0 !== n && (m[l][n]+=1);g.first=void 0;}g=[];l=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=m[u][p];}l+=q;g.push(q);}q=-1;if(l > this.Tnb){for(p=q=0;p < n;p++){if(0 < g[p])for(u=0;u < d;u++){t=m[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=l * Math.log(2);}this.dfa[h]=q;}}return this.dfa;};c.prototype.hQa=function(f,h){var l,n;for(var d=this.uj,g=this.Jea;this.A0.length >= d;){this.A0.shift();}for(;this.B0.length >= d;){this.B0.shift();}this.A0.push(f);this.B0.push(h);f=this.A0.reduce(function(p,q){return p + q;},0);h=this.B0.reduce(function(p,q){return p + q;},0);if(0 < h){f=8 * f / h;for(var m in g){if(g.hasOwnProperty(m)){h=this.oga[m];d=this.nga[m];l=this.rWb(f,g[m]);n=h.dH;void 0 !== n?d[l][n]+=1:h.first=l;h.dH=l;}}}};c.prototype.rWb=function(f,h){for(var d=0;d < h.length && f > h[d];){d+=1;}return d;};c.prototype.shift=function(){this.hQa(this.yd[0],this.Ula(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var f,h,d,g,m,l,n;this.oga={};this.A0=[];this.B0=[];this.nga={};this.dfa={};f=this.Jea;for(h in f){if(f.hasOwnProperty(h)){d=this.nga;g=h;l=void 0;n=Array(l);l=m=f[h].length + 1;for(var p=0;p < l;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[g]=n;this.oga[h]={first:void 0,dH:void 0};this.dfa[h]=0;}}k.prototype.reset.call(this);};r.exports=c;},2838:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.kda=void 0;new (a(29736)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(k,f){this.config=k;this.filter=f;}c.prototype.Mn=function(){return new c(this.config,this.filter);};c.prototype.e0b=function(k,f,h,d){var g,m,l;l=d.xW;if(!l || !l.e6())return !0;switch(this.config.TKb){case "requested":return !1;case "requested-low":return (l=l.xua(this.config.wka),l.g4a() > ((null === (g=d.fz) || void 0 === g?void 0:g.WV) || 0));case "inferred":l=l.xua(this.config.wka);k=l.$pa(k,f,h,this.config.GV);if(!k)break;return l.g4a() > ((null === (m=d.fz) || void 0 === m?void 0:m.WV) || 0);case "inferred-strict":if((l=l.xua(this.config.wka),l.$pa(k,f,h,this.config.GV)))return !1;}return !0;};c.prototype.add=function(k,f,h,d){this.e0b(k,f,h,d) && this.filter.add(k,f,h,d);};c.prototype.get=function(k){if(this.filter.get)return this.filter.get(k);};c.prototype.start=function(k){this.filter.start && this.filter.start(k);};c.prototype.stop=function(k){this.filter.stop && this.filter.stop(k);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.kda=r;},47376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qJa=void 0;r=(function(){function a(c,k){this.gk=0;this.filter=c;this.v8=k;this.gk=0;}a.prototype.OU=function(c){return 0 < this.v8.filter(function(k){var f;return k === (null === (f=c.fz) || void 0 === f?void 0:f.Bg);}).length;};a.prototype.add=function(c,k,f,h){this.OU(h) && this.filter.add(c,k,f,h);};a.prototype.start=function(c,k){this.filter.start && this.OU(k) && this.filter.start(c);};a.prototype.stop=function(c,k){this.filter.stop && this.OU(k) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.gk=0;this.filter.reset && this.filter.reset();};a.prototype.aw=function(c,k){this.OU(k) && (this.gk+=1,this.filter.aw && this.filter.aw(c,k));};a.prototype.dw=function(c,k,f){this.OU(f) && (this.gk=Math.max(this.gk - 1,0),0 === this.gk && this.stop(c,f),this.filter.dw && this.filter.dw(c,f));};return a;})();b.qJa=r;},83602:function(r,b,a){var h;function c(d){this.QJ=d;this.reset();}function k(d){this.uj=new c(d);this.Ib=0;this.Fc=null;}function f(d,g){this.QJ=d;this.jOa=g;this.reset();}h=a(67841);c.prototype.LOa=function(d,g){this.jb+=d;this.pj+=d;this.Kc+=g;this.Li.push({d:d,b:g});};c.prototype.VQ=function(){var d;for(;this.pj > this.QJ;){d=this.Li.shift();this.Kc-=d.b;this.pj-=d.d;}};c.prototype.reset=function(){this.Li=[];this.jb=null;this.pj=this.Kc=0;};c.prototype.setInterval=function(d){this.QJ=d;this.VQ();};c.prototype.start=function(d){h.Wb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,m){h.Wb(this.jb) && (this.jb=g);g > this.jb && this.LOa(g - this.jb,0);this.LOa(m > this.jb?m - this.jb:0,d);this.VQ();};c.prototype.get=function(){return {Ea:Math.floor(8 * this.Kc / this.pj),$d:0};};k.prototype.reset=function(){this.uj.reset();this.Ib=0;this.Fc=null;};k.prototype.add=function(d,g,m){!h.Wb(this.Fc) && m > this.Fc && (g > this.Fc && (this.Ib+=g - this.Fc),this.Fc=null);this.uj.add(d,g - this.Ib,m - this.Ib);};k.prototype.start=function(d){!h.Wb(this.Fc) && d > this.Fc && (this.Ib+=d - this.Fc,this.Fc=null);this.uj.start(d - this.Ib);};k.prototype.stop=function(d){this.Fc=h.Wb(this.Fc)?d:Math.min(d,this.Fc);};k.prototype.get=function(){return this.uj.get();};k.prototype.setInterval=function(d){this.uj.setInterval(d);};f.prototype.reset=function(){this.Li=[];this.Kc=this.pj=0;};f.prototype.add=function(d,g,m,l){void 0 !== l && !0 === l && (g=m - g,this.pj+=g,this.Kc+=d,this.Li.push({d:g,b:d}),this.VQ());};f.prototype.VQ=function(){var d;for(;this.pj > this.QJ || this.Li.length > this.jOa;){d=this.Li.shift();this.Kc-=d.b;this.pj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Ea:Math.floor(8 * this.Kc / this.pj),$d:0};};f.prototype.setInterval=function(d,g){this.QJ=d;this.jOa=g;this.VQ();};r.exports={z7b:c,Rgb:k,Qlb:f};},14384:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XGa=b.whb=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(73101);h=a(95994);d=a(3833);g=a(74005);r=(function(){return function(m,l,n,p){this.X=l;this.yt=p;p="[" + m + "]";n=(0,g.Ph)(k.default,n,p);this.f4a=m === f.v.Z?l.Eqa:l.Aqa;p=k.default.sT()[m];this.RU=m === f.v.Z?l.MPb:l.qPb;this.RU=Math.min(l.yPb * p,this.RU);h.K && n.trace("This pipeline's buffer size ",p,this.RU);this.n7=(m === f.v.Z?l.Iy:l.Iv) || l.n7;this.R6=(m === f.v.Z?l.LPb:l.pPb) || l.R6;this.cha=l.cha;};})();b.whb=r;r=(function(m){function l(n,p,q,u){return m.call(this,n,p,q,u) || this;}c.__extends(l,m);l.prototype.AYa=function(n,p,q,u){var t,v,w,y,x,A,z,B,C;void 0 === q && (q=!1);void 0 === u && (u=!1);w=this.yt;y=n.pa.woa();x=w.cf.index;A=w.qf.index;z=p === x;B=p === A;if(!B || z && w.cf.Ha){if(z){C=n.tYa(w.cf);C.EN(w.cf.kw);B && (w.cf.Ha || w.qf.Ha) && C.Bi({start:null === (t=C.Ha) || void 0 === t?void 0:t.start,end:null === (v=w.qf.Ha) || void 0 === v?void 0:v.end});}else C=n.Xn(p);}else (C=n.tYa(w.qf),C.EN(w.qf.kw));C.jV=p + 1;if(t=(0,d.xZa)(w,w.jl))(h.K && w.Tu("getFragmentForRequest pts:",w.jl,"in region:",t,"previous region:",w.fpa),v=void 0 === w.fpa || w.fpa !== t.region,(0,d.BVa)(w.S,C,t,{jMb:z,qMb:B,yMb:v}));B && (C.h3a(),C.w_b(w.tb.u));z && C.kPb();z=n.La.Br;if(!(C.jV === p || null !== z && void 0 !== z && z.Y0a(p) || y || !this.cha && C.Ha || q && !(p > x + 1) || u && !(p < A - 2)))for((q=u?A - 1:A,++p);p < n.La.length && p < q && (C.xa < this.f4a || C.Nd.G < this.n7) && (1 === C.stream.Oh.length || this.oub(n,p));++p){u=n.Xn(p);if(null === z || void 0 === z?0:z.Y0a(p))break;if((0,d.X0a)(w,u))break;if(C.Nd.add(u.Nd).G > this.R6)break;if(C.xa + u.xa > this.RU)break;C.$ga(u);C.jV=p + 1;h.K && w.Tu("getFragmentForRequest: extended fragment startPts:",C.Ma.G,"to duration:",C.Nd.G,"size:",C.xa,"min request size:",this.f4a,"max request size:",this.RU,"min request duration:",this.n7,"max request duration:",this.R6,"edit:",C.Ha);}h.K && w.Tu("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Ela,"lastRequestInRegion:",C.nt,"nextIndex:",C.jV);return C;};l.prototype.oub=function(n,p){return !n.Oh.some(function(q){return p === q.df;});};return l;})(r);b.XGa=r;},78281:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.cWa=b.aL=b.Qs=b.L4=void 0;c=a(60595);k=a(47571);f=a(44724);h=a(69565);b.L4=function(d,g){return d.dy(g,void 0,!0);};b.Qs=function(d,g,m,l,n,p){var q,u,t,v;h.hq.wv(d);if(m.ha){g=m.T;q=m.Yn();n=q.MN;p=q.Nd.Wd(g);q=n + Math.floor(l / p.G);d === k.v.ga && (q=Math.max(n,q - 1));d=p.Jv(q - n);l=d.add(p);return new c.pl(m,{index:q,lb:d.ya,nb:l.ya,T:g,offset:0,xa:0});}(0,f.assert)(m.La,"findFirstFragment called without stream fragments");u=m.La;l=Math.max(m.La.fm(0),l);d === k.v.ga && !p && g.Em && !g.BR && m.Uf && (l=Math.max(m.La.fm(0),l + m.Uf.G));q=(0,b.L4)(u,l);t=m.Xn(q);if(t.Za.G < l)return t;v=t.pEb(l);v?(0 < v.Mj && t.Bi({start:v.Mj}),d !== k.v.ga || g.d7 || (0 > v.Me && t.Bi({start:v.Mj}),v.Me < (g.Em && !g.BR && m.Uf?Math.floor(m.Uf.G):0) && t.rka())):l >= t.Za.G && q < u.length - 1 && (t=m.Xn(q + 1));d === k.v.Z && n && t.Za.G === n && q < u.length - 1 && (t=m.Xn(q + 1));d === k.v.ga && !t.Ha && (g.B0a || g.FBb) && p && t.Bi({});t.EN(l);return t;};b.aL=function(d,g,m,l,n,p){var q,u;h.hq.wv(d);if(m.ha)return (n=g=q=Infinity,d=m.T,void 0 !== l && Infinity !== l && (q=m.Yn(),g=q.MN,n=q.Nd.Wd(d),q=g + Math.floor(l / n.G),0 === l % n.G && (q=Math.max(g,q - 1)),l=n.Jv(q - g),n=l.add(n),g=l.ya,n=n.ya),new c.pl(m,{index:q,lb:g,nb:n,T:d,offset:0,xa:0}));q=m.La;void 0 === l && (l=q.nf);if(n && (n=n.fEb(m,l,d,g,p)))return n;n=q.ca;p=l?l + (0,b.cWa)(d,n,g.nN,g.xN):q.IS(q.length - 1);q=q.dy(p,void 0,!0);n=m.Xn(q);0 === q || n.Ma.G !== l || d !== k.v.Z && g.nN || (--q,n=m.Xn(q));p=d === k.v.Z?p:l;if(p < n.Za.G){u=n.tla(p);u && 0 !== u.Mj?n.Bi({end:u.Mj}):d === k.v.ga && (u || p < n.Ma.G) && 0 !== q?n=m.Xn(q - 1):d !== k.v.Z || m.YLb && !u || 0 === q || (n=m.Xn(q - 1));}d === k.v.ga && !n.Ha && g.B0a && n.Bi();n.EN(l);return n;};b.cWa=function(d,g,m,l){var n;return d === k.v.Z || l?0:m?null !== (n=null === g || void 0 === g?void 0:g.G) && void 0 !== n?n:0:g?-g.G:0;};},28035:function(r,b,a){var k,f,h,d,g,m;function c(l,n){return l - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.zhb=b.DF=void 0;k=a(70655);f=a(95994);h=k.__importDefault(a(29736));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).xhb;b.DF=function(l,n){var p;if(!d)return l;p=new m(l.name,n);return (function(q){function u(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}t=q.apply(this,k.__spreadArray([],k.__read(t),!1)) || this;t.xXa=p.wyb(t);return t;}k.__extends(u,q);return u;})(l);};m=(function(){function l(n,p){this.name=n;this.dja=p;this.HB=[];this.KLb=0;}Object.defineProperties(l,{console:{get:function(){g || (g=new h.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});l.prototype.wyb=function(n){var p,q;if(d){p=this.dja;p || (p=l.console);if(!n.xXa && "undefined" !== typeof nrdp){n={type:this.name,id:this.KLb++};this.HB.push(n.id);q=JSON.stringify(n);q=nrdp.xXa(q,(function(u,t,v,w){u.HB.splice(u.HB.indexOf(t),1);u.HB=u.HB.sort(c);for(var y=[],x=0;x < u.HB.length && 5 > x;x++){y.push(u.HB[x]);}null === w || void 0 === w?void 0:w.error(("Removing instance for ").concat(v,"/").concat(t,". ") + ("").concat(u.HB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,n.id,n.type,p));f.K && p && p.info("Creating tagged instance",n);return q;}}};return l;})();b.zhb=m;},6495:function(r,b,a){var k,f,h,d,g,m,l;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,h.b4a)(function(q){return q.Oy;}),p).Oy;}Object.defineProperties(b,{__esModule:{value:!0}});b.HCa=void 0;k=a(70655);f=a(64196);h=a(4145);d=a(47571);g=a(74573);m=k.__importDefault(a(29736));l=a(12862);r=(function(){function n(p,q){this.S=p;this.config=q;this.e2a=0;this.ih=new g.Au({ko:10,en:this,source:"GraphStreamingProcess"});}n.prototype.A5a=function(p,q){var u,t,v,w,y,x,A,z,B,F,G,E,J,K;v=!1;w=[];if(0 < q.length){y=this.J0b(q);x=y.some(function(I){return 1 === (0,l.ZRa)(I) && (0,d.bo)(I.jf);});A=y.slice();z=[!1,!1,!1];B=void 0;try{for(var C=k.__values(y),D=C.next();!D.done;D=C.next()){F=D.value;if(F.PB && (!B || F.groupId === B))if(F.Rk)B=F.groupId;else if("global" !== z[F.mediaType]){G=F.v1a(p,null !== (t=F.WF) && void 0 !== t?t:1);E=(0,f.Z7a)(G.reason);E && (z[F.mediaType]=E,(0,h.RQa)(A,F));if(G.result){J=c(A,F);if(this.avb(F,x,J)){K=F.A1a();this.Dpa(w,F,K.reason);K.oi && (this.e2a=m.default.time.Da());if(v=K.oi)break;if("globalVideoMemoryLimit" === K.reason || "globalAudioMemoryLimit" === K.reason){this.S.trace("GSP.onRequestOpportunity stopping at memory limit:",K.reason);break;}"pipelineTryIssueHeaderRequest" === K.reason && (B=F.groupId);}else if((this.Dpa(w,F,"concurrencyCheck"),!E))break;}else this.Dpa(w,F,G.reason);}}}catch(I){var N;N={error:I};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(N)throw N.error;}}}this.ih.As({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.e2a});return v;};n.prototype.J0b=function(p){return this.IVb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.s1b;});};n.prototype.IVb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,l.YRa)(q.config,u,q.S),s1b:u};});};n.prototype.Dpa=function(p,q,u){this.ih.enabled && p.push(this.ZIb(u,q));};n.prototype.ZIb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.jf,currentPlayerMs:q.Jq,pathCompletePlayerMs:q.Oy,streamingPlayerMs:q.Fr};};n.prototype.avb=function(p,q,u){return this.config.SR && (q || (0,d.bo)(p.jf))?this.bvb(p,u):this.cvb(p,u);};n.prototype.dvb=function(p){return p.Fr <= p.Oy;};n.prototype.cvb=function(p,q){return p.Fr - (p.Jq > q?p.Jq:q) <= Math.max(this.config.Cqa,Math.min((p.Oy - p.Jq) * this.config.awa,this.config.HPb));};n.prototype.bvb=function(p,q){var u,t;if(void 0 === this.config.SR)return !0;u=this.config.SR;t=p.Jq + u;return p.Fr <= t?!0:this.dvb(p) && q >= t && p.Fr - q < u;};k.__decorate([(0,g.Sb)({methodName:"onRequestOpportunity",ik:!0})],n.prototype,"A5a",null);return n;})();b.HCa=r;},12862:function(r,b,a){var p,q,u;function c(t){return t.Fr - t.Jq;}function k(t,v){return Math.exp(-(Math.log(2) / t) * v);}function f(t,v){t=Math.log(2) * v / t;return (1 - Math.exp(-t)) / t;}function h(t,v){var w,y,x,A,z;w=v.Msa;y=v.Lsa;x=v.YV;if(0 === v.ah.length)return {J1:!1};A=v.ah[0];v=A.wf;z=A.CB;A=A.duration;if(!z || 1 === x)return {J1:!1};(0,q.assert)(A,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=A;if(w < y)return {J1:!1};y=w - y;w=x + y / A * (1 - x);A-=y;z=z * (1 - w) / (1 - x);t=v * w / x * k(t,A) + z * f(t,A);(0,q.assert)(1 >= t);return {J1:!0,brb:t};}function d(t){var v,w,y,x,A;v=t.bB;w=t.Cab;y=t.dz;x=t.Fr;A=t.Jq;t=t.cXa;(0,q.assert)(void 0 !== w);(0,q.assert)(void 0 !== v);y=1 - y;x-=A;t?(A=w - t - x,v-=t,0 >= A?t=Math.max(0,(w - t) / v):(w=v - A,t=0 < w?x / w:0,y*=0 < w?w / v:1)):(A=w - x,0 >= A?t=w / v:(w=v - A,t=0 < w?x / w:0,y*=0 < w?w / v:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,v){t=Math.log(2) / t.a8a;return m(v) * Math.exp(-t * c(v));}function m(t){var v;return (null !== (v=t.WF) && void 0 !== v?v:1) * t.ah.reduce(function(w,y){var x;x=y.CB;return w * (y.wf + (void 0 === x?0:x));},1);}function l(t){var v,w,y,x;if(0 === t.ah.length)return 0;w=0;if(1 > t.YV){w=t.Msa;y=t.Lsa;x=null !== (v=t.ah[0].duration) && void 0 !== v?v:0;w=Math.max(0,Math.min(x,w - (y - x)));}return t.ah.reduce(function(A,z){z=z.duration;return A + (void 0 === z?0:z);},0) - w;}function n(t){return t.ah.filter(function(v){return !v.CB;}).reduce(function(v,w){return v * w.wf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.mia=b.ZRa=b.gub=b.YRa=b.kub=void 0;p=a(47571);q=a(44724);u=a(95994);b.kub=c;b.YRa=function(t,v,w){var y,x,A,z,B,C,D,F;if(!t.J3 || (0,p.bo)(v.jf))return g(t,v);x=t.a8a;t=c(v);A=l(v);z=n(v);B=h(x,v);C=B.J1;B=B.brb;B=void 0 === B?1:B;D=1 > v.dz?d(v):1;F=(null !== (y=v.WF) && void 0 !== y?y:1) * z * k(x,t - A) * B * D * v.ah.filter(function(G,E){return G.CB && (0 < E || !C);}).reduce(function(G,E){var J,K;J=E.CB;K=E.duration;K=void 0 === K?0:K;J=void 0 === J?0:J;E=E.wf * k(x,K) + J * f(x,K);return G * E;},1);u.K && (null === w || void 0 === w?void 0:w.log(("{").concat(v.groupId,"} [").concat(v.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(v.dz,", ") + ("pssp: ").concat(v.YV,", ") + ("streamingDuration: ").concat(v.Cab,", ") + ("duration: ").concat(v.bB,", ") + ("seamlessProbability: ").concat(z,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(A,", ") + ("risk:").concat(k(x,t - A),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(v.ah)," => ").concat(F)));return F;};b.gub=g;b.ZRa=m;b.mia=n;},91854:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.MQb=b.platform=b.lf=b.WCb=b.wHb=b.vT=b.uL=b.TOb=b.CG=b.e7=b.Db=b.v=b.Jz=b.Uc=b.eJ=b.yu=b.Rx=b.$P=b.Wh=b.pc=b.AP=b.zu=b.eQ=void 0;c=a(70655);c.__exportStar(a(31047),b);c.__exportStar(a(95566),b);c.__exportStar(a(40730),b);k=a(71820);Object.defineProperties(b,{eQ:{enumerable:!0,get:function(){return k.eQ;}}});Object.defineProperties(b,{zu:{enumerable:!0,get:function(){return k.zu;}}});Object.defineProperties(b,{AP:{enumerable:!0,get:function(){return k.AP;}}});c.__exportStar(a(47130),b);c.__exportStar(a(52745),b);c.__exportStar(a(50623),b);c.__exportStar(a(71016),b);c.__exportStar(a(70950),b);c.__exportStar(a(50971),b);c.__exportStar(a(42324),b);c.__exportStar(a(93959),b);c.__exportStar(a(15063),b);f=a(19829);Object.defineProperties(b,{pc:{enumerable:!0,get:function(){return f.pc;}}});Object.defineProperties(b,{Wh:{enumerable:!0,get:function(){return f.Wh;}}});h=a(63050);Object.defineProperties(b,{$P:{enumerable:!0,get:function(){return h.$P;}}});d=a(18934);Object.defineProperties(b,{Rx:{enumerable:!0,get:function(){return d.Rx;}}});g=a(74005);Object.defineProperties(b,{yu:{enumerable:!0,get:function(){return g.yu;}}});m=a(61276);Object.defineProperties(b,{eJ:{enumerable:!0,get:function(){return m.eJ;}}});l=a(47571);Object.defineProperties(b,{Uc:{enumerable:!0,get:function(){return l.Uc;}}});Object.defineProperties(b,{Jz:{enumerable:!0,get:function(){return l.Jz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return l.v;}}});Object.defineProperties(b,{Db:{enumerable:!0,get:function(){return l.Db;}}});Object.defineProperties(b,{e7:{enumerable:!0,get:function(){return l.e7;}}});Object.defineProperties(b,{CG:{enumerable:!0,get:function(){return l.CG;}}});b.TOb=function(p){b.platform.Vna(p);};b.uL=function(p){b.platform.Vna(p);return Promise.resolve().then(function(){return c.__importStar(a(79391));}).then(function(q){return q.uL();});};b.vT=function(p,q){b.platform.Vna(p);return Promise.resolve().then(function(){return c.__importStar(a(23711));}).then(function(u){return u.vT(q);});};b.wHb=function(){return a(33742);};r=c.__importDefault(a(54186));b.WCb=r.default;r=a(2427);b.lf=r.lf;r=c.__importDefault(a(29736));b.platform=r.default;n=a(17655);b.MQb=function(){return {Yr:n.Yr};};},95566:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22687:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(34532),b);},34532:function(r,b,a){var g,m,l,n,p,q,u,t,v;function c(w){var y,x,A;w=w.parent;y=!1;if(w && w.children){x={};x[t.tl]=[];x[t.Gk]=[];x[t.TEMPORARY]=[];A=w.children;A.forEach(function(z){z && x[z.bf].push(z);});0 < x[t.tl].length || (x[t.Gk].length === A.length?w.bf !== t.Gk && (w.bf=t.Gk,u.error("PERM failing :",n.default.Gg.name[w.Sm] + " " + w.id),y=!0):(w.bf === t.tl && (w.bf=t.TEMPORARY,u.error("TEMP failing :",n.default.Gg.name[w.Sm] + " " + w.id),y=!0),x[t.TEMPORARY].forEach(function(z){z.bf=t.tl;})),y && c(w));}}function k(w){var y;if((w=w.parent) && 0 < w.children.length && w.bf !== t.tl){y={};y[t.tl]=[];y[t.Gk]=[];y[t.TEMPORARY]=[];w.children.forEach(function(x){x && y[x.bf].push(x);});0 < y[t.tl].length && (w.bf=t.tl,k(w));}}function f(w){return w.bf !== t.tl;}function h(w){switch(w.bf){case t.tl:return "OK";case t.Gk:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(w,y){if(w.bf === t.TEMPORARY || w.bf === t.Gk && y)w.bf=t.tl;w.children && w.children.forEach(function(x){x && d(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;g=a(70655);m=g.__importStar(a(67841));r=a(28075);l=a(47571);n=g.__importDefault(a(54186));p=g.__importDefault(a(29736));q=a(44724);u=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(w){w[w.tl=0]="OK";w[w.TEMPORARY=1]="TEMPORARY";w[w.Gk=2]="PERMANENT";})(t || (t={}));(function(w){w[w.xu=0]="STARTUP";w[w.Rkb=1]="REBUFFER";})(v || (v={}));a=(function(w){var d5r;d5r=2;function y(x,A,z,B,C,D){var i2e,F;i2e=2;for(;i2e !== 25;){switch(i2e){case 2:F=w.call(this) || this;F.Sd=z;F.Gp=B;F.config=C;i2e=3;break;case 3:var m1H="LI";m1H+="V";m1H+="E";F.eob=D;F.YNa=m1H;i2e=8;break;case 8:F.QVb=v.xu;F.si={};F.zk={};F.urls={};F.streams={};F.kC=[];i2e=11;break;case 11:var z7T="ne";z7T+="twor";z7T+="k";F.y7=!1;F.oo={id:z7T,Sm:n.default.Gg.qu,bf:t.tl,Uv:void 0,parent:void 0,children:F.kC};F.T0=null;F.IC=null;F.BN=n.default.vu.xu;z=x.Ej;i2e=16;break;case 16:var Z_G="1SI";Z_G+="YbZrNJ";Z_G+="Cp";Z_G+="9";var R4x="L";R4x+="I";R4x+="V";R4x+="E";F.ha=R4x === x.ig && !!z;F.G1(x,A,n.default.vu.xu);Z_G;return F;break;}}}for(;d5r !== 23;){switch(d5r){case 12:y.prototype.LG=function(x){var y1J,A;y1J=2;for(;y1J !== 5;){switch(y1J){case 2:null === (A=this.eob) || void 0 === A?void 0:A.call(this,x);y1J=5;break;}}};y.prototype.yh=function(){var Y8A;Y8A=2;for(;Y8A !== 1;){switch(Y8A){case 4:this.YXb(v.Rkb);Y8A=0;break;case 2:this.YXb(v.Rkb);Y8A=1;break;}}};y.prototype.Qa=function(){var s7J;s7J=2;for(;s7J !== 1;){switch(s7J){case 2:this.config.AOb && this.bUb();s7J=1;break;}}};y.prototype.bWb=function(x){var T11,z,B,C,Y2A,D,F,z8E,t_B,O4L;T11=2;for(;T11 !== 4;){switch(T11){case 2:(B=this,C=new Set());try{Y2A=2;for(;Y2A !== 3;){switch(Y2A){case 14:F=D.next();Y2A=8;break;case 4:F=D.next();Y2A=1;break;case 6:A(F.value);Y2A=0;break;case 5:A(F.value);Y2A=4;break;case 7:Y2A=-F.done?3:2;break;case 1:Y2A=!F.done?5:3;break;case 2:(D=g.__values(x),F=D.next());Y2A=1;break;}}}catch(E){var G;G={error:E};}finally{z8E=2;for(;z8E !== 1;){switch(z8E){case 2:try{t_B=2;for(;t_B !== 1;){switch(t_B){case 2:F && !F.done && (z=D.return) && z.call(D);t_B=1;break;}}}finally{O4L=2;for(;O4L !== 5;){switch(O4L){case 9:throw G.error;O4L=8;break;case 1:throw G.error;O4L=5;break;case 2:O4L=G?1:5;break;}}}z8E=1;break;}}}Object.keys(this.streams).forEach(function(E){var d7$;d7$=2;for(;d7$ !== 1;){switch(d7$){case 2:C.has(E) || delete B.streams[E];d7$=1;break;}}});T11=4;break;}}function A(E){var S9v;S9v=2;for(;S9v !== 1;){switch(S9v){case 2:Object.keys(E).forEach(function(J){var E3u,K,N;E3u=2;for(;E3u !== 9;){switch(E3u){case 5:E3u=K?4:9;break;case 2:K=E[J];C.add(J);E3u=5;break;case 4:var s4P="L";s4P+="I";s4P+="V";s4P+="E";N=B.streams[J];B.streams[J]=N?g.__assign(g.__assign({},N),K):{id:J,bitrate:K.bitrate,zb:null,type:K.mediaType,clear:K.ki?!1:!0,Yq:!0,urls:[],lO:{},si:[],zx:K,spa:B.ha?s4P:void 0};E3u=9;break;}}});S9v=1;break;}}}};y.prototype.s7a=function(x,A,z){var m0L,B;m0L=2;for(;m0L !== 5;){switch(m0L){case 2:B=this;A.streams.forEach(function(C){var H0S;H0S=2;for(;H0S !== 1;){switch(H0S){case 2:B.t7a(x,C.downloadable_id,C,z);H0S=1;break;}}});m0L=5;break;}}};y.prototype.TVb=function(x,A){var p97,z;p97=2;for(;p97 !== 4;){switch(p97){case 1:var N_V="i";N_V+="m";N_V+="s";N_V+="c";N_V+="1.1";var q7F="ims";q7F+="c1";q7F+=".";q7F+="1";z=x.ttDownloadables[q7F];z && this.t7a(l.v.Ya,x.downloadableIds[N_V],z,A);p97=4;break;case 9:p97="" != x.id?2:0;break;case 2:var Z25="no";Z25+="n";Z25+="e";p97=Z25 !== x.id?1:4;break;}}};d5r=17;break;case 3:y.prototype.GYa=function(x){var Q2Y;Q2Y=2;for(;Q2Y !== 1;){switch(Q2Y){case 2:for(var A in this.streams){if(this.streams[A].zx === x){return this.streams[A];}}Q2Y=1;break;}}};y.prototype.G1=function(x,A,z){var p0D,D,F,B,C,G;p0D=2;for(;p0D !== 26;){switch(p0D){case 4:var t83="L";t83+="I";t83+="V";t83+="E";var p_V="LI";p_V+="V";p_V+="E";this.T0=p.default.time.Da();this.kC.sort(function(E,J){var J5f;J5f=2;for(;J5f !== 1;){switch(J5f){case 2:return E.level - J.level || E.bc - J.bc;break;}}});x.servers.forEach(function(E){var W2B,K,N,J;W2B=2;for(;W2B !== 14;){switch(W2B){case 4:K=B.si[E.key];W2B=3;break;case 9:N=[];W2B=8;break;case 5:B.zk[J].bc=E.rank;W2B=14;break;case 1:W2B=B.zk[J]?5:4;break;case 8:E={id:J,Sm:n.default.Gg.KD,bf:t.tl,Uv:void 0,parent:K,children:N,urls:N,name:E.name,type:E.type,bc:E.rank,location:K};B.zk[E.id]=E;K.children.push(E);W2B=14;break;case 2:J=E.id;W2B=1;break;case 3:W2B=K?9:14;break;}}});(D=x.ig,F=x.Ej);(0,q.assert)(this.ha && p_V === D && !!F || !this.ha && t83 !== D && !F);this.ha && (this.oOb=F.WRb);p0D=14;break;case 2:B=this;void 0 === z && (z=n.default.vu.Hib);x.locations.forEach(function(E){var D9n,K,N,I,J;D9n=2;for(;D9n !== 7;){switch(D9n){case 4:(K=[],N=B.Gp.get(J),I=B.oo);E={id:J,Sm:n.default.Gg.LOCATION,bf:t.tl,bc:E.rank,level:E.level,weight:E.weight,Uv:void 0,parent:I,children:K,zk:K,streams:{},Yb:N};D9n=9;break;case 5:(B.si[J].bc=E.rank,B.si[J].level=E.level,B.si[J].weight=E.weight);D9n=7;break;case 1:D9n=B.si[J]?5:4;break;case 2:J=E.key;D9n=1;break;case 9:B.si[E.id]=E;I.children.push(E);D9n=7;break;}}});p0D=4;break;case 18:this.kC=x;this.oo.children=x;this.IC=null;this.BN=z;this.dump();p0D=26;break;case 14:G=!0;A && (G=!1,this.bWb(A));x.audio_tracks.forEach(function(E){var O1T;O1T=2;for(;O1T !== 1;){switch(O1T){case 2:B.s7a(l.v.ga,E,G);O1T=1;break;}}});p0D=11;break;case 11:x.video_tracks.forEach(function(E){var y35;y35=2;for(;y35 !== 1;){switch(y35){case 2:B.s7a(l.v.Z,E,G);y35=1;break;}}});null === (C=x.timedtexttracks) || void 0 === C?void 0:C.forEach(function(E){var r6J;r6J=2;for(;r6J !== 1;){switch(r6J){case 2:B.TVb(E,G);r6J=1;break;case 4:B.TVb(E,G);r6J=8;break;}}});x=this.kC.filter(function(E){var M9O,J;M9O=2;for(;M9O !== 4;){switch(M9O){case 2:J=E.zk.every(function(K){var y7A;y7A=2;for(;y7A !== 1;){switch(y7A){case 2:return 0 === K.urls.length;break;case 4:R7xOY.n0y(8);var b6U=R7xOY.g6M(9,19,4,23);return b6U !== K.urls.length;break;}}});J && (E.zk.forEach(function(K){var n_O;n_O=2;for(;n_O !== 1;){switch(n_O){case 2:B.zk[K.id]=void 0;n_O=1;break;}}}),B.si[E.id]=void 0,E.parent=void 0,E.children.length=0,E.streams={});return !J;break;}}});x.forEach(function(E){var b41;b41=2;for(;b41 !== 1;){switch(b41){case 2:E.zk.sort(function(J,K){var Y0k;Y0k=2;for(;Y0k !== 1;){switch(Y0k){case 4:return J.bc % K.bc;break;case 2:return J.bc - K.bc;break;}}});b41=1;break;}}});p0D=18;break;}}};y.prototype.Ecb=function(x,A,z){var S4f,B,C,D,F,G,J,E;S4f=2;for(;S4f !== 16;){switch(S4f){case 2:(B=this,C=this.config,D=!1);this.ha && void 0 !== z && z !== this.YNa && (void 0 === this.ZNa || p.default.time.Da() - this.ZNa > C.bOb) && (this.YNa=z,this.ZNa=p.default.time.Da(),D=!0);D && (this.IC=null);(F=this.Sd.get(),G=0);p.default.Gs && p.default.Gs(x);S4f=9;break;case 9:S4f=f(this.oo)?8:7;break;case 18:var a$6="(empty stre";a$6+="am";a$6+=" list)";var j7d="Did not find a URL f";j7d+="or ANY";j7d+=" stream..";j7d+=".";var e8u="n";e8u+="etw";e8u+="or";e8u+="kFailed";var w3R="Networ";w3R+="k has failed, not updating stream selecti";w3R+="on";A.forEach(function(K,N){var m6r,I;m6r=2;for(;m6r !== 5;){switch(m6r){case 2:var R9X=" K";R9X+="bp";R9X+="s)";var l3B=" ";l3B+="(";var d_C="]";d_C+=" ";var R1h="Failing s";R1h+="tream";R1h+=" [";I=K.id;J.some(function(O){var h4e,H,L;h4e=2;for(;h4e !== 8;){switch(h4e){case 5:return !1;break;case 4:H=L.si[0];void 0 === K.H8 && (K.H8=H.id,K.Qsa=L.lO[H.id][0].dc.id);return L.lO[O.id].some(function(M){var X1q,R;X1q=2;for(;X1q !== 20;){switch(X1q){case 1:return (M.dc.bf === t.TEMPORARY && (K.bf=t.TEMPORARY),C.eH && K.dc === M.dc.id && M.dc.Uv && (K.Uv=M.dc.Uv),!1);break;case 4:return !1;break;case 7:K.dc=M.dc.id;K.MW=M.dc.name;K.zr=M.dc.type;D && (L.spa=z);K.Yb=C.Pha?O.Yb.confidence >= n.default.sl.CI || F.confidence < E?O.Yb:F:F.confidence === n.default.sl.HAVE_NOTHING || O.Yb.confidence >= n.default.sl.CI?O.Yb:F;X1q=11;break;case 2:X1q=f(M.dc)?1:5;break;case 3:var F9T="l";F9T+="o";F9T+="cationf";F9T+="ailover";var D8k="se";D8k+="rverf";D8k+="a";D8k+="ilov";D8k+="er";var n7x="p";n7x+="e";n7x+="rfor";n7x+="manc";n7x+="e";var y3L="u";y3L+="nk";y3L+="n";y3L+="ow";y3L+="n";R=y3L;K.location !== O.id && (C.eH?K.Xoa=O.id === H.id:R=O !== J[0] && D && L.spa !== z?"" + n.default.vu.ulb:O !== J[0]?"" + n.default.vu.Oaa:void 0 === K.location?"" + n.default.vu.xu:m.mi(K.X1a) || K.X1a === O.id?m.mi(K.c2a) || K.c2a === M.dc.id?n7x:D8k:F9T,K.location=O.id,K.ypa=O.level,K.Lt=R);K.url=M.url;X1q=7;break;case 5:X1q=f(M) || D && !M.D6.some(function(Y){var g3s=R7xOY;var F_I;F_I=2;for(;F_I !== 1;){switch(F_I){case 2:g3s.n0y(9);return g3s.G5G(Y,z);break;case 4:g3s.n0y(10);return g3s.G5G(Y,z);break;}}})?4:3;break;case 11:C.PVa && !K.Yb.YT && (K.Yb.YT=O.Yb.YT);return !0;break;}}});break;case 2:L=O.streams[I];h4e=1;break;case 1:h4e=!L?5:4;break;}}})?(K.zB=!1,K.bf=void 0,K.Yq && ++G):K.bf && K.bf === t.TEMPORARY?B.oo.bf=t.TEMPORARY:K.zB || (u.warn(R1h + N + d_C + I + l3B + K.bitrate + R9X),K.wvb(),K.zB=!0);m6r=5;break;}}});return f(this.oo)?(u.warn(w3R),this.y7=!0,this.emit(e8u,this.oo.bf === t.Gk),!1):G?!0:(u.warn(j7d + (A.length?"":a$6)),this.wr(n.default.Gg.qu,!0),!1);break;case 10:J=this.IC;S4f=20;break;case 19:return (this.wr(n.default.Gg.qu,!1),!1);break;case 12:S4f=!this.IC?11:10;break;case 13:m.Wb(this.IC) && (this.IC=this.m4b());S4f=12;break;case 8:return !1;break;case 7:E=n.default.sl.DI;C.Mqa && (E=n.default.sl.CI);this.Sd.location && F.confidence >= E && (x=this.si[this.Sd.location]) && (x.Yb=F);S4f=13;break;case 20:S4f=!J.length?19:18;break;case 11:return (this.wr(n.default.Gg.qu,!1),!1);break;}}};y.prototype.OZb=function(x,A){var j1V,z,B;j1V=2;for(;j1V !== 4;){switch(j1V){case 2:(z=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.urls,function(C,D){var B$Z,G,E,F,J;B$Z=2;for(;B$Z !== 13;){switch(B$Z){case 9:var B2u="8";B2u+="0";var t6t="4";t6t+="4";t6t+="3";F.length || (F=G?t6t:B2u);B$Z=8;break;case 4:(G="s" === F[1],E=F[2]);F=F[3];B$Z=9;break;case 8:B$Z=m.yg(E) && m.yg(F) && E === x && F == A?7:13;break;case 5:B$Z=F && 4 === F.length?4:13;break;case 2:C=C.dc;F=D.match(B);B$Z=5;break;case 7:C.urls.some(function(K){var p8j;p8j=2;for(;p8j !== 5;){switch(p8j){case 1:return (J=K,!0);break;case 3:p8j=K.url !== D?5:8;break;case 2:p8j=K.url === D?1:5;break;}}});J && z.push({url:J,dc:C});B$Z=13;break;}}});return z;break;}}};y.prototype.wr=function(x,A,z,B){var i8S,C,D,F,J,b69,G,E,M4L;i8S=2;for(;i8S !== 42;){switch(i8S){case 2:(C=x !== n.default.Gg.qu && z?this.urls[z]:this.oo,D=this.oo.bf,F=A?t.Gk:t.TEMPORARY);i8S=1;break;case 43:var m0s="Unable to";m0s+=" find failure";m0s+=" en";m0s+="t";m0s+="ity for URL ";R7xOY.n0y(2);u.warn(R7xOY.g6M(m0s,z));i8S=42;break;case 13:E=C;i8S=12;break;case 34:this.IC=null;this.BN=n.default.vu.Eh;B && (this.BN=n.default.vu.wkb,C.Uv=B);i8S=31;break;case 4:i8S=C?3:43;break;case 25:return;break;case 15:var B93="<";B93+="url f";B93+="or";B93+=" ";A.unshift(B93 + E.stream.bitrate + ">");i8S=19;break;case 1:i8S=C && C.parent && C.Sm !== x?5:4;break;case 10:J=E;i8S=20;break;case 3:i8S=F !== C.bf?9:42;break;case 17:A.unshift(E.id);i8S=19;break;case 19:E=E.parent;i8S=12;break;case 28:i8S=44;break;case 26:b69=C.bf;i8S=b69 === t.Gk?25:30;break;case 9:var g_L=" ";g_L+="a";g_L+="t ";var o1T=" failure";o1T+=" r";o1T+="e";o1T+="po";o1T+="rted for ";var P0p="T";P0p+="E";P0p+="M";P0p+="P";var j77="P";j77+="E";j77+="R";j77+="M";z=u;G=z.warn;x=(A?j77:P0p) + o1T + n.default.Gg.name[x] + g_L;A=[];i8S=13;break;case 24:C.bf=F;c(C);this.y7=this.y7 || f(this.oo);i8S=21;break;case 21:var o2g="ne";o2g+="twor";o2g+="kFa";o2g+="i";o2g+="led";var P6S="Emitting n";P6S+="etworkFailed, permanent ";P6S+="=";F=this.oo.bf;F > D && (u.warn(P6S,F === t.Gk),this.emit(o2g,F === t.Gk));i8S=34;break;case 30:i8S=b69 === t.TEMPORARY?24:29;break;case 12:i8S=E?11:27;break;case 44:var x_T="Inva";x_T+="lid failure";x_T+=" ";x_T+="state";throw Error(x_T);i8S=24;break;case 27:var O2L=" ";O2L+=":";O2L+=" wa";O2L+="s";O2L+=" ";G.call(z,x + (A.length?"/" + A.join("/"):"") + O2L + h(C));i8S=26;break;case 31:this.dump();i8S=42;break;case 11:M4L=E.Sm;i8S=M4L === n.default.Gg.KD?10:18;break;case 29:i8S=b69 === t.tl?24:28;break;case 18:i8S=M4L === n.default.Gg.LOCATION?17:16;break;case 16:i8S=M4L === n.default.Gg.URL?15:19;break;case 20:A.unshift(J.id + "(" + J.name + ")");i8S=19;break;case 5:C=C.parent;i8S=1;break;}}};y.prototype.X8a=function(x,A){var c9H;c9H=2;for(;c9H !== 3;){switch(c9H){case 2:c9H=(x=this.zk[x])?1:5;break;case 5:this.IC=null;this.BN=n.default.vu.gda;c9H=3;break;case 8:c9H=(x=this.zk[x])?9:4;break;case 1:(d(x,A),k(x));c9H=5;break;}}};y.prototype.h9=function(){var j$8;j$8=2;for(;j$8 !== 1;){switch(j$8){case 2:d(this.oo,!1);j$8=1;break;}}};d5r=12;break;case 2:g.__extends(y,w);y.prototype.Os=function(){var u0X;u0X=2;for(;u0X !== 1;){switch(u0X){case 4:return f(this.oo);break;case 2:return f(this.oo);break;}}};y.prototype.LZb=function(x){var y9B;y9B=2;for(;y9B !== 5;){switch(y9B){case 2:y9B=(x=this.urls[x]) && x.parent?1:5;break;case 1:return x.parent.id;break;}}};y.prototype.GZa=function(x){var U3B,A49,D,B,C,x$V,q6r,t2s,A,z;U3B=2;for(;U3B !== 4;){switch(U3B){case 1:try{A49=2;for(;A49 !== 9;){switch(A49){case 5:D=this.urls[C.value];D.url === x.vo.url && z.push(D.dc);A49=3;break;case 12:C=B.next();A49=2;break;case 2:(B=g.__values(Object.keys(this.urls)),C=B.next());A49=1;break;case 3:C=B.next();A49=1;break;case 1:A49=!C.done?5:9;break;}}}catch(G){var F;F={error:G};}finally{x$V=2;for(;x$V !== 1;){switch(x$V){case 2:try{q6r=2;for(;q6r !== 1;){switch(q6r){case 2:C && !C.done && (A=B.return) && A.call(B);q6r=1;break;}}}finally{t2s=2;for(;t2s !== 5;){switch(t2s){case 3:t2s=F?0:4;break;case 1:throw F.error;t2s=5;break;case 9:throw F.error;t2s=4;break;case 2:t2s=F?1:5;break;}}}x$V=1;break;}}}return z;break;case 9:z=[];U3B=4;break;case 2:z=[];U3B=1;break;}}};d5r=3;break;case 26:y.prototype.bUb=function(){var i0$,x;i0$=2;for(;i0$ !== 5;){switch(i0$){case 2:x=this;this.y7 || this.kC.forEach(function(A){var M$9;M$9=2;for(;M$9 !== 1;){switch(M$9){case 2:A.bf === t.TEMPORARY && x.Gp.fail(A.id,p.default.time.Da());M$9=1;break;}}});i0$=5;break;}}};y.prototype.dump=function(){};return y;break;case 17:y.prototype.t7a=function(x,A,z,B){var H2t,C,D;H2t=2;for(;H2t !== 10;){switch(H2t){case 12:H2t=!C && !B?11:6;break;case 11:return;break;case 2:C=this.streams[A];H2t=1;break;case 6:this.UVb(C,z.urls);m.Ms(C.lO,function(F){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 2:F.sort(function(G,E){var Y8I;Y8I=2;for(;Y8I !== 1;){switch(Y8I){case 2:return G.dc.bc - E.dc.bc;break;}}});E3m=1;break;}}});C.si=C.si.sort(function(F,G){var u3V;u3V=2;for(;u3V !== 1;){switch(u3V){case 2:return F.level - G.level || F.bc - G.bc;break;}}});H2t=10;break;case 1:H2t=m.mi(C) && B?5:12;break;case 8:var t7e="L";t7e+="I";t7e+="VE";var n9V="n";n9V+="o";n9V+="n";n9V+="e";n9V+="-";C={id:A,bitrate:C,zb:D,type:x,profile:B,clear:0 === B.indexOf(n9V),Yq:!0,urls:[],lO:{},si:[],spa:this.ha?t7e:void 0};H2t=7;break;case 7:this.streams[C.id]=C;H2t=6;break;case 5:B="";C=0;D=null;x !== l.v.Ya && (B=z.content_profile,C=z.bitrate,x === l.v.Z && (D=z.vmaf));H2t=8;break;}}};y.prototype.UVb=function(x,A){var I27,z;I27=2;for(;I27 !== 5;){switch(I27){case 2:z=this;A.forEach(function(B){var X5I,E,C,D,F,G;X5I=2;for(;X5I !== 14;){switch(X5I){case 4:m.mi(D) && (D={id:C,Sm:n.default.Gg.URL,bf:t.tl,Uv:void 0,parent:F,children:[],url:C,dc:F,stream:x,D6:G},z.urls[C]=D,F.children.push(D));E=F.location;x.urls.push(D);0 === x.si.filter(function(J){var N1I;N1I=2;for(;N1I !== 1;){switch(N1I){case 2:return J.id === E.id;break;}}}).length && x.si.push(E);E.streams[x.id]=x;(B=x.lO[E.id])?B.push(D):x.lO[E.id]=[D];X5I=14;break;case 2:(C=B.url,D=z.urls[C],F=z.zk[B.cdn_id]);z.ha && (G=B.liveOcaCapabilities);X5I=5;break;case 5:X5I=F?4:14;break;}}});I27=5;break;}}};y.prototype.m4b=function(){var r9F,x,A,z,B;r9F=2;for(;r9F !== 6;){switch(r9F){case 5:return null;break;case 3:r9F=null === this.T0 || this.T0 + A.xpa < B?9:8;break;case 9:(z.forEach(function(C){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:C.id !== x.Sd.location && (C.Yb=x.Gp.get(C.id));m$r=1;break;}}}),this.T0=B);r9F=8;break;case 2:(x=this,A=this.config,z=this.kC.filter(function(C){var c3x;c3x=2;for(;c3x !== 1;){switch(c3x){case 2:return !f(C) && 0 !== C.level;break;case 4:return ~f(C) || 1 == C.level;break;}}}));r9F=1;break;case 4:B=p.default.time.Da();r9F=3;break;case 8:z.sort(function(C,D){var k12;k12=2;for(;k12 !== 1;){switch(k12){case 2:return C.level - D.level || C.bc - D.bc;break;}}});return z;break;case 1:r9F=0 === z.length?5:4;break;}}};y.prototype.YXb=function(x){var e3q,A;e3q=2;for(;e3q !== 4;){switch(e3q){case 2:A=this.Sd.location;this.QVb=x;this.kC.forEach(function(z){var o16;o16=2;for(;o16 !== 1;){switch(o16){case 2:z.id !== A && z.Yb && z.Yb.confidence > n.default.sl.DI && (z.Yb.confidence=n.default.sl.DI);o16=1;break;}}});e3q=4;break;}}};d5r=26;break;}}})(r.EventEmitter);b.bFa=a;},44105:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EP=void 0;c=a(44724);k=a(47571);f=a(4145);r=(function(){function h(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(m){return g.Xwa(m);});}Object.defineProperties(h.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Psa:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});h.prototype.get=function(d){return d === k.v.Z?this.video:this.audio;};h.prototype.every=function(d){return this.items.every(d);};h.prototype.some=function(d){return this.items.some(d);};h.prototype.forEach=function(d){this.items.forEach(d);};h.prototype.find=function(d){return (0,f.qc)(this.items,d);};h.prototype.reduce=function(d,g){return this.items.reduce(d,g);};h.prototype.filter=function(d){return new h(this.items.filter(d));};h.prototype.replace=function(d,g){var m;m=this.items.indexOf(d);(0,c.assert)(-1 < m);(0,c.assert)(d.mediaType === g.mediaType);this.items[m]=g;this.Xwa(g);};h.prototype.add=function(d){this.items.push(d);this.Xwa(d);};h.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.qvb(d.mediaType);return !0;};h.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};h.prototype.Xwa=function(d){d.mediaType === k.v.Z?this.video=d:this.audio=d;};h.prototype.qvb=function(d){d === k.v.Z?this.video=void 0:this.audio=void 0;};return h;})();b.EP=r;},94800:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Yya=void 0;c=a(71502);k=a(74005);r=(function(){function f(h,d,g,m){this.config=d;this.te=g;this.console=m;this.ca=h.ca;}f.prototype.append=function(h,d){var g,m,l,n,p,q,u,t,v,w,y,x,A;if(h.fi)return h;m=!1;l=(0,c.Hma)(this.config,this.te);n=h.ma;p=h.offset;q=h.wf;u=h.ti;t=n.Mb;v=n.Bb;w=n.nt;w=n.Dj || w;if(!h.ma.Ha || !w || q)return h;y=n.Za.wa(n.Ma);w=Math.floor(y.Ui(this.ca));x=null !== (g=d.Rqa) && void 0 !== g?g:t.wa(this.ca.Jv(2));t=x.wa(v);g=w;A=!1;d.Rqa && (d=this.WRa(y,t,t),g=d.Nj,A=d.P4a);l=x.wa(k.N.Na(l));v=k.N.max(l.wa(v),k.N.Ia);A || (v=this.WRa(y,v,t),g=v.Nj,v.P4a && (--g,this.ca.Jv(g)));g < (this.config.AQb || 1)?m=!0:0 < w - g && h.ma.F3(w - g);return {ma:n,offset:p,wf:q,fi:m,ti:u};};f.prototype.WRa=function(h,d,g){var m;h=k.N.min(h,d);h=Math.floor(h.Ui(this.ca));d=this.ca.Jv(h);g=g.wa(d);m=0 < h && g.lessThan(k.N.Ly);return {Nj:h,nfc:d,Kcc:g,P4a:m};};return f;})();b.Yya=r;},97292:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Jaa=void 0;c=a(95994);k=a(70950);r=(function(){function f(h){this.console=h;}f.prototype.append=function(h){var d,g,m,l,n,p;if(h.fi)return h;d=h.ma;g=h.offset;m=h.ti;l=d.Ma;n=d.Za;p=l.add(g);g=n.add(g);p=this.ZL && p.wa(this.ZL);this.ZL=g;if(void 0 === p || p.equal(k.N.Ia))return h;h.ti=m || [];d={stream:d.Nb,pts:l.G,gap:p.G};h.ti.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});c.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return h;};return f;})();b.Jaa=r;},80708:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zya=void 0;c=a(95994);r=(function(){function k(f){this.console=f;}k.prototype.append=function(f,h){var d,g,m,l,n,p,q;if(f.fi)return f;d=!1;g=f.ma;m=f.offset;l=f.wf;f=f.ti;h=h.oM;n=g.Mb;if(this.am && n.lessThan(this.am.Mb)){p=this.am.oM.wa(g.Bb);q=g.Mb.wa(this.am.oM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.ob()) + (", discard error: ").concat(q.ob())),d=!0);}this.am=(g.Dj || g.nt) && h?{oM:h,Mb:n}:void 0;return {ma:g,offset:m,wf:l,fi:d,ti:f};};return k;})();b.Zya=r;},6313:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;r=(function(){function a(c){this.vW=!1;this.r0b=c.GLb;}a.prototype.append=function(c){c.ma.Ha && (c.ma.x_b(this.vW?0:this.r0b),this.vW=!0);return c;};return a;})();b.pEa=r;},82823:function(r,b,a){var f,h,d,g,m;function c(l,n,p,q,u,t){var v,w,y,x,A,z,B;if(void 0 !== l.W9 || void 0 !== l.Dva || l.Ns || l.Tn){v=l.end - l.start;w=Array(v);y=l.Ns;x=l.yWa?l.yWa - 1:0;A=l.zWa?l.zWa - 1:0;z=Math.min(v,Math.max(l.W9 || 0,t && y && !x?1:0));l=Math.min(v - z,Math.max(l.Dva || 0,t && n && !A?1:0));t=Math.floor(q.Ui(p));p=Math.max(0,Math.min(v - z - l,y?Math.max(0,t - x):0));B=Math.max(0,Math.min(v - z - l - p,n?Math.max(0,t - A):0));p=z + p;q=v - l - B;A=A?0:Math.max(0,t + 1 - B);t=(1 - u) / (t + 1);for(B=0;B < v;++B){w[B]=B < z?-Infinity:B >= v - l?-Infinity:y && B < p?k(u + (B - z + x) * t):n && B >= q?k(1 - (B - q + A + 1) * t):0;}return w;}}function k(l){return 20 * Math.log(l) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=void 0;r=a(70655);f=a(86393);h=a(74005);d=a(44724);g=a(47571);m=r.__importDefault(a(29736));a=(function(){function l(n,p,q,u){var D3h;D3h=2;for(;D3h !== 9;){switch(D3h){case 2:this.console=n;this.config=p;D3h=5;break;case 5:var C_t="me";C_t+="d";C_t+="i";C_t+="a";C_t+="|asejs";var l_M="M";l_M+="P";l_M+="4";var z8x="1SIY";z8x+="bZ";z8x+="r";z8x+="NJCp9";z8x;this.v4a=new m.default.Console(l_M,C_t);q === g.v.ga && (this.A9=h.N.Na(0 <= p.A9?p.A9:p.ez),this.B9=h.N.Na(0 <= p.B9?p.B9:p.ez),this.kM=Math.pow(10,(p.kM[u] || -44) / 20));D3h=9;break;}}}var I5h;I5h=2;for(;I5h !== 3;){switch(I5h){case 4:return l;break;case 14:return l;break;case 2:l.prototype.Ha=function(n,p){var y9p,u,t,v,q;y9p=2;for(;y9p !== 22;){switch(y9p){case 3:return {ka:!0};break;case 12:return {ka:t};break;case 18:n=this.IBb(n,t?(0,h.YE)(t):n.response,v,p);t=n.ka;v=n.Vk;u=n.data;y9p=27;break;case 6:(u=this.HBb(n,n.response,p),t=u.ka,v=u.Vk);u=u.data;y9p=13;break;case 25:v && q.push(v);y9p=24;break;case 11:v && q.push(v);t=u;y9p=20;break;case 24:t=u;y9p=23;break;case 8:return {ka:!1};break;case 13:y9p=!t?12:11;break;case 9:y9p=0 >= n.Nd.ya?8:7;break;case 2:var C_B="MediaFragmentEditor [${f";C_B+="ragment.mediaType}]: Attempt to edit appended ";C_B+="fragment";void 0 === p && (p=!0);q=[];(0,d.assert)(!n.rd,C_B);y9p=4;break;case 19:y9p=n.Ha.end !== n.Rs || n.Ha.Dva || n.Ha.Tn?18:23;break;case 23:return {ka:!0,ti:q,response:t};break;case 20:v=n.Ha.start;y9p=19;break;case 27:y9p=!t?26:25;break;case 7:y9p=0 < n.Ha.start || n.Ha.W9 || n.Ha.Ns?6:19;break;case 4:y9p=!(n.Ha && n.response instanceof ArrayBuffer)?3:9;break;case 26:return {ka:t};break;}}};l.prototype.HBb=function(n,p,q){var F98,u;F98=2;for(;F98 !== 6;){switch(F98){case 2:void 0 === q && (q=!0);F98=1;break;case 1:(0,d.assert)(n.Ha);u=n.Ha.W9;q=!(!n.Ha.Tn || !q);F98=3;break;case 9:return {ka:!0};break;case 3:F98=!(n.Ha.start || u || n.Ha.Ns || q)?9:8;break;case 8:var a9m=" edit fa";a9m+="il";a9m+="e";a9m+="d";var E7y="]";E7y+=":";E7y+=" ";var k14="MediaFragmentEd";k14+="ito";k14+="r [";q=c(n.Ha,q,n.ca,this.A9,this.kM,this.config.A0a);return (p=new f.Qw(this.v4a,n.stream,p).u8a({Mj:n.Ha.start,T:n.HG,Bx:q,eua:!1,pH:this.config.l9,zG:k(this.kM)}))?{ka:!0,Vk:n.Nta(u),data:p.ma}:(this.console.error(k14.concat(n.mediaType,E7y).concat(n.toString(),a9m)),{ka:!1});break;}}};l.prototype.IBb=function(n,p,q,u){var e50,t;e50=2;for(;e50 !== 14;){switch(e50){case 2:void 0 === q && (q=0);void 0 === u && (u=!0);(0,d.assert)(n.Ha);t=n.Ha.Dva;u=!(!n.Ha.Tn || !u);e50=9;break;case 9:e50=n.Ha.end === n.Rs && !t && !n.Ha.Ns && !u?8:7;break;case 7:var t8K=" ";t8K+="e";t8K+="dit faile";t8K+="d";var Y_K="]";Y_K+=":";Y_K+=" ";var h$G="MediaFr";h$G+="agment";h$G+="Editor [";u=c(n.Ha,u,n.ca,this.B9,this.kM,this.config.A0a);return (p=new f.Qw(this.v4a,n.stream,p).B8a({Mj:n.Ha.end - q,T:n.HG,Bx:u,eua:!1,pH:this.config.l9,zG:k(this.kM)}))?{ka:!0,Vk:n.Nta(t),data:p.ma}:(this.console.error(h$G.concat(n.mediaType,Y_K).concat(n.toString(),t8K)),{ka:!1});break;case 8:return {ka:!0};break;}}};I5h=4;break;}}})();b.bGa=a;},82434:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;c=a(47571);k=a(70950);f=a(44724);h=a(77669);d=a(25136);g=a(60798);m=a(74499);l=a(99073);n=a(6313);p=a(94800);q=a(80708);u=a(82823);t=a(97292);r=(function(){function v(w,y,x,A){this.config=w;this.mediaType=y;this.te=x;this.console=A;}v.prototype.append=function(w,y){var x,A,z,B,C,D;void 0 === this.track?this.poa(w.stream):this.track !== w.stream.track && ((0,f.assert)(this.track.ca),(0,f.assert)(w.stream.track.ca),this.track=w.stream.track);(0,f.assert)(void 0 !== this.op);B={ma:w,offset:null !== (x=w.fta) && void 0 !== x?x:k.N.Ia,wf:this.config.xN,fi:!1};B=this.op.reduce(function(F,G){return G.append(F,y);},B);C=B.ma;x=B.offset;D=B.fi;B=B.ti;B=void 0 === B?[]:B;C.Ha && ((0,f.assert)(w.Ha,"Fragments must be marked for edit at request time"),w.Bi(C.Ha));if(D || !this.M3a)return {offset:x,fi:D};w=this.M3a.Ha(w,!(null === (z=null === (A=w.u) || void 0 === A?void 0:A.u) || void 0 === z || !z.Tn));A=w.ka;z=w.ti;w=w.response;Array.prototype.push.apply(B,void 0 === z?[]:z);return {offset:x,fi:!A,ti:B,response:w};};v.prototype.reset=function(){this.op=this.track=void 0;};v.prototype.poa=function(w){var y,x;this.track=w.track;this.M3a=new u.bGa(this.console,this.config,this.mediaType,w.profile);this.op=[];if(this.mediaType === c.v.ga){this.config.xN && this.op.push(new g.NKa(this.config,w.track,this.console));x=this.lia(w);x.equal(k.N.Ia)?this.config.Em && w.Uf && this.toa(w.pa.J) && this.op.push(new n.pEa(this.config)):this.op.push(new h.Oda(x));this.config.d7 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(x.ob(),", ") + ("").concat(null === (y=w.Uf) || void 0 === y?void 0:y.ob())),this.op.push(new m.MGa(this.config,w,this.console)));this.zMb()?(this.config.fl || this.op.push(new p.Yya(w,this.config,this.te,this.console)),this.config.xN && this.op.push(new t.Jaa(this.console)),this.op.push(new d.ZGa(this.config,w,this.console)),this.j0b(w) && ((0,f.assert)(w.ca),this.op.push(this.lwb(w.Uf || k.N.Ia,w.ca,x)))):(this.op.push(new q.Zya(this.console)),this.config.xN && this.op.push(new t.Jaa(this.console)));}};v.prototype.toa=function(w){return this.config.toa || this.config.C0a && -1 !== this.config.C0a.indexOf(w);};v.prototype.lia=function(w){return h.Oda.lia(this.config,w.Uf,this.te,this.console);};v.prototype.zMb=function(){return !this.config.nN;};v.prototype.j0b=function(w){return this.config.v3b && this.config.Em && !!w.Uf;};v.prototype.lwb=function(w,y,x){return new l.mMa(w.wa(x),y,this.console);};return v;})();b.pGa=r;},74499:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MGa=void 0;c=a(70950);k=a(44724);f=a(95994);r=(function(){function h(d,g,m){var l;this.console=m;this.vW=!1;(0,k.assert)(g.ca,"NegativePtsGuard: stream.frameDuration must exist.");this.ca=g.ca;this.Em=d.Em;this.Uf=null !== (l=g.Uf) && void 0 !== l?l:c.N.Ia;}h.prototype.append=function(d){var g,m,l,n,p;if(this.vW || d.fi)return d;g=d.ma;m=d.offset;l=d.wf;d=d.ti;if(g.Ha){n=g.Ma.wa(this.Em?this.Uf:c.N.Ia).add(m);if(n.lessThan(c.N.Ia)){p=Math.ceil(n.Jv(-1).Ui(this.ca));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Uf.ob(),", ") + ("request content start ").concat(g.Ma.ob(),", ") + ("current timestamp offset ").concat(m.ob()," => ") + ("firstPlatformTimestamp ").concat(n.ob(),"."));g.rka(p);}}this.vW=!0;return {ma:g,offset:m,wf:l,fi:!1,ti:d};};return h;})();b.MGa=r;},25136:function(r,b,a){var k,f,h,d;function c(g){return ("").concat(g.toString()," (nrdp: ").concat(g.qH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.ZGa=void 0;k=a(70950);f=a(85147);h=a(95994);d=a(44724);r=(function(){function g(m,l,n){this.console=n;this.offset=k.N.Ia;this.Uf=m.Em?l.Uf:void 0;(0,d.assert)(l.ca);this.ca=l.ca;}g.prototype.append=function(m){var l,n,p,q;if(m.fi)return m;l=m.ma;n=m.offset;p=m.wf;q=m.ti;void 0 !== this.U1a && ((0,d.assert)(void 0 !== this.epa),l.Ma.add(m.offset).equal(this.U1a)?(m=this.dub(l,n.add(this.offset)).G - this.epa,0 > m?this.offset=this.offset.add(k.N.Ly):0 === m?this.offset.lessThan(k.N.Ia) && (this.offset=this.offset.add(k.N.Ly)):1 === m?this.offset.greaterThan(k.N.Ia) && (this.offset=this.offset.wa(k.N.Ly)):this.offset=this.offset.wa(k.N.Ly)):this.offset=k.N.Ia);this.epa=this.cub(l,n.add(this.offset)).G;this.U1a=l.Za.add(n);return {ma:l,offset:n.add(this.offset),wf:p,fi:!1,ti:q};};g.prototype.dub=function(m,l){var n,p;m=this.nQa(m.Ma);n=(0,f.tt)(m).add((0,f.tt)(l));p=m.add(l).wa(n);h.K && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(l) + ", start rounding error: " + (0,f.tt)(m).toString() + ", offset rounding error: " + (0,f.tt)(l).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.ob() + ", (" + m.qH + l.qH + "ms), last fragment end nrdp: " + this.epa);return p;};g.prototype.cub=function(m,l){var n,p,q;n=this.ca;m=this.nQa(m.Za);p=(0,f.tt)(m.wa(n)).add((0,f.tt)(n)).add((0,f.tt)(l));q=m.add(l).wa(p);h.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.wa(n)) + ", frame duration: " + c(n) + ", offset: " + c(l) + ", timestamp rounding error: " + (0,f.tt)(m.wa(n)).toString() + ", frame duration rouding error: " + (0,f.tt)(n).toString() + ", offset rounding error: " + (0,f.tt)(l).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.ob() + ", (" + m.wa(n).qH + n.qH + l.qH + "ms)");return q;};g.prototype.nQa=function(m){return this.Uf?m.wa(this.Uf):m;};return g;})();b.ZGa=r;},77669:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Oda=void 0;c=a(70950);k=a(95994);r=(function(){function f(h){this.Uf=h;}f.lia=function(h,d,g,m){var l;l=c.N.Ia;d && (g=null === g || void 0 === g?void 0:g.Xbc,h.M4b && void 0 !== g && 0 <= g?(h=new c.N(g,48E3),l=d.add(h),k.K && m.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(h) + (" for ASE applied offset of ").concat(l,"."))):h.BR && (l=d));return l;};f.prototype.append=function(h){var d,g,m;d=h.wf;g=h.fi;m=h.ti;return {ma:h.ma,offset:h.offset.add(this.Uf),wf:d,fi:g,ti:m};};return f;})();b.Oda=r;},60798:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NKa=void 0;c=a(70950);k=a(44724);f=a(95994);r=(function(){function h(d,g,m){this.config=d;this.console=m;this.dv=c.N.Ia;(0,k.assert)(g.ca);this.ca=g.ca;g=g.hg[0].profile;this.p7=this.LHb(g,this.ca);this.V6=this.GHb(g,this.ca);this.s5=-1 !== d.eRa.indexOf(g);}h.prototype.append=function(d,g){var m,l,n,p,q;if(d.fi)return d;m=d.ma;l=d.offset;n=d.ti;n=void 0 === n?[]:n;d=d.wf;p=g.oM;g=g.Rqa;if(this.esa){q=this.GQb(m,this.esa);m.Ha && !this.s5 && this.Gha(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),m.rka(1),this.dv=q):(this.dv=q.add(this.ca),this.mRa(this.dv) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.Bb.ob() + " error would be " + this.dv.ob() + " (editing " + (m.Ha?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:m.Nb,pts:m.Ma.G}}}}),this.dv=c.N.Ia,d=!1));this.esa=void 0;}if(m.Dj || m.nt)((0,k.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ha || !g && m.nt || (q=this.HQb(m,p,g),g && this.s5 && q.ji(this.ca)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),m.F3(2)):q.ji(c.N.Ia) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),m.F3(1))),this.esa=p);(0,k.assert)(this.mRa(this.dv));this.ZL=m.Mb;return {ma:m,offset:l.add(this.dv),wf:d,fi:0 === m.RYb,ti:n.length?n:void 0};};h.prototype.HQb=function(d,g,m){var l;if(m)l=this.dv.add(d.Mb.wa(m)).wa(this.ca);else (l=d.Mb.wa(g),l=this.dv.add(l).wa(this.ca));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Mb.ob() + ", splice " + g.ob() + ", next start " + (null === m || void 0 === m?void 0:m.ob()) + ", error " + l.add(this.ca).ob() + ", error with frame drop " + l.ob() + ", is" + (this.Gha(l)?"":" not") + " within bounds of [" + this.p7.ob() + " and " + this.V6.ob() + ")");return l;};h.prototype.GQb=function(d,g){var m;(0,k.assert)(this.ZL);m=this.dv.add(this.ZL.wa(d.Bb)).wa(this.ca);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Bb.ob() + ", splice " + g.ob() + ", last fragment end: " + this.ZL.ob() + ", error " + m.add(this.ca).ob() + ", error with frame drop " + m.ob() + ", is" + (this.Gha(m)?"":" not") + " within bounds of [" + this.p7.ob() + " and " + this.V6.ob() + ")");return m;};h.prototype.Gha=function(d){return d.lessThan(this.V6) && d.ji(this.p7);};h.prototype.mRa=function(d){return d.lessThan(this.V6.add(c.N.Ly)) && d.ji(this.p7.wa(c.N.Ly));};h.prototype.GHb=function(d,g){return "object" === typeof this.config.Gua && void 0 !== this.config.Gua[d]?(d=new c.N(this.config.Gua[d],1E3).Wd(g.T).add(new c.N(1,g.T)),c.N.min(g,d)):g;};h.prototype.LHb=function(d,g){var m;if("object" === typeof this.config.Hua && void 0 !== this.config.Hua[d]){m=g.Ui(-2);d=new c.N(this.config.Hua[d],1E3).Wd(g.T).wa(new c.N(1,g.T));return c.N.max(m,d);}return new c.N(-12,1E3);};return h;})();b.NKa=r;},99073:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mMa=void 0;c=a(70950);k=a(95994);r=(function(){function f(h,d,g){this.Uf=h;this.ca=d;this.console=g;}f.prototype.append=function(h,d){var g,m,l,n,p,q;g=h.ma;m=h.offset;l=h.wf;n=h.ti;h=h.fi;if(!h){p=d.endOfStream;d=d.oM;if(p && d){p=g.Ma.wa(this.Uf).add(m);q=g.Za.wa(this.Uf).add(m);d=d.wa(c.N.Ly);k.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.ob() + "-" + q.ob() + " vs media splice point at " + d.ob());p.add(this.ca).ji(d)?(k.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h=!0):q.ji(d) && (d=Math.ceil(q.wa(d).Ui(this.ca)),g.Ha?(k.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.F3(d)):(k.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h=!0));}else p && k.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ma:g,offset:m,wf:l,fi:h,ti:n};};return f;})();b.mMa=r;},1684:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FCa=void 0;c=a(44724);k=a(8079);r=(function(){function f(){this.global=new k.FP();this.$G={};}f.prototype.add=function(h,d){(0,c.assert)(void 0 === this.$G[h],"Cannot add new memory object for playgraph");this.$G[h]=d;this.global.add(d.Hq);this.global.add(d.tS);};return f;})();b.FCa=r;},8079:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FP=void 0;c=a(47571);r=(function(){function k(){this[c.v.ga]=0;this[c.v.Z]=0;this[c.v.Ya]=0;}Object.defineProperties(k.prototype,{total:{get:function(){return this[c.v.ga] + this[c.v.Z] + this[c.v.Ya];},enumerable:!1,configurable:!0}});k.prototype.add=function(f){this[c.v.ga]+=Math.max(f[c.v.ga] || 0,0);this[c.v.Z]+=Math.max(f[c.v.Z] || 0,0);this[c.v.Ya]+=Math.max(f[c.v.Ya] || 0,0);};k.prototype.Lga=function(f,h){this[f]+=Math.max(h || 0,0);};return k;})();b.FP=r;c.v.ga;c.v.Z;c.v.Ya;},46044:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BJa=void 0;c=a(8079);r=(function(){function k(){this.Hq=new c.FP();this.tS=new c.FP();}Object.defineProperties(k.prototype,{total:{get:function(){var f;f=new c.FP();f.add(this.Hq);f.add(this.tS);return f;},enumerable:!1,configurable:!0}});k.prototype.add=function(f){this.Hq.add(f.Hq);this.tS.add(f.tS);};k.prototype.Lga=function(f,h,d){(d?this.tS:this.Hq).Lga(f,h);};return k;})();b.BJa=r;},73520:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pAa=void 0;r=a(70655);c=a(8628);k=r.__importDefault(a(33742));f=r.__importDefault(a(40275));h=r.__importDefault(a(73764));d=a(44724);g=a(31925);m=r.__importDefault(a(29736));b.pAa=(function(){function n(p,q,u){var t;t=this;this.Gp=new k.default(p,u);this.hV=new f.default(p);this.Sd=new h.default(this.hV,this.Gp,p);new g.U_(m.default.g3,q,p);c.eD.dwb(p);p.n8 && setInterval(function(){t.Gp.save();t.hV.save();},p.n8);}n.Lma=function(p,q,u){void 0 === l?(n.config=p,n.nbb=u,l=new n(p,q,u)):((0,d.assert)(n.config === p),(0,d.assert)(n.nbb === u));return l;};n.reset=function(){n.config=void 0;l=n.nbb=void 0;};return n;})();},84126:function(r,b){function a(c,k){var f;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(h){f=Object.getOwnPropertyDescriptor(c,h);void 0 !== f && Object.defineProperty(k,h,f);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},57862:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46580),b);r.__exportStar(a(79266),b);r.__exportStar(a(94345),b);r.__exportStar(a(53738),b);r.__exportStar(a(52338),b);r.__exportStar(a(27610),b);r.__exportStar(a(89786),b);r.__exportStar(a(64458),b);r.__exportStar(a(80251),b);r.__exportStar(a(32281),b);r.__exportStar(a(39100),b);r.__exportStar(a(14441),b);r.__exportStar(a(48548),b);r.__exportStar(a(64196),b);r.__exportStar(a(6965),b);r.__exportStar(a(73101),b);r.__exportStar(a(38690),b);r.__exportStar(a(21419),b);r.__exportStar(a(22335),b);r.__exportStar(a(94256),b);r.__exportStar(a(40178),b);r.__exportStar(a(11231),b);r.__exportStar(a(58996),b);r.__exportStar(a(12331),b);r.__exportStar(a(65378),b);r.__exportStar(a(84045),b);r.__exportStar(a(67814),b);r.__exportStar(a(56595),b);r.__exportStar(a(84472),b);r.__exportStar(a(87366),b);r.__exportStar(a(40079),b);r.__exportStar(a(81183),b);r.__exportStar(a(74810),b);r.__exportStar(a(84911),b);r.__exportStar(a(51619),b);r.__exportStar(a(87254),b);r.__exportStar(a(47358),b);r.__exportStar(a(69168),b);r.__exportStar(a(32662),b);r.__exportStar(a(66750),b);r.__exportStar(a(50610),b);r.__exportStar(a(88918),b);},79266:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},94345:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},53738:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52338:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46580:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27610:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Uc=b.bo=void 0;(function(c){c[c.cs=0]="STOPPED";c[c.Pe=1]="BUFFERING";c[c.vl=2]="REBUFFERING";c[c.um=3]="STREAMING";c[c.X_=4]="TRACK_SWITCH";})(a || (a={}));b.Uc=a;b.bo=function(c){return c === a.Pe || c === a.vl || c === a.X_;};},89786:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64458:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84911:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jz=void 0;r=b.Jz || (b.Jz={});r[r.FH=0]="skipped";r[r.crb=1]="adjustment";},80251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32281:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39100:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48548:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},88918:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66750:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47571:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(57862),b);},64196:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.t1b=b.Z7a=b.sta=void 0;b.sta=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.Z7a=a;b.t1b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.ah)," sp:").concat(c.dz," ") + ("pssp:").concat(c.YV," ") + ("state:").concat(c.jf," path-complete:").concat(c.Oy," ") + ("streaming:").concat(c.Fr," current:").concat(c.Jq);};},6965:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38690:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73101:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CG=b.e7=b.Oz=b.v=void 0;c=a(18920);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.Oz=[c.v.ga,c.v.Z];b.e7=function(k,f,h){k=k || f?f?[c.v.Z]:[c.v.ga]:[c.v.ga,c.v.Z];h && k.push(c.v.Ya);return k;};b.CG=function(k){return k === c.v.ga?"audio":k === c.v.Z?"video":k === c.v.Ya?"text":"unknown";};},21419:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},22335:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},94256:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tz=void 0;r=b.Tz || (b.Tz={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.DI=1]="HAVE_SOMETHING";r[r.CI=2]="HAVE_MINIMUM";r[r.cP=3]="HAVE_ENOUGH";},40178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11231:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},58996:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Db=b.zsa=void 0;c=a(27610);(function(f){f[f.Hk=0]="STARTING";f[f.Pe=1]="BUFFERING";f[f.vl=2]="REBUFFERING";f[f.me=3]="PLAYING";f[f.N_=4]="STOPPING";f[f.cs=5]="STOPPED";f[f.Xh=6]="PAUSED";})(k || (k={}));b.Db=k;b.zsa=function(f){return f === c.Uc.Pe?k.Pe:f === c.Uc.vl?k.vl:f === c.Uc.X_?k.Pe:f === c.Uc.um?k.me:k.Hk;};},51619:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(48170),b);r.__exportStar(a(11351),b);r.__exportStar(a(3311),b);r.__exportStar(a(34759),b);r.__exportStar(a(64771),b);r.__exportStar(a(27891),b);r.__exportStar(a(60657),b);r.__exportStar(a(79465),b);},48170:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27891:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11351:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},3311:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},79465:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},34759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},12331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65378:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84045:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56595:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87366:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},40079:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50610:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81183:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74810:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},69168:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nq=void 0;r=b.nq || (b.nq={});r[r.ckb=0]="PLAYGRAPH_CHANGED";r[r.dkb=1]="PLAYGRAPH_UNCHANGED";r[r.njb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.alb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.phb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.ohb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.blb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.eeb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Fib=8]="LOSS_OF_POSITION";},87254:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(47396),b);r.__exportStar(a(38108),b);},47396:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38108:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32662:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47358:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},17655:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qw=b.AD=b.Yr=b.fM=b.cea=void 0;c=a(70655);k=a(86393);Object.defineProperties(b,{AD:{enumerable:!0,get:function(){return k.AD;}}});Object.defineProperties(b,{Qw:{enumerable:!0,get:function(){return k.Qw;}}});Object.defineProperties(b,{fM:{enumerable:!0,get:function(){return k.fM;}}});Object.defineProperties(b,{cea:{enumerable:!0,get:function(){return k.cea;}}});f=c.__importDefault(a(29736));r=(function(h){function d(g,m,l,n,p){return h.call(this,d.console,g,m,l,n,p) || this;}c.__extends(d,h);Object.defineProperties(d,{console:{get:function(){return this.S || (this.S=new f.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(k.Yr);b.Yr=r;},8528:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;r=a(70655);c=a(5640);k=a(47571);new (r.__importDefault(a(29736)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function f(h){var Q2_;Q2_=2;for(;Q2_ !== 4;){switch(Q2_){case 2:var f46="1S";f46+="I";f46+="YbZrNJCp";f46+="9";this.aoa=h;this.$x={};f46;Q2_=4;break;}}}var Y5k;Y5k=2;for(;Y5k !== 7;){switch(Y5k){case 3:f.prototype.Xm=function(){var j1c;j1c=2;for(;j1c !== 1;){switch(j1c){case 2:return this.RC.get();break;}}};f.prototype.ocb=function(h){var P5J,d,g;P5J=2;for(;P5J !== 5;){switch(P5J){case 2:(d=Object.keys(this.$x).map(function(m){var Q$1;Q$1=2;for(;Q$1 !== 1;){switch(Q$1){case 2:return parseInt(m);break;}}}),g=this.$x[d[0]]);1 === d.length && !1 === g.d4?(this.RC.start(h,g.Aj),this.oR=g.Aj):1 < d.length && this.oR && (d=this.$x[this.oR],this.RC.stop(h,this.oR),d.d4=!1,this.oR=void 0);P5J=5;break;}}};return f;break;case 2:f.prototype.reset=function(){var M$B;M$B=2;for(;M$B !== 1;){switch(M$B){case 2:this.RC=new c.cAa();M$B=1;break;}}};f.prototype.aw=function(h,d){var Z0O;Z0O=2;for(;Z0O !== 1;){switch(Z0O){case 2:d.Aj && (this.aoa?this.RC.start(h,d.Aj):d.type === k.v.Z && (this.$x[d.Aj]?this.$x[d.Aj].TX+=1:this.$x[d.Aj]={Aj:d.Aj,TX:1,d4:!1},this.ocb(h)));Z0O=1;break;}}};f.prototype.dw=function(h,d){var v3H,g;v3H=2;for(;v3H !== 9;){switch(v3H){case 2:v3H=d.Aj?1:9;break;case 1:v3H=this.aoa?5:4;break;case 4:g=this.$x[d.Aj];d.type === k.v.Z && g && (--g.TX,0 === g.TX && (g.d4 && this.RC.stop(h,d.Aj),g.d4=!1,delete this.$x[d.Aj]),this.ocb(h));v3H=9;break;case 5:this.RC.stop(h,d.Aj);v3H=9;break;}}};f.prototype.AA=function(h,d,g,m){var c5R;c5R=2;for(;c5R !== 1;){switch(c5R){case 2:m.Aj && (this.aoa?this.RC.add(h,d,g,m.Aj):this.oR === m.Aj && this.RC.add(h,d,g,m.Aj));c5R=1;break;}}};Y5k=3;break;}}})();b.Fba=a;},10764:function(r,b,a){var k;function c(){this.ym=void 0;this.qA=0;}k=a(67841);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.qA && this.ym?{p25:this.ym.Kp,p50:this.ym.gn,p75:this.ym.Lp,c:this.qA}:null;};c.prototype.dh=function(f){if(!(!k.Wb(f) && k.has(f,"p25") && k.has(f,"p50") && k.has(f,"p75") && k.has(f,"c") && k.isFinite(f.p25) && k.isFinite(f.p50) && k.isFinite(f.p75) && k.isFinite(f.c)))return (this.ym=void 0,this.qA=0,!1);this.ym={Kp:f.p25,gn:f.p50,Lp:f.p75};this.qA=f.c;};c.prototype.get=function(){return {gsa:this.ym,Nj:this.qA};};c.prototype.set=function(f,h){this.ym=f;this.qA=h;};c.prototype.reset=function(){this.ym=void 0;this.qA=0;};c.prototype.toString=function(){return "IQRHist(" + this.ym + "," + this.qA + ")";};r.exports=c;},33742:function(r,b,a){var d,g,m,l,n,p;function c(q){var u;u=q.hfa;this.X=q;this.cA=g.sl.HAVE_NOTHING;this.Xea=q.Xea;q=new n(q);this.eR=q.create("throughput-location-history",u);this.I0=q.create("throughput-location-history",u);this.p1=q.create("throughput-location-history",u);this.q1=q.create("throughput-location-history",u);this.o1=q.create("throughput-location-history",u);this.ux=q.create("respconn-location-history",u);this.jx=q.create("respconn-location-history",u);this.n1=q.create("throughput-tdigest-history",u);this.J0=q.create("throughput-iqr-history",u);this.w0=q.create("throughput-location-history",u);this.y0=q.create("throughput-location-history",u);this.x0=q.create("throughput-location-history",u);this.z0=q.create("throughput-location-history",u);this.jb=null;}function k(q,u,t,v,w){this.ps=new c(w);this.Hn=[];this.Pnb=m.time.Da() - Date.now() % 864E5;this.ls=null;this.X=w;for(q=0;q < v;++q){this.Hn.push(new c(w));}}function f(q,u,t){return d.has(q,u)?q[u]:q[u]=t;}function h(q,u){var t;this.X=q;this.sPa=u;this.ZCb();this.bE=new c(this.X);this.Jfa();t=q.Oja;t && (t={confidence:g.sl.cP,sb:{Ea:parseInt(t,10),$d:0},el:{Ea:0,$d:0},A5:{Ea:0,$d:0}},this.get=function(){return t;});}d=a(67841);g=a(54186)["default"];b=a(74005);m=a(29736)["default"];l=b.DCa;n=a(48643).vhb;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.sl.HAVE_NOTHING};c.prototype.DE=function(q,u){this.cA=u;this.eR.add(q);this.n1.add(q);this.jb=m.time.Da();};c.prototype.BE=function(q){this.I0.add(q);};c.prototype.EE=function(q){this.p1.add(q.initial);this.q1.add(q.low);this.o1.add(q.high);};c.prototype.fI=function(q,u){this.J0.set(q,u);};c.prototype.BA=function(q){this.ux.add(q);};c.prototype.wx=function(q){this.jx.add(q);};c.prototype.VJ=function(q){this.w0.add(q.Ea);this.y0.add(q.$d);this.x0.add(q.$J);this.z0.add(q.qO);};c.prototype.getState=function(){var q,u,t,v,w,y,x,A,z,B,C,D,F,G;q=this.eR.getState();u=this.I0.getState();t=this.p1.getState();v=this.q1.getState();w=this.o1.getState();y=this.ux.getState();x=this.jx.getState();A=this.J0.getState();z=this.n1.getState();B=this.w0.getState();C=this.y0.getState();D=this.x0.getState();F=this.z0.getState();if(d.Wb(q) && d.Wb(y) && d.Wb(x))return null;G={c:this.cA,t:m.time.Iqa(this.jb)};d.Wb(q) || (G.tp=q);d.Wb(u) || (G.itp=u);d.Wb(t) || (G.tcii=t);d.Wb(v) || (G.tcil=v);d.Wb(w) || (G.tcih=w);d.Wb(y) || (G.rt=y);d.Wb(x) || (G.hrt=x);d.Wb(A) || (G.iqr=A);d.Wb(z) || (G.td=z);d.Wb(B) || (G.dta=B);d.Wb(C) || (G.dtv=C);d.Wb(D) || (G.dtta=D);d.Wb(F) || (G.dttv=F);return G;};c.prototype.dh=function(q){var u;u=m.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.sl.cP || q.t > u || !this.eR.dh(q.tp))return (this.cA=g.sl.HAVE_NOTHING,this.ls=this.jb=null,this.eR.dh(null),this.ux.dh(null),this.jx.dh(null),!1);this.cA=q.c;this.jb=m.time.gra(q.t);this.ux.dh(d.has(q,"rt")?q.rt:null);this.jx.dh(d.has(q,"hrt")?q.hrt:null);this.I0.dh(d.has(q,"itp")?q.itp:null);this.p1.dh(d.has(q,"tcii")?q.tcii:null);this.q1.dh(d.has(q,"tcil")?q.tcil:null);this.o1.dh(d.has(q,"tcih")?q.tcih:null);this.w0.dh(d.has(q,"dta")?q.dta:null);this.y0.dh(d.has(q,"dtv")?q.dtv:null);this.x0.dh(d.has(q,"dtta")?q.dtta:null);this.z0.dh(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.J0.dh(q.iqr);d.has(q,"td") && this.n1.dh(q.td);return !0;};c.prototype.get=function(){var q,u,t,v,w,y,x,A,z,B,C;q=this.X;if(d.Wb(this.jb))return p;u=(m.time.Da() - this.jb) / 1E3;u > q.pnb?this.cA=g.sl.HAVE_NOTHING:u > q.Vmb && (this.cA=Math.min(this.cA,g.sl.DI));q=this.eR.get();t=this.I0.get();v=this.p1.get().Ea;w=this.q1.get().Ea;y=this.o1.get().Ea;x=this.ux.get();A=this.jx.get();z=this.J0.get();B=this.n1.get();C={Ea:this.w0.Vma().Ea,$d:this.y0.Vma().Ea,$J:this.x0.get().Ea,qO:this.z0.get().Ea};u={Dl:u,confidence:this.cA,sb:q,YT:t,"throughput-ci":{initial:v,low:w,high:y},el:x,A5:A,KB:z,fh:B,Nm:C};q && (u.Yfc=l.prototype.Sv.bind(q));x && (u.bfc=l.prototype.Sv.bind(x));A && (u.kdc=l.prototype.Sv.bind(A));return u;};c.prototype.time=function(){return this.jb;};k.prototype.ce=function(){return ((m.time.Da() - this.Pnb) / 1E3 / 3600 / (24 / this.Hn.length) | 0) % this.Hn.length;};k.prototype.getState=function(){var q;q={g:this.ps.getState(),h:this.Hn.map(function(u){return u.getState();})};d.Wb(this.ls) || (q.f=m.time.Iqa(this.ls));return q;};k.prototype.dh=function(q){var u,t;if(!this.ps.dh(q.g))return !1;u=this.Hn.length;t=!1;this.Hn.forEach(function(v,w){t=!v.dh(q.h[w * q.h.length / u | 0]) || t;});this.ls=d.has(q,"f")?m.time.gra(q.f):null;return t;};k.prototype.DE=function(q,u){this.ps.DE(q,u);this.Hn[this.ce()].DE(q,u);this.ls=null;};k.prototype.BE=function(q){this.ps.BE(q);this.Hn[this.ce()].BE(q);this.ls=null;};k.prototype.EE=function(q){this.ps.EE(q);this.Hn[this.ce()].EE(q);this.ls=null;};k.prototype.fI=function(q,u){this.ps.fI(q,u);this.Hn[this.ce()].fI(q,u);};k.prototype.BA=function(q){this.ps.BA(q);this.Hn[this.ce()].BA(q);};k.prototype.wx=function(q){this.ps.wx(q);this.Hn[this.ce()].wx(q);};k.prototype.VJ=function(q){this.ps.VJ(q);this.Hn[this.ce()].VJ(q);};k.prototype.fail=function(q){this.ls=q;};k.prototype.get=function(){var q,u;if(!d.Wb(this.ls)){if((m.time.Da() - this.ls) / 1E3 < this.X.Umb)return {confidence:g.sl.HAVE_NOTHING,Os:!0};this.ls=null;}q=this.Hn[this.ce()].get();u=this.ps.get();q=q.confidence >= u.confidence?q:u;q.Os=!1;return q;};k.prototype.time=function(){return this.ps.time();};h.prototype.GNa=function(q,u){var t;t=this.X;q=f(this.EQ,q,{});return f(q,u,new k(t.RNa || 14400,t.QNa || 100,t.PNa || 100,t.COa || 4,t));};h.prototype.Jfa=function(){var q,u;q=m.storage.get("lh");u=m.storage.get("gh");q && this.gga(q);u && this.ipb(u);};h.prototype.gnb=function(){var q;q={};d.Ms(this.EQ,function(u,t){d.Ms(u,function(v,w){f(q,t,{})[w]=v.getState();},this);},this);return q;};h.prototype.ipb=function(q){this.bE.dh(q);};h.prototype.gga=function(q){var u,t;u=null;t=this.X;d.Ms(q,function(v,w){d.Ms(v,function(y,x){var A;A=new k(t.RNa || 14400,t.QNa || 100,t.PNa || 100,t.COa || 4,t);A.dh(y)?(f(this.EQ,w,{})[x]=A,u=!0):d.Wb(u) && (u=!1);},this);},this);return d.Wb(u)?!0:u;};h.prototype.save=function(){var q;q=this.gnb();m.storage.set("lh",q);m.storage.set("gh",this.bE.getState());this.sPa && this.sPa.dva(this.bE.getState());};h.prototype.ZCb=function(){this.EQ={};this.qJ=this.mNa="";this.ck=null;};h.prototype.L9=function(q){this.mNa=q;this.ck=null;};h.prototype.K9=function(q){this.qJ=q;this.ck=null;};h.prototype.aE=function(){d.Wb(this.ck) && (this.ck=this.GNa(this.mNa,this.qJ));return this.ck;};h.prototype.DE=function(q,u){this.aE().DE(q,u);this.bE.DE(q,u);};h.prototype.BE=function(q){this.aE().BE(q);this.bE.BE(q);};h.prototype.EE=function(q){this.aE().EE(q);this.bE.EE(q);};h.prototype.fI=function(q,u){q && q.Kp && q.gn && q.Lp && (this.aE().fI(q,u),this.bE.fI(q,u));};h.prototype.BA=function(q){this.aE().BA(q);};h.prototype.wx=function(q){this.aE().wx(q);};h.prototype.VJ=function(q){this.aE().VJ(q);};h.prototype.fail=function(q,u){this.GNa(q,this.qJ).fail(u);};h.prototype.get=function(q,u){var t,v,w,y;q=(q=this.EQ[q])?q[this.qJ]:null;t=null;if(q && (t=q.get(),t.confidence > g.sl.HAVE_NOTHING))return t;if(!1 === u)return p;v=t=null;w=!1;y=null;d.Ms(this.EQ,function(x){d.Ms(x,function(A,z){var B;if(!w || z == this.qJ){B=A.get();B && (!v || v <= B.confidence) && (!y || v < B.confidence || y < A.time()) && (v=B.confidence,w=z == this.qJ,y=A.time(),t=B);}},this);},this);return t?t:p;};r.exports=h;},40275:function(r,b,a){var k,f;function c(h){this.X=h;this.Jfa();}k=a(67841);f=a(29736)["default"];new f.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var h;h=this.getState();f.storage.set("nh",h);};c.prototype.H0a=function(h,d){this.kga && (d > this.IJ && (this.uE+=d - this.IJ,this.IJ=d),null === this.Q0 || h > this.Q0) && (h=d - h,this.xJ.push([this.uE - h,h]),this.wpb(),this.Q0=d);};c.prototype.wpb=function(){var h;h=this.uE - this.X.aRb;this.xJ=this.xJ.filter(function(d){return d[0] > h;});};c.prototype.Jfa=function(){var h;h=f.storage.get("nh");this.gga(h) || (this.IJ=f.time.Da(),this.uE=0,this.kga=!1,this.Q0=null,this.xJ=[]);};c.prototype.gga=function(h){if(!(h && k.has(h,"t") && k.has(h,"s") && k.has(h,"i") && k.rb(h.t) && k.rb(h.s) && k.isArray(h.i)))return !1;this.IJ=f.time.gra(1E3 * h.t);this.uE=1E3 * h.s;this.kga=!1;this.xJ=h.i.map(function(d){return [1E3 * d[0],d[1]];});this.Q0=null;return !0;};c.prototype.getState=function(){return this.kga?{t:f.time.now() / 1E3 | 0,s:(this.uE + (f.time.Da() - this.IJ)) / 1E3 | 0,i:this.xJ.map(function(h){return [h[0] / 1E3 | 0,h[1]];})}:{t:f.time.Iqa(this.IJ) / 1E3 | 0,s:this.uE / 1E3 | 0,i:this.xJ.map(function(h){return [h[0] / 1E3 | 0,h[1]];})};};r.exports=c;},73764:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);k=c.__importStar(a(67841));r=a(28075);f=c.__importDefault(a(24068));h=c.__importDefault(a(32364));d=a(42016);g=a(2838);m=a(8528);l=a(93950);n=a(29736)["default"];p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(v,w,y){var x;x=u.call(this) || this;x.$o={};x.XQ=0;x.lA=0;x.gQ=[];x.zf=0;x.Dac=!1;x.X=y;x.vNa=new h.default(y);x.yQ=new m.Fba(!0);x.fQ=new m.Fba(!1);y.qCb && (x.GJ=new l.FHa(x.X));x.reset();x.rOa=v;x.ck=w;x.SNa=n.oo.name();x.ck.K9(x.SNa);n.events.on("networkchange",x.zSb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.zSb=function(v){this.SNa=v;this.ck.K9(v);};Object.defineProperties(t.prototype,{Gp:{get:function(){return this.ck;},enumerable:!1,configurable:!0}});t.prototype.ucb=function(){var v;if(!this.pga){v=this.QZa();this.ck.DE(v.default.Ea,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Ea && this.ck.BE(v["initial-throughput-ewma"].Ea);v["throughput-ci"] && this.ck.EE(v["throughput-ci"]);v.deliverytime && this.ck.VJ(v.deliverytime);this.ck.fI(v.KB?v.KB.gsa:void 0,v.KB?v.KB.TYb:void 0);k.Wb(this.Fc) || (this.pga=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.$o.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gk:{get:function(){return this.fJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bqb:{get:function(){return this.gQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{vNb:{get:function(){return this.WNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});t.prototype.ymb=function(){var v,w,y,x;v=this.X;w=v.Jmb.concat(v.Rmb);y=v.hfa;x=this.vNa;w=w.reduce(function(A,z){A[z]=x.create(z,y);return A;},{});w.confidence=new g.kda(v,new d.NGa(v,this.T7.bind(this)));return w;};t.prototype.reset=function(){var v,w,y,x;v=this.X.hfa;w=this.vNa;y=this.X;this.fE=null;this.$o=this.ymb();if(this.X.ZVa){x=this.X.obb;this.$o.F2b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.yQ.reset();this.fQ.reset();this.ux=w.create("respconn-ewma",v);this.jx=w.create("respconn-ewma",v);this.GJ && this.GJ.reset();this.Cpb=this.ucb.bind(this);this.v1=void 0;this.kx=this.Fc=this.rg=null;this.s1=0;y.T8a && (this.lA=this.XQ=this.fJ=0,this.gQ=[]);};t.prototype.L9=function(v){var w;w=this.$o;if(v !== this.fE){k.mi(this.v1) || (clearInterval(this.v1),this.v1=void 0);k.Wb(this.fE) && (this.s1=0,this.rg=null);if(!k.Wb(v)){for(var y in w){w[y] && w[y].reset && w[y].reset();}this.ux.reset();this.jx.reset();}k.Wb(this.rg) || (this.s1+=(k.Wb(this.Fc)?n.time.Da():this.Fc) - this.rg);this.Fc=this.rg=null;this.fE=v;this.ck.L9(v);}};t.prototype.K9=function(v){this.ck.K9(v);};t.prototype.AA=function(v,w,y,x){var A,z;this.WNa=Math.max(this.WNa || 0,y);this.lA-=v;A=this.X;z=this.$o;if(!0 === x.wO)(x=z["throughput-wssl"]) && x.add(v,w,y,!0);else if(k.mi(w))p.warn("addDataReceived called with undefined start time");else {this.GJ && this.GJ.AA(v,w,y,x);A.Qmb && 10 > y - w?w=y - 10:0 === y - w && (w=y - 1);this.yQ.AA(v,w,y,x);this.fQ.AA(v,w,y,x);for(var B in z){z[B] && z[B].add && z[B].add(v,w,y,x);}k.Wb(this.rg) && (this.rg=w,this.Fc=null,this.pga=!1);k.Wb(this.Fc) || (w > this.Fc && (this.rg+=w - this.Fc),this.Fc=null,this.pga=!1);k.Wb(this.kx) || (w - this.kx > A.sOa?this.rOa.H0a(this.kx,w):y - w > A.sOa && this.rOa.H0a(w,y));this.kx=this.kx?Math.max(y,this.kx):y;}};t.prototype.BA=function(v){this.ux.add(v);this.ck.BA(v);};t.prototype.wx=function(v){this.jx.add(v);this.ck.wx(v);};t.prototype.start=function(v,w){var y;k.Wb(this.kx) && !k.Wb(this.Fc) && (this.kx=v);y=this.$o;if(this.X.Pva)for(var x in y){y[x] && y[x].start && y[x].start(v,w);}};t.prototype.stop=function(v,w){var y,x;y=this.$o;for(x in y){y[x] && y[x].stop && y[x].stop(v,w);}this.Fc=k.Wb(this.Fc)?v:Math.min(this.Fc,v);this.kx=null;};t.prototype.flush=function(){var v,w;v=this.$o;for(w in v){v[w] && v[w].flush && v[w].flush();}};t.prototype.PGb=function(){var v,w;v=this.$o.pcc;if(v){w=v.Ttb();v.reset();}return w;};t.prototype.QZa=function(){var v,w,y,x,A,z,B,C;v=n.time.Da();w=this.$o;y=this.X;x=y.Dmb;A=y.Emb;z=y.dpb;B={};for(C in w){w[C] && w[C].get && (B[C]=w[C].get(v,this.lA),"iqr" === w[C].type && (B.KB=B[C]),"tdigest" === w[C].type && (B.fh=B[C]),"wssl" === w[C].type && (B.wO=B[C]));}B.cdnavtp=this.yQ.Xm();B.activecdnavtp=this.fQ.Xm();B.default=x && B[x] && A && void 0 !== B[x][A]?{Ea:B[x][A]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.Iua && "none" !== z && (B.B9a=z && B[z]?B[z]:B["throughput-sw"]);return B;};t.prototype.Mma=function(){return this.GJ?this.GJ.Mma():void 0;};t.prototype.get=function(){var v,w,y,x,A,z;v=this.QZa();w=v.default;y=this.ux.get();x=this.jx.get();A=this.X;if(v.B9a){z=v.B9a;w=k.rb(w.Ea) && k.rb(z.Ea) && w.Ea > z.Ea && 0 < z.Ea?z:w;}v.sb=w;v.YT=v["initial-throughput-ewma"];!A.CCb || !w || k.Wb(w.Ea) || isNaN(w.Ea) || !v.wO || k.Wb(v.wO.Ea) || isNaN(v.wO.Ea) || ("max" === A.Qdb?v.sb.Ea=Math.max(v.wO.Ea,w.Ea):"sum" === A.Qdb && (v.sb.Ea+=v.wO.Ea));v.el=y;v.A5=x;this.X.ZVa && (w=this.X.obb,v.bgc=this.$o.F2b.get(w.fillS,w.fillHl));w=this.s1 + (k.Wb(this.rg)?0:(k.Wb(this.Fc)?n.time.Da():this.Fc) - this.rg);v.time=w;return v;};t.prototype.gJb=function(){var v,w,y;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Ea).toFixed(2);v.asevartp=Number(w["throughput-ewma"].$d).toFixed(2);if(w.KB){y=w.KB.gsa;!y || void 0 === y.Lp || void 0 === y.Kp || void 0 === y.gn || isNaN(y.Lp || 0) || isNaN(y.Kp) || isNaN(y.gn) || (v.aseniqr=0 < y.gn?Number((y.Lp - y.Kp) / y.gn).toFixed(2):-1,v.aseiqr=Number(y.Lp - y.Kp).toFixed(2),v.asemedtp=Number(y.gn).toFixed(2));v.iqrsamples=w.KB.TYb;}w.fh && w.fh.sL && (v.tdigest=w.fh.sL());}return v;};t.prototype.aw=function(v,w){var y,x,A;y=w.requestId;1 === ++this.fJ && this.emit("active",v);if(this.X.HVa){x=this.$o;for(A in x){x[A] && x[A].aw && x[A].aw(v,w);}}this.X.f$ && this.start(v,w);y && (this.X.f$ || this.start(v,w),this.gQ.push(y));this.lA+=w.xa || 0;this.yQ.aw(v,w);this.fQ.aw(v,w);};t.prototype.dYb=function(){++this.XQ;};t.prototype.dw=function(v,w,y){var x,A,z;x=y.requestId;w && --this.XQ;--this.fJ;this.lA=Math.max((this.lA || 0) - ((y.xa || 0) - (y.bytesReceived || 0)),0);this.X.T8a && (this.fJ=Math.max(this.fJ,0),this.XQ=Math.max(this.XQ,0));if(this.X.HVa){A=this.$o;for(z in A){A[z] && A[z].dw && A[z].dw(v,w,y);}}this.X.f$ && this.stop(v,y);0 === this.fJ && (this.X.f$ || this.stop(v,y),this.emit("inactive",v));x && (w=this.gQ.indexOf(x),0 <= w && this.gQ.splice(w,1));this.yQ.dw(v,y);this.fQ.dw(v,y);};t.prototype.T7=function(){this.ucb();this.v1=setInterval(this.Cpb,this.X.Dnb);};return t;})(r.EventEmitter);b["default"]=a;},93950:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FHa=void 0;r=a(70655);c=a(47571);k=r.__importDefault(a(8533));a=(function(){var L0p;L0p=2;for(;L0p !== 3;){switch(L0p){case 2:f.prototype.reset=function(){var D6S;D6S=2;for(;D6S !== 4;){switch(D6S){case 2:this.wW=[0,0];D6S=1;break;case 1:this.Dk=[0,0];this.FV=[0,0];D6S=4;break;case 9:this.wW=[9,1];D6S=0;break;}}};f.prototype.AA=function(h,d,g,m){var K1u,l,n;K1u=2;for(;K1u !== 8;){switch(K1u){case 9:this.FV[m.type]+=h;K1u=8;break;case 2:this.Dk[m.type]+=h;K1u=5;break;case 5:K1u=(null === (l=m.xW) || void 0 === l?0:l.e6())?4:3;break;case 4:(this.wW[m.type]+=h,this.$5a.add(h,d,g),this.Mra[m.type].add(h,d,g));K1u=3;break;case 3:K1u=(null === (n=m.xW) || void 0 === n?0:n.$pa(h,d,g,this.GV))?9:8;break;}}};f.prototype.Mma=function(){var R8Q;R8Q=2;for(;R8Q !== 1;){switch(R8Q){case 2:return {bytesRequestedPacingVideo:this.wW[c.v.Z],bytesRequestedPacingAudio:this.wW[c.v.ga],estimatedBytesPacedVideo:this.FV[c.v.Z],estimatedBytesPacedAudio:this.FV[c.v.ga],bytestotalVideo:this.Dk[c.v.Z],bytestotalAudio:this.Dk[c.v.ga],pacedAvtpVideo:this.Mra[c.v.Z].get().Ea,pacedAvtpAudio:this.Mra[c.v.ga].get().Ea,pacedAvtp:this.$5a.get().Ea};break;}}};return f;break;}}function f(h){var f_y;f_y=2;for(;f_y !== 7;){switch(f_y){case 4:var v4Y="1S";v4Y+="IY";v4Y+="bZ";v4Y+="rNJ";v4Y+="Cp9";v4Y;this.GV=h.GV;this.Mra=[new k.default(),new k.default()];this.$5a=new k.default();f_y=7;break;case 2:this.wW=[0,0];this.Dk=[0,0];this.FV=[0,0];f_y=4;break;}}}})();b.FHa=a;},45041:function(r,b,a){var k,f;function c(h){this.X={SU:h.maxc || 25,bja:h.c || .5,NWb:h.rc || "none",ZF:h.hl || 7200};this.aR();this.Tob=this.X.NWb;this.DQ=this.X.ZF;this.Hea=Math.exp(Math.log(2) / this.DQ);this.Hea=Math.max(this.Hea,1);this.s0=1;}k=a(67841);f=a(14378).TDigest;new (a(29736)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var h;if(0 === this.We.size())return null;h=this.We.yi([.25,.75]);if(h[0] === h[1])return null;this.We.size() > this.X.SU && this.We.Ox();h=this.We.Hr(!1).reduce((function(d,g){k.rb(g.Tf) && k.rb(g.n) && d.push({mean:g.Tf,n:g.n / this.s0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(h)};};c.prototype.dh=function(h){var d;if(k.Wb(h) || !k.has(h,"tdigest") || !k.yg(h.tdigest))return !1;try{d=JSON.parse(h.tdigest);}catch(g){return !1;}d.forEach(function(g){k.isFinite(g.n) || (g.n=1);});h=d.map(function(g){return {Tf:g.mean,n:g.n};});this.s0=1;this.We.kta(h);void 0 === this.We.yi(0) && this.aR();};c.prototype.get=function(){var h,d;h=this.We;d=h.yi([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Kra:d[1],Kp:d[2],gn:d[3],Lp:d[4],Lra:d[5],max:d[6],xj:h.Hr(!1)};};c.eIb=function(h){var d;d=new c({});k.Wb(h) || k.mi(h) || !k.isArray(h.xj) || (d.We.kta(h.xj),void 0 === d.We.yi(0) && d.aR());h=d.We.yi([.25,.75]);return h[0] === h[1]?null:function(g){return d.We.yi(g);};};c.prototype.add=function(h){var d;d=1;"ewma" === this.Tob && (this.s0=d=this.s0 * this.Hea);this.We.push(h,d);};c.prototype.toString=function(){return "TDigestHist(" + this.We.summary() + ")";};c.prototype.aR=function(){this.We=new f(this.X.bja,this.X.SU);};r.exports={NLa:c};},31925:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.U_=void 0;c=a(44724);b.U_=(function(){function f(h,d,g){g.rF && (k=new (a(51530).tLa)(h,d));}f.instance=function(){(0,c.assert)(k,"expected StaticMediaProvider to exist");return k;};return f;})();},58260:function(r,b,a){var f,h,d,g;function c(m,l,n,p,q){var u,t;n=null !== (u=l.cf) && void 0 !== u?u:l.track.Qs(m,n.G,void 0,q);m=null !== (t=l.qf) && void 0 !== t?t:l.track.aL(m,null === p || void 0 === p?void 0:p.G,l.fl);return [!l.Wg(),n,m];}function k(m,l){var C,D;for(var n=[],p=0,q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],v=l.qf.index,w=l.track.Bo,y=0,x=l.cf.Ma,A=l.cf.Za.G > q[0],z=A,B=l.cf.index;B <= v;++B){C=!1;if(q){D=w.get(B);A && (D.Ma.G >= t?(A=!1,++p >= m.length?t=u=q=void 0:(q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):z?z=!1:(n.push(new d.J_(y,x,D.Ma)),x=D.Ma,C=!0));!A && q && D.Za.G > u && (A=!0,C=D.Ma,(D=l.track.fG.Xn(B).WWa(u)) && 0 !== D.Mj && (C=g.N.Na(D.Me)),n.push(new d.J_(y,x,C)),x=C,C=!0);}C && ++y;}n.push(new d.J_(y,x,l.qf.Za));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.mPb=b.i3a=b.X4a=b.U4a=b.Jta=void 0;f=a(70655);h=a(47571);d=a(54531);g=a(74005);b.Jta=function(m,l,n){var p,q,u;u=l.get(h.v.ga);l=l.get(h.v.Z);l=null === l || void 0 === l?void 0:l.track.aL(m,null === n || void 0 === n?void 0:n.G,l.fl);return [null === u || void 0 === u?void 0:u.track.aL(m,null !== (q=null === (p=null === l || void 0 === l?void 0:l.Za) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === n || void 0 === n?void 0:n.G,u.fl),l];};b.U4a=function(m,l,n,p,q){var u,t,v,w;u=l.get(h.v.ga);l=l.get(h.v.Z);t=f.__read(l?c(m,l,n,p,q):[!1],3);v=t[0];w=t[1];t=t[2];p=f.__read(u?c(m,u,v && void 0 !== (null === w || void 0 === w?void 0:w.Ma)?w.Ma:n,void 0 !== (null === t || void 0 === t?void 0:t.Za)?t.Za:p,q):[!1],3);m=p[0];n=p[1];p=p[2];m && (null === u || void 0 === u?void 0:u.Q5(n,p));v && (null === l || void 0 === l?void 0:l.Q5(w,t));return [m,v];};b.X4a=function(m,l,n){return l.track.Qs(m,n.G,void 0,!0).Ma;};b.i3a=function(m,l,n){var p;p=l.u;if(!p.Mq || 0 === p.Mq.length)return [];m=p.Mq.map(function(q){return [p.va + q[0],p.va + q[1]];});return k(m,n.Psa);};b.mPb=k;},81581:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;c=a(70655);k=a(47571);f=a(58260);h=a(44724);r=(function(){function d(g){var m,l,n,p,q,u,t;m=g.console;l=g.config;n=g.pa;p=g.rC;q=g.u;u=g.Ma;t=g.Za;g=g.splice;this.WT=this.pK=!1;this.console=m;this.config=l;this.rC=p;this.pa=n;this.u=q;this.Ma=u;this.Za=t;this.splice=g;this.mLb();}d.prototype.qa=function(g){if(this.pK)throw Error("Cannot call init() after cleanup");if(this.WT)throw Error("Cannot call init() twice");this.WT=!0;this.x5a=g;this.pa.events.addListener("onHeaderFragments",this.oSa);this.bha() && this.Yqa();};d.prototype.normalize=function(){if(this.pK)throw Error("Cannot call normalize() after cleanup");if(this.WT)throw Error("Cannot call init() / normalize() twice");this.WT=!0;(0,h.assert)(this.bha());return this.Yqa();};d.prototype.jN=function(g,m){(0,h.assert)(this.WT,"expected to be called init() before renormalize");this.u=g;this.Za=m;g=(0,f.Jta)(this.config,this.rC,this.Za);this.W4a();return g;};d.prototype.$e=function(){this.pK || (this.pK=!0,this.x5a=void 0,this.pa.events.removeListener("onHeaderFragments",this.oSa));};d.prototype.mLb=function(){var g;g=this;this.oSa=function(){g.pK || g.bha() && g.Yqa();};};d.prototype.Yqa=function(){var g,m,l;if(this.pK)return {sS:!1,$A:!1};m=this.pRb();l=!1;this.u && !this.u.Ip && (l=this.W4a());null === (g=this.x5a) || void 0 === g?void 0:g.call(this,m,l);this.$e();return {sS:m,$A:l};};d.prototype.bha=function(){return this.rC.every(function(g){return g.track.lk;});};d.prototype.pRb=function(){var g,m;g=c.__read((0,f.U4a)(this.config,this.rC,this.Ma,this.Za,this.splice),2);m=g[0];return g[1] || void 0 === this.rC.get(k.v.Z) && m;};d.prototype.W4a=function(){var g,m,l;(0,h.assert)(this.u,"missing segment");g=this.rC.Psa;m=(0,f.X4a)(this.config,g,this.u.Ud);if(void 0 === m || void 0 === g.Za)return !1;g=g.Za;l=this.config.ixa && "lazy" === this.u.Yd?(0,f.i3a)(this.console,this.u,this.rC):[];this.u.normalize(m,g,l);return !0;};return d;})();b.EIa=r;},29736:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={Vna:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},42324:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WIa=void 0;c=a(70655);r=(function(k){function f(h,d){h=k.call(this,h) || this;h.kWa=d;h.name="PlaybackError";return h;}c.__extends(f,k);f.CMb=function(h){return h && h.message && h.stack && h.kWa?"PlaybackError" === (null === h || void 0 === h?void 0:h.name):!1;};return f;})(Error);b.WIa=r;},19821:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Faa=void 0;c=a(70655);k=a(28075);f=a(74005);h=a(44724);d=a(50971);g=a(4145);r=a(43221);m=a(32922);l=a(28035);n=a(30694);p=a(71843);q=a(53800);u=a(53915);t=r.Rv.Uja;a=(function(v){function w(y,x,A){var z;z=v.call(this) || this;z.Y=y;z.fg=x;z.sq=A;z.zS=[];z.Be=void 0;z.zQ=new k.gf();z.hA=void 0;z.mA=void 0;z.Efa=void 0;z.zQ.on(z.Y,"underflow",z.yh.bind(z));z.oQ=new q.kJa(y);z.zQ.on(z.Y,"skipped",z.yV.bind(z));z.zQ.on(z.Y,"playing",z.xra.bind(z));z.zQ.on(z.Y,"playbackEnding",z.wra.bind(z));z.qx=new d.YP(z.oQ,z.S,"player");z.Axa=new f.yu();y.cSa && y.Vf && (z.cz=new u.OKa(z,y,z.S));return z;}c.__extends(w,v);Object.defineProperties(w.prototype,{ol:{get:function(){var y;return null === (y=this.Be) || void 0 === y?void 0:y.ol;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wC:{get:function(){var y;return (null === (y=this.Be) || void 0 === y?void 0:y.wC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ua:{get:function(){var y,x;return null !== (x=null === (y=this.Be) || void 0 === y?void 0:y.yp()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Z1a:{get:function(){return this.Efa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ca:{get:function(){var y;return null === (y=this.Be) || void 0 === y?void 0:y.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sa:{get:function(){return this.oQ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{GQa:{get:function(){var y,x;return !!((null === (y=this.Be) || void 0 === y?0:y.CH) && (null === (x=this.$q) || void 0 === x?0:x.ai));},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{CH:{get:function(){var y,x;return null !== (x=null === (y=this.Be) || void 0 === y?void 0:y.CH) && void 0 !== x?x:!1;},enumerable:!1,configurable:!0}});w.prototype.xra=function(y){var x;this.Efa=this.Zk(null !== (x=y.Me) && void 0 !== x?x:this.Y.Gd);(0,h.assert)(this.Efa,"Should have a location");};w.prototype.wra=function(y){var x;y=this.Zk(y.Me || this.Y.Gd,!0);(0,h.assert)(y,"Playback ending at position outside playgraph");x=this.XF(y);(0,h.assert)(x,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:x,position:y});};w.prototype.c$a=function(y){-1 === this.zS.indexOf(y) && this.zS.push(y);this.Be && this.Be.tV(y);this.events.emit("drmReady",{viewableId:y});};w.prototype.b$a=function(y){y=this.zS.indexOf(y);-1 !== y && this.zS.splice(y,1);};w.prototype.fU=function(y){var x;return -1 !== this.zS.indexOf(y) || !(null === (x=(0,g.qc)(this.Ua,function(A){return A.$n && A.pa.J === y;})) || void 0 === x || !x.pa.hv);};w.prototype.KC=function(y){var x;null === (x=this.Be) || void 0 === x?void 0:x.KC(y);};w.prototype.reset=function(){var y,x;this.Axa=new f.yu();v.prototype.reset.call(this);this.mA=void 0;null === (y=this.Be) || void 0 === y?void 0:y.reset();null === (x=this.cz) || void 0 === x?void 0:x.reset();};w.prototype.dua=function(y){this.pN([y]);};w.prototype.pN=function(y){var x,A;x=this;y.forEach(function(z){var B;v.prototype.dua.call(x,z);null === (B=x.cz) || void 0 === B?void 0:B.pYb(z);});null === (A=this.Be) || void 0 === A?void 0:A.pN(y);};w.prototype.OA=function(){var y;null === (y=this.Be) || void 0 === y?void 0:y.OA();};w.prototype.pause=function(y){this.JH(y);v.prototype.pause.call(this,null !== y && void 0 !== y?y:this.fg);};w.prototype.resume=function(y){var x;null === (x=this.Be) || void 0 === x?void 0:x.resume(y);v.prototype.resume.call(this,null !== y && void 0 !== y?y:this.fg);};w.prototype.Qa=function(){this.hA=this.u5()?this.Zn():void 0;this.Be && this.cka(this.Be.Ca);this.oQ.Qa();this.qx.Qa();this.zQ.clear();v.prototype.Qa.call(this);};w.prototype.IF=function(){var y,x;if(null === (y=this.Be) || void 0 === y?0:y.GVb){y=this.Y.Gd;if(this.sa.li){if(this.mA){if(this.mA.greaterThan(y))return (y=this.mA.wa(y),this.Axa.push(y.G),this.mA);if(this.Ua.length){x=this.Be.DNb;if(x && x.lessThan(y))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Hc:{clockdrift:{type:"count"}}}),this.mA);}}this.mA=y;}return y;}return v.prototype.IF.call(this);};w.prototype.vL=function(){var y;y=this.Y.playbackRate;void 0 === y && (y=v.prototype.vL.call(this));return y;};w.prototype.u5=function(){return !!this.hA || v.prototype.u5.call(this);};w.prototype.Zn=function(){return this.hA?this.hA:v.prototype.Zn.call(this);};w.prototype.MF=function(){var y;return null === (y=this.Be) || void 0 === y?void 0:y.xNb;};w.prototype.cka=function(y){var x;(0,h.assert)(y === this.Ca);null === (x=this.Be) || void 0 === x?void 0:x.Qa();this.Be=void 0;};w.prototype.c2=function(y,x){var A,z;this.hA=void 0;A=v.prototype.c2.call(this,y,x);if(A){z=new n.Xya(y,this,this.S,y.config,this.sq,this.events,this.fg,this.qx,this.cz,this.jA,this.gA,this.mJ,null === x || void 0 === x?void 0:x.ol,null === x || void 0 === x?void 0:x.wC);null === x || void 0 === x?void 0:x.EM();this.Be=z;this.JH(this.KM);this.cz && (x=y.$v.AIb(m.aea),x || (x=new m.aea(),y.Ye(x)),this.cz.qXb(x));}return A;};w.prototype.EM=function(){var y;null === (y=this.Be) || void 0 === y?void 0:y.EM();};w.prototype.Mka=function(){var A;for(var y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}A=this.Be;(0,h.assert)(A);y.forEach(function(z){return A.OCb(z);});};w.prototype.Cva=function(){var y;null === (y=this.Be) || void 0 === y?void 0:y.Cva();};w.prototype.di=function(y){var x,A,z;if(!this.Be)return !1;x=this.fT(y);if(!x)return !1;A=x.u;z=f.N.Na(this.sq.r7);return A.Rf.wa(z).lessThan(y) || !x.rK(y)?!1:this.Be.di(y);};w.prototype.yh=function(){var y,x,A;if(null === (y=this.Ca) || void 0 === y?0:y.Cj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Md;(0,h.assert)(this.Ca);y=this.Zk(A,!0);(0,h.assert)(y);null === (x=this.Be) || void 0 === x?void 0:x.yh();x=this.fT(A);null === x || void 0 === x?void 0:x.pa.yh();this.Ca.yh(y);}};w.prototype.yV=function(){this.mA=void 0;};w.prototype.Zla=function(){var y;return null === (y=this.Be) || void 0 === y?void 0:y.Zla();};w.prototype.JH=function(y){var x;null === (x=this.Be) || void 0 === x?void 0:x.JH(y);};w.prototype.Ewa=function(y){(0,h.assert)(this.Ca && this.Be);return v.prototype.Ewa.call(this,y);};w.prototype.L8=function(){(0,h.assert)(this.Be);this.Be.L8();};c.__decorate([t.return.Uha(),t.return.gm],w.prototype,"Zn",null);c.__decorate([t.return.Uha(),t.return.L7],w.prototype,"MF",null);return w=c.__decorate([l.DF],w);})(p.Fda);b.Faa=a;},30694:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=void 0;c=a(70655);k=a(28075);f=a(49252);h=c.__importDefault(a(29736));d=a(24705);g=a(47571);m=a(85147);l=a(74005);n=a(4145);p=a(50971);q=a(71016);u=a(44724);t=a(20571);v=a(44001);w=a(83674);r=(function(){function y(x,A,z,B,C,D,F,G,E,J,K,N,I,O){var L;L=this;this.Ca=x;this.Y=A;this.S=z;this.X=B;this.sq=C;this.gb=D;this.fg=F;this.Jd=G;this.cz=E;this.jA=J;this.gA=K;this.mJ=N;this.l0=!1;this.yNa=new l.dLa();this.Pfa=this.iSb.bind(this);this.Sfa=this.KSb.bind(this);this.fs=new d.tI(this.S);this.gR=I || new v.tea(this.S,x);this.Qyb(O);this.$j && (this.Job=this.Xla(this.pIb()),this.Mnb=l.Uw.Hdb(this.$j.map(function(H){return H.gr;}),function(H){return H.every(function(M){return M;});},function(H){return L.jA.set(H);}),this.hmb=new q.Yca(this.$j.map(function(H){return H.q6;}),function(H){return l.N.min.apply(l.N,c.__spreadArray([],c.__read(H),!1));},function(H){L.gA.set(H);},l.N.Na(-Infinity)));this.Wo=G.Tx(function(){return L.htb();},"branchPruner");this.Qo=new k.gf();this.Qo.on(this.gb,"segmentPresenting",function(){return c.__awaiter(L,void 0,void 0,function(){var H;return c.__generator(this,function(M){switch(M.label){case 0:return (this.Bnb=this.Y.Zn(),null !== (H=this.X.WQa) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(M.Ra(),this.gb.emit("requestGarbageCollection",{time:h.default.time.Da(),type:"requestGarbageCollection"}),M.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{ol:{get:function(){return this.gR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wC:{get:function(){var x;x=new Map();this.$j.forEach(function(A){x.set(A.mediaType,A.VM);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xNb:{get:function(){return this.Bnb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{CH:{get:function(){return this.$j.every(function(x){return x.CH;});},enumerable:!1,configurable:!0}});y.prototype.htb=function(){var x,A,z,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.fs.gTa)return [3,2];x=c.__read(this.fs.AX(),1);A=x[0];z=A.u.b1a && (null === (D=this.sq.GN) || void 0 === D?void 0:D.G) || 0;B=A.x6 || A.Mb;C=B.add(l.N.Na(z + 1E3));return [4,p.Pg.Yt(C)];case 1:return (F.Ra(),this.D7a(A),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{GVb:{get:function(){var x;return !(null === (x=this.Job) || void 0 === x || !x.gr.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{DNb:{get:function(){return this.l0?l.N.max.apply(l.N,c.__spreadArray([],c.__read(this.$j.map(function(x){var A;return null === (A=x.esb) || void 0 === A?void 0:A.Y1a;}).filter(n.F7)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.KC=function(x){this.$j.forEach(function(A){A.KC(x);});};y.prototype.iSb=function(){var x;this.Wo.Vf();x=this.$j.filter(function(A){return A.VLb;}).map(function(A){return A.mediaType;});this.JH(x);this.resume(x);};y.prototype.KSb=function(x){var A,z,B;x=x.tb;A=this.yp();z=A.indexOf(x);if(-1 !== z && !A.slice(0,z).some(function(C){return !C.ai;})){B=x.Kl;B && B.greaterThan(this.mJ.value) && (x.ai && z < A.length - 1 && (B=l.N.max(B,A[z + 1].Kl || l.N.EQb)),this.mJ.set(B));}};y.prototype.OCb=function(x){(0,u.assert)(-1 === this.fs.AX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.Pfa);x.events.on("requestComplete",this.Sfa);x.Kl && this.yp().every(function(A){return A.ai;}) && this.mJ.set(x.Kl);this.fs.enqueue(x);this.Wo.state === p.Ik.complete && this.Wo.Vf();x.u.qX && this.fs.SK();this.l0 || this.zEb(x);};y.prototype.tV=function(x){this.$j.forEach(function(A){A.tV(x);});};y.prototype.reset=function(){this.$j.forEach(function(x){x.reset();});this.l0=!1;this.yNa.removeAllListeners();this.OA();};y.prototype.dua=function(x){this.pN([x]);};y.prototype.pN=function(x){var A;A=this;x.forEach(function(z){z=A.Xla(z);null === z || void 0 === z?void 0:z.reset(!1,x);});};y.prototype.OA=function(){var x;x=this;this.fs.AX().forEach(function(A){A.events.kr("branchEdited",x.Pfa);A.events.kr("requestComplete",x.Sfa);});this.fs.clear();this.Wo.Vf();};y.prototype.L8=function(){var x;x=this;this.fs.AX().filter(function(A){return A.WJ;}).forEach(function(A){return x.D7a(A);});};y.prototype.resume=function(x){this.$j.forEach(function(A){void 0 !== x && -1 === x.indexOf(A.mediaType) || A.resume();});};y.prototype.JH=function(x){this.$j.forEach(function(A){return (void 0 === x || -1 !== x.indexOf(A.mediaType)) && A.stop();});};y.prototype.Cva=function(){this.$j.forEach(function(x){return x.q0b();});};y.prototype.yh=function(){this.S.trace("attached-player: onUnderflow");};y.prototype.JIb=function(){return this.fs.getIterator();};y.prototype.hHb=function(){return this.yp()[0];};y.prototype.yp=function(){return this.fs.AX();};y.prototype.Qyb=function(x){var A,z,B;A=this;this.EJ("createMediaSourceStart");if(this.sq.Fma)z=this.sq.Fma();else (z=new h.default.MediaSource(this.Y.Y),z.te || (z.te=h.default.MediaSource.te));if(1 !== z.readyState)this.KJ("exception in init","NFErr_MC_StreamingInitFailure");else {this.EJ("createMediaSourceEnd");this.Ji=z;if(!z.Tga(this.fg))throw (this.S.trace("Error:",z.error),this.KJ("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);B={};this.Ca.Ye(new t.dAa(B,this.X));this.$j=z.sourceBuffers.filter(function(C){return 0 <= A.fg.indexOf(C.mediaType);}).map(function(C){var D,F,G,E;F=new m.Bza(C.mediaType,z,C,A.X,A.Y,A.Jd);F.addListener("error",function(J){return A.KJ(J.errorstr);});F.addListener("logdata",function(J){return A.gb.emit("logdata",J);});F.addListener("managerdebugevent",function(J){A.gb.emit("managerdebugevent",J);});G=null === x || void 0 === x?void 0:x.get(C.mediaType);E=new f.Jya(F,C.mediaType,A,A.X,A.S,A.Y,A.sq,A.Jd,A.ol,A.cz,G);if(C.mediaType === g.v.Z)E.on("drmNeeded",function(J){return A.gb.emit("drmNeeded",J);});G || (null === (D=E.VM) || void 0 === D?void 0:D.Oqb(new w.fba(B[C.mediaType]={},A.S,A.Y,F,A.Y.events,A.sq,A.Jd)));return E;});}};y.prototype.D7a=function(x){var A;(0,u.assert)(x.WJ,"Attempted to prune branch that has not been fully appended");this.fs.remove(x);x.events.removeListener("branchEdited",this.Pfa);x.events.removeListener("requestComplete",this.Sfa);x.Pf("pruned");(null === (A=this.X.WQa) || void 0 === A?0:A.branchPruned) && this.gb.emit("requestGarbageCollection",{time:h.default.time.Da(),type:"requestGarbageCollection"});};y.prototype.Qa=function(){this.Mnb.clear();this.hmb.clear();this.$j.forEach(function(x){return x.Qa();});this.sq.Fma || this.Ji.Ls();this.OA();this.Wo.Qa();this.Qo.clear();};y.prototype.di=function(x){return this.$j.every(function(A){return A.di(x);});};y.prototype.EM=function(){this.$j.forEach(function(x){return x.OTa();});this.gR=new v.tea(this.S,this.Ca);};y.prototype.Zla=function(){return {wWb:this.yp(),vUb:this.$j};};y.prototype.zEb=function(x){var A;A=this;this.l0=!0;x.Xd.forEach(function(z){var B;B=A.Xla(z.mediaType);if(void 0 !== B)A.yNa.once(z.Cla,function(C){return B.BEb(C);});});if(x.Ma)this.GVa();else x.events.once("branchNormalized",function(){return A.GVa();});};y.prototype.GVa=function(){var x;x=this.hHb();x && ((0,u.assert)(x.Bb),this.gb.emit("ptsChanged",{initialTimestamp:x.Bb,forcedTimestamp:void 0}));};y.prototype.Xla=function(x){return (0,n.qc)(this.$j,function(A){return A.mediaType === x;});};y.prototype.pIb=function(){return -1 !== this.fg.indexOf(g.v.Z)?g.v.Z:g.v.ga;};y.prototype.EJ=function(x){x={type:"startEvent",event:x,time:h.default.time.Da()};this.gb.emit(x.type,x);};y.prototype.KJ=function(x,A){this.Ca.uf(x,void 0,A);};return y;})();b.Xya=r;},83674:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fba=void 0;c=a(70655);k=a(28075);f=a(44724);h=a(95994);d=0;r=(function(g){function m(l,n,p,q,u,t,v,w){n=g.call(this,("cdnList").concat(d++),n,p,q,u,t,v,"cdnList",w) || this;n.tg=l;n.qa();return n;}c.__extends(m,g);m.prototype.qa=function(){var l;l=this;this.SQ=new k.gf();this.SQ.on(this.yb.Y,"skipped",function(n){l.Qu && ((null === n || void 0 === n?0:n.CVb) && l.bS(n.CVb),l.Qu=void 0);});this.SQ.on(this.yb.Y,"paused",function(){l.Qu && l.yb.he && l.bS(l.yb.Md);});this.SQ.on(this.yb.Y,"underflow",function(){l.Qu && l.yb.he && l.bS(l.yb.Md);});};m.prototype.cv=function(l,n,p){this.SQ.clear();g.prototype.cv.call(this,l,n,p);this.qa();};m.prototype.close=function(){h.K && this.console.trace("close");g.prototype.close.call(this);this.SQ.clear();};m.prototype.F0b=function(l,n){var p;p=this;this.Qu && this.bS(l);return this.QWa(n).map(function(q){return p.tg[q];});};m.prototype.q8a=function(l){var n;n=this;this.QWa(l).forEach(function(p){delete n.tg[p];});};m.prototype.QWa=function(l){var n;n=this;return Object.keys(this.tg).filter(function(p){return n.tg[p].O === ("").concat(l);});};m.prototype.gr=function(l){var n,p,q;n=l.stream;p=l.Dc;q=l.Bb;l=l.Mb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== l);h.K && this.console.trace(("Media appended ").concat(q.ob(),"-").concat(l.ob()));this.Mga({stream:n,Dc:p},q,l);};m.prototype.j6=function(l,n){return l.stream === n.stream && l.Dc === n.Dc;};m.prototype.ZGb=function(l){var n,p;p=l.Ir;l=p.Dc;p=null === (n=p.stream.pa.W.NA) || void 0 === n?void 0:n.Np;return ("").concat(l,"::").concat(p);};m.prototype.zka=function(l,n){h.K && this.console.trace(("Presenting event for ( ").concat(l.Ir.stream.id,", ").concat(l.Ir.Dc," )") + (" at ").concat(n.ob()));this.Qu?this.bS(n):this.qQ=n;this.Qu=l;};m.prototype.bS=function(l){var n,p,q,u,t,v,w,y,x;(0,f.assert)(this.Qu);if(null === (n=this.Gja) || void 0 === n?0:n.lessThan(l))l=this.Gja;t=this.Qu;n=this.tg;v=t.Ir;w=v.stream;v=v.Dc;y=null === (p=w.MU) || void 0 === p?void 0:p.Pm;p=l.wa(this.qQ || t.timestamp).G;if(void 0 !== v && void 0 !== y){x=null === (q=w.pa.W.NA) || void 0 === q?void 0:q.Np;q=w.track.O;t=this.ZGb(t);n=(u=(n[t] || (n[t]={Hm:v,Np:x,O:q,nF:{}})).nF)[y] || (u[y]={bitrate:w.bitrate,Vb:y,mediaType:w.mediaType,totalTime:0,zb:w.zb});n.totalTime=Math.max(n.totalTime + p,0);}this.qQ=l;};m.prototype.clone=function(l,n){n=void 0 === n?{}:n;l=new (n.Mfc || m)(l,this.aTb,this.yb,this.R1,this.events,this.sq,this.Kd,n.priority);this.Evb(l);l.Qu=this.Qu;l.qQ=this.qQ;h.K && l.console.trace("Cloning",{Rac:l.sk.length});return l;};m.prototype.reset=function(){g.prototype.reset.call(this);this.qQ=void 0;};m.prototype.k6=function(l){return ("(").concat(l.stream.Nb,", ").concat(l.Dc,")");};return m;})(a(12192).y_);b.fba=r;},65015:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=void 0;c=a(70655);k=a(95994);f=a(50971);r=(function(){function h(d,g,m){this.Kd=d;this.nQb=g;this.S=m;}Object.defineProperties(h.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});h.prototype.waitUntil=function(d){var g;d=(0,f.$$)(this.Kd,d,!0);g=d.promise;this.Mpb=d.Bk;return g;};h.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m;return c.__generator(this,function(l){switch(l.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Ela)return [3,2];m=g.Bb.wa(this.nQb);k.K && this.S.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(m.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(m)];case 1:(l.Ra(),k.K && this.S.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),l.label=2);case 2:return [2,d];}});});};h.prototype.reset=function(){var d;null === (d=this.Mpb) || void 0 === d?void 0:d.Qa();};return h;})();b.mCa=r;},75969:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.VEa=void 0;c=a(70655);k=a(86393);f=a(10945);h=a(74005);r=(function(){function d(g){this.S=g;}Object.defineProperties(d.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});d.prototype.process=function(g){var m;return c.__awaiter(this,void 0,void 0,function(){var l,n,p,q,u,t,v,w,y,x,A,z,B,C,D;return c.__generator(this,function(){g.done || (n=l=g.value.value,p=null !== (m=l.response) && void 0 !== m?m:this.tMb(n)?n.zYb()[0]:void 0,p instanceof ArrayBuffer && (q=new k.Yr(this.S,l.stream,p,["moof"],!0,{Wra:!0}),u=q.parse(),u.vt && (t=q.Un("moof"),v=t.Un("traf"),w=v.Un("trun"),y=v.Un("tfdt"),x=l.stream.Yn().F8,A=w.od,z=y.LE,B=u.La.T,C=new h.N(z,B),D=this.tq?C.wa(this.tq.Tsb):void 0,this.S.trace(("Live Request Logger: processing request [").concat(l.mediaType,"]"),{baseMediaDecodeTime:z,timescale:B,baseMediaDecodeMs:C.G,ptsOffsetMs:x.G,mediaTimestampMs:C.wa(x).G,offsetFromPriorMs:null === D || void 0 === D?void 0:D.G,sampleCount:A,url:l.url}),this.tq={Tsb:C})));return [2,g];});});};d.prototype.tMb=function(g){return g instanceof f.Baa;};d.prototype.reset=function(){this.tq=void 0;};return d;})();b.VEa=r;},53915:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.OKa=void 0;c=a(70655);k=a(28075);f=a(95994);h=a(47571);d=c.__importDefault(a(29736));g=a(74005);m=a(44724);r=(function(){function l(n,p,q){var u;u=this;this.yb=n;this.Y=p;this.pending=new Map();this.listeners=new k.gf();this.Xqa=!1;this.NJb=function(t){u.b9a(function(){f.K && u.S.debug("cancelling playback ending");t.cancel();});};this.b9a=function(t){var v,w,y,x,B,C,D;if(u.pending.size){f.K && u.S.trace("playback ending, restarting player");y={};x=(v={},v[h.v.ga]=void 0,v[h.v.Z]=void 0,v[h.v.Ya]=void 0,v);try{for(var A=c.__values(u.pending.entries()),z=A.next();!z.done;z=A.next()){B=c.__read(z.value,2);C=B[0];D=B[1];y[C]=D.to.stream.Wm();D.from.I && (x[C]=D.from.I);}}catch(G){var F;F={error:G};}finally{try{z && !z.done && (w=A.return) && w.call(A);}finally{if(F)throw F.error;}}null === t || void 0 === t?void 0:t();f.K && u.S.debug("Restarting player",y);u.Y.Vf(y,x).then(function(){var G,E;null === (G=u.fF) || void 0 === G?void 0:G.resolve();f.K && u.S.debug("Restart completed");null === (E=u.y9a) || void 0 === E?void 0:E.Lqb();u.reset();});}};this.listeners.addListener(p,"playbackEnding",this.NJb);this.S=(0,g.Ph)(d.default,q,"SEAMLESSMANAGER");f.K && this.S.debug("construct");}l.prototype.Qa=function(){f.K && this.S.debug("destruct");this.pending.clear();this.listeners.clear();};l.prototype.qXb=function(n){this.y9a=n;};l.prototype.K5b=function(n){var p,q;0 === this.pending.size && ((0,m.assert)(void 0 === this.fF,"SeamlessManager: No pending transitions, but a wait is deferred"),this.fF=new g.Lz());(0,m.assert)(this.fF,"SeamlessManager: deferred is undefined");(0,m.assert)(!this.pending.has(n.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + n.mediaType);this.pending.set(n.mediaType,n);f.K && this.S.trace(("got new transition [").concat(n.mediaType,"] --\x3e ").concat(n.to.stream.id));if(this.pending.size === this.yb.fg.length && !this.Xqa){q=this.HMb();if(q.T6a)return (f.K && this.S.trace(("seamless transition possible at ").concat(n.timestamp.ob())),this.fF.resolve(),this.reset(),Promise.resolve());f.K && this.S.trace(("starting non-seamless transition at ").concat(n.timestamp.ob()));null === (p=this.y9a) || void 0 === p?void 0:p.Kqb(q.info);if(!this.W0b())return (f.K && this.S.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.fF.resolve(),this.reset(),Promise.resolve());}return this.fF.promise;};l.prototype.pYb=function(n){f.K && this.S.trace(("reset media [").concat(n,"]"));this.pending.delete(n);0 === this.pending.size && this.reset();};l.prototype.reset=function(){f.K && this.S.debug("resetting");this.Xqa=!1;this.fF=void 0;this.pending.clear();};l.prototype.HMb=function(){var n,p,q,v,w,y,x,A,z,B,C,D,F,G;try{for(var u=c.__values(this.pending.entries()),t=u.next();!t.done;t=u.next()){v=c.__read(t.value,2);w=v[0];y=v[1];if(y.from){x=y.from.stream;A=y.to.stream;if(x.track === A.track)f.K && this.S.debug("Seamless deemed possible due to same track",{mediaType:w});else {z=x.Wm();B=A.Wm();C=void 0;D=this.yb.Zk(y.timestamp);C=y.from.I && 0 > this.yb.q6.value.G?{I:y.from.I,offset:g.N.Na(0)}:this.yb.Zk(y.HVb);F=this.Y.cSa({mediaType:w,bXa:y.bXa,from:z,to:B,oFb:C,Y2b:D});G=F.reason;if(!F.cSa)return (f.K && this.S.debug("Non-seamless transition; details:",{reason:G,mediaType:w,from:z,to:B}),{T6a:!1,info:{LAb:null !== (p=y.to.I) && void 0 !== p?p:"unk",M0b:null !== (q=y.from.I) && void 0 !== q?q:"unk",DUb:y.timestamp,reason:G}});f.K && this.S.debug("Seamless deemed possible",{reason:G,mediaType:w,from:z,to:B,oFb:C,Y2b:D});}}}}catch(J){var E;E={error:J};}finally{try{t && !t.done && (n=u.return) && n.call(u);}finally{if(E)throw E.error;}}return {T6a:!0};};l.prototype.W0b=function(){this.Xqa=!0;this.yb.gr.value?(f.K && this.S.trace("Signaling EOS for upcoming restart"),this.yb.Cva()):(f.K && this.S.trace("Signaling immediate restart"),this.b9a());return !0;};return l;})();b.OKa=r;},53548:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;c=a(70655);k=a(95994);r=(function(){function f(h,d,g){this.cz=h;this.Af=d;this.S=g;this.O0=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(h){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(m){switch(m.label){case 0:if(h.done)return [3,3];g=h.value.value;if(!this.tq || !g.ey || g.stream.pa === this.tq.stream.pa || this.tq.Bb === g.Bb && this.tq.bYb === g.index)return [3,2];k.K && this.S.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.u.id);return [4,this.cz.K5b({mediaType:g.mediaType,bXa:this.O0,to:{stream:g.stream,I:g.u.id},from:{stream:this.tq.stream,I:this.tq.I},timestamp:g.Bb,HVb:null === (d=this.tq) || void 0 === d?void 0:d.Bb})];case 1:(m.Ra(),m.label=2);case 2:(this.O0=!1,this.tq={bYb:g.index,stream:g.stream,Bb:g.Bb,I:g.u.id},m.label=3);case 3:return [2,h];}});});};f.prototype.ySb=function(h,d){void 0 === h && (h=[]);void 0 === d && (d=[]);k.K && this.S.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.O0 || (this.O0=-1 !== d.indexOf(this.Af));(null === h || void 0 === h?0:h.length) && h.length !== d.length && (this.tq=void 0);};f.prototype.reset=function(){};return f;})();b.PKa=r;},2479:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.HHa=void 0;c=a(70655);k=a(95994);f=a(44724);h=a(50971);r=(function(){function d(g,m,l,n){var p;p=this;this.Kd=g;this.vTb=m;this.Nra=l;this.S=n;g.sa.on("stopStart",function(){return p.Dvb();});k.K && this.S.trace(("PacingThrottler: pacingFactory=").concat(m,", pacingThreshold=").concat(l.ob()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Dvb=function(){var g,m;m=this.Kd.sa;this.qK=m.li?m.currentTime:void 0;this.AR=this.VS=void 0;k.K && this.S.trace(("PacingThrottler: clock reset ").concat(null === (g=this.qK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var m;g=(0,h.$$)(this.Kd,g,!0);m=g.promise;this.J5b=g.Bk;return m;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,l,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];m=g.value.value;(0,f.assert)(m.Bb);l=this.Kd.sa;if(!this.VS || !this.AR)return [3,10];if(!this.AR.greaterThan(this.Nra))return [3,8];if(!this.qK)return [3,5];n=m.Bb.wa(this.qK).wa(this.Nra);p=this.qK.add(n.Ui(this.vTb));if(!p.lessThan(m.Bb))return [3,3];if(!p.greaterThan(l.currentTime))return [3,2];k.K && this.S.trace(("PacingThrottler: waiting until ").concat(p.ob()," for mediaRequest @") + ("").concat(m.Bb.ob(),", ") + ("current time ").concat(l.currentTime.ob(),", ") + ("clock start time ").concat(this.qK.ob(),", ") + ("distance ").concat(n.ob()));return [4,this.waitUntil(p)];case 1:(q.Ra(),q.label=2);case 2:return [3,4];case 3:(k.K && this.S.warn("PacingThrottler: invalid schedule time " + ("").concat(p.ob()," for mediaRequest ") + ("@").concat(m.Bb.ob(),", ") + ("current time ").concat(l.currentTime.ob(),", ") + ("clock start time ").concat(this.qK.ob(),", ") + ("distance ").concat(n.ob())),q.label=4);case 4:return [3,7];case 5:n=m.Bb.wa(this.VS);if(!n.greaterThan(this.Nra))return [3,7];k.K && this.S.trace(("PacingThrottler: (buffering) waiting until ").concat(this.VS.G,"ms") + (" for mediaRequest @").concat(m.Bb.G,"ms, ") + ("current time ").concat(l.currentTime.G));return [4,this.waitUntil(this.VS)];case 6:(q.Ra(),q.label=7);case 7:return [3,9];case 8:(this.AR=this.AR.add(m.Nd),q.label=9);case 9:return [3,11];case 10:(this.VS=m.Bb,this.AR=m.Nd,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.J5b) || void 0 === g?void 0:g.Qa();};return d;})();b.HHa=r;},62435:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.rda=void 0;c=a(70655);k=a(44724);f=a(74005);h=a(95994);d=a(79906);r=(function(g){function m(l){var n;n=g.call(this) || this;n.Ca=l;n.Xfa=new Map();n.Ua=[];n.oQ=new d.T_({li:!1,currentTime:function(){return n.he?n.Md:f.N.Dp;},speed:1});return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{sa:{get:function(){return this.oQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ol:{get:function(){return this.gR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wC:{get:function(){return this.Xfa;},enumerable:!1,configurable:!0}});m.prototype.c2=function(l,n){var p;p=!this.Ca;p && (this.Ca=l,this.Uea=(null === n || void 0 === n?0:n.he)?n.Md:void 0,this.gR=null === n || void 0 === n?void 0:n.ol,this.Xfa=n?n.wC:new Map(),null === n || void 0 === n?void 0:n.EM());return p;};m.prototype.EM=function(){this.Xfa=this.gR=void 0;};m.prototype.OA=function(){this.Ua=[];this.Uea=void 0;};m.prototype.cka=function(l){h.K && (0,k.assert)(this.Ca === l);this.Ca=void 0;this.OA();};m.prototype.Mka=function(){for(var l,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(l=this.Ua).push.apply(l,c.__spreadArray([],c.__read(n),!1));};m.prototype.IF=function(){return this.Uea?this.Uea:g.prototype.IF.call(this);};m.prototype.fU=function(){return !1;};m.prototype.KC=function(){};m.prototype.JH=function(){};m.prototype.L8=function(){this.Ua=this.Ua.filter(function(l){return l.WJ?(l.Pf("pruned"),!1):!0;});};m.prototype.Qa=function(){g.prototype.Qa.call(this);this.wC.forEach(function(l){return l.close();});};return m;})(a(71843).Fda);b.rda=r;},71843:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Fda=void 0;c=a(70655);k=a(28075);f=a(74005);h=a(44724);d=a(47571);r=a(43221);g=c.__importDefault(a(29736));m=a(95994);l=r.Rv.Uja;a=(function(){function n(){this.KM=[];this.jA=new f.Uw(!1);this.gA=new f.Uw(f.N.Na(-Infinity));this.mJ=new f.Uw(f.N.Na(-Infinity));this.events=new k.EventEmitter();this.S=new g.default.Console("ASEJS","media|asejs");}Object.defineProperties(n.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jd:{get:function(){return this.qx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Z1a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ol:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{playbackRate:{get:function(){return this.vL();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{GQa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gr:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{q6:{get:function(){return this.gA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kl:{get:function(){return this.mJ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{he:{get:function(){return this.Bp;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Md:{get:function(){return this.IF();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jg:{get:function(){var p,q;p=this.Md;q=this.Zk(p,!1);m.K && (0,h.assert)(q,("Could not find current branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{vLb:{get:function(){return this.Ua[0];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$q:{get:function(){return this.Bp?this.Ua[this.Ua.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Uy:{get:function(){var p,q;p=this.Md;q=this.fT(p);(0,h.assert)(q,("Could not find presenting branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Bp:{get:function(){return 0 < this.Ua.length;},enumerable:!1,configurable:!0}});n.prototype.c$a=function(){};n.prototype.b$a=function(){};n.prototype.di=function(){return !1;};n.prototype.u5=function(){return 0 < this.Ua.length;};n.prototype.Zn=function(){(0,h.assert)(0 < this.Ua.length,"Could not find presenting branch. Player has no branches.");return this.Uy;};n.prototype.g_a=function(p){return -1 !== this.Ua.indexOf(p);};n.prototype.c2=function(){return void 0 !== this.Ca?!1:!0;};n.prototype.EM=function(){};n.prototype.Qa=function(){};n.prototype.XF=function(p){var q,u,t;q=this.Ua.filter(function(v){return v.u.id === p.I;});if(0 !== q.length){u=this.IF();t=new f.N(Infinity,1);q.forEach(function(v){v=v.pr.add(p.offset);u.DK(v).lessThan(u.DK(t)) && (t=v);});return t;}};n.prototype.KT=function(p){var q,u,t,v,w,y,x,A,z,B;return c.__generator(this,function(C){switch(C.label){case 0:q=this.Ua.filter(function(D){return D.u.id === p.I;});if(0 === q.length)return [2,void 0];u=this.IF();C.label=1;case 1:(C.Vj.push([1,6,7,8]),t=c.__values(q),v=t.next(),C.label=2);case 2:if(v.done)return [3,5];w=v.value;y=w.pr.add(p.offset);x=u.DK(y);return [4,{ro:y,DK:x}];case 3:(C.Ra(),C.label=4);case 4:return (v=t.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.Ra(),z={error:A},[3,8]);case 7:try{v && !v.done && (B=t.return) && B.call(t);}finally{if(z)throw z.error;}return [7];case 8:return [2];}});};n.prototype.Zk=function(p,q){var u,t,v;void 0 === q && (q=!1);u=this.fT(p,q);if(u){t=u.u;q=t.id;v=t.duration;p=f.N.min(p.wa(t.Ud.add(u.se)),v || f.N.Dp);return {I:q,offset:p};}};n.prototype.reset=function(){this.OA();};n.prototype.dua=function(){};n.prototype.pN=function(){};Object.defineProperties(n.prototype,{CH:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.pause=function(p){void 0 === p && (p=d.Oz);this.KM=null === p || void 0 === p?void 0:p.reduce(function(q,u){-1 === q.indexOf(u) && q.push(u);return q;},this.KM);};n.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.Oz);p.forEach(function(u){u=q.KM.indexOf(u);-1 !== u && q.KM.splice(u,1);});};n.prototype.Ewa=function(p){var q;(0,h.assert)(this.Ca);(0,h.assert)(p !== this);this.JH();q=p.c2(this.Ca,this);q && (this.L8(),p.pause(this.KM),p.Mka.apply(p,c.__spreadArray([],c.__read(this.Ua),!1)),this.cka(this.Ca));return q;};n.prototype.IF=function(){return this.HYa();};n.prototype.HYa=function(){var p,q;m.K && (0,h.assert)(this.Bp,"Attempted to get initial time before any branches were queued");q=c.__read(this.Ua,1)[0];m.K && (0,h.assert)(q);return null !== (p=q.Bb) && void 0 !== p?p:q.ry;};n.prototype.vL=function(){return 1;};n.prototype.MF=function(){};n.prototype.fT=function(p,q){var u;void 0 === q && (q=!1);if(this.Bp){u=this.HYa();return p.lessThan(u)?this.Ua[0]:(0,f.ula)(this.Ua,p) || (q?this.$q:void 0);}};n.prototype.qGb=function(){var p,q,v,w,y,x,A,z;q={};try{for(var u=c.__values(this.Ua),t=u.next();!t.done;t=u.next()){v=t.value;w=void 0;y=void 0;x=v.iL();for(w in x){A=w;z=x[A];z && (q[A]=(null !== (y=q[A]) && void 0 !== y?y:0) + z);}if(!v.ai)break;}}catch(C){var B;B={error:C};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(B)throw B.error;}}return q;};c.__decorate([l.return.xh(),l.return.L7],n.prototype,"Z1a",null);c.__decorate([l.return.xh()],n.prototype,"Jg",null);c.__decorate([l.return.Uha(),l.return.gm],n.prototype,"Zn",null);c.__decorate([c.__param(0,l.xh())],n.prototype,"XF",null);c.__decorate([c.__param(0,l.xh())],n.prototype,"KT",null);c.__decorate([l.return.xh()],n.prototype,"Zk",null);return n;})();b.Fda=a;},53800:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kJa=void 0;c=a(28075);k=a(47571);f=a(74005);r=a(40885);a=(function(){function h(d){this.Y=d;this.Cfa=!1;this.qOa=new c.gf();this.oXb();}h.prototype.oXb=function(){var d,g;d=this;g=this.qOa;g.on(this.Y,"paused",function(){return d.Z7();});g.on(this.Y,"playing",function(){return d.Z7(!0);});g.on(this.Y,"underflow",function(){return d.Z7();});g.on(this.Y,"skipped",function(){return d.yV();});g.on(this.Y,"clockAdjusted",function(){return d.sV();});g.on(this.Y,"playbackRateChanged",function(){return d.ESb();});};Object.defineProperties(h.prototype,{currentTime:{get:function(){return this.jPa || this.Y.Gd || f.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{li:{get:function(){return this.Cfa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{speed:{get:function(){var d;return null !== (d=this.Y.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});h.prototype.Z7=function(d){void 0 === d && (d=!1);d !== this.Cfa && (this.jPa=(this.Cfa=d)?void 0:this.Y.Gd);this.emit("stopStart",{type:"stopStart"});};h.prototype.yV=function(){this.jPa=void 0;this.sV(k.Jz.FH);};h.prototype.sV=function(d){void 0 === d && (d=k.Jz.crb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};h.prototype.ESb=function(){this.emit("speedChanged",{type:"speedChanged"});};h.prototype.Qa=function(){this.Z7();this.qOa.clear();};return h;})();b.kJa=a;(0,r.gj)(c.EventEmitter,a);},12192:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.y_=void 0;c=a(70655);k=a(28075);f=a(74005);h=a(95994);d=a(50971);g=c.__importDefault(a(29736));m=f.N.Na(1E3);r=(function(){function l(n,p,q,u,t,v,w,y,x,A){var z,B;this.gFb=n;this.aTb=p;this.R1=u;this.events=t;this.sq=v;this.Mbb=y;this.priority=x;this.sk=[];this.console=(0,f.Ph)(g.default,p,("PresentationTracker [").concat(this.gFb,"] ").concat(this.Mbb,"]"));this.Yra=m.add(f.N.Na(null !== (B=null === (z=v.GN) || void 0 === z?void 0:z.G) && void 0 !== B?B:0));this.listeners=new k.gf();this.xsa=new k.gf();this.pE=!A;this.azb(w);this.n$a(q,w,u);}l.prototype.n$a=function(n,p,q){var u;u=this;this.R1=q;this.listeners.clear();this.xsa.clear();this.yb=n;this.Kd=p;this.xsa.on(n.Y,"skipped",this.yV.bind(this));this.listeners.on(q,"requestAppended",function(t){return u.gr(t.request);});this.events=n.events;this.KK.mSa(p);this.cW.mSa(p);};l.prototype.azb=function(n){var p;p=this;this.KK=n.Tx(function(){return p.QBb();},"Presentation Emit",this.priority);this.cW=n.Tx(function(){return p.mWb();},"Presentation Prune");};l.prototype.yV=function(){this.trace(("skipped, scheduler clock ").concat(this.Kd.sa.currentTime.ob()));this.pE=!0;this.KK.Vf();};l.prototype.QBb=function(){var n,p,q;return c.__generator(this,function(u){switch(u.label){case 0:(h.K && this.console.trace("Starting emit job"),this.cH=this.iRb(this.pE),n=this.J4a(),u.label=1);case 1:if(!n)return [3,3];this.trace(("queuing task for ").concat(this.k6(n.Ir)) + (" at player time ").concat(n.timestamp.ob()) + (" scheduler clock is ").concat(this.Kd.sa.currentTime.ob()));return [4,d.Pg.Yt(n.timestamp)];case 2:u.Ra();this.trace(("executing task for ").concat(this.k6(n.Ir)) + (" for player time ").concat(n.timestamp.ob()) + (", scheduler clock: ").concat(this.Kd.sa.currentTime.ob()) + (", actual player time: ").concat(this.yb.Md) + (", first item: ").concat(this.pE));p=this.pE?this.yb.Md:n.timestamp;q=this.pE;this.pE=!1;this.mUa=n;this.cH++;this.Gja=(n=this.J4a())?n.timestamp:this.pG;try{this.zka(this.mUa,p,q);}catch(t){this.console.error(("Error in ").concat(this.Mbb," emit, continuing"),t);}p=null === n || void 0 === n?void 0:n.timestamp;return [3,1];case 3:return (h.K && this.console.trace("Ending emit job"),[2]);}});};l.prototype.J4a=function(){if(void 0 !== this.cH)return this.sk[this.cH];};l.prototype.iRb=function(n){var p,q,t;void 0 === n && (n=!1);for(var u=n?0:null !== (p=this.cH) && void 0 !== p?p:0;u < this.sk.length;u++){p=this.sk[u];t=f.N.Na(null !== (q=this.sq.BUb) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.yb.Md.add(t)))return n && 0 < u?u - 1:u;}return Math.max(this.sk.length - 1,0);};l.prototype.mWb=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.sk.length))return [3,2];n=c.__read(this.sk,2);p=n[1];this.trace(("queuing pruning task for ").concat(p.Ir) + (" at player time ").concat(this.Yra.add(p.timestamp).ob()) + (" scheduler clock is ").concat(this.Kd.sa.currentTime.ob()));return [4,d.Pg.Yt(this.Yra.add(p.timestamp))];case 1:return (q.Ra(),this.trace(("executing pruning task for ").concat(p.Ir) + (" at player time ").concat(this.Yra.add(p.timestamp).ob()) + (" scheduler clock is ").concat(this.Kd.sa.currentTime.ob())),this.sk.shift(),this.cH && this.cH--,[3,0]);case 2:return [2];}});};l.prototype.cv=function(n,p,q){this.n$a(n,p,q);};l.prototype.reset=function(){this.sk=[];h.K && this.trace("reset");this.pE=!0;this.pG=void 0;this.cH=0;this.cW.Vf();this.KK.Vf();};l.prototype.close=function(){h.K && this.trace("close()");this.xsa.clear();this.KK.Qa();this.cW.Qa();this.listeners.clear();this.sk=[];};l.prototype.di=function(n){var p;h.K && this.trace(("canSkip() ").concat(n));if(0 === this.sk.length)return (h.K && this.trace("canSkip false, no media sequence"),!1);p=this.sk[0];return p.timestamp.greaterThan(n)?(h.K && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.pG || this.pG.lessThan(n)?(h.K && this.trace(("canSkip false, later than last appended at ").concat(this.pG)),!1):!0;};l.prototype.trace=function(n){h.K && this.console.trace(n);};l.prototype.Mga=function(n,p,q){var u;q && (this.pG=q);u=this.sk.length?this.sk[this.sk.length - 1]:void 0;if(void 0 === u || !this.j6(u.Ir,n))return (this.sk.push({Ir:n,timestamp:p}),this.KK.state === d.Ik.complete && this.KK.Vf(),this.cW.state === d.Ik.complete && this.cW.Vf(),!0);u === this.mUa && (this.Gja=q);return !1;};l.prototype.j6=function(n,p){return n === p;};l.prototype.Evb=function(n){n.sk=c.__spreadArray([],c.__read(this.sk),!1);n.pG=this.pG;};return l;})();b.y_=r;},30184:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;c=a(70655);k=a(47571);f=a(4145);h=a(2243);d=a(67006);r=(function(){function g(m,l,n,p,q,u,t,v){this.mediaType=m;this.console=l;this.yb=n;this.R1=p;this.Rn=q;this.usa=u;this.Kd=t;this.tA=[];this.mediaType === k.v.Z && this.tA.push(new d.ZKa(m,l,n,p,q,u,t,v,2));this.tA.push(new h.BLa(m,l,n,p,q,u,t,"stream",1,null === v || void 0 === v?void 0:v.W_a()));}g.prototype.cv=function(m,l,n){this.yb=m;this.Kd=l;this.R1=n;this.cI.forEach(function(p){return p.cv(m,l,n);});};g.prototype.Oqb=function(m){this.tA.push(m);};g.prototype.qEb=function(m){return (0,f.qc)(this.tA,function(l){return l instanceof m;});};g.prototype.reset=function(){this.tA.forEach(function(m){return m.reset();});};g.prototype.close=function(){this.tA.forEach(function(m){return m.close();});};g.prototype.di=function(m){return c.__read(this.tA,1)[0].di(m);};Object.defineProperties(g.prototype,{cI:{get:function(){return this.tA;},enumerable:!1,configurable:!0}});return g;})();b.XJa=r;},67006:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;c=a(70655);k=a(95994);f=a(44724);h=a(74005);r=(function(d){function g(m,l,n,p,q,u,t,v,w){m=d.call(this,m,l,n,p,q,u,t,"segment",w,null === v || void 0 === v?void 0:v.W_a()) || this;m.ol=v;return m;}c.__extends(g,d);g.prototype.gr=function(m){var l,n,p,q,u,t,v,w,y;q=m.Bb;u=m.Mb;t=m.Ma;v=m.bitrate;w=m.zb;(0,f.assert)(void 0 !== q);y=null === (l=this.yb.Zk(q)) || void 0 === l?void 0:l.I;(0,f.assert)(void 0 !== y);this.v6=m={I:y,CEb:m.ey,Ma:t,jdb:v,zb:w,EVb:null === (n=this.v6) || void 0 === n?void 0:n.jdb,FVb:null === (p=this.v6) || void 0 === p?void 0:p.zb};this.Mga(m,q,u) && k.K && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};g.prototype.j6=function(m,l){return m.I === l.I && !l.CEb;};g.prototype.zka=function(m,l,n){var p,q,u,t,v,w;p=m.Ir;q=p.I;u=p.jdb;t=p.EVb;v=p.zb;p=p.FVb;w=this.yb.Zk(l);(0,f.assert)(void 0 !== w);k.K && this.trace(("emitSegmentPresentingEvent @ ").concat(m.timestamp.G,"ms for segment ").concat(q));w.I !== q && (k.K && this.console.warn("player position:",w,"not equal to trackedElement:",q),w={I:q,offset:h.N.Ia});m={type:"segmentPresenting",playerTimestamp:l,position:w,seek:n};if(this.ol){if(q=this.ol.Gma(q))(q.destvbitrate=u,q.destvmaf=v,q.srcvbitrate=t,q.srcvmaf=p);m.metrics=q;}k.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(m)));this.events.emit(m.type,m);};g.prototype.reset=function(){d.prototype.reset.call(this);this.v6=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.v6=void 0;};g.prototype.k6=function(m){return m.I;};return g;})(a(12192).y_);b.ZKa=r;},2243:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;c=a(70655);k=a(95994);f=a(44724);r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.gr=function(g){var m,l,n;m=g.stream;l=g.Bb;n=g.Mb;g=g.Ma;(0,f.assert)(void 0 !== l,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Mga({stream:m,Ma:g},l,n) && k.K && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(l.G,"ms"));};d.prototype.j6=function(g,m){return g.stream === m.stream;};d.prototype.zka=function(g,m){var l,n,p,q;p=g.Ir.stream;q=this.yb.Zk(m);(0,f.assert)(void 0 !== q);k.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:m,position:q,trackIndex:null === (l=null === p || void 0 === p?void 0:p.track) || void 0 === l?void 0:l.zE,streamIndex:null === p || void 0 === p?void 0:p.Ot,stream:p,manifest:null === (n=p.pa) || void 0 === n?void 0:n.W,contentStartTimestamp:g.Ir.Ma});};d.prototype.k6=function(g){return ("").concat(g.stream.Nb,"@").concat(g.Ma.ob());};return d;})(a(12192).y_);b.BLa=r;},44001:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tea=void 0;c=a(70655).__importDefault(a(29736));k=a(47571);f=a(70950);h=a(16955);r=(function(){function d(g,m){this.S=g;this.rj=m;}d.prototype.GH=function(g,m,l,n,p){var q,u;void 0 === p && (p=!1);q=g.u;u=this.$mb(q);this.vE={startTime:c.default.time.Da(),O0b:g,N0b:l.G,G3:m,Yd:this.tHb(n,m),l3b:this.iJb(n,p),oAb:p,wf:n,xSa:u,gRb:this.RHb(q,l)};};d.prototype.W_a=function(){return !!this.vE;};Object.defineProperties(d.prototype,{G3:{get:function(){var g;return null === (g=this.vE) || void 0 === g?void 0:g.G3;},enumerable:!1,configurable:!0}});d.prototype.Gma=function(g){var m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K;if(this.vE && 0 !== Object.keys(this.vE.xSa).length && g === this.vE.G3){w=this.vE;y=w.xSa;x=w.gRb;A=w.oAb;z=w.wf;B=w.O0b;C=w.N0b;D=w.startTime;F=w.Yd;w=w.l3b;this.vE=void 0;G=this.nfa(g).Wha;E=this.QFb(B.u.id,g,y);G=this.fOa(E.weight,G);J={};for(K in y){K !== g && (J[K]=y[K].details);}y=c.default.time.Da() - D;D=z?0:y;K={offset:f.N.Na(this.OIb(B,C,z,A)),I:B.u.id};C={offset:f.N.Na(C),I:B.u.id};x={segment:g,destPosition:{I:g,offset:f.N.Ia},srcsegment:B.u.id,srcTransitionPosition:K,srcStartPosition:C,srcsegmentduration:B.BX.G,srcoffset:K.offset.G,seamlessRequested:z,atRequest:E,atTransition:G,discard:J,transitionType:F,transitionTypeAtRequest:w,delayToTransition:this.xGb(y,z,A),durationOfTransition:D,nextExitPositionAtRequest:x};A=null !== (l=null === (m=this.rj.fa.L[g]) || void 0 === m?void 0:m.type) && void 0 !== l?l:"content";m=null !== (p=null === (n=this.rj.fa.L[B.u.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";g=null !== (u=null === (q=this.rj.fa.L[g]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (v=null === (t=this.rj.fa.L[B.u.id]) || void 0 === t?void 0:t.J) && void 0 !== v?v:void 0;g && q && g !== q && (x.auxMidType=A,x.auxSrcmidType=m,x.auxMid=g,x.auxSrcmid=q);return x;}};d.prototype.QFb=function(g,m,l){var n,p,q;q={};(l=l[m])?q=l.details:((0,h.assert)(this.rj),q.weight=null === (p=null === (n=this.rj.fa.L[g].next) || void 0 === n?void 0:n[m]) || void 0 === p?void 0:p.weight);return q;};d.prototype.xGb=function(g,m,l){var n;l || (n=m?g:0);return n;};d.prototype.RHb=function(g,m){var l,n,p;n=g.Ud.add(m);null === (l=g.Zv) || void 0 === l?void 0:l.some(function(q){n.lessThan(q.Ma) && (p=q.Ma.G);});return p;};d.prototype.OIb=function(g,m,l,n){return l || n?g.BX.G:m;};d.prototype.tHb=function(g,m){return g?"seamless":this.nfa(m).h_a?"reset":"long";};d.prototype.iJb=function(g,m){return g || m?"lazy":"immediate";};d.prototype.$mb=function(g){var m,l;m=this;l={};g.Ky.forEach(function(n){var p,q;p=g.jRb[n];q=m.nfa(n).Wha;l[n]={details:m.fOa(p,q)};});return l;};d.prototype.nfa=function(g){var m,l;g=this.rj.gT(g);m=0 < g.length?g[0]:void 0;g=null === m || void 0 === m?void 0:m.iL();if(!m || !g)return {h_a:!1,Wha:{Q$:0,A1:0,OX:0,mR:0}};l=m.r5(k.v.ga) && !g.A1;m=m.r5(k.v.Z) && !g.Q$;return {h_a:!l && !m,Wha:g};};d.prototype.fOa=function(g,m){return {weight:g,vbuflmsec:m.Q$,abuflmsec:m.A1,vbuflbytes:m.OX,abuflbytes:m.mR};};return d;})();b.tea=r;},19709:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,W;function c(aa){var Q;Q={};aa.forEach(function(ka){ka.mediaType !== g.v.Ya && (Q[ka.mediaType]=ka.Wm());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.Gaa=void 0;k=a(70655);f=a(28075);h=a(41427);d=a(35510);g=a(47571);m=a(25580);l=a(74005);n=a(10249);p=a(54059);q=k.__importDefault(a(29736));u=a(44724);t=a(62435);v=a(4145);w=a(50971);y=a(71820);x=a(89098);A=a(19829);z=a(89589);B=a(79906);C=a(22258);D=a(48256);F=a(74573);G=k.__importDefault(a(73764));E=a(52302);J=a(18312);K=a(80120);N=a(55168);I=a(47052);O=a(75559);L=a(68397);H=a(99568);M=a(65533);R=a(24462);Y=a(33154);ea=a(43450);ca=a(302);oa=a(81545);Ga=a(62437);Fa=a(12215);Ja=a(88414);Xa=a(5456);cb=a(42462);W=a(43221).Rv.Uja;r=(function(){function aa(Q,ka,P,fa,ta,pa,Ra,Pa,db,wb){this.rj=Q;this.zPa=ka;this.config=P;this.id=fa;this.ws=pa;this.zj=Ra;this.lvb=Pa;this.Cn=wb;this.vQ=!1;this.Bu=void 0;this.Uka=[];this.ei=this.Va=void 0;this.trb="2.0";this.q0a=this.d1=this.zm=this.Ifa=void 0;this.zc=d.om.CLOSED;this.kfa=!0;this.W1=!1;this.UN=this.WX=this.IE=void 0;this.CRa=new f.gf();this.dB=0;this.k$=!1;this.oLb();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.ih=new F.Au({ko:10,en:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.gva(Q);this.Ua=new M.tJa();this.vg=new Xa.vJa(this.console);this.vna=new I.GCa(this.config,l.N.Na(this.config.T6),{parent:function(ob){return ob.xT();},next:this.THb.bind(this)},this.events,this.console);this.l$=new p.DLa(this.console,this.events);this.QR={DB:P.TU || Infinity};this.Y=new t.rda(this);this.Jd=new w.YP(this.Y.sa,this.console,"playgraph",1);this.tLb();this.kf=new R.Dza(this.console,P,ta,this.events,this,this.gq);this.q2=new ca.uza(this.Jd,this.gq,this.config,this.Rj.bind(this),this.jf,this.console);this.R7=this.kf.R7.bind(this.kf);this.zV=this.kf.zV.bind(this.kf);this.a8=this.kf.a8.bind(this.kf);this.J7=this.J7.bind(this);this.K7=this.K7.bind(this);this.wH=this.wH.bind(this);this.$v=new A.Uda(P);this.kLb();this.$v.Ye(new C.ax(this.kf.ih));this.$v.Ye(new D.GIa(this.fIb.bind(this)));this.$v.Ye(new C.ax(this.ih));this.$v.Ye(new E.sJa(this.Ua,this));this.$v.Ye(new K.UEa(this));this.Aab=new Ja.CLa(this,this.console,db);this.J6=new J.rFa(this.gq,this.console,this.events);this.Fm=new cb.xJa(this.W8.bind(this));this.mva((0,y.tK)(this.config),(0,y.sK)());}Object.defineProperties(aa.prototype,{state:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Vq:{get:function(){return !(this.Y instanceof t.rda);},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Ed:{get:function(){return this.Bu;},set:function(Q){this.Bu=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{FLb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{fa:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{weight:{get:function(){return this.zPa;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Dg:{get:function(){(0,u.assert)(this.Wq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.zm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{C9a:{get:function(){(0,u.assert)(this.Wq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.JT(this.Dg).Gq;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{jf:{get:function(){return this.kf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Cj:{get:function(){return this.kf.Cj;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Wq:{get:function(){return void 0 !== this.zm;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Jg:{get:function(){return this.Y.he?this.Y.Jg:this.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Md:{get:function(){var Q,ka;return this.Y.he?this.Y.Md:null !== (ka=null === (Q=this.zm) || void 0 === Q?void 0:Q.ro) && void 0 !== ka?ka:this.C9a;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{xsb:{get:function(){return this.dmb;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{W$:{get:function(){return this.Ipb;},enumerable:!1,configurable:!0}});aa.prototype.tLb=function(){this.gq=new w.YP(new B.T_({li:!0,currentTime:function(){return l.N.Na(q.default.time.Da());},speed:1}),this.console,"wallclock");};aa.prototype.kLb=function(){var Q;Q=this;(0,Fa.HTa)({kf:this.kf,gq:this.gq},w.Pg.ZC(l.N.Na(this.config.TV)),function(){Q.Y.he && Q.Y.Uy && (Q.kf.state.value === g.Uc.vl || Q.kf.state.value === g.Uc.Pe) && Q.iE(Q.Y.Uy);},"buffering");};aa.prototype.oLb=function(){var Q;Q=this;this.Nv=function(ka){var P,fa,ta;fa=Q.navigator.Pd(ka.position.I);if((fa=Q.Jma(fa)) && Q.Y.he){ta=(0,l.ula)(Q.Y.Ua.filter(function(pa){return pa.u.id === ka.position.I;}),ka.playerTimestamp,{dTa:!0});ta && (null === (P=Q.Y.ol) || void 0 === P?void 0:P.GH({u:ta.u,get BX() {return ta.Za.wa(ta.u.Ud);}},fa,Q.Jg.offset,!0,!1));}Q.Fm.start();};this.tV=function(){Q.zj("onDrmReady");};this.xSb=function(ka){ka=ka.newValue;Q.vQ || (Q.vQ=ka);};};aa.prototype.open=function(){this.kfa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.zc !== d.om.CLOSED)return !1;this.zc=d.om.OPEN;return !0;};aa.prototype.Qa=function(){this.gq.Qa();this.Jd.Qa();this.zc !== d.om.CLOSED && (this.Pf(),this.Fm.Qa(),this.kf.stop(),this.zc=d.om.CLOSED,this.Vq || this.Y.Qa(),this.J6.Qa());};aa.prototype.Nub=function(Q,ka,P){Q=(0,Y.Tka)(this.Ua,this.wH.bind(this),Q,ka,P).nSa;return this.bSa(Q);};aa.prototype.hz=function(Q,ka,P){var fa,ta,pa,Ra,Pa,db,wb;fa=this;ta=this.IE;pa=this.WX;Ra=this.UN;this.IE=Q;this.WX=ka;this.UN=P;Q=(0,Y.Tka)(this.Ua,this.wH.bind(this));Pa=Q.nSa;Q=Q.itb;if(0 === Pa.length)return !0;if(!this.bSa(Pa))return (this.IE=ta,this.WX=pa,this.UN=Ra,!1);db=this.Jg;this.Y.pN(Pa);wb=this.JT(db).Gq;Q.forEach(function(ob){var Fb;Fb=ob.tb;Fb.hz(ob.Xd,db.I === Fb.u.id?wb:void 0,void 0 !== fa.Ua.W4(Fb),Pa);});this.kf.TSb(db,Q[0].Xd);return !0;};aa.prototype.sK=function(Q){return (0,y.sK)(this.config,Q);};aa.prototype.tK=function(Q){return (0,y.tK)(this.config,Q);};aa.prototype.uT=function(Q,ka){var P,fa;P=this.navigator.Pd(Q);fa=this.navigator.Pd(ka);return {e5b:P.eKb(ka),RR:ka !== Q && this.Ua.has(ka) && this.Ua.yp(ka)[0].Wg,T2:fa.Ud.G,Uqa:this.Jma(P)};};aa.prototype.Rj=function(Q,ka,P,fa){var ta,pa,Ra,Pa;ta=this;void 0 === fa && (fa=!0);if(!ka)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(fa && this.vg.get(Q))P || this.vg.set(Q,ka);else {Ra=this.gT(Q)[0];Pa=this.navigator.Pd(Q);this.Jg.I === Q && Ra && (null === (pa=this.Y.ol) || void 0 === pa?void 0:pa.GH({u:Ra.u,get BX() {return Ra.Za.wa(Ra.u.Ud);}},ka,this.Jg.offset,fa,P));fa || (Q={offset:l.N.Ia,I:ka},this.zm={position:Q,Wg:!0,jcb:Q});P?this.vg.$Zb(Pa.id,ka):this.vg.set(Pa.id,ka);this.Fm.start();fa && Pa.Zv && 0 < Pa.Zv.length && ((0,u.assert)(Ra),Ra.D$(Pa.Zv) && this.gT(ka).forEach(function(db){return ta.pw(Ra,db);}));fa || this.kf.Y7(this.Dg);}};aa.prototype.bSa=function(Q){var ka,P;if(0 === Q.length)return !0;if(this.Y.CH && this.Y.q6.value.wa(this.Y.Md).lessThan(l.N.Na(5E3)))return !1;Q=this.Y.Ua;if(!Q.length)return !0;P=null === (ka=Q[0]) || void 0 === ka?void 0:ka.pa.J;return !Q.some(function(fa){return fa.pa.J !== P;});};aa.prototype.pw=function(Q,ka){var P;P=this;Q=Q.Mb.wa(ka.u.Ud);ka.pw(Q);this.Ua.mGb(ka).forEach(function(fa){return P.pw(ka,fa);});};aa.prototype.hj=function(Q){this.navigator.hj(Q);this.Fm.start();};aa.prototype.mva=function(Q,ka){this.dmb=Q;this.Ipb=ka;this.state === d.om.um && this.zj("setStreamFilters");};aa.prototype.tqb=function(Q){(0,u.assert)(-1 === this.Uka.indexOf(Q),"Attempted to add the same evaluation hook twice");this.Uka.push(Q);};aa.prototype.v_b=function(Q){this.ws.OXb(Q);};aa.prototype.HC=function(Q,ka){this.y9(Q,ka);};aa.prototype.y9=function(Q,ka,P){var fa,ta,pa,Ra,Pa;pa=this.fa;Ra=(0,N.hdb)(pa,Q);if(Ra.VL){Pa=this.ZYb(pa,Q,ka);if(void 0 === Pa)this.uf(("Invalid seekPosition after sanitization to ").concat(Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ra.reason),null === (fa=pa.L[Q.I]) || void 0 === fa?void 0:fa.J);else if(void 0 === this.IE || void 0 === this.WX)this.uf("No track selectors available");else if((fa=!(this.Vq && this.Y.Bp) && (0,N.a_a)(null === (ta=this.zm) || void 0 === ta?void 0:ta.jcb,Pa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:fa}),!fa)){this.d1=P;this.Wq?(this.GH(Pa),this.HSa(Q)):this.Ua.empty && P && (P=this.Y.MF()) && (this.GH(Pa,P),this.HSa(Q));Q=this.MYa();try{this.Pf(!0);this.ovb();this.zm={position:Pa,jcb:Pa,Wg:!1,ro:ka};this.q0a=ka?ka.wa(this.C9a):l.N.Ia;this.kf.Y7();this.zc=d.om.um;this.Fm.start();}finally{Q.release();}}}else this.uf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ra.reason),null === (Pa=pa.L[Q.I]) || void 0 === Pa?void 0:Pa.J);};aa.prototype.GH=function(Q,ka){var P,fa,ta;ta=this.navigator.Pd(null !== (P=null === ka || void 0 === ka?void 0:ka.u.id) && void 0 !== P?P:this.Jg.I);null === (fa=this.Y.ol) || void 0 === fa?void 0:fa.GH({u:ta,BX:ta.duration},Q.I,ka?ka.se:this.Jg.offset,!1);};aa.prototype.HSa=function(Q){var ka,P;if((null === (ka=this.Y.MF()) || void 0 === ka?void 0:ka.u.id) === Q.I){if((this.vg.pvb(Q.I),!this.vg.get(Q.I) && this.Y.Bp)){Q=this.Y.Ua;P=this.Y.MF();P && (Q=(0,v.qc)(Q,function(fa){return fa.parent === P;})) && this.vg.set(P.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.vg.Kia();};aa.prototype.MYa=function(){var Q,ka;Q=this;ka=this.Ua.filter(function(P){return P.u.J !== h.xn;}).map(function(P){return Q.ws.wo(P.u.J).vG;});return new x.oca(function(){ka.forEach(function(P){return P.release();});},this.console).Wu();};aa.prototype.Pf=function(Q){var ka,P,fa;fa=this.wJb();this.Ua.reset();if(!Q && (this.vg.Kia(),fa.length))try{for(var ta=k.__values(fa),pa=ta.next();!pa.done;pa=ta.next()){pa.value.o8a();}}catch(Pa){var Ra;Ra={error:Pa};}finally{try{pa && !pa.done && (ka=ta.return) && ka.call(ta);}finally{if(Ra)throw Ra.error;}}this.Jd.Vf();this.Y.reset();this.zm=void 0;this.q2.reset();null === (P=this.CRa) || void 0 === P?void 0:P.clear();this.zc === d.om.um && (this.zc=d.om.OPEN);};aa.prototype.gT=function(Q){return this.Ua.yp(Q);};aa.prototype.yh=function(Q){this.kf.yh(Q);(0,u.assert)(this.Y.$q,"Must have an appended branch on underflow");this.Y.GQa && this.kf.Cj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Wn(this.Md),this.kf.Gm("complete",Q.dO,Q.eO));this.q2.Cwa(this.Y.$q,this.Md);this.zj("onUnderflow");this.events.emit("underflow");};aa.prototype.Ye=function(Q){this.$v.Ye(Q);};aa.prototype.cv=function(Q){this.Ye(new z.uKa(Q));return this.bsb(Q);};aa.prototype.bsb=function(Q){var ka;ka=this.Y;if(!this.Y.Ewa(Q))return (this.uf("player in use"),!1);this.Y=Q;this.Jd.XQa(this.Y.sa);this.Y.events.on("segmentPresenting",this.Nv);this.Y.events.on("drmReady",this.tV);this.Y.gr.addListener(this.xSb);this.events.emit("playerChanged",{type:"playerChanged",old:ka,"new":this.Y});return !0;};aa.prototype.JT=function(Q){var ka,P;ka=Q.offset;P=this.navigator.Pd(Q.I);Q=P.J;ka=P.Ud.add(ka);return {J:Q,Gq:ka};};aa.prototype.Zk=function(Q,ka){var P,fa,ta,pa;pa=this.Y.Zk(Q);if(void 0 !== pa)return pa;if(null === (fa=null === (P=this.zm) || void 0 === P?void 0:P.ro) || void 0 === fa?0:fa.equal(Q))return null !== (ta=this.d1) && void 0 !== ta?ta:this.Dg;P=this.Y.$q;return (0,N.Zk)(Q,{Ca:this,wLb:P && ({id:P.u.id,qZb:P.pr})},ka);};aa.prototype.XF=function(Q,ka){void 0 === ka && (ka=!1);Q=this.KT(Q,ka).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.ro);};aa.prototype.KT=function(Q,ka){var P,fa,ta,pa,Ra,Pa,db,wb,ob,Fb,Qa,Za,hb;void 0 === ka && (ka=!1);return k.__generator(this,function(lb){switch(lb.label){case 0:(P=this.Y.KT(Q),fa=P.next(),lb.label=1);case 1:return fa.done?[3,3]:[4,fa.value];case 2:return (lb.Ra(),fa=P.next(),[3,1]);case 3:if(!ka)return [2];ta={};pa=this.Jg;this.Vq && this.Y.he && (db=this.Y.$q) && (pa={offset:l.N.Ia,I:db.u.id},Ra=db.Mb.wa(this.Y.Md),Pa=db.u);Ra || (Pa=this.navigator.Pd(pa.I),Ra=Pa.Ud.add(pa.offset).wa(Pa.Rf));(0,u.assert)(Pa,"Current segment should be defined by here");wb=this.Md;if(Pa.u.Jb && Pa.id !== Q.I)return [3,6];if(Pa.id !== Q.I)return [3,5];ob=Q.offset.wa(pa.offset);return [4,{DK:ob,ro:wb.add(ob)}];case 4:(lb.Ra(),lb.label=5);case 5:return [2];case 6:(Fb=this.navigator.Pd(Pa.u.Jb),Qa=this.navigator.H1a(Fb),Za=Qa.next(),lb.label=7);case 7:if(Za.done)return [3,11];hb=Za.value;if(ta[hb.id])return [3,11];ta[hb.id]=!0;if(hb.id !== Q.I)return [3,9];ob=Q.offset.add(Ra);return [4,{DK:ob,ro:wb.add(ob)}];case 8:return (lb.Ra(),[2]);case 9:(Ra=Ra.add(hb.duration),lb.label=10);case 10:return (Za=Qa.next(),[3,7]);case 11:return [2];}});};aa.prototype.s9a=function(Q){return (0,N.uua)(this.fa,Q);};aa.prototype.ZYb=function(Q,ka,P){var fa,ta;fa=(0,N.uua)(Q,ka);ta=l.N.Na(1E4);if(!fa || !P || P.greaterThan(ta))return fa;Q=ka.offset.add(l.N.Na(Q.L[ka.I].va));P=P.wa(Q);if(P.ji(l.N.Ia))return fa;ta=l.N.max(l.N.Ia,Q.wa(ta)).add(P);if(ta.ji(l.N.Ia))return fa;ta=fa.offset.add(ta);return {I:fa.I,offset:ta};};aa.prototype.Qs=function(Q,ka){var P;Q="string" === typeof Q?{J:this.fa.L[Q].J,Gq:l.N.Na(ka)}:Q;if(Q.J !== h.xn){ka=this.ws.wo(Q.J);try{return null === (P=ka.pa) || void 0 === P?void 0:P.Qs(this.config,Q.Gq.G);}finally{ka.vG.release();}}};aa.prototype.S4=function(){return (0,oa.NXa)(this.Ua,this.U5.bind(this));};aa.prototype.U5=function(Q){Q=this.Ua.W4(Q);return void 0 === Q || Q.ai && this.U5(Q);};aa.prototype.R4=function(){return this.QR.DB;};aa.prototype.LGb=function(Q){return (0,Ga.KZa)(this.Ua,Q);};aa.prototype.Wn=function(Q){var ka,P,fa;ka=this;this.Ua.zF(function(ta){var pa,Ra;pa=ta.jT(g.v.ga);Ra=ta.jT(g.v.Z);if(ta.u.qX || !ka.Ua.zna(ta) || !ta.ai){if(!P || pa < P)P=pa;if(!fa || Ra < fa)fa=Ra;}return ta.ai;});return {dO:P?Math.max(P - Q.G,0):0,eO:fa?Math.max(fa - Q.G,0):0};};aa.prototype.GF=function(){var Q,ka,P,fa;P=this.Wq?this.Wn(this.Md):{dO:0,eO:0};fa=G.default.instance().get();return {totalabuflmsecs:P.dO,totalvbuflmsecs:P.eO,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ka=Number(0 < fa.confidence) && (null === (Q=fa.sb) || void 0 === Q?void 0:Q.Ea)) && void 0 !== ka?ka:0};};aa.prototype.AL=function(){var Q,ka,P,fa,ta,pa,Ra,Pa;Q=this;if(this.Zq())return (this.ih.As({isStreamingFailureReported:!0}),[]);P=this.Ua.size;this.ih.As({branchCount:P});if(!this.Wq || 0 === P)return [];fa=this.Md;ta=this.Jg;pa=[];P=this.navigator.Pd(this.Jg.I);Ra=P.duration;Pa=this.vg.get(P.id)?1:null !== (ka=P.dz) && void 0 !== ka?ka:1;ka=this.Ua.reduce(function(db,wb,ob){var Fb,Qa,lb,yb,Hb;try{for(var Za=k.__values(wb.Q4()),hb=Za.next();!hb.done;hb=Za.next()){lb=hb.value;if(!lb.ht()){yb=("p").concat(Q.id,"-").concat(ob,"-").concat(null === (Qa=wb.Bb) || void 0 === Qa?void 0:Qa.G);Hb=Q.XIb(lb);db.push(Q.Zyb(lb,Hb.G,yb,Ra.G,Pa,fa.G,ta));}!lb.PB() && Q.ih.enabled && pa.push({segmentId:lb.I,isDoneStreaming:lb.ht(),isNormalized:lb.Wg(),needsHeaderRequest:lb.track.gV});}}catch(Db){var Jb;Jb={error:Db};}finally{try{hb && !hb.done && (Fb=Za.return) && Fb.call(Za);}finally{if(Jb)throw Jb.error;}}return db;},[]);this.ih.As({nonStreamables:pa});return ka;};aa.prototype.XIb=function(Q){var ka;ka=Q.xT();if(this.config.J3 && ka && this.navigator.aKb(ka.tb.u,Q.I))return Q.Kl;for(;ka && !ka.Zra;){Q=ka;ka=ka.xT();}return Q.Kl;};aa.prototype.THb=function(Q){var ka;if(!Q.tb.ag){ka=Q.tb.u.u.Jb;if(ka)return (ka=k.__read(this.Ua.yp(ka),1)[0],null === ka || void 0 === ka?void 0:ka.OF(Q.mediaType));}};aa.prototype.USb=function(Q){var ka,P;if(!this.l$.Zq()){ka=void 0;P=this.Y.Jg;P && (ka=this.navigator.Pd(P.I).J);this.uf("BufferingStateTracker: Temporary failure while buffering",ka,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Sg,null === Q || void 0 === Q?void 0:Q.ly,null === Q || void 0 === Q?void 0:Q.aj);}};aa.prototype.uf=function(Q,ka,P,fa,ta,pa,Ra){void 0 === Ra && (Ra=!1);"string" === typeof Q?this.l$.uf(Q,P,{networkErrorCode:fa,httpCode:ta,nativeCode:pa,viewableId:ka,temporaryFailure:Ra}):this.l$.UXb(Q);return !0;};aa.prototype.Kwa=function(Q,ka){ka=this.O4(ka,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:ka});};aa.prototype.O4=function(Q,ka){void 0 !== Q && this.J6.JNb(Q);ka=this.$v.Wi(Q,ka);Q === A.pc.Vi && (Q=this.GF(),ka.vbuflmsec=Q.totalvbuflmsecs,ka.abuflmsec=Q.totalabuflmsecs,ka.vbuflbytes=Q.vbuflbytes,ka.abuflbytes=Q.abuflbytes);return ka;};aa.prototype.pcb=function(Q){this.QR=Q;this.zj("updateBudget");};aa.prototype.Zq=function(){return this.l$.Zq();};aa.prototype.Jcb=function(Q){Q !== this.weight && (this.zPa=Q,this.events.emit("weightUpdated"));};aa.prototype.Wt=function(Q){var ka,P,fa,ta,pa,Ra,wb,ob,Fb,Qa,Za,hb,lb,yb,Hb,Jb;fa=(0,H.URa)(this.fa,Q);ta=fa.hN;pa=fa.Kub;Ra=fa.M3b;if([fa.Wga,ta,pa].every(function(Lb){return !Lb.length;}))return (this.gva(Q),this.Fm.start(),{ka:!0,reason:g.nq.dkb});if(0 === pa.length && 0 === Ra.length && this.Vq && this.Y.he)return {ka:!1,reason:g.nq.njb};if(this.Y.Ua.some(function(Lb){return -1 < ta.indexOf(Lb.u.id);}))return {ka:!1,reason:g.nq.alb};if(this.Wq && !this.Y.he && -1 < ta.indexOf(this.Dg.I))return {ka:!1,reason:g.nq.Fib};if(this.Wq)try{for(var Pa=k.__values(pa),db=Pa.next();!db.done;db=Pa.next()){wb=db.value;ob=this.fa.L[wb];Fb=ob.va;Qa=ob.ta;Za=ob.J;hb=Q.L[wb];lb=hb.ta;yb=hb.va;Hb=hb.J;if(this.Jg.I === wb && lb !== Qa){if(!lb)return {ka:!1,reason:g.nq.blb};Jb=l.N.Na(lb - yb);if(null === (P=this.Jg.offset) || void 0 === P?0:P.greaterThan(Jb))return {ka:!1,reason:g.nq.eeb};}if(Fb !== yb)return {ka:!1,reason:g.nq.ohb};if(Za !== Hb)return {ka:!1,reason:g.nq.phb};}}catch(Lb){var Db;Db={error:Lb};}finally{try{db && !db.done && (ka=Pa.return) && ka.call(Pa);}finally{if(Db)throw Db.error;}}this.gva(Q);this.Fm.start();return {ka:!0,reason:g.nq.ckb};};aa.prototype.qB=function(Q){Q=this.gT(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Ws()) && 0 !== Q.length)return l.N.min.apply(l.N,k.__spreadArray([],k.__read(Q.map(function(ka){return ka.qB();})),!1));};aa.prototype.gva=function(Q){var ka;ka={type:"playgraphUpdating",cSb:this.rj,bRb:Q};this.rj=Q;this.navigator?this.navigator.update(Q):this.navigator=new L.CJa(Q);this.zJb=(0,H.uTa)(this.navigator);this.B4b();this.events.emit("playgraphUpdating",ka);};aa.prototype.B4b=function(){var Q,ka,P,fa,ta;P=this.Y && this.Vq && this.Y.he?this.Jg:void 0;if(P){fa=this.navigator.Pd(P.I);P=null === (Q=this.Y.ol) || void 0 === Q?void 0:Q.G3;if((Q=this.Jma(fa)) && Q !== P && this.Y.Bp){ta=this.Y.Uy;null === (ka=this.Y.ol) || void 0 === ka?void 0:ka.GH({u:ta.u,get BX() {return ta.Za.wa(ta.u.Ud);}},Q,this.Jg.offset,!0,!1);}}};aa.prototype.AV=function(Q,ka){this.C8a(Q);Q.XK.addListener("criticalNetworkError",this.R7);Q.XK.addListener("temporaryNetworkError",this.zV);Q.XK.addListener("updatingLastSuccessEvent",this.a8);Q.events.addListener("liveEventTimesUpdated",this.J7);Q.events.addListener("liveLoggingInfoUpdated",this.K7);Q.ha && Q.RVb();this.zc === d.om.um && ka && this.v9a();};aa.prototype.Gra=function(Q){0 === this.Ua.filter(function(ka){return ka.$n && ka.pa === Q;}).length && this.C8a(Q);};aa.prototype.C8a=function(Q){Q.XK.removeListener("criticalNetworkError",this.R7);Q.XK.removeListener("temporaryNetworkError",this.zV);Q.XK.removeListener("updatingLastSuccessEvent",this.a8);Q.events.removeListener("liveEventTimesUpdated",this.J7);Q.events.removeListener("liveLoggingInfoUpdated",this.K7);};aa.prototype.MPa=function(Q){var ka;(0,u.assert)(Q.Wg,"expected branch to be normalized on addBranchToPlayer");this.Y.Bp || (null === (ka=this.zm) || void 0 === ka?0:ka.Wg) || this.yEb(Q);this.kf.bxa(Q.Xd);this.Y.Bp && (ka=this.Y.$q) && this.vg.clear(ka.u.id);this.Y.Mka(Q);this.q2.Cwa(Q,this.Md);};aa.prototype.yEb=function(Q){(0,u.assert)(Q.Ma,"Normalized branch should have a defined content start timestamp");(0,u.assert)(this.zm,"AsePlaygraph should have a seek position on first branch normalization");(0,u.assert)(!this.zm.Wg,"Seek position should not already be normalized on first branch normalization");this.zm=k.__assign(k.__assign({},this.zm),{position:{I:Q.u.id,offset:Q.Ma.wa(Q.u.Ud)},Wg:!0});this.kf.VZb(this.zm.position,Q.Xd.filter(function(ka){return ka.mediaType === g.v.ga;})[0]);};aa.prototype.ovb=function(){var Q;this.q2.reset();this.Y.OA();this.zm=void 0;null === (Q=this.CRa) || void 0 === Q?void 0:Q.clear();};aa.prototype.Zyb=function(Q,ka,P,fa,ta,pa,Ra){var Pa,db,wb,ob;Pa=this;ob=null !== (wb=null === (db=Q.tb.Bb) || void 0 === db?void 0:db.G) && void 0 !== wb?wb:Q.tb.ry.G;db=Q.OC.G;wb=this.vg.get(Q.I)?1:Q.tb.u.dz;return {identifier:Q.I,mediaType:Q.mediaType,ah:Q.ah,jf:this.jf.value,Oy:ka,Fr:db,Jq:pa,cXa:Q.bL.G,Msa:Ra.offset.G,Lsa:fa,YV:ta,dz:wb,bB:Q.tb.Nd.G,Cab:Math.max(db - ob,0),PB:Q.PB(),ht:Q.ht(),Rk:Q.Rk,groupId:P,v1a:function(Fb,Qa){Fb=Pa.Aab.tub(Fb,Q.mediaType,1 > Qa || !Q.tb.ag && !Pa.U5(Q.tb));1 === Qa && "global" === (0,g.sta)(Fb.reason) && Pa.kf.sSb(Q.mediaType,Pa.Wn(Pa.Md));return Fb;},A1a:function(){var Fb,Qa,Za,hb,lb,yb,Hb,Jb,Db,Lb,Rb,bc,Ib;hb=Q.mediaType;lb=Pa.vna.wZb(Pa.jf.value,Pa.Md,Q.OC,Q.Bab,Pa.Y.playbackRate,Q,hb === g.v.ga?Pa.xsb:Pa.W$,Pa.W1);yb=lb.stream;Hb=lb.WW;Jb=lb.KL;Db=lb.fz;Lb=lb.Ov;Rb=lb.reason;bc=lb.aEb;lb=lb.xZb;if(!yb)return {oi:!1,reason:Rb || "selectLocationsAndStream"};if(Pa.jf.value === g.Uc.um && Q.tb && Q.tb.pa.Rl && !Q.tb.pa.VU && !Pa.Y.fU(Q.tb.pa.J)){Rb=Q.OC.G - Pa.Md.G;if(!Q.tb.pa.wp && Rb > Pa.config.o3a)return {oi:!1,reason:"maxBufferingCompleteBufferInMs"};if(!yb.ki && yb.mediaType === g.v.Z && Rb >= Pa.config.cqa)return {oi:!1,reason:"maxFastPlayBufferInMs"};}Rb=g.v.Z;if(null === (Fb=Q.tb) || void 0 === Fb?0:Fb.Xd.every(function(Ob){return Ob.mediaType === g.v.ga;}))Rb=g.v.ga;Pa.kf.Cj && hb === Rb && Pa.kf.h_b(Q.il.zZb,yb.bitrate,Jb);Pa.b_b(Q.tb.u,Hb);Fb=null === (Qa=Q.tb.Kr) || void 0 === Qa?void 0:Qa.G;Qa=Q.Xbb(yb,Lb,Db);if(Qa.oi){Pa.kfa && (Pa.EJ("firstDriveStreaming"),Pa.kfa=!1);if(0 < Pa.dB){Ib=null === (Za=Q.tb.Kr) || void 0 === Za?void 0:Za.G;Fb && Ib && (Pa.dB-=Fb - Ib,0 >= Pa.dB && Pa.v9a());}Pa.events.emit("requestIssued",{type:"requestIssued",mediaType:hb,result:lb,streamList:bc});}else "exceedsLiveEdge" === Qa.reason && (null === (Ib=Pa.Ifa) || void 0 === Ib?void 0:Ib.Qa(),Pa.Ifa=Pa.gq.UA(w.Pg.ZC(yb.Yn().Nd),function(){Pa.Ifa=void 0;Pa.zj("liveEdgeRetry");}));return Qa;}};};aa.prototype.b_b=function(Q,ka){var P;P=this;ka.forEach(function(fa){fa.pa.a_b(fa,Q,function(){var ta,pa;(0,u.assert)(P.Wq,"Speculative header callback after streaming is cancelled");ta=P.Md.G;pa=ta + P.config.k7;return {ah:[],jf:P.kf.state.value,Oy:pa,Fr:pa,Jq:ta};});});};aa.prototype.v9a=function(){var Q;Q=this;this.Fm.Z$(cb.vD.Gw,function(){return Q.Fm.start();});};aa.prototype.W8=function(){var Q,ka,P,fa,ta;Q=this;if(this.zc === d.om.um){ka=this.Jg;P=this.Y.Ua;fa=this.Ua.nJb();ta=k.__read(P,1)[0];ka=ta?this.navigator.Pd(ta.u.id):this.navigator.Pd(ka.I);P=P.map(function(pa){return {id:pa.u.id,duration:pa.Mb.wa(pa.Bb).G};});fa=(0,O.W8)(this.console,this.zJb,ka,fa,this.vg,P,l.N.Na(this.config.gtb),this.config.Fqa,l.N.Na(this.config.Tha));P=fa.Zta;this.dB=fa.dB || 0;fa=this.Uka.reduce(function(pa,Ra){return Ra(pa);},P);this.Ua.$3b(fa,function(pa,Ra){var Pa,db;db=Q.navigator.Pd(pa);pa=pa === Q.Dg.I?Q.Dg.offset:pa === (null === (Pa=Q.d1) || void 0 === Pa?void 0:Pa.I)?Q.d1.offset:l.N.Ia;Pa=db.Ud.add(pa);return Q.x3b(db,Pa,Ra);}).hN.forEach(function(pa){pa.Pf("aborted");});this.k8a();this.rSa();this.Fm.Z$(cb.vD.Gw,function(){var pa;(null === (pa=Q.Ua.root()) || void 0 === pa?0:pa.$n) && Q.zj("reevaluateBranches");Q.Fm.ZU(cb.vD.TP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};aa.prototype.wJb=function(){return (0,v.CR)(this.Ua.filter(function(Q){return Q.$n;}).map(function(Q){return Q.pa;}));};aa.prototype.k8a=function(){var Q,ka;Q=this;if(this.zc === d.om.um){if(!this.Y.$q){ka=k.__read(this.Ua.yp(this.Dg.I),1)[0];(null === ka || void 0 === ka?0:ka.Wg) && this.MPa(ka);}if(this.Y.$q)for(;;){ka=this.CYa(this.Y.$q.u);if(!ka)break;ka=k.__read(this.Ua.yp(ka).filter(function(P){return P.parent === Q.Y.$q;}),1)[0];if(!ka)break;if(null === ka || void 0 === ka || !ka.Wg)break;else if(this.Y.g_a(ka))break;this.MPa(ka);}}};aa.prototype.Jma=function(Q){var ka,P,fa,ta;if(this.Y.Bp){ka=this.Y.Uy;P=!1;fa=this.Y.Ua.filter(function(pa){P || (P=pa === ka);return P;});ta=(0,v.Bs)(fa,function(pa){return pa.u.id === Q.id;});if(fa=fa[ta + 1])return fa.u.id;}return this.CYa(Q);};aa.prototype.CYa=function(Q){var ka;ka=this.vg.get(Q.id);if(void 0 !== ka)return ka;Q=this.navigator.DGb(Q);if(1 === Q.length)return Q[0].id;};aa.prototype.rSa=function(){var Q;Q=this.Ua.empty || 0 !== this.FFb();Q || this.k$?Q && this.k$ && (this.k$=!1):(this.kf.Cj && (Q=this.Wn(this.Md),this.kf.Gm("complete",Q.dO,Q.eO)),this.hob(),this.k$=!0);};aa.prototype.FFb=function(){return this.Ua.filter(function(Q){return !Q.ai;}).length;};aa.prototype.iE=function(Q){this.U5(Q) && this.kf.Dia(this.Md,this.Y.playbackRate,Q,{Cia:this.vna.Cia.bind(this.vna,this.Aab)});};aa.prototype.kSb=function(Q,ka){var P,fa;P=this;if(ka.didNormalizeSegment){fa=ea.UKa.vJb(Q);(0,u.assert)(fa,"Segment should be normalized");Promise.resolve().then(function(){return P.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:ka.segmentContentStart,normalizedEnd:ka.branchContentEnd,viewableContentEnd:fa.udb,viewableEarliestContentEnd:fa.vdb,media:c(Q.Xd)});});}Promise.resolve().then(function(){P.k8a();});this.zj("branchNormalized");};aa.prototype.lSb=function(){this.rSa();};aa.prototype.jSb=function(){this.Fm.start();};aa.prototype.kzb=function(Q,ka){var P;P=this;return new m.wza(Q.J,this.ws.wo.bind(this.ws),function(fa,ta,pa){P.state !== d.om.CLOSED && (P.AV(ta,pa),P.Fm.Z$(cb.vD.TP,function(){fa.ag || P.gob(fa,ta,ka);}));},this.Gra.bind(this));};aa.prototype.x3b=function(Q,ka,P){var fa,ta;if(this.lvb(Q,ka))throw Error("Not implemented");fa=this.kzb(Q,!P);ta=P?P.Mb.wa(ka):this.q0a || l.N.Ia;Q=(0,n.tTa)({config:this.config,console:this.console,u:Q,events:this.events,wH:this.wH,Zm:ka,se:ta,Ts:this.vzb.bind(this),jf:this.jf,Jd:this.Jd,jI:fa,GRa:this.Cn,Bsa:this.Ua});this.C1b(Q,!!P);return Q;};aa.prototype.vzb=function(){return this.Md.G;};aa.prototype.C1b=function(Q,ka){var P,fa;P=this;fa=new f.gf();fa.addListener(Q.events,"needsRequest",function(){var ta;ta=P.Ua.root();ta && !ta.$n || P.zj("branchNeedsHeader");});fa.addListener(Q.events,"branchNormalized",this.kSb.bind(this,Q));fa.addListener(Q.events,"lastRequestIssued",this.jSb.bind(this,Q));fa.addListener(Q.events,"branchStreamingComplete",this.lSb.bind(this,Q));fa.addListener(Q.events,"checkBufferingProgress",this.iE.bind(this,Q));fa.addListener(Q.events,"branchDestroyed",function(ta){fa.clear();P.Ua.contains(Q) && (P.Ua.DXb(Q),P.Fm.start());"aborted" === ta.reason && (P.Y.g_a(Q) || P.Fm.Z$(cb.vD.Gw,function(){return P.fob(Q.u.id);}));});ka || (this.EJ("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){P.EJ("createDlTracksEnd");}));};aa.prototype.fIb=function(Q){if(this.Y.he)return this.Y.Uy.ef(Q);};aa.prototype.wH=function(Q,ka,P,fa){ka=[[g.v.ga,null !== ka && void 0 !== ka?ka:this.IE,"audio_tracks"],[g.v.Z,null !== P && void 0 !== P?P:this.WX,"video_tracks"]].map(function(ta){var pa,Ra;pa=k.__read(ta,3);Ra=pa[0];ta=pa[1];pa=pa[2];if(Q.W && ((0,u.assert)(ta,("Expected mediaType ").concat(Ra," track selector to be defined")),Ra=Q.W[pa],ta=ta.AN(Q.W,Ra),void 0 !== ta))return Q.getTrackById(Ra[ta].hO);}).filter(v.F7);P=fa || this.UN;Q.W && P && (fa=Q.W.timedtexttracks,P=P.AN(Q.W,fa),void 0 !== P && 0 <= P && (fa=Q.getTrackById(fa[P].id)) && ka.push(fa));return ka;};aa.prototype.J7=function(Q){var ka,P,fa,ta;ka=this;P=Q.pa;fa=Q.startTime;ta=Q.endTime;this.Ua.filter(function(pa){return pa.$n && pa.pa === P;}).forEach(function(pa){pa={type:"liveEventTimesUpdated",I:pa.u.id,startTime:fa,endTime:ta};ka.events.emit(pa.type,pa);});};aa.prototype.K7=function(Q){var ka,P,fa,ta;ka=this;P=Q.pa;fa=Q.mediaType;ta=Q.info;this.Ua.filter(function(pa){return pa.$n && pa.pa === P;}).forEach(function(pa){pa={type:"liveLoggingInfoUpdated",I:pa.u.id,mediaType:fa,info:ta};ka.events.emit(pa.type,pa);});};aa.prototype.gob=function(Q,ka,P){(0,u.assert)(Q.Xd.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.se.G,maxBitrates:{audio:ka.hM[g.v.ga],video:ka.hM[g.v.Z]},media:c(Q.Xd),initial:P};this.events.emit(Q.type,Q);};aa.prototype.fob=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};aa.prototype.hob=function(){var Q;Q={type:"streamerEnd",time:q.default.time.Da()};this.events.emit(Q.type,Q);};aa.prototype.EJ=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.Da()};this.events.emit(Q.type,Q);};k.__decorate([W.return.xh()],aa.prototype,"Dg",null);k.__decorate([(0,F.Sb)({methodName:"checkCanSetTracks",return:!0})],aa.prototype,"Nub",null);k.__decorate([(0,F.Sb)({methodName:"setTracks",return:!0})],aa.prototype,"hz",null);k.__decorate([(0,F.Sb)({methodName:"setNextSegment",zq:!0})],aa.prototype,"Rj",null);k.__decorate([(0,F.Sb)({methodName:"seekStreaming"}),k.__param(0,W.xh())],aa.prototype,"HC",null);k.__decorate([(0,F.Sb)({methodName:"seekStreamingWithEntryPoint"}),k.__param(0,W.xh()),k.__param(2,W.xh()),k.__param(2,W.L7)],aa.prototype,"y9",null);k.__decorate([W.return.wTa(),k.__param(0,W.xh())],aa.prototype,"JT",null);k.__decorate([W.return.xh()],aa.prototype,"Zk",null);k.__decorate([k.__param(0,W.xh())],aa.prototype,"XF",null);k.__decorate([k.__param(0,W.xh())],aa.prototype,"KT",null);k.__decorate([W.return.xh(),k.__param(0,W.xh())],aa.prototype,"s9a",null);k.__decorate([k.__param(0,W.wTa()),k.__param(0,W.I())],aa.prototype,"Qs",null);k.__decorate([(0,F.Sb)({methodName:"getStreamables",ik:!0})],aa.prototype,"AL",null);k.__decorate([(0,F.Sb)({methodName:"updatePlaygraphMap",return:!0})],aa.prototype,"Wt",null);return aa;})();b.Gaa=r;},82800:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Txa=void 0;c=a(70655);k=a(28075);f=a(47571);h=c.__importDefault(a(29736));d=a(74005);g=a(4145);m=a(18934);l=a(50971);n=a(26732);p=a(95994);q=(function(){function u(t,v){this.J=t;this.Mc=v;this.sW=!1;this.z1=new n.AbortController();}u.isEqual=function(t,v){return v.J === t.J && v.Mc === t.Mc;};return u;})();r=(function(){function u(t,v,w,y,x,A){var z;z=this;this.ws=t;this.Ca=w;this.Gdb=y;this.config=x;this.console=A;this.items=[];this.events=new k.EventEmitter();v.events.addListener("adBreakComplete",function(){z.tbb=z.Gdb.sa.currentTime;});this.console=(0,d.Ph)(h.default,A,"AdBreakHydrator");}u.prototype.eZb=function(t){c.__awaiter(this,void 0,void 0,function(){var v,w,y,x,A;A=this;return c.__generator(this,function(z){switch(z.label){case 0:v=t.map(function(B){return new q(B.J,B.Mc);});w=(0,g.YSa)(this.items,v,q.isEqual);this.items=w.result;w.Dta.forEach(function(B){var C;null === (C=B.z1) || void 0 === C?void 0:C.abort();});p.K && this.console.log("Evaluated schedule",{Oac:w.Yqb.length,Dta:w.Dta.length,i7a:w.i7a.length,wec:w.result.length});y=this.items.filter(function(B){return !B.sW;}).map(function(B){return A.Oj(B);});if(!(0,f.bo)(this.Ca.jf.value))return [3,5];x=this.items.map(function(B){return A.ws.wo(B.J).vG;});z.label=1;case 1:return (z.Vj.push([1,,3,4]),[4,Promise.race(y)]);case 2:return (z.Ra(),[3,4]);case 3:return (x.forEach(function(B){return B.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(y)];case 6:(z.Ra(),z.label=7);case 7:return [2];}});});};u.prototype.Oj=function(t){var v;return c.__awaiter(this,void 0,void 0,function(){var w,y,x,A,z;return c.__generator(this,function(B){switch(B.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{rgc:t.J,gbc:t.Mc.vj}),null === (v=t.z1) || void 0 === v?void 0:v.abort(),w=new n.AbortController(),t.z1=w,y=(0,m.Rx)(this.Ca.fa,t.J,d.N.Na(t.Mc.qk)),x=(0,n.rha)(w.signal),B.label=1);case 1:return (B.Vj.push([1,,5,6]),[4,Promise.race([this.zra(w.signal).then(function(){return "rebuffer";}),Promise.all([this.G5b(x),this.I5b(y,x)]).then(function(){return "gatesPassed";}),x.then(function(){return "cleanup";})])]);case 2:A=B.Ra();p.K && this.console.log("Schedule completed for reason",A);if(w.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{hbc:t.Mc.vj,qk:t.Mc.qk});t.sW=!0;return [4,this.tWb(t.Mc.pq.Oi,t.J,w.signal)];case 3:(B.Ra(),B.label=4);case 4:return [3,6];case 5:return (t.z1 === w && (z=this.items.indexOf(t),-1 !== z && (p.K && this.console.log(("Removing item ").concat(z,", ").concat(this.items.length - 1," left")),this.items.splice(z,1))),[7]);case 6:return [2];}});});};u.prototype.zra=function(t){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,d.Uw.O5b([this.Ca.jf],function(v){v=c.__read(v,1)[0];return (0,f.bo)(v);},t)];});});};u.prototype.G5b=function(t){var v;v=this;return this.tbb && this.config.P_a?new Promise(function(w){var y,x;y=v.tbb.add(d.N.Na(v.config.P_a));x=v.Gdb.UA(l.Pg.Yt(y),w,"hydratorWaitTask");t.then(function(){return x.Qa();});}):Promise.resolve();};u.prototype.I5b=function(t,v){var w,y;w=this;if(!this.config.A3a)return Promise.resolve();y=d.N.Na(this.config.A3a);return new Promise(function(x){var A,z;A=w.Ca.XF(t,!0);z=w.Ca.Jd.UA(l.Pg.Yt(A.wa(y)),x,"waitJitHydrateAdBreak");v.then(function(){return z.Qa();});});};u.prototype.tWb=function(t,v,w){var y;return c.__awaiter(this,void 0,void 0,function(){var x,A,z,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:(x=this.ws.wo(v),A=x.vG,F.label=1);case 1:return (F.Vj.push([1,4,5,6]),[4,x.yz]);case 2:return (F.Ra(),[4,this.ws.cw({Oi:t,J:v})]);case 3:return (z=F.Ra(),w.aborted || (B=z.B1,C=z.vha,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (y=z.B1.Ze) || void 0 === y?void 0:y.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",Oi:t,B1:B,vha:C})),[3,6]);case 4:return (D=F.Ra(),w.aborted || this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",Oi:t,error:D}),[3,6]);case 5:return (A.release(),[7]);case 6:return [2];}});});};return u;})();b.Txa=r;},98875:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uxa=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(26888);r=(function(){function h(d,g,m,l,n){this.Ca=d;this.Jd=g;this.events=m;this.Mc=l;this.console=n;this.cp=0;l.i2 && k.default.ping && k.default.ping(l.i2);}Object.defineProperties(h.prototype,{Rwa:{get:function(){return this.cp;},enumerable:!1,configurable:!0}});h.prototype.nra=function(d,g,m,l,n){this.Yu && (this.Yu.Qa(),this.Yu=void 0);this.Yu=new f.hLa(this.Ca,this.Jd,this.events,this.Mc,d,g,m,l,n,this.console);};h.prototype.O7=function(d){this.Yu && (this.Yu.Qa(),this.Yu=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Mc.yga.complete),{xh:d,AE:this.Mc.Tt,vj:this.Mc.vj}));this.Mc.Ena=!0;}catch(g){this.console.error("Impression error event",g);this.cp++;}};h.prototype.tv=function(){var d;return {ad:null === (d=this.Yu) || void 0 === d?void 0:d.tv(),errors:this.cp};};return h;})();b.Uxa=r;},87982:function(r,b,a){var k,f,h,d,g,m,l,n,p;function c(q){return null === q || void 0 === q?void 0:q.de.map(function(u){return u.Ze;}).map(function(u){return null === u || void 0 === u?void 0:u.map(function(t){return t.id;});}).reduce(function(u,t){return null === t || void 0 === t?void 0:t.concat(u);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.Vxa=void 0;k=a(70655);f=a(28075);h=a(41427);d=a(95994);g=a(89098);m=a(44724);l=a(4145);n=a(54533);p=a(3839);r=(function(){function q(u,t,v,w,y){this.config=u;this.console=t;this.Va=v;this.Ic=w;this.eN=y;this.Zu={};this.eOa=new g.I_();this.u6=!1;this.events=new f.EventEmitter();this.Va.tqb(this.gDb.bind(this));}Object.defineProperties(q.prototype,{ELb:{get:function(){return this.Va.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{de:{get:function(){return this.xq.qR;},enumerable:!1,configurable:!0}});q.prototype.qa=function(u,t,v){this.xq=new n.mya(u,t);this.sR=new p.jya(this.xq,this.console,this.Va,this.Ic);this.pR=v;};q.prototype.DL=function(){var u;u=this;return !!(0,l.qc)(Object.keys(this.de),function(t){return 0 < u.de[t].length;});};q.prototype.Y7=function(u){var t,v,w;t=this.Ic.Vg;(0,m.assert)(t,"Could not get graph location service");if(0 < this.xq.exa){v=this.TA(this.Ic.fa);t=t.fdb(this.Ic.fa,v);this.xq.reset();}w=this.sR.HQa(u,t,v);u=w.Dg;t=w.JS;this.a2a=w.z8;d.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(u)));w=(null !== v && void 0 !== v?v:this.Va.fa).L[u.I];this.u6=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {Dg:u,JS:t,cRb:v};};q.prototype.AV=function(u,t){var v,w;v=this.EXa(u);w=this.Zu[u.O];this.Zu[u.O]=v;if(w !== v && (null === w || void 0 === w?void 0:w.de.length) !== (null === v || void 0 === v?void 0:v.de.length)){if(null === v || void 0 === v?0:v.de)(this.xq.RZb(u.O,v.de),this.sR.q$a(),d.K && this.console.trace("Received ad metadata for",{pa:u.O,lqb:c(v)}));if(t && this.r_a(t.Dg)){if(this.J$a(t.Dg))return this.o7a(t);d.K && this.console.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(t),", didAppendData ").concat(this.Va.vQ,",\n                        enablePrerollForInitialSeek ").concat(this.Va.config.Eka,"\n                        offset ").concat(t.Dg.offset));}this.process(null === t || void 0 === t?void 0:t.Dg,null === t || void 0 === t?void 0:t.ro);}};q.prototype.mra=function(u,t,v){var w;w=this.EXa(u);(0,m.assert)(w,("adMetadata for viewable ").concat(u.J," should exist if an adBreak hydration was requested"));this.Zu[u.O]=w;this.xq.mra(u.O,t);this.sR.q$a();d.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{pa:u.O,lqb:c(w)});v?this.o7a(v):this.process();};q.prototype.IMb=function(){return !this.Va.Y.Bp && this.Va.Cj;};q.prototype.o7a=function(u){var t,v,w,y;d.K && this.console.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(u)));t=this.Ic.Vg;(0,m.assert)(t,"Could not get graph location service");v=this.TA(this.Ic.fa);t=t.fdb(this.Ic.fa,v);w=this.sR.HQa(u.Dg,t,v);y=w.Dg;w=w.JS;this.u6=!1;(v=v.L[y.I]) || (v=this.Va.fa.L[y.I]);this.u6=!!v.type && -1 < ["ad","padding"].indexOf(v.type);d.K && this.console.trace(("ads::processDelayedSeekRequest: executing delayed seek to\n            position: ").concat(JSON.stringify(y),",\n            playerTimestamp: ").concat(u.ro,",\n            entryPoint: ").concat(JSON.stringify(w)));t=null === t || void 0 === t?void 0:t.Ut(y);return this.process(t,u.ro,w);};q.prototype.process=function(u,t,v){var w;w=this;this.eOa.P1 || this.eOa.Exa(function(){w.eN(void 0,w.Ic.fa,u,t,v);w.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};q.prototype.TA=function(u){var t,v,w;t=this;v=u;w=Object.keys(u.L).map(function(y){return ("").concat(u.L[y].J);});Object.keys(this.Zu).forEach(function(y){var x,A;if(-1 !== w.indexOf(y)){x=t.Zu[y];if(x){A=x.de.map(function(z,B){z=t.de[y][B];return z.Uq || z.Ze.reduce(function(C,D,F){return D.hU?k.__spreadArray(k.__spreadArray([],k.__read(C),!1),[F],!1):C;},[]);});x=(0,h.FTa)(parseInt(y),x,A,t.config.Ora);v=(0,h.sqa)(v,x);}}});return v;};q.prototype.r_a=function(u){return !!this.Zu[this.Ic.fa.L[u.I].J];};q.prototype.EXa=function(u){if(u.Dm && (u=u.Dm,u.de.length))return u;};q.prototype.qka=function(u){this.xq.qka(u);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:u});this.process();};q.prototype.uva=function(u,t,v){var w;return this.sR.uva(u,t,v,null === (w=this.ELb) || void 0 === w?void 0:w.we);};q.prototype.gDb=function(u){var t,v,w,y,x;t=this;if(!this.DL())return u;v=!0;w=[];y=[];u.zF(function(A,z){var B,C,D,F;if(!(z || !A.u.b1a || t.IMb() && t.J$a(t.Va.Dg)))return (t.console.trace("Hydration: Not checking root segment"),!0);C=t.Va.FLb.fa.L[A.u.id];(0,m.assert)(C,"Hydration: Segment must be present in innermost playgraph");D=C.J;if(C.type && -1 < ["ad","padding"].indexOf(C.type))v=!1;else if(C.Tb){F=t.Va.fa.L[C.Tb];F && F.J !== C.J && (t.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(C.J,", ") + ("main content viewableId: ").concat(F.J)),D=F.J);}if((C=t.xq.IFb(D,C.va)) && !C.Uq)if(C.aSa && !C.xg){if((F=null === (B=null === z || void 0 === z?void 0:z.tb) || void 0 === B?void 0:B.duration,t.u6 && F && 5E3 > F))t.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(A);if(v && 0 === y.length || x === z)(y.push({J:D,Mc:C}),x=z);return !1;}}else v=!1;return !0;});w.forEach(function(A){return u.remove(A);});this.pR.eZb(y);return u;};q.prototype.J$a=function(u){var t,v,w;v=this.Va.vQ;(w=0 === u.offset.G) || (v?(v=this.a2a,w=null === (t=this.Va.Y.MF()) || void 0 === t?void 0:t.u.id,u=v && v.qFb === w && v.to.I === u.I && v.to.offset.G === u.offset.G?this.a2a.UJb:!0):u=this.Va.config.Eka,w=u);return w;};return q;})();b.Vxa=r;},84630:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wxa=void 0;c=a(4145);r=(function(){function k(f,h){this.zs=f;this.Xe=h;}k.prototype.xna=function(f){var h;h=this;return this.zs.Y.Ua.some(function(d){return d.u.u.J === f && d.xQa;})?!1:(0,c.qc)(Object.keys(this.Xe.Zu),function(d){if(d=h.Xe.Zu[d])return (0,c.qc)(d.de,function(g){return g.Ze && (0,c.qc)(g.Ze,function(m){return m.id === f;});});})?(this.Xe.qka(f),!0):!1;};return k;})();b.Wxa=r;},57389:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Yxa=void 0;c=a(28075);k=a(19829);r=(function(){function f(h,d,g){var m;m=this;this.Xe=d;this.Qo=new c.gf();this.Hp="adHydratorAudit";this.md="adHydratorAuditor";this.enabled=!0;this.Qo.on(h.events,"adBreakPresenting",function(l){m.state.JPa.push(l.presentingInfo.Mc.UJ.KZb);});this.Qo.on(g.events,"adBreakHydrated",function(){m.state.HPa++;});this.Qo.on(g.events,"adBreakHydrationFailed",function(){m.state.GPa++;});this.state={HPa:0,GPa:0,JPa:[]};}f.prototype.Wi=function(h){h=h.Zi;if(this.Xe.DL() && h === k.pc.Vi)return {adBreaksPresentedSequence:this.state.JPa,adBreaksHydratedCount:this.state.HPa,adBreaksFailedHydratedCount:this.state.GPa};};f.prototype.Qa=function(){this.Qo.clear();};return f;})();b.Yxa=r;},40588:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Zxa=void 0;c=a(28075);k=a(19829);r=(function(){function f(h,d,g){var l;function m(n){var p,q;(p=l.state.Bga)[q=n.event] || (p[q]=0);l.state.Bga[n.event]++;}l=this;this.Xe=d;this.Wna=g;this.Qo=new c.gf();this.Hp="adImpressionAudit";this.md="adImpressionAuditor";this.enabled=!0;this.Qo.on(h.events,"adPresenting",function(){return l.state.qQa++;});this.Qo.on(h.events,"adBreakPresenting",function(){return l.state.IPa++;});this.Qo.on(g.events,"adEvent",m);this.Qo.on(g.events,"adBreakEvent",m);this.state={IPa:0,Bga:{},qQa:0};}f.prototype.Wi=function(h){h=h.Zi;if(this.Xe.DL() && h === k.pc.Vi)return {presented:{breaks:this.state.IPa,ads:this.state.qQa},events:this.state.Bga,logger:this.Wna.tv()};};f.prototype.Qa=function(){this.Qo.clear();};return f;})();b.Zxa=r;},30327:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bya=void 0;r=a(70655);c=a(28075);k=r.__importDefault(a(29736));f=a(74005);h=a(44724);d=a(95994);g=a(98875);a=(function(){function m(l,n,p,q){this.Va=n;this.Jd=p;this.cp=0;this.events=new c.EventEmitter();this.console=(0,f.Ph)(k.default,q,"IMPRESSION");l.events.addListener("adBreakPresenting",this.P7.bind(this));l.events.addListener("adBreakComplete",this.O7.bind(this));l.events.addListener("adPresenting",this.nra.bind(this));}Object.defineProperties(m.prototype,{UT:{get:function(){return !!this.Bl;},enumerable:!1,configurable:!0}});m.prototype.P7=function(l){this.Bl && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Bl.O7(l.Tm.position),this.cp+=this.Bl.Rwa,this.Bl=void 0);(0,h.assert)(l.Tm.Mc,"Ad break must be defined for ad break presenting");this.Bl=new g.Uxa(this.Va,this.Jd,this.events,l.Tm.Mc,this.console);};m.prototype.O7=function(l){var n,p,q;q=l.Tm.Mc || (null === (n=this.Bl) || void 0 === n?void 0:n.Mc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Bl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.vj," is ") + ("").concat(q.Ze.length?"not ":"","empty, ") + ("has ").concat(q.Uq?"":"not ","played"):"no ad break"));if(0 === (null === (p=l.Tm.Mc) || void 0 === p?void 0:p.Ze.length))((0,h.assert)(!this.Bl,"Received ad break complete for empty ad break during ad break"),l.Tm.Mc.q_b(),this.P7(l));else if(!this.Bl)return;this.Bl.O7(l.Tm.position);this.cp+=this.Bl.Rwa;this.Bl=void 0;};m.prototype.nra=function(l){var n,p,q;(0,h.assert)(this.Bl,"Expect to be in ad break when ad presenting is received");(0,h.assert)(this.Bl.Mc === l.Tm.Mc,"Expect to be in correct ad break when ad presenting is received");p=this.Va.gT(l.Tm.position.I)[0];q=l.Tm.ro;this.Bl.nra(l.Tm.hf,null === p || void 0 === p?void 0:p.pa,l.Tm.position.I,q,null !== (n=null === p || void 0 === p?void 0:p.Bb) && void 0 !== n?n:q);};m.prototype.tv=function(){var l;return {"break":null === (l=this.Bl) || void 0 === l?void 0:l.tv(),errors:this.cp};};return m;})();b.bya=a;},40612:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cya=void 0;c=a(87982);k=a(96349);f=a(89025);h=a(30327);d=a(84630);g=a(40588);m=a(82800);l=a(57389);r=(function(){function n(p,q,u,t,v,w,y){this.D1=y;this.ZMa=new c.Vxa(q,p,u,t,v);this.Gob=new k.kya(u,t,this.Xe);this.kE=new f.jJa(this,u,p);this.wfa=new h.bya(this.kE,u,u.Jd,p);this.YMa=new m.Txa(w,this.kE,t,t.gq,q,p);u.$v.Ye(new g.Zxa(this.kE,this.Xe,this.wfa));u.$v.Ye(new l.Yxa(this.kE,this.Xe,this.YMa));this.ZMa.qa(this.wfa.events,this.kE.events,this.pR);this.Xlb=new d.Wxa(u,this.Xe);}Object.defineProperties(n.prototype,{Xe:{get:function(){return this.ZMa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{TM:{get:function(){return this.Gob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I6a:{get:function(){return this.kE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Wna:{get:function(){return this.wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jqb:{get:function(){return this.Xlb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pR:{get:function(){return this.YMa;},enumerable:!1,configurable:!0}});n.prototype.di=function(p){return this.kE.di(p);};return n;})();b.cya=r;},48487:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dS=void 0;c=a(70655);k=a(35340);f=a(81253);h=a(35490);d=a(43221);g=a(64525);b.dS=function(m,l,n){var p,q,u,t,v;p=c.__assign({Oba:f.Nba},m).Oba;q=l.SV[5];u=(0,h.Ara)(function(){return v;});q.SPa(u.wo);m=new k.Vca();t={Vg:void 0,Ic:void 0,Va:void 0,soa:m,k2a:"ads"};t.Vg=new p(function(){return t.Ic.fa;},m,l.SV[2],"Ads:");v=new g.hya(t,u.Kab,d.Rv.lua.sN,q);p=l.gha;l.gha=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[v],!1);t.Va=n(l);t.Ic=d.Rv.ata(t.Va,v,function(){return t;},p);v.qa();m.qa(t.Va);m.V8();return t.Ic;};},64525:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hya=void 0;c=a(70655);k=a(28075);f=a(95994);h=a(15876);d=a(74573);g=a(44724);r=a(11064);m=a(89098);l=a(40612);a=(function(n){function p(q,u,t,v){q=n.call(this,q,u,t,"AdsPlaygraphHost",!1) || this;q.ws=v;q.Bu=void 0;q.tsa=new k.gf();q.J2a=new m.I_();q.D1=new k.EventEmitter();return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{Ic:{get:function(){return this.al.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zs:{get:function(){var q;q=this.TA(this.Ic.fa);if(q !== this.Ic.fa)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ed:{get:function(){return this.Bu;},enumerable:!1,configurable:!0}});p.prototype.qa=function(){var q;q=this;n.prototype.qa.call(this);this.al.Va.Ye(new h.iya(this.al));this.Bu=new l.cya(this.S,this.X,this.Va,this.Ic,function(u,t,v,w,y){return q.eN(u,t,v,w,y);},this.ws,this.D1);this.al.Va.Ed=this.Bu;this.Ed.pR.events.on("adBreakHydrated",function(u){return q.m7a(u);});this.Ed.pR.events.on("adBreakHydrationFailed",function(u){return q.uf(u.error);});};p.prototype.zC=function(q){var u;u=n.prototype.zC.call(this,q);u && ((0,g.assert)(this.Ed,"missing manager"),this.Ed.Xe.AV(q,this.E5));return u;};p.prototype.m7a=function(q){var u;u=q.vha;q=u.IKb(q.B1,q.Oi);(0,g.assert)(this.Ed,"missing manager");q && this.Ed.Xe.mra(u,q,this.E5);};p.prototype.uf=function(q,u,t,v,w,y,x){var A,z;void 0 === x && (x=!1);A=!1;z=!1;u && !x && (A=this.Ed.jqb.xna(u));A || (z=this.al.Va.uf(q,u,t,v,w,y,x));return z;};p.prototype.HC=function(q,u){var t,v,w,y,x;t=this;this.kva(q,u);v=this.Ic.Jd.sa;this.tsa.clear();this.tsa.addListener(v,"startStop",function(){v.li && (t.E5=void 0,t.tsa.clear());});if(this.Ed.Xe.r_a(q)){f.K && this.S.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));w=this.Ed.Xe.Y7(q);y=w.Dg;x=w.JS;if(w=w.cRb)(f.K && this.S.trace("ads::seekStreaming: ads playgraph was updated"),this.VVb(w,q,u));f.K && this.S.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Va.y9(y,u,x);}else this.Va.HC(q,u);};p.prototype.VVb=function(q,u,t){var v;v=this;this.J2a.P1 || this.J2a.Exa(function(){v.eN(q,v.Ic.fa,u,t,void 0);v.D1.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.TA=function(q){return this.Ed.Xe.TA(q);};p.prototype.Pf=function(q){n.prototype.Pf.call(this,q);this.E5=void 0;};p.prototype.kva=function(q,u){this.E5={Dg:q,ro:u};};c.__decorate([(0,d.Sb)({methodName:"ads::processViewableResponse"})],p.prototype,"zC",null);c.__decorate([(0,d.Sb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"m7a",null);c.__decorate([(0,d.Sb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"uf",null);c.__decorate([(0,d.Sb)({methodName:"ads::seekStreaming"})],p.prototype,"HC",null);c.__decorate([(0,d.Sb)({methodName:"ads::cancelStreaming"})],p.prototype,"Pf",null);return p;})(r.Hda);b.hya=a;},3839:function(r,b,a){var k,f,h,d;function c(g,m){var l;l=m && g.L[m];if(l)return "content" !== l.type?c(g,l.Jb):m;}Object.defineProperties(b,{__esModule:{value:!0}});b.jya=void 0;k=a(91854);f=a(95994);h=a(44724);d=a(96349);r=(function(){function g(m,l,n,p){this.xq=m;this.console=l;this.Va=n;this.Ic=p;}g.prototype.q$a=function(){this.Z0=void 0;};g.prototype.HQa=function(m,l,n){var p,q,u,t,v,w,y,x,A;void 0 === n && (n=this.Va.fa);q=this.xq.qR[this.Ic.fa.L[m.I].J];u=l.aB(m);t=u;v=n.L[u.I];if(0 === u.offset.G)w=this.Tma(n,q,u);else {"padding" === v.type && (u={I:v.Jb,offset:k.N.Ia});y=null === (p=this.Va.Y.MF()) || void 0 === p?void 0:p.u.id;if(y)x=y;else (p=c(n,n.we),this.Va.Y.Bp || !this.Va.Cj || this.Va.vQ || p !== u.I?x=p:w=this.Tma(n,q,l.aB({I:m.I,offset:k.N.Ia})));!w && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),w=this.nIb(x,u,n));}if(w)if(w.I){t={I:w.I,offset:k.N.Ia};A=u;}else this.Z0=w.Mc;m={UJb:!!w,qFb:x,to:u};return A || "ad" !== v.type?{Dg:t,JS:A,z8:m}:{Dg:u,JS:u,z8:m};};g.prototype.uva=function(m,l,n,p){if(this.Z0)return (l=this.Z0,this.Z0=void 0,l);if((m=this.xq.qR[m]) && m.length)if(n && l.I === p && l.offset.equal(k.N.Ia)){if((l=m[0],0 === l.qk && 0 === l.Ze.length && !l.Uq && !l.Ena))return l;}else if(!n)return this.nma(l.I,m);};g.prototype.nIb=function(m,l,n){var p,t,v;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(m," to ").concat(JSON.stringify(l)));if(n){p=this.xq.qR[this.Ic.fa.L[n.L[l.I].Tb].J];n=n.L;m=n[m].Jb;for(var q=void 0,u=void 0;m;){t=n[m];if("content" === t.type && ("content" === q || void 0 === q) && p){v=this.nma(m,p);v && (u={Mc:v});}if(m === l.I)return (l=u && !u.I || q && "content" !== q?u:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(l)),l);"ad" === t.type && "ad" !== q && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(m)),q=(0,d.FF)(m),(0,h.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:m,Mc:p[null === q || void 0 === q?void 0:q.vj]});q=t.type;m=t.Jb;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.Tma=function(m,l,n){var p,q;p=m.L;n=n.I;q=p[n].type;if("padding" === q)return this.Tma(m,l,{I:p[n].Jb,offset:k.N.Ia});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",n);if("ad" === q)return (m=(0,d.FF)(n),(0,h.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:n,Mc:l[null === m || void 0 === m?void 0:m.vj]});if("content" === q){if(l=this.nma(n,l))return {Mc:l};}else f.K && (0,h.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.nma=function(m,l){m=(0,d.eYa)(m);(0,h.assert)(m,"Should have contentInfo from segment name");if(0 < m.xTa && (l=l[m.xTa - 1],0 === l.Ze.length && !l.Uq && !l.Ena))return l;};return g;})();b.jya=r;},96349:function(r,b,a){var k,f,h;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {C1:parseInt(g[2]),vj:parseInt(g[1]),lG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {vj:parseInt(d[4]),lG:!0,HV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.eYa=b.FF=b.kya=void 0;k=a(93959);f=a(74005);h=a(81768);r=(function(){function d(g,m,l){this.zs=g;this.Ic=m;this.Xe=l;}d.prototype.MFb=function(g){for(var m,l,n=c(null === g || void 0 === g?void 0:g.I),p=this.zs.fa,q,u=p.L[g.I],t=u,v=[g.I],w=this.Ic.fa.L[t.Tb].J;t && t.Tb === u.Tb && t.J !== w;){v.push(t.Jb);t=p.L[t.Jb];}v.pop();p=null !== (q=v.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.zs.fa.L[g.I];p=this.zs.fa.L[p];g=(null !== (m=g.ta) && void 0 !== m?m:Infinity) - g.va;m=(null !== (l=p.ta) && void 0 !== l?l:Infinity) - p.va;return {start:(null === n || void 0 === n?0:n.lG)?new h.Daa(k.rI.start,g):void 0,end:(null === q || void 0 === q?0:q.lG)?new h.Daa(k.rI.end,m):void 0};};Object.defineProperties(d.prototype,{Ty:{get:function(){if(this.zs.Y.he)return this.JFb(this.zs.Y.Jg);},enumerable:!1,configurable:!0}});d.prototype.JFb=function(g){var m,l,n;l=c(g.I);if(l){n=null === (m=this.Ic.Vg) || void 0 === m?void 0:m.Ut(g);m=this.Xe.de[this.Ic.fa.L[n.I].J][l.vj];n=this.MFb(g);n=new h.yya(m,n.start,n.end);for(var p=this.zs.fa,q=p.L[g.I],u=q,t=-g.offset.G,v=this.Ic.fa.L[u.Tb].J;u && u.Tb === q.Tb && u.J !== v;){t+=u.ta - u.va;u=p.L[u.Jb];}p=f.N.Na(t);q=p.wa(n.HS.duration);l.lG && ("end" === l.HV?q=f.N.Ia:(u=n.c$.duration.wa(g.offset),q=q.wa(u)));n={Mc:n,progress:{eqb:m.duration.wa(q),gqb:1 - Math.max(0,q.G) / m.duration.G,hqb:n.duration.wa(p),iqb:1 - Math.max(0,p.G) / n.duration.G},position:g,index:l.vj};p=this.zs.fa.L[g.I];p=p.ta - p.va;g=g.offset.G / p;l.lG?n.a6a={xTb:g,Qra:l.HV,g8:f.N.Na(p)}:n.zA={hf:m.Ze[l.C1],KPa:g,index:l.C1};return n;}};d.prototype.LFb=function(g,m){var l,n;l=g.I;n=this.uJb(g);if(l=c(l))return (g=this.Xe.de[n][l.vj],l.lG?{Mc:g,HV:l.HV}:{Mc:g,hf:g.Ze[l.C1]});if(g=this.Xe.uva(n,g,m))return {Mc:g};};d.prototype.FF=function(g){return c(g);};d.prototype.uJb=function(g){var m,l;l=this.Ic;g=null === (m=l.Vg) || void 0 === m?void 0:m.Ut(g);return l.fa.L[g.I].J;};return d;})();b.kya=r;b.FF=c;b.eYa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {xTa:parseInt(d[1])};};},54533:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mya=void 0;c=a(44724);k=a(4145);f=a(81768);r=(function(){function h(d,g){var m;m=this;this.exa=0;this.ex={};this.Wlb=1;d.on("adEvent",function(l){return m.eSb(l);});g.on("adBreakPresenting",function(l){return m.P7(l);});}Object.defineProperties(h.prototype,{qR:{get:function(){return this.ex;},enumerable:!1,configurable:!0}});h.prototype.RZb=function(d,g){this.ex[d]=g.map(function(m,l){return new f.zya(m,l);});};h.prototype.mra=function(d,g){var m;m=this;this.ex[d].some(function(l){if(l.pq.Oi === g.Oi)return (l.HKb(g,m.Wlb++),!0);});};h.prototype.reset=function(){this.exa=0;};h.prototype.eSb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.ex).some(function(m){var l,n,p;m=null !== (l=(p=g.ex)[m]) && void 0 !== l?l:p[m]=[];(0,c.assert)(void 0 !== d.vj,"complete event should have an adBreakIndex");return null === (n=m[d.vj].Ze) || void 0 === n?void 0:n.some(function(q){return q.id == d.W.O?(q.Uq=!0,g.exa++,!0):!1;});});};h.prototype.P7=function(d){var g;g=this;Object.keys(this.ex).forEach(function(m){var l,n;(null !== (l=(n=g.ex)[m]) && void 0 !== l?l:n[m]=[]).forEach(function(p){p !== d.Tm.Mc && p.rAb();});});};h.prototype.qka=function(d){var g;g=this;Object.keys(this.ex).forEach(function(m){g.ex[m].forEach(function(l){l.Ze.forEach(function(n){n.id == d && (n.hU=!0);});});});};h.prototype.IFb=function(d,g){return (d=this.qR[d]) && (0,k.qc)(d,function(m){return m.qk === g;});};return h;})();b.mya=r;},12160:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yya=b.Daa=b.zya=void 0;c=a(74005);k=a(13815);f=a(46834);r=(function(){function d(g,m,l){var n,p;void 0 === l && (l=NaN);this.pq=g;this.vj=m;this.dPa=l;this.MNa=this.NNa=this.qfa=!1;this.SD=null !== (p=null === (n=g.Ze) || void 0 === n?void 0:n.map(function(q){return new f.waa(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{qk:{get:function(){return this.pq.qk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tt:{get:function(){return this.pq.Tt;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{i2:{get:function(){return this.pq.i2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KZb:{get:function(){return this.dPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yga:{get:function(){return this.pq.yga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ze:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.SD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ze.reduce(function(g,m){return g.add(m.endTime.wa(m.startTime));},c.N.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pMb:{get:function(){return this.Uq || !this.aSa && !this.MNa?this.SD.every(function(g){return g.Uq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uq:{get:function(){return this.SD.length?this.SD.every(function(g){return g.Uq;}):this.qfa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aSa:{get:function(){return !this.xg && !!this.pq.Oi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xg:{get:function(){return !!this.pq.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ena:{get:function(){return this.NNa;},set:function(g){g && (this.NNa=!0);},enumerable:!1,configurable:!0}});d.prototype.q_b=function(){this.Ze.length || (this.qfa=!0);};d.prototype.HKb=function(g,m){var l,n;this.pq=g;this.SD=null !== (n=null === (l=this.pq.Ze) || void 0 === l?void 0:l.map(function(p){return new f.waa(p);})) && void 0 !== n?n:[];this.MNa=!0;this.dPa=m;};d.prototype.rAb=function(){this.pq.Oi && (this.qfa=this.Uq,this.pq.Ze=void 0,this.SD=[]);};return d;})();b.zya=r;h=(function(){function d(g,m){this.Qra=g;this.Imb=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Na(this.Imb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{hra:{get:function(){return this.job || (this.job=new d(k.rI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{HRb:{get:function(){return this.iob || (this.iob=new d(k.rI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Daa=h;r=(function(){function d(g,m,l){this.UJ=g;this.iPa=m || h.hra;this.Lmb=l || h.hra;}Object.defineProperties(d.prototype,{c$:{get:function(){return this.iPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HS:{get:function(){return this.Lmb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fKb:{get:function(){return this.iPa !== h.hra || this.HS !== h.HRb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.UJ.duration.add(this.c$.duration).add(this.HS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{g8:{get:function(){return this.c$.duration.add(this.HS.duration);},enumerable:!1,configurable:!0}});return d;})();b.yya=r;},46834:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.waa=void 0;c=a(91854);r=(function(){function k(f){this.hf=f;this.hU=this.Uq=!1;}Object.defineProperties(k.prototype,{id:{get:function(){return this.hf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{startTime:{get:function(){return c.N.Na(this.hf.va);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endTime:{get:function(){return c.N.Na(this.hf.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xA:{get:function(){return this.hf.xA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{u$:{get:function(){return this.hf.u$;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ft:{get:function(){return this.hf.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{VN:{get:function(){return this.hf.VN;},enumerable:!1,configurable:!0}});return k;})();b.waa=r;},81768:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46834),b);r.__exportStar(a(12160),b);r.__exportStar(a(36178),b);},89025:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=void 0;c=a(70655);k=a(28075);f=a(95994);h=c.__importDefault(a(29736));d=a(74005);g=a(4145);m=a(44724);r=(function(){function l(n,p,q){var u;u=this;this.Bu=n;this.Va=p;this.ffa=new k.gf();this.xfa=!1;this.S=(0,d.Ph)(h.default,q,"PLAYERADMANAGER");this.events=new k.EventEmitter();this.Va.events.on("playerChanged",this.J6a.bind(this));this.J6a();this.Xe.events.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Bu.D1.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Xe.events.on("adSegmentDropped",function(t){u.fSb(t);});}Object.defineProperties(l.prototype,{UT:{get:function(){return this.xfa;},enumerable:!1,configurable:!0}});l.prototype.di=function(n){var p;if(!this.Va.Vq)return (f.K && this.S.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Va.Y;if(!p.fT(n))return (f.K && this.S.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);f.K && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p.Md.ob()," -> ").concat(n.ob()));n=n.greaterThan(p.Md)?(0,d.nla)(p.Ua,p.Md,n):(0,d.nla)(p.Ua,n,p.Md);p=!n.some(function(q){return "content" !== q.u.u.type;});f.K && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Bb.G,"..").concat(q.Bb.G);})));return p;};Object.defineProperties(l.prototype,{Xe:{get:function(){return this.Bu.Xe;},enumerable:!1,configurable:!0}});l.prototype.J6a=function(){var n,p;n=this;this.S.trace("Player changed",this.Va.Vq);this.ffa.clear();if(this.Va.Vq){p=this.Va.Y;this.ffa.addListener(p.events,"segmentPresenting",function(q){return n.Nv(q);});this.ffa.addListener(p.events,"playbackEnding",function(q){return n.wra(q);});}};l.prototype.Nv=function(n){var p,q,u,t,v;p=this.TM.LFb(n.position,!!n.seek);if(p){q=p.Mc;u=p.hf;f.K && this.S.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.TM.Ty;v={ro:n.playerTimestamp,position:n.position,Mc:q};this.UT || (q.Ze.length?this.fqb(t,v):q.xg || u?this.yA(n.playerTimestamp,n.position,q):f.K && this.S.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Cl(t,v,u);}!this.UT || p && "end" !== p.HV || this.yA(n.playerTimestamp,n.position);this.UT && !p && this.FPa(n.position);};l.prototype.wra=function(n){this.UT && this.fMb(n.position) && (this.yA(n.playerTimestamp,n.position),this.FPa(n.position));};l.prototype.fqb=function(n,p){(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");f.K && this.S.trace("Emitting adBreakPresenting");this.xfa=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,Tm:p});};l.prototype.Cl=function(n,p,q){f.K && this.S.trace("Emitting adPresenting");(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,Tm:c.__assign(c.__assign({},p),{hf:q})});};l.prototype.yA=function(n,p,q){f.K && this.S.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Tm:{ro:n,position:p,Mc:q}});};l.prototype.FPa=function(n){this.xfa=!1;f.K && this.S.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};l.prototype.Vla=function(n){var p,q,u,t;p=this;q={zrb:[],result:{}};u=this.Xe.Zu;t=Object.keys(u).filter(function(v){return u[v];});if(null === n || void 0 === n?0:n.xdb)t=t.filter(function(v){var w;return -1 !== (null === (w=n.xdb) || void 0 === w?void 0:w.indexOf(v));});q.zrb=t;t.forEach(function(v){var w,y,x;y=null === (w=u[v]) || void 0 === w?void 0:w.de;if(y){w=p.VDb(v,y);x=p.Xe.de[v];q.result[("").concat(v)]=w.map(function(A,z){return c.__assign(c.__assign({},A),{hasCompletedPlayback:x[z].pMb});});}});return q;};Object.defineProperties(l.prototype,{TM:{get:function(){return this.Bu.TM;},enumerable:!1,configurable:!0}});l.prototype.VDb=function(n,p){var q,u;q=[];u=[];this.Xe.de[n].forEach(function(t){return t.Ze.forEach(function(v){v.hU && -1 === u.indexOf(v.id) && u.push(v.id);});});p.forEach(function(t){var v,w;t=c.__assign({},t);w=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=w;q.push(t);});return q;};l.prototype.fSb=function(n){var p,q,u,t;p=this;q=n.adId;u=this.Xe.Zu;n=Object.keys(u).filter(function(v){return u[v];});t=this.Va.fa.L;n.forEach(function(v){var w,y;null === (y=null === (w=u[v]) || void 0 === w?void 0:w.de) || void 0 === y?void 0:y.forEach(function(x,A){var z;null === (z=x.Ze) || void 0 === z?void 0:z.forEach(function(B,C){B.id === q && (B=(0,g.qc)(Object.keys(t),function(D){D=p.TM.FF(D);return !D || D.lG?!1:C === D.C1 && A === D.vj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Tt,reason:"network_error",sev:"error",segmentId:B});});});});};l.prototype.fMb=function(n){var p;p=this.Va.navigator;return (n=p.Pd(n.I)) && !p.XJb(n);};return l;})();b.jJa=r;},26888:function(r,b,a){var c,k,f,h,d,g,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hLa=void 0;c=a(70655);k=a(91854);f=a(47571);h=a(95994);d=a(83674);g=a(74005);m=a(4145);l=a(44724);n=a(50971);r=(function(){function p(q,u,t,v,w,y,x,A,z,B){var C;C=this;this.Ca=q;this.Jd=u;this.events=t;this.Mc=v;this.hf=w;this.Dga=y;this.E1=x;this.cqb=A;this.tR=z;this.console=B;this.em=k.platform.time.now();this.cI=new Map();this.cp=0;(0,l.assert)(y.W,"Presenting ad should have a manifest");this.LPa=u.Tx(function(){return C.f3b();},"impressionLogging");this.Ca.Y.wC.forEach(function(D,F){(D=D.qEb(d.fba)) && C.cI.set(F,D);});}Object.defineProperties(p.prototype,{Rwa:{get:function(){return this.cp;},enumerable:!1,configurable:!0}});p.prototype.Qa=function(){this.LPa.Qa();};p.prototype.f3b=function(){var q,u,t,v,w,y,x,A,z,B,C,D,F,G,E;return c.__generator(this,function(J){switch(J.label){case 0:(h.K && this.console.trace("AdImpressionLogger: starting at",this.tR.ob()),q=this.hf,this.ISa(),u=0,t=this.tR,v=this.tR.add(q.endTime),w=this.cqb,J.label=1);case 1:(J.Vj.push([1,,12,13]),(0,l.assert)(null === (F=q.xA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.xA.start,u,t,!1),(0,l.assert)(q.u$,"Timed event info should be defined"),J.label=2);case 2:(J.Vj.push([2,7,8,9]),y=c.__values(q.u$),x=y.next(),J.label=3);case 3:if(x.done)return [3,6];A=x.value;t=this.tR.add(g.N.Na(A.swa));h.K && this.console.trace(("AdImpressionLogger[").concat(this.E1,"]: waiting for ").concat(A.swa,"ms timed event") + (" at ").concat(t.ob()));return [4,n.Pg.Yt(t)];case 4:(J.Ra(),w=t,this.emit(A,A.swa,t,!1),J.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (z=J.Ra(),C={error:z},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!v.greaterThan(t))return [3,11];t=v;h.K && this.console.trace(("AdImpressionLogger[").concat(this.E1,"]: waiting for end of ad at ").concat(t.ob()));return [4,n.Pg.Yt(t)];case 10:(J.Ra(),w=t,J.label=11);case 11:return [3,13];case 12:this.Ca.Y.he && (w=this.Ca.Y.Md);if(w.ji(v))((0,l.assert)(null === (G=q.xA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.xA.complete,q.endTime.G,v,!0));else if(null === (E=q.xA) || void 0 === E?0:E.stop)(B=w.wa(this.tR).G,this.emit(q.xA.stop,B,w,!0));this.ISa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,v){h.K && this.console.trace(("AdImpressionLogger[").concat(this.E1,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.ob()));u={I:this.E1,offset:g.N.Na(u)};t=this.Oma(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{xh:u,Qv:t,W:this.Dga.W,em:this.em,Bfc:v?k.platform.time.now():-1,AE:this.Mc.Tt,vj:this.Mc.vj,VN:this.hf.VN,ft:this.hf.ft}));}catch(w){this.console.error("Impression error event",w);this.cp++;}};p.prototype.Oma=function(q){var u,t,v;u=this.Dga.W.O;t=c.__read(this.qZa(q,this.cI.get(f.v.ga),u),2);v=t[0];t=t[1];q=c.__read(this.qZa(q,this.cI.get(f.v.Z),u),2);return {audio:v,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.qZa=function(q,u,t){q=(null === u || void 0 === u?void 0:u.F0b(q,t)) || [];q=(0,m.flatten)(q.map(function(v){return Object.keys(v.nF).map(function(w){w=v.nF[w];return {Vb:w.Vb,duration:w.totalTime,Hm:v.Hm};});}));u=q.reduce(function(v,w){return v + w.duration;},0);h.K && this.console.trace("Getting playtime journal",{O:t,Mec:q.length,totalTime:u});return [q,u];};p.prototype.ISa=function(){var q,u,t;t=this.Dga.W.O;null === (q=this.cI.get(f.v.ga)) || void 0 === q?void 0:q.q8a(t);null === (u=this.cI.get(f.v.Z)) || void 0 === u?void 0:u.q8a(t);};p.prototype.tv=function(){return {ad:this.LPa.tv(),errors:this.cp};};return p;})();b.hLa=r;},93750:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dS=void 0;c=a(70655);k=a(35340);f=a(81253);h=a(43221);d=a(35490);b.dS=function(g,m,l){var n,p,q,u,t;n=m.SV;p=m.gha;g=c.__assign({Oba:f.Nba},g).Oba;q=n[5];n=(0,d.Ara)(function(){return t;});q.SPa(n.wo);l=l(m);q=new k.Vca();q.qa(l);u={Vg:void 0,Ic:void 0,Va:l,soa:q,k2a:"content"};u.Vg=new g(function(){return u.Ic.fa;},q,m.SV[2]);t=new d.xAa(u,n.Kab,h.Rv.lua.sN);u.Ic=h.Rv.ata(l,t,function(){return u;},p);return u.Ic;};},35490:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ara=b.xAa=void 0;c=a(70655);k=a(41427);f=a(21185);h=a(74573);d=a(44724);r=(function(g){function m(l,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,l,n,p,q,!0) || this;q.al=l;q.F5a=n;q.m9a=p;l.Va.Ye(new f.yAa(q));return q;}c.__extends(m,g);m.prototype.zC=function(l){var n,p;n=g.prototype.zC.call(this,l);if(n){p=l.W.Lm;p && !this.o0 && (this.Sea.As({applyingContentPlaygraph:!0}),this.o0=p,this.lnb=this.nwb(l.W),this.eN());}return n;};Object.defineProperties(m.prototype,{p_a:{get:function(){return this.lnb;},enumerable:!1,configurable:!0}});m.prototype.TA=function(l){if(this.o0)return (l=c.__assign(c.__assign({},l),{L:c.__assign({},l.L)}),(0,k.sqa)(l,this.o0.fa));};m.prototype.nwb=function(l){var n,p;n=l.jp;p=l.yB;return !(!n || !n.some(function(q){return q.yB !== p;}));};Object.defineProperties(m.prototype,{Lm:{get:function(){var l;return null === (l=this.o0) || void 0 === l?void 0:l.fa;},enumerable:!1,configurable:!0}});c.__decorate([(0,h.Sb)({methodName:"processViewableResponse"})],m.prototype,"zC",null);return m;})(a(11064).Hda);b.xAa=r;b.Ara=function(g){var m;m=[];return {wo:function(l,n){var p,q,u,t,v,w,y;u=l.J;t=l.rW;v=g();if(v.Fha && v.Fha !== u){w=null === (p=null === t || void 0 === t?void 0:t.Ef) || void 0 === p?void 0:p.mc;p=null === (q=null === t || void 0 === t?void 0:t.Ef) || void 0 === q?void 0:q.Bd;q=v.mc;t=v.Fha;(0,d.assert)(t,"did not receive parent viewable id");t={Ef:{mc:null !== w && void 0 !== w?w:q,Bd:null !== p && void 0 !== p?p:t}};}v.Va.console.trace("In wrapped request viewable",u,t);y=n(c.__assign(c.__assign({},l),{rW:t}));m.forEach(function(x){return x({J:u,yz:y.yz});});return y;},Kab:function(l){m.push(l);}};};},70744:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lja=void 0;c=a(43221);k=a(8348);b.lja=function(f,h){var d;f=h(f);d=new k.nJa(f,c.Rv.lua.sN);return c.Rv.ata(f,d,function(){return d.al;});};},43309:function(r,b,a){var k,f,h,d;function c(g,m){return m && !Array.isArray(m) && -1 === m.pWa.indexOf(g)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;k=a(70655);r=a(28075);f=a(41937);h=a(28005);d=(function(g){function m(l,n){var p;p=g.call(this) || this;p.fPb=l;p.y0a=n;p.gfa={};return p;}k.__extends(m,g);m.prototype.emit=function(l){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.prototype.emit.call(this,l,this.fPb(l,n[0]));};m.prototype.subscribe=function(l){var n,p;n=this;if(!this.listeners(l).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,k.__spreadArray([l],k.__read(q),!1));};this.gfa[l]=p;this.y0a.addListener(l,p);}};m.prototype.addListener=function(l,n){this.subscribe(l);g.prototype.addListener.call(this,l,n);return this;};m.prototype.removeListener=function(l,n){g.prototype.removeListener.call(this,l,n);n=this.gfa[l];!this.listeners(l).length && n && (this.y0a.removeListener(l,n),this.gfa[l]=void 0);return this;};m.prototype.on=function(l,n){this.addListener(l,n);return this;};m.prototype.kr=function(l,n){this.removeListener(l,n);return this;};m.prototype.once=function(l,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(l,p);n.apply(void 0,k.__spreadArray([],k.__read(u),!1));}q=this;this.addListener(l,p);return this;};m.prototype.D8=function(l,n){this.subscribe(l);g.prototype.D8.call(this,l,n);};m.prototype.f7a=function(l,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(l,p);n.apply(void 0,k.__spreadArray([],k.__read(u),!1));}q=this;this.D8(l,p);};return m;})(r.EventEmitter);b.uja=function(g,m,l,n){return new d(function(p,q){var u,t;t=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(v){return "object" === typeof v;});t=k.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return u.length?(0,h.o9)(g,q,l,{rules:u,gm:!1,eha:!0},f.ou.Uwa,t):q;},m);};},81253:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Nba=void 0;c=a(70655);k=a(41427);f=a(70950);h=c.__importDefault(a(29736));d=a(74573);g=a(55168);m=a(44724);l=a(29083);n=a(95994);p=a(38264);r=(function(){function q(u,t,v,w){var x,A;function y(z,B){return z.I === B.I && z.offset.equal(B.offset);}x=this;this.ox=u;this.n0=t;this.config=v;this.console=new h.default.Console("GRAPHLOCATIONSERVICE");this.ih=new d.Au({en:this,source:(w || "") + "GraphLocation",console:this.console});(0,p.yta)(this,"d",new p.yca(v,y));(0,p.yta)(this,"u",new p.yca(v,y));"temp" !== w && (null === (A=this.n0.events) || void 0 === A?void 0:A.on("updated",function(){(0,p.WXa)(x).forEach(function(z){return z.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.ox();},enumerable:!1,configurable:!0}});q.prototype.fdb=function(u,t){return new q(function(){return u;},{mV:t,Twa:t},this.config,"temp");};q.prototype.aB=function(u){var t,v,w;n.K && this.console.trace("downConverting",u);t=this.parent;v=this.n0;w=v.mV;if(t === v.Twa)return u;if(w.L[u.I])return (t.L[u.I] || n.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);v=(0,g.Jia)(u,t);u=(0,k.gdb)(t,w,{offset:v.D2.G,u:u.I});u={offset:v.Pn.add(f.N.Na(u.offset)),I:u.u};n.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Ut=function(u){var t,v,w;n.K && this.console.trace("upConverting",u);t=this.parent;v=this.n0;w=v.mV;if(t === v.Twa)return u;if(t.L[u.I])return (w.L[u.I] || n.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);v=(0,g.Jia)(u,w);u=(0,k.aTa)(t,w,{offset:v.D2.G,u:u.I});u={offset:v.Pn.add(f.N.Na(u.offset)),I:u.u};n.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.rHb=function(u){var t;t=(0,k.cYa)(this.parent,this.n0.mV,{u:u.I,offset:u.offset.G});t=(0,l.W1a)(t);(0,m.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Sb)({methodName:"downConvertPosition",ik:!0,zq:!0,return:!0}),(0,p.gia)("d")],q.prototype,"aB",null);c.__decorate([(0,d.Sb)({methodName:"upConvertPosition",ik:!0,zq:!0,return:!0}),(0,p.gia)("u")],q.prototype,"Ut",null);return q;})();b.Nba=r;},43221:function(r,b,a){var h,d,g,m,l,n,p,q,u;function c(t,v){var w,y,x,A;A=t.Ic.fa.L[v];A && A.Tb && t.Ic.Ed && (A=Number(A.Tb.replace(":main","")),(v=(0,p.FF)(v)) && (x=null === (y=null === (w=t.Ic.Ed.Xe.de[A]) || void 0 === w?void 0:w[v.vj]) || void 0 === y?void 0:y.Tt));return x;}function k(t,v,w,y){var x;return v === l.ou.vS?(v=d.N.Ia,(null === y || void 0 === y?void 0:y.vfc) === u.end && (v=d.N.Na(null !== (x=w.Ic.fa.L[t].ta) && void 0 !== x?x:0),(0,g.assert)(0 < v.G,"EndTime must be non null")),w.Vg.aB({offset:v,I:t}).I):w.Vg.Ut({offset:d.N.Ia,I:t}).I;}function f(t,v,w){return v === l.ou.Uwa?w.Vg.Ut(t):w.Vg.aB(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Rv=void 0;h=a(70655);d=a(70950);g=a(44724);r=a(82922);m=a(94522);l=a(41937);n=a(18934);p=a(96349);q=a(87082);a=(0,m.l9a)();a=(0,r.NRa)()({g3a:"combinedPlaygraph",sN:{xh:a()({map:f,Fx:q.k1a}),he:a()({map:function(t,v,w,y){var x;x=(null === y || void 0 === y?0:y.$p)?(0,q.M4)(t,y.$p):t.position;v=f(x,v,w);t=(0,q.J2)(t,null === y || void 0 === y?void 0:y.$p);(null === y || void 0 === y?0:y.$p)?(0,q.g$a)(t,y.$p,v):t.position=v;return t;},Fx:function(t,v,w){return (null === w || void 0 === w?0:w.$p)?(0,q.M4)(t,w.$p):(0,q.he)(t);}}),Fxa:a()({map:function(t,v,w,y){if(v === l.ou.vS)return t.inner;v=(0,q.J2)(t,null === y || void 0 === y?void 0:y.$p);v.inner || (v.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).xhb && (v.gctag=void 0));return v;},Fx:function(t,v,w){return (null === w || void 0 === w?0:w.$p)?"object" === typeof (0,q.M4)(t,w.$p):"object" === typeof t;}}),I:a()({map:k,Fx:q.o1a}),HW:a()({map:function(t,v,w,y){var x,A;A=null !== (x=t.I) && void 0 !== x?x:t.segmentId;v=k(A,v,w,y);return t.I?h.__assign(h.__assign({},t),{I:v}):h.__assign(h.__assign({},t),{segmentId:v});},Fx:q.t_a}),wTa:a()({map:function(t,v,w){v === l.ou.vS?(t=(0,n.Rx)(w.Ic.fa,t.J,t.Gq,{z9a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=w.Vg.aB(t),v=t.I,t=t.offset,v=w.Va.fa.L[v],w=v.J,v=v.va,t=d.N.Na(v).add(t)):(t=(0,n.Rx)(w.Va.fa,t.J,t.Gq,{z9a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=w.Vg.Ut(t),v=t.I,t=t.offset,v=w.Ic.fa.L[v],w=v.J,v=v.va,t=d.N.Na(v).add(t));return {Gq:t,J:w};},Fx:q.U0a}),Uha:a()({Fx:q.Q0a,map:function(t,v,w){var y,x,A,z,B;if(v === l.ou.vS){v={I:t.u.id,offset:d.N.Ia};A=w.Vg.aB(v);v=w.Va.fa.L[A.I];w=w.Ic.fa.L[t.u.id];z=v.ta;B=v.va;z=null !== (y=z && z - B) && void 0 !== y?y:0;w=t.se.add(d.N.Na(v.va - w.va));return {se:w,ZG:t.pr.add(d.N.Na(z)),pr:t.pr,u:{id:A.I,Ud:d.N.Na(v.va),Rf:d.N.Na(null !== (x=v.ta) && void 0 !== x?x:0)}};}v={I:t.u.id,offset:d.N.Ia};x=w.Vg.Ut(v);B=w.soa.mV;v=B.L[t.u.id];A=w.Ic.fa.L[x.I];y=d.N.Na(null !== (z=A.ta && A.ta - A.va) && void 0 !== z?z:0);A.ta && Infinity !== A.ta || (z=w.Vg.rHb(x),B=B.L[z],B.ta && (y=w.Vg.Ut({I:z,offset:d.N.Na(B.ta - B.va)}).offset));z=t.pr.wa(x.offset);B=z.add(y);w=t.se.add(d.N.Na(A.va - v.va));t=d.N.Na(A.va);v=y.add(t);return {se:w,ZG:B,pr:z,u:{id:x.I,Ud:t,Rf:v}};}}),Dsb:a()({Fx:function(t){return "segmentPresenting" === t.type;},map:function(t,v,w){var y;t=(0,q.J2)(t);if(v=t.metrics){y=c(w,v.destPosition.I);void 0 !== y && (t.metrics.adBreakLocationMs=y);y=c(w,v.srcStartPosition.I);void 0 !== y && (t.metrics.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.dbc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Rv=a;},78368:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K6a=void 0;b.K6a={"*":{pWa:["logdata"],rules:[{Lj:function(a){return a.Fxa;}}]},segmentPresenting:[{Lj:function(a){return a.Fxa;},config:{$p:["metrics"]}},{Lj:function(a){return a.he;}},{Lj:function(a){return a.he;},config:{$p:["metrics","srcStartPosition"]}},{Lj:function(a){return a.he;},config:{$p:["metrics","srcTransitionPosition"]}},{Lj:function(a){return a.he;},config:{$p:["metrics","destPosition"]}},{Lj:function(a){return a.Dsb;}}],streamPresenting:[{Lj:function(a){return a.he;}}],segmentAppended:[{Lj:function(a){return a.HW;}}]};},8348:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nJa=void 0;c=a(70655);k=a(74573);f=a(74005);h=c.__importDefault(a(29736));d=a(43309);g=a(78368);r=(function(){function m(l,n){var p;p=this;this.ZT=l;this.events=(0,d.uja)(function(){return p.al;},this.ZT.events,n,g.K6a);this.qnb=(0,f.Ph)(h.default,this.ZT.console,"PLAYERHOST");new k.Au({ko:10,en:this,source:"PlayerHost",console:this.qnb});}m.prototype.Pia=function(){this.al=void 0;};m.prototype.iva=function(l){this.al=l;};c.__decorate([(0,k.Sb)({methodName:"clearProxyPlaygraphContext"})],m.prototype,"Pia",null);c.__decorate([(0,k.Sb)({methodName:"setProxyPlaygraphContext"})],m.prototype,"iva",null);return m;})();b.nJa=r;},43193:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M6a=void 0;b.M6a={"*":{pWa:["logdata"],rules:[{Lj:function(a){return a.Fxa;}}]},locationSelected:[{Lj:function(a){return a.HW;}}],segmentComplete:[{Lj:function(a){return a.HW;}}],segmentStarting:[{Lj:function(a){return a.HW;}}],serverSwitch:[{Lj:function(a){return a.HW;}}],streamSelected:[{Lj:function(a){return a.he;}}]};},11064:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Hda=void 0;c=a(70655);k=a(22258);f=a(74573);h=a(47571);d=a(4145);g=a(44724);m=a(95994);l=a(36024);n=a(70950);p=a(52843);q=a(43309);u=a(43193);r=(function(){function t(v,w,y,x,A){var z;void 0 === x && (x="CphAsePlaygraph");void 0 === A && (A=!0);z=this;this.al=v;this.F5a=w;this.m9a=y;this.e3b=x;this.onb=new l.Qda();A && this.qa();this.F5a(function(B){var C;C=B.yz;return c.__awaiter(z,void 0,void 0,function(){var D;return c.__generator(this,function(F){switch(F.label){case 0:return [4,C];case 1:return (D=F.Ra(),this.zC(D),[2]);}});});});}Object.defineProperties(t.prototype,{Va:{get:function(){return this.al.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ei:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fa:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vg:{get:function(){return this.al.Vg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S:{get:function(){return this.Va.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{X:{get:function(){return this.Va.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{p_a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.qa=function(){var v,w,y;v=this;w=this.al;this.Sea=new f.Au({ko:10,en:this,source:this.e3b,console:this.S});this.events=(0,q.uja)(function(){return w;},w.Va.events,this.m9a,u.M6a);this.rj=w.Va.fa;y=w.Vg;w.Va.Ye(new k.ax(this.Sea));w.Va.Ye(new k.ax(w.Vg.ih));w.Va.Ye(new p.Wza(("").concat(w.k2a,"::gls"),y));w.Va.events.on("playgraphUpdating",function(){v.al.soa.V8();});};t.prototype.cv=function(v){var w,y,x;x=null !== (w=this.Y) && void 0 !== w?w:this.Va.Y;this.Y=v;v.iva && v.iva(this.al);(w=this.al.Va.cv(null !== (y=v.ZT) && void 0 !== y?y:v))?(this.Y=v,x !== v && x.Pia && x.Pia()):this.Y=x;return w;};t.prototype.eN=function(v,w,y,x,A){(v=null !== v && void 0 !== v?v:this.TA(null !== w && void 0 !== w?w:this.rj)) && this.ASb(v,this.p_a,y,x,A);};t.prototype.ASb=function(v,w,y,x,A){var z,B,C,D,F,G,E;z=this.al.Ic;B=z.Y;D=z.fa;if(C=y?y:z.Vq && B.he?B.Jg:z.Wq?z.Dg:void 0){F=this.Va.fa.L[C.I];F && F.Tb && (C=this.Vg.Ut(C));}z.config.F5b && w && B.KC(!0);w=z.MYa();m.K && this.S.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));m.K && this.S.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(v)));this.onb.set(v,!0);D=this.Va.Wt(v);try{if(!D.ka || C && !B.he && !z.Wq || y && A)if(((0,g.assert)(!B.sa.li,"Player is not paused:" + h.nq[D.reason]),z.Pf(!0),this.Va.Wt(v),C)){G=this.Vg.aB(C);E=v.L[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Jb,offset:n.N.Ia});this.kva(C,x);this.Va.y9(G,x,A);B.resume();}}finally{w.release();}};t.prototype.Wt=function(v){var y,x,A;function w(){y.rj=v;}y=this;A=null !== (x=this.TA(v)) && void 0 !== x?x:v;try{return (this.Va.events.f7a("playgraphUpdating",w),this.Va.Wt(A));}finally{this.Va.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(t.prototype,{mc:{get:function(){return this.eNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fha:{get:function(){var v,w,y,x;v=this;y=Object.keys(this.Va.fa.L);if(y=(0,d.qc)(y,function(A){return !!v.Va.fa.L[A].Tb;})){y=this.Va.fa.L[y].Tb;x=this.fa.L[y];return null !== (w=null === x || void 0 === x?void 0:x.J) && void 0 !== w?w:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.zC=function(v){var w,y,x,A;y=v.W;x=y.mc;y=y.Lm;A=null !== (w=this.X.bla) && void 0 !== w?w:[];if(y && A.some(function(z){return z == v.O;}))return (w=("").concat(v.O," was excluded from content playgraph"),this.Sea.As(w),m.K && this.S.trace(w),!1);x && !this.eNa && (this.eNa=x);return !0;};t.prototype.Pf=function(v){this.Va.Pf(v);};t.prototype.kva=function(){};c.__decorate([(0,f.Sb)({methodName:"attachPlayer"})],t.prototype,"cv",null);c.__decorate([(0,f.Sb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"eN",null);c.__decorate([(0,f.Sb)({methodName:"processViewableResponse"})],t.prototype,"zC",null);c.__decorate([(0,f.Sb)({methodName:"cancelStreaming"})],t.prototype,"Pf",null);return t;})();b.Hda=r;},87082:function(r,b,a){var k;function c(f,h){var d,g;d=k.__assign({},f);g=k.__read(null !== h && void 0 !== h?h:[],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(h=h.concat(),h.shift(),d[g]=c(f,h)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.g$a=b.J2=b.M4=b.Q0a=b.U0a=b.o1a=b.t_a=b.k1a=b.he=void 0;k=a(70655);b.he=function(f){return !(null === f || void 0 === f || !f.position);};b.k1a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.t_a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.o1a=function(f,h){return "string" === typeof f && !(!h.Ic.fa.L[f] && !h.Va.fa.L[f]);};b.U0a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.Gq);};b.Q0a=function(f){return !(null === f || void 0 === f || !f.se);};b.M4=function(f,h){var d;d=f;h.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.J2=c;b.g$a=function(f,h,d){for(var g=0;g < h.length - 1 && f;g++){f=f[h[g]];}return f?(f[h[h.length - 1]]=d,!0):!1;};},302:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uza=void 0;r=a(70655);c=a(28075);k=a(74005);f=a(50971);h=a(95994);d=a(47571);g=r.__importDefault(a(29736));a=(function(){function m(l,n,p,q,u,t){this.Kd=l;this.gq=n;this.config=p;this.hSb=q;this.jf=u;this.console=t;this.efa=new c.gf();this.console=(0,k.Ph)(g.default,t,"BranchDecisionMaker");}m.dGb=function(l){var n;return null !== (n=l.Mb) && void 0 !== n?n:l.ZG;};m.WGb=function(l){var n,p;n=l.u;p=l.xM;return n.Jb?n.Jb:p.length?p[0]:l.Ky[0];};m.prototype.Cwa=function(l,n){var p,q,u,t;p=this;u=l.u;h.K && this.console.trace(("tracking ").concat(l.u.id));this.reset();if(u.qX || 1 >= u.Ky.length && (null === (q=u.Zv) || void 0 === q || !q.length))h.K && this.console.trace(("").concat(l.u.id," does not need tracking"));else {t=this.Wtb(l);q=t.Dua;n=n.lessThan(t.WKb);h.K && this.console.trace(("tracking ").concat(l.u.id),{I:u.id,Nbc:n,ofc:null === q || void 0 === q?void 0:q.G});this.dZb(u,n?q:void 0);if(n)this.efa.on(l.events,"branchEdited",function(){p.Cwa(l,p.Kd.sa.currentTime);});}};m.prototype.GSa=function(){var l;null === (l=this.yUa) || void 0 === l?void 0:l.Qa();this.yUa=void 0;};m.prototype.reset=function(){this.GSa();this.efa.clear();};m.prototype.Wtb=function(l){var n,p;l=m.dGb(l);n=k.N.Na(this.config.r7);p=k.N.Na(this.config.zQb + this.config.q7);n=l.wa(n);return {WKb:(0,d.bo)(this.jf.value)?l.wa(p):n,Dua:n};};m.prototype.dZb=function(l,n){var p;p=this;this.GSa();this.yUa=n?this.Kd.UA(f.Pg.Yt(n),function(){return p.W2a(l);},"scheduled branch decision"):this.gq.UA(f.Pg.L5b,function(){return p.W2a(l);},"immediate branch decision");};m.prototype.W2a=function(l){var n;this.efa.clear();n=m.WGb(l);h.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(l.id,", decision is ").concat(n));this.hSb(l.id,n,!0);};return m;})();b.uza=a;},24462:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dza=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(47571);h=a(74005);d=a(70950);g=a(44724);m=a(74573);l=a(50971);r=(function(){function n(p,q,u,t,v,w,y){var x;void 0 === y && (y=500);x=this;this.S=p;this.config=q;this.Sd=u;this.events=t;this.Pka=v;this.Kd=w;this.xtb=y;this.Nsa=this.Zha=0;this.f7=[];this.YK={mv:0};this.state=new h.Uw(f.Uc.cs);this.ih=new m.Au({ko:10,en:this,source:"BufferStateTracker",kQa:function(){return {isBuffering:x.Cj,alwaysRunUnderflowTimer:x.config.XJ};}});}Object.defineProperties(n.prototype,{mv:{get:function(){return this.YK.mv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Cj:{get:function(){return (0,f.bo)(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.bxa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(u){u.mediaType === f.v.ga && (q.IRa=c.__assign(c.__assign({},q.IRa),{audio:{trackId:u.trackId,trackIndex:u.$H}}));});};n.prototype.Y7=function(p){this.set(f.Uc.cs);this.Mva(p,f.Uc.Pe);};n.prototype.R7=function(){this.YK.mv++;};n.prototype.zV=function(p){this.config.XJ || void 0 === this.wy && this.Cj && this.Aja();this.wy={ly:p.httpCode,Sg:p.errorCode,aj:p.nativeCode};};n.prototype.a8=function(){this.wy=void 0;this.config.XJ || this.t3();};n.prototype.yh=function(p){this.Cj || (this.Mva(p,f.Uc.vl),this.Cj && (this.wy || this.config.XJ) && this.Aja());};n.prototype.TSb=function(p,q){this.state.value !== f.Uc.Pe && this.Mva(p,f.Uc.X_);this.bxa(q);};n.prototype.sSb=function(p,q){var u;u=this;this.config.vtb && this.Cj && (-1 === this.f7.indexOf(p) && this.f7.push(p),2 === this.f7.length && Promise.resolve().then(function(){u.Cj && void 0 !== u.iw && u.Gm("memoryLimit",q.dO,q.eO);}));};n.prototype.VZb=function(p,q){(0,g.assert)(this.state.value === f.Uc.Pe && void 0 === this.iw);this.iw=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.$H}),this.bxa(q));};n.prototype.h_b=function(p,q,u){(0,g.assert)(this.Cj);this.moa=null !== p && void 0 !== p?p:this.moa;this.XT=null !== q && void 0 !== q?q:this.XT;void 0 === this.KL?this.KL=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.KL.reason=u.reason);};n.prototype.Gm=function(p,q,u){var t;(0,g.assert)(this.Cj && void 0 !== this.iw && void 0 === this.u2 && void 0 === this.P$ && void 0 === this.x1);this.u2=p;this.P$=q;this.x1=u;this.mp=100;this.Oia();this.t3();null === (t=this.Eia) || void 0 === t?void 0:t.Qa();this.state.value === f.Uc.vl && (this.Nsa=k.default.time.Da());this.LBb();this.set(f.Uc.um);this.x1=this.P$=this.u2=this.KL=this.XT=this.moa=this.iw=void 0;};n.prototype.stop=function(){var p;this.set(f.Uc.cs);this.Oia();this.t3();null === (p=this.Eia) || void 0 === p?void 0:p.Qa();};n.prototype.Dia=function(p,q,u,t){var v,w,y,x,A,z,B,C,D,F;v=this;(0,g.assert)(this.Cj);null === (w=this.Eia) || void 0 === w?void 0:w.Qa();if(this.state.value === f.Uc.vl && k.default.time.Da() < this.Nsa + this.config.k4a){A=this.config.k4a - (k.default.time.Da() - this.Nsa);this.Eia=this.Kd.UA(l.Pg.ZC(d.N.Na(A)),function(){v.Dia(p,q,u,t);});}else {w=u.OF(f.v.ga);z=u.OF(f.v.Z);B=k.default.time.Da() - this.Zha;if(w || z){C=function(G){return G?G.PB() || G.ht()?t.Cia(v.state.value,p,B >= v.config.TV,q,G,v.mv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(w);C=C(z);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.JA) && void 0 !== E?E:0};};this.ih.As({as:F(D),vs:F(C),bt:B});F=z?C:D;F.r5b=z && C.JA || 0;F.hsb=w && D.JA || 0;D.complete && C.complete?(F.complete=!0,this.Gm(null !== (A=F.reason) && void 0 !== A?A:"unknown",null !== (y=F.r5b) && void 0 !== y?y:0,null !== (x=F.hsb) && void 0 !== x?x:0)):(F.complete=!1,this.Vtb(F),this.ih.As({bp:this.mp}));}}};n.prototype.Vtb=function(p){var q,u,t;t=p.progress;p.Npa?t=(k.default.time.Da() - this.Zha) / this.config.TV:t || (t=(null !== (q=p.JA) && void 0 !== q?q:0) / this.config.hr);p=Math.min(Math.max(Math.round(100 * t),null !== (u=this.mp) && void 0 !== u?u:0),99);p != this.mp && (this.mp=p);};n.prototype.Mva=function(p,q){(0,g.assert)(q === f.Uc.Pe || void 0 !== p);this.iw=p;this.mp=0;this.G7=void 0;this.YK.mv=0;this.f7=[];p=this.state.value === f.Uc.Pe || this.state.value === f.Uc.vl;this.Zha=k.default.time.Da();this.set(q);p || (this.NBb(),this.G_b());};n.prototype.set=function(p){this.state.set(p);};n.prototype.NBb=function(){(0,g.assert)(this.events && void 0 !== this.mp);this.G7=this.mp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:k.default.time.Da(),percentage:this.mp});};n.prototype.G_b=function(){var p;p=this;this.Oia();this.qRb=this.Kd.NTa(function(){return p.MBb();},d.N.Na(this.xtb),"buffering-notification");};n.prototype.Oia=function(){var p;null === (p=this.qRb) || void 0 === p?void 0:p.Qa();};n.prototype.MBb=function(){this.Cj && this.events && void 0 !== this.mp && this.mp !== this.G7 && this.events.emit("buffering",{type:"buffering",time:k.default.time.Da(),percentage:this.mp}) && (this.G7=this.mp);};n.prototype.LBb=function(){var p;(0,g.assert)(this.events && this.iw && void 0 !== this.u2 && void 0 !== this.x1 && void 0 !== this.P$);this.G7=this.mp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:k.default.time.Da(),actualStartPosition:this.iw,reason:this.u2,aBufferLevelMs:this.x1,vBufferLevelMs:this.P$,selector:this.moa,initBitrate:this.XT,initSelReason:null === (p=this.KL) || void 0 === p?void 0:p.reason},this.IRa));};n.prototype.Aja=function(){var p;p=this;this.config.Pcb && (!this.rz || this.rz.state !== l.Ik.complete && this.rz.state !== l.Ik.iF?void 0 === this.rz && (this.rz=this.Kd.Tx(function(){return p.fcb();},"underflow")):this.rz.Vf());};n.prototype.t3=function(){this.rz && (this.rz.state !== l.Ik.iF && this.rz.Qa(),this.rz=void 0);};n.prototype.fcb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.O6,this.S.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,l.Pg.ZC(d.N.Na(p))]);case 1:(t.Ra(),t.label=2);case 2:if(!this.Cj)return [3,4];q=this.Sd.vNb || 0;u=k.default.time.Da() - q;if(u >= p)return (this.S.trace(("Forcing streaming failure, ").concat(u,"ms since data received")),this.Pka.USb(this.wy),[2]);this.S.trace(("BufferingStateTracker: network activity, wait ").concat(p - u,"ms"));return [4,l.Pg.ZC(d.N.Na(p - u))];case 3:return (t.Ra(),[3,2]);case 4:return [2];}});};c.__decorate([(0,m.Sb)({methodName:"onTemporaryNetworkError",ik:!0})],n.prototype,"zV",null);c.__decorate([(0,m.Sb)({methodName:"onUnderflow",ik:!0})],n.prototype,"yh",null);c.__decorate([(0,m.Sb)({methodName:"bufferingComplete",ik:!0})],n.prototype,"Gm",null);c.__decorate([(0,m.Sb)({methodName:"stop",ik:!0})],n.prototype,"stop",null);c.__decorate([(0,m.Sb)({methodName:"checkStreamingBufferingComplete",ik:!0})],n.prototype,"Dia",null);c.__decorate([(0,m.Sb)({methodName:"createUnderflowTask",ik:!0})],n.prototype,"Aja",null);c.__decorate([(0,m.Sb)({methodName:"destroyUnderflowTask",ik:!0})],n.prototype,"t3",null);c.__decorate([(0,m.Sb)({methodName:"onUnderflowTimeout",ik:!0})],n.prototype,"fcb",null);return n;})();b.Dza=r;},12215:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.HTa=void 0;c=a(70655);k=a(47571);b.HTa=function(f){var m,l;function h(n){(0,k.bo)(n.newValue) && !(0,k.bo)(n.oldValue)?(null === l || void 0 === l?void 0:l.Qa(),l=m.UA.apply(m,c.__spreadArray([],c.__read(d),!1))):null === l || void 0 === l?void 0:l.Qa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.kf;m=f.gq;g.state.addListener(h);h({oldValue:k.Uc.cs,newValue:g.state.value});};},33154:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tka=void 0;c=a(4145);b.Tka=function(k,f,h,d,g){var m;m=[];k=k.km.values.filter(function(l){return l.$n;}).map(function(l){var n,p;n=f(l.pa,h,d,g);p=(0,c.xx)(n,l.Xd).map(function(q){return q.mediaType;});m=(0,c.U1)(m,p);return {tb:l,Xd:n};});return {nSa:m,itb:k};};},55168:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uua=b.Jia=b.Zk=b.a_a=b.hdb=void 0;c=a(74005);k=a(44724);f=a(95994);b.hdb=function(d,g){d=d.L[g.I];if(void 0 === d)return {VL:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {VL:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.ta || null === d.ta || Infinity === d.ta)return {VL:!0};d=d.ta - d.va;return g.offset.G >= d?{VL:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{VL:!0};};h=c.N.Na(100);b.a_a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.N.abs(d.offset.wa(g.offset));if(h.greaterThan(d))return !0;}return !1;};b.Zk=function(d,g,m){var l,n,p,q;p=g.Ca;g=g.wLb;void 0 === m && (m={});q=p.fa;p=p.navigator;q=p.Pd(null !== (l=null === g || void 0 === g?void 0:g.id) && void 0 !== l?l:q.we);l=null !== (n=null === g || void 0 === g?void 0:g.qZb) && void 0 !== n?n:q.Ud;if(l.greaterThan(d))return m.D0b?{offset:d.wa(l),I:q.id}:void 0;g=p.H1a(q);for(p=g.next();!p.done;){n=p.value;p=n.Rf.wa(n.Ud);q=l;l=q.add(p);if(l.greaterThan(d))return (d=d.wa(q),f.K && (0,k.assert)(d.ji(c.N.Ia) && d.lessThan(p)),{I:n.id,offset:d});p=g.next();if(p.done && m.E0b)return {I:n.id,offset:d.wa(q)};}};b.Jia=function(d,g){g=g.L[d.I];return d.offset.lessThan(c.N.Ia)?{D2:c.N.Ia,Pn:d.offset}:g.ta && (g=c.N.Na(g.ta - g.va),g.isFinite() && d.offset.greaterThan(g))?{D2:g,Pn:d.offset.wa(g)}:{D2:d.offset,Pn:c.N.Ia};};b.uua=function(d,g){d=d.L[g.I];if(void 0 !== d)return null === d.ta || void 0 === d.ta?{I:g.I,offset:c.N.max(c.N.Ia,g.offset)}:{I:g.I,offset:c.N.max(c.N.Ia,c.N.min(g.offset,c.N.Na(d.ta - d.va)))};};},47052:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GCa=void 0;r=a(70655);c=a(47571);k=r.__importDefault(a(16955)).default.SL;f=r.__importDefault(a(73764));h=r.__importDefault(a(29736));d=a(83440);g=a(4145);m=a(44724);l=a(2338);a=(function(){function n(p,q,u,t,v){this.config=p;this.y0b=q;this.navigator=u;this.events=t;this.console=v;p=(0,d.tZa)(this.config);this.I9=p.I9.bind(p);this.tva=p.tva.bind(p);this.Yla=p.Yla.bind(p);this.rna=p.rna.bind(p);this.a7a=[p.Gsa.bind(p),p.VV.bind(p)];}n.prototype.wZb=function(p,q,u,t,v,w,y,x){var A,z,B,C,D,F,G,E,J;z=[];if(!this.hsa(w.track,w.track.ha?w.track.RYa(t):void 0))return {stream:D,WW:z,reason:"locationSelectionFailure"};w.l2 && this.hsa(w.l2,w.l2.ha?w.l2.RYa(t):void 0);B=w.il;t=B.ye;C=w.r4;D=t.fo;F=this.WIb(w,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.rub))return {stream:void 0,WW:z,reason:"allStreamsFiltered"};D && !D.track.equals(w.track) && (D=this.mEb(D,G));E=w.mediaType;if((y=E === c.v.ga) && D && !this.c0b(t,D))return (this.config.b_a && this.I9(D.bitrate),{stream:D,WW:z});p=(0,c.zsa)(p);q=this.Ryb(p,q,v,w,!!x);v=this.a7a[E];x=y?this.rna():this.Yla();w=B.I9a(q,F,x,v,w.g1a(),w.track.pa.by,C);if(!w)return {stream:D,WW:z,reason:"streamSelectionFailure"};B={Bg:w.Bg,WV:w.WV};if(w.reason){J={reason:w.reason,tZb:w.dt,J5:w.J5,AB:w.AB,BB:w.BB};this.Uub(E,G,u);}this.PBb(E,w,G);D=G[w.Th];u=D.bitrate;y?this.config.b_a && this.I9(u):this.tva(u);t.t$a(D);if(null === (A=w.hF) || void 0 === A?0:A.length)z=w.hF.map(function(K){return (0,g.qc)(G,function(N){return N.id === K;});}).filter(g.F7);return {stream:D,WW:z,KL:J,fz:B,Ov:w.Ov,aEb:G,xZb:w};};n.prototype.Cia=function(p,q,u,t,v,w,y){var x,A,z;if(!(0,c.bo)(q))return {complete:!0,reason:"playing"};if(!w.g7a)return {complete:!1,reason:"unknown"};if(w.nTb)return ((0,m.assert)(w.P5a),w.P5a);x=w.il;A=x.ye;u=this.QXa(w,u);z=A.fo;A=u.Km - u.Gd;if(A < this.config.hr || void 0 === z)return {complete:!1,JA:A,reason:"preBuf"};if(w.mediaType === c.v.ga)return {complete:!0,JA:A,reason:"audio"};if(p=p.tSa(w.mediaType))return {complete:!0,JA:A,reason:p};this.hsa(w.track);p=new l.lea();p.Uga([z]);x.$6a(p,(0,c.zsa)(q),u,this.a7a[w.mediaType]);q=x.A2(u,q,v,z,{mv:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",JA:A};q.JA=A;return q;};n.prototype.kk=function(p,q,u,t){return t?t.kk(p.track.hg,q,u.wa(p.tb.se),p.Wg()):p.track.hg;};n.prototype.WIb=function(p,q,u,t,v){var w;w=new l.lea();w.Uga(this.kk(p,u,t,v));q=p.tb.Mb.wa(q);for(q=this.config.iqa - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Wg)break;w.Uga(this.kk(p,u,t,v));q-=p.tb.u.duration.G;}return w;};n.prototype.PBb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};n.prototype.OBb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:h.default.time.Da(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};n.prototype.mEb=function(p,q){var u;u=q[0];q.filter(function(t){return t.mG;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};n.prototype.c0b=function(p,q){return 0 < this.config.lX.length?!0:(p=p.YL) && p === q.location?!1:!0;};n.prototype.hsa=function(p,q){return p.pa.Uk.Ecb(p.pa.J,p.hg,q);};n.prototype.QXa=function(p,q){var D;for(var u,t=q.wa(this.y0b),v=[],w=p,y=q,x,A,z=0,B=0,C=!0;w;){D=w.BYa(t);if(!C && !w.ai)break;0 < D.La.length && (y=D.La[0].Bb,void 0 === x && (x=D.La[D.La.length - 1].Mb,A=D.j8 >= D.La.length?x:D.La[D.j8].Bb),v=D.La.concat(v),z+=0 < D.mr?D.mr:0,B+=D.gN);w=this.navigator.parent(w);C=!1;}return {RE:h.default.sT()[p.mediaType],ab:Math.floor(y.G),Gd:q.G,jl:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Km:Math.floor(A?A.G:q.G),Dk:v.reduce(function(F,G){return F + G.xa;},0),mr:z,gN:B,Gcc:v.length,La:v};};n.prototype.Ryb=function(p,q,u,t,v){var w,y,x;w=this.QXa(t,q);y=t.mediaType === c.v.Z?this.config.oxa:this.config.zha;x=f.default.instance();return {state:p,OB:p === c.Db.me,df:t.lC,playbackRate:u,buffer:w,B3:y,DS:v,gk:null === x || void 0 === x?void 0:x.gk,mediaType:t.mediaType,Gd:q.G,uta:0};};n.prototype.Uub=function(p,q,u){var w,y;if(p === c.v.Z){p="manifest";for(var t=0,v=q.length - 1;0 <= v;--v){w=q[v];y=w.bitrate;if(k(w)){t=Math.max(t,y);break;}else this.config.m$ && !w.sv?p="bc":w.Yq?w.zB && (p="hf"):p="av";}this.I3a !== t && (this.OBb(this.I3a,t,p,u),this.I3a=t);}};return n;})();b.GCa=a;},38534:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.sGa=void 0;c=a(70655);k=a(95994);f=a(12862);h=a(47571);d=a(74573);r=(function(){function g(m,l,n){this.rma=m;this.YGb=l;this.S=n;this.ih=new d.Au({en:this,console:n,source:"MemoryDeadlockProtector",ko:5});}g.prototype.fFb=function(m){var l,n,p,q;p=m.config;q=p.hr + (null !== (n=null === (l=p.GN) || void 0 === l?void 0:l.G) && void 0 !== n?n:0);l=this.ZJb(q,m);k.K && this.S.debug(("MDP: has prebuf: ").concat(l));return l?{u3:!0}:(n=this.eub(p),l=n.mTb,n=n.b5b,l && n?(k.K && this.S.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.YPb?this.V8a(m,l):{u3:!0}):{u3:!1});};g.prototype.V8a=function(m,l){var n,p,q,u,t,w,A,z;this.ih.As({o:l});u=m.Y;m=m.Ua;t=u.Ua;u=u.$q;for(var v=0;v < t.length;v++){if(!t[v].ai){u=t[v];t=t.slice(0,v + 1);break;}}v=!1;w=[{mediaType:h.v.ga,Ex:0},{mediaType:h.v.Z,Ex:0},{mediaType:h.v.Ya,Ex:0}];if(null === u || void 0 === u || !u.ai){m=m.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,f.mia)(C) - (0,f.mia)(D);});try{for(var y=c.__values(m),x=y.next();!x.done;x=y.next()){A=x.value;z=A.iL();w[h.v.ga].Ex+=null !== (p=z.mR) && void 0 !== p?p:0;w[h.v.Z].Ex+=null !== (q=z.OX) && void 0 !== q?q:0;k.K && this.S.debug(("Resetting discontiguous branch ").concat(A.u.id),z);A.reset();if(v=w.every(function(C){return C.Ex >= l[C.mediaType].Ex;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (n=y.return) && n.call(y);}finally{if(B)throw B.error;}}}return {u3:v,Icc:w};};g.prototype.eub=function(m){var l,n,p,q,u;l=[h.v.ga,h.v.Z,h.v.Ya];if(!m.ZPb)return {};n=this.YGb();p=this.rma().total;q=m.XPb;u=0;m=l.map(function(t){var v;v=n[t] - p[t] * q;u=Math.max(0 < p[t]?n[t] / p[t]:0,u);return {Ex:Math.max(0,v),mediaType:t};});return {b5b:u,mTb:m};};g.prototype.ZJb=function(m,l){var n,p;n=!1;l=l.Vq?l.Y:void 0;if(null === l || void 0 === l?0:l.vLb){n=l.Uy.Ws().map(function(q){return q.mediaType;});p=l.qGb();n=n.every(function(q){var u,t;if(q === h.v.ga)q=null !== (u=p.A1) && void 0 !== u?u:0;else if(q === h.v.Z)q=null !== (t=p.Q$) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= m;});}return n;};c.__decorate([(0,d.Sb)({methodName:"resetDiscontiguousBranches",return:!0,ik:!0})],g.prototype,"V8a",null);return g;})();b.sGa=r;},35340:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Vca=void 0;c=a(70655);k=a(28075);f=a(95994);h=a(44724);r=(function(){function d(){this.events=new k.EventEmitter();}d.prototype.qa=function(g){var m;m=this;this.Ca=g;this.Ca.events.on("segmentNormalized",function(){m.V8();});this.V8();};Object.defineProperties(d.prototype,{mV:{get:function(){return this.cob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Twa:{get:function(){(0,h.assert)(this.Ca,"Must be initialized");return this.Ca.fa;},enumerable:!1,configurable:!0}});d.prototype.V8=function(){var g,m,l;g=this;if(this.Ca){m={};l=this.Ca.fa;this.cob=c.__assign(c.__assign({},l),{L:new Proxy(l.L,{get:function(n,p){var q;if(m[p])return m[p];n=l.L[p];if(!n)return n;q=g.lIb(p);q?(q=q.Hrb(),m[p]=c.__assign(c.__assign(c.__assign({},q),n),{va:q.va,ta:q.ta})):m[p]=l.L[p];return m[p];}})});this.events.emit("updated");}};d.prototype.lIb=function(g){var m;f.K && (0,h.assert)(this.Ca,"Must be initialized");m=this.Ca.navigator;return m.s_a(g)?m.Pd(g):void 0;};return d;})();b.Vca=r;},65533:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tJa=void 0;c=a(74005);k=a(4145);f=a(44724);h=a(85341);r=(function(){function d(){this.Ua=new c.GGa();this.km=new h.b0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Ua.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Ua.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Ua.values();this.Ua.clear();this.km.clear();g.forEach(function(m){return m.Pf();});};d.prototype.yp=function(g){return this.Ua.get(g);};d.prototype.has=function(g){return this.Ua.has(g);};d.prototype.root=function(){return this.km.root;};d.prototype.contains=function(g){var m;m=g.u.id;if(this.has(m))return -1 !== this.yp(m).indexOf(g);};d.prototype.zF=function(g){this.km.zF(g);};d.prototype.W4=function(g){return this.km.parent(g);};d.prototype.mGb=function(g){return this.km.children(g);};d.prototype.zna=function(g){return this.km.zna(g);};d.prototype.DXb=function(g){var m;if(this.Ua.delete(g.u.id,g)){m=this.km.children(g);this.km.root === g?0 === m.length?this.km.clear():((0,f.assert)(1 === m.length,"cannot remove the root branch with multiple successors"),this.km.PXb(m[0])):((0,f.assert)(0 === m.length,"cannot remove non-root branch with successors"),this.km.remove(g));}};d.prototype.forEach=function(g){var m;m=this;this.Ua.forEach(function(l,n){return g(l,n,m);});};d.prototype.reduce=function(g,m){var l;l=this;return this.Ua.reduce(function(n,p,q){return g(n,p,q,l);},m);};d.prototype.map=function(g){var m;m=this;return this.Ua.map(function(l,n){return g(l,n,m);});};d.prototype.filter=function(g){var m;m=this;return this.Ua.filter(function(l,n){return g(l,n,m);});};d.prototype.nJb=function(){var g;g={};this.forEach(function(m,l){var n;(m=m.Kr) && (null !== (n=g[l]) && void 0 !== n?n:g[l]=[]).push(m.G);});return g;};d.prototype.$3b=function(g,m){var l,n,p;l=this;g=this.Pyb(g,m);n=g.QAb(this.km);m=n.Wga;p=n.hN;n=n.G8a;this.km.clear();this.km=g;m.forEach(function(q){return l.Ua.set(q.u.id,q);});m.forEach(function(q){return q.qa();});p.forEach(function(q){return l.Ua.delete(q.u.id,q);});return {hN:p,G8a:n};};d.prototype.Pyb=function(g,m){var l,n,p;l=this;n=new Map();p=new h.b0();g.zF(function(q,u){var t,v;if(u){t=n.get(u);if(!t)return !0;}v=(0,k.qc)(l.yp(q.u.id),function(w){return l.km.parent(w) === t || !u;});v=null !== v && void 0 !== v?v:m(q.u.id,t);v.ah=q.ah;n.set(q,v);p.add(v,t);(null === v || void 0 === v?0:v.$n) && v.update(q.u);return !0;});return p;};return d;})();b.tJa=r;},5456:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vJa=void 0;r=(function(){function a(c){this.console=c;this.Kia();}a.prototype.get=function(c){return this.BK[c] || this.vg[c];};a.prototype.set=function(c,k){void 0 === this.vg[c] && (this.vg[c]=k);};a.prototype.$Zb=function(c,k){void 0 === this.get(c) && (this.BK[c]=k);};a.prototype.clear=function(c){this.BK[c]=void 0;this.vg[c]=void 0;};a.prototype.pvb=function(c){var k;this.vg=(k={},k[c]=this.vg[c],k);this.BK={};};a.prototype.Kia=function(){this.vg={};this.BK={};};a.prototype.toJSON=function(){return {vg:this.vg,BK:this.BK};};return a;})();b.vJa=r;},99568:function(r,b,a){var f,h,d;function c(g,m){var l,n;l=Object.keys(g);if(l.some(function(p){var q,u,t,v;return (null === (q=g[p]) || void 0 === q?void 0:q.Yd) !== (null === (u=m[p]) || void 0 === u?void 0:u.Yd) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (v=m[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(m);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,h.xx)(l,n)),!1),f.__read((0,h.xx)(n,l)),!1).length?!0:!1;}function k(g,m){return g.some(function(l,n){var p;return 0 !== (0,h.xx)(l,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || g.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.URa=b.uTa=void 0;f=a(70655);h=a(4145);d=a(74227);b.uTa=function(g){return new d.jBa(function(m){return Object.keys(m.u.next || ({})).map(function(l){var n,p,q;l=g.Pd(l);q=null !== (p=null === (n=m.Rf) || void 0 === n?void 0:n.wa(m.Ud).G) && void 0 !== p?p:Infinity;return {n5b:l,weight:q};});});};b.URa=function(g,m){var l,n,p,q,u,t;l=Object.keys(g.L);n=Object.keys(m.L);p=n.filter(function(v){return -1 === l.indexOf(v);});q=l.filter(function(v){return -1 === n.indexOf(v);});u=l.filter(function(v){var w,y,x,A,z;if(-1 === n.indexOf(v))w=!1;else {w=g.L[v];v=m.L[v];w=w.Jb !== v.Jb || w.ta !== v.ta || w.va !== v.va || w.Yd !== v.Yd || w.J !== v.J || k(null !== (y=w.Mq) && void 0 !== y?y:[],null !== (x=v.Mq) && void 0 !== x?x:[]) || c(null !== (A=w.next) && void 0 !== A?A:{},null !== (z=v.next) && void 0 !== z?z:{})?!0:!1;}return w;});t=(0,h.xx)(l,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {Wga:p,hN:q,Kub:u,M3b:t};};},42462:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xJa=b.vD=void 0;c=a(70655);k=a(44724);(function(h){h[h.SO=0]="CREATED";h[h.Zda=1]="STARTED";h[h.TP=2]="REQUEST_ISSUED";h[h.Gw=3]="EVALUATED";h[h.HAa=4]="DESTRUCTED";})(f=b.vD || (b.vD={}));r=(function(){function h(d){this.tN=d;this.zc=f.SO;this.MC={};this.aX={};}Object.defineProperties(h.prototype,{state:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});h.prototype.start=function(){var d;d=this;this.zc !== f.Zda && (this.ZU(f.Zda),[f.Gw,f.TP].forEach(function(g){var m;m=new Promise(function(l){(0,k.assert)(d.aX && d.MC,"state promises should be defined");d.aX[g]=l;d.MC[g]=m;});}),this.tN(),this.ZU(f.Gw));};h.prototype.ZU=function(d){this.zc=d;this.aX && (d=this.aX[d],null === d || void 0 === d?void 0:d());};h.prototype.Qa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.zc !== f.Zda)return [3,2];(0,k.assert)(this.MC,"state resolves should be defined");return [4,this.MC[f.Gw]];case 1:(d.Ra(),d.label=2);case 2:return (this.aX=this.MC=void 0,this.zc=f.HAa,[2]);}});});};h.prototype.Z$=function(d,g){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(l){switch(l.label){case 0:if(this.zc === f.HAa)return [2];if(this.zc === f.Gw)return [3,6];(0,k.assert)(this.MC,"state promises should be defined");m=d;switch(m){case f.Gw:return [3,1];case f.TP:return [3,3];}return [3,5];case 1:return [4,this.MC[f.Gw]];case 2:return (l.Ra(),[3,6]);case 3:return [4,this.MC[f.TP]];case 4:return (l.Ra(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return h;})();b.xJa=r;},68397:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CJa=void 0;c=a(70655);k=a(54531);r=(function(){function f(h){this.rj=h;this.L={};}Object.defineProperties(f.prototype,{fa:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});f.prototype.s_a=function(h){return !!this.fa.L[h];};f.prototype.Pd=function(h){var d;d=this.L[h];if(void 0 === d){d=this.fa.L[h];if(void 0 === d)throw Error(("Segment not found (").concat(h,")"));d=new k.HJa(h,d,this.fa.Yd);this.L[h]=d;}return d;};f.prototype.XJb=function(h){return !(!h.u.next || !Object.keys(h.u.next).length);};f.prototype.DGb=function(h){var d;d=this;return h.u.next?Object.keys(h.u.next).map(function(g){return d.Pd(g);}):[];};f.prototype.H1a=function(h){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,h];case 1:(g.Ra(),d=h,g.label=2);case 2:if(!d.u.Jb)return [3,4];d=this.Pd(d.u.Jb);return [4,d];case 3:return (g.Ra(),[3,2]);case 4:return [2];}});};f.prototype.aKb=function(h,d){return (0,k.Z0a)(h.e5(d));};f.prototype.hj=function(h){var d;d=this;Object.keys(h).forEach(function(g){var m;return null === (m=d.Pd(g)) || void 0 === m?void 0:m.hj(h[g]);});};f.prototype.update=function(h){var d;d=this;this.rj=h;Object.keys(this.L).forEach(function(g){var m;m=d.rj.L[g];m && d.L[g].update(m) || delete d.L[g];});};return f;})();b.CJa=r;},54531:function(r,b,a){var k,f,h;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=b.J_=b.Z0a=void 0;k=a(70655);f=a(74005);h=a(44724);b.Z0a=c;r=(function(){function d(g,m,l){this.region=g;this.Ma=m;this.Za=l;}d.prototype.toJSON=function(){return {region:this.region,ab:this.Ma.Sy,nf:this.Za.Sy};};return d;})();b.J_=r;r=(function(){function d(g,m,l){var n;n=this;this.id=g;this.Mi=m;this.tOa=!1;this.e5=function(p){var q,u,t,v;return (null === (q=n.Zv) || void 0 === q?0:q.length)?"immediate":null !== (v=null === (t=null === (u=n.u.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Yd) && void 0 !== v?v:n.Yd;};this.DLb(m);this.w0a(m,l);this.u0a();(0,h.assert)(this.h1.lessThan(this.C0),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.u.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ip:{get:function(){return this.tOa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ud:{get:function(){return this.h1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rf:{get:function(){return this.C0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.C0.wa(this.h1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qX:{get:function(){return this.Ky.length?!this.u.Jb && 0 === this.xM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{b1a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jRb:{get:function(){return this.kA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ky:{get:function(){var g,m;return Object.keys(null !== (m=null === (g=this.u) || void 0 === g?void 0:g.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xM:{get:function(){var g;g=this;return this.Ky.filter(function(m){return !!g.kA[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fwa:{get:function(){var g;return null !== (g=this.mPa) && void 0 !== g?g:this.mPa=this.lub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{n$:{get:function(){var g;return null !== (g=this.nPa) && void 0 !== g?g:this.nPa=this.mub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dz:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.n$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yd:{get:function(){var g;return (null === (g=this.Zv) || void 0 === g?0:g.length)?"immediate":this.t1;},enumerable:!1,configurable:!0}});d.prototype.DLb=function(g){var m;this.h1=new f.N(g.va,1E3);this.C0=void 0 !== g.ta && null !== g.ta?new f.N(g.ta,1E3):f.N.Dp;this.t1=null !== (m=this.Mi.Yd) && void 0 !== m?m:this.t1;};d.prototype.w0a=function(g,m){var l,n,p;this.t1=null !== (p=null !== (n=null !== (l=g.Yd) && void 0 !== l?l:m) && void 0 !== n?n:this.t1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,m,l){this.h1=g;this.C0=m;this.Zv=l;this.tOa=!0;this.Jdb();};d.prototype.update=function(g){(0,h.assert)(g.J === this.Mi.J,"Cannot change the viewable id of a segment");(0,h.assert)(g.va === this.Mi.va,"Cannot change the start time of a segment");(0,h.assert)(g.type === this.Mi.type,"Cannot change the type of a segment");if(g.ta !== this.Mi.ta)return !1;g.Yd !== this.Mi.Yd && this.w0a(g);this.Mi=g;return !0;};d.prototype.jYa=function(){var g;return this.xM.length?null !== (g=this.xM.map(this.e5).reduce(function(m,l){return m === l?l:void 0;})) && void 0 !== g?g:this.Yd:this.Yd;};d.prototype.hj=function(g){this.u0a(g);};d.prototype.bub=function(g){var m,l;if(this.fwa){m=(this.kA[g] || 0) / this.fwa;if(void 0 === this.u.weight || 0 === this.n$)return {wf:m};l=this.dz;return 1 !== l && c(this.e5(g)) && this.kA[g]?{wf:l * m,CB:this.kA[g] / this.n$ * (1 - l)}:{wf:l * m};}return {wf:(null === (m=this.u.next) || void 0 === m?0:m[g])?1 / this.Ky.length:0};};d.prototype.eKb=function(g){return -1 < this.Ky.indexOf(g);};d.prototype.Hrb=function(){return this.Ip?k.__assign(k.__assign({},this.u),{va:this.Ud.G,ta:this.Rf.G}):this.u;};d.prototype.u0a=function(g){var m;if(void 0 === this.u.next)this.kA={};else {m=this.u.next;this.kA=Object.keys(m).reduce(function(l,n){var p;p=g?g[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (l[n]=p);return l;},{});}this.Jdb();};d.prototype.lub=function(){var g;g=this;return this.xM.reduce(function(m,l){return m + g.kA[l];},0);};d.prototype.mub=function(){var g;g=this;return this.xM.filter(function(m){return c(g.e5(m));}).reduce(function(m,l){return m + g.kA[l];},0);};d.prototype.Jdb=function(){this.nPa=this.mPa=void 0;};return d;})();b.HJa=r;},75559:function(r,b,a){var k,f,h;function c(d,g,m,l,n){var p,q,u,t,v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H;y=d.console;x=d.T3b;A=d.vg;z=d.lYb;B=d.dBb;C=d.Fqa;D=d.Tha;d=d.kTb;F=n || ({complete:!0,Kr:0});G=F.root;E=F.complete;J=F.aqb;K=F.Q8a;K=void 0 === K?0:K;F=F.Kr;N=K < z.length && z[K].id === g.id;I=K < z.length?z[K].id:l && A.get(l.id);O=n && l && I !== g.id?void 0 !== I?{wf:0}:l.bub(g.id):{wf:1};A=O.wf;O=O.CB;L=void 0 === O?0:O;O=(A + L) * (null !== (p=null === n || void 0 === n?void 0:n.JVb) && void 0 !== p?p:1);h && y.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(m,", ") + ("probability: ").concat(O,", ") + ("predecessor: ").concat(null === l || void 0 === l?void 0:l.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(N,", ") + ("requiredPathIndex: ").concat(K,", ") + ("activeDistance: ").concat(J,", ") + ("seamless ").concat(A,", ") + ("immediate ").concat(L,", ") + ("predecessor sum of: successor weights=").concat(null === l || void 0 === l?void 0:l.fwa,", ") + ("immediate weights= ").concat(null === l || void 0 === l?void 0:l.n$));p=null !== (u=null === (q=x[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!N){if(0 === O)return {X$:!1,L1:!0};if(!E && 0 === L && F > D)return (d.dB=Math.min(d.dB || Infinity,F - D),{X$:!1,L1:!0});if(!q && m >= B && 1 > O || !1 === G && O < C)return {X$:!1,L1:!0};}if(K < z.length){(0,k.assert)(z[K].id === g.id,"");H={duration:z[K].duration};}n=null !== (t=null === n || void 0 === n?void 0:n.ah) && void 0 !== t?t:[];l && 1 > A && (0 === L?n=n.concat([{wf:A}]):(t=(null === (w=null === (v=l.u.Mq) || void 0 === v?void 0:v[0]) || void 0 === w?void 0:w[0]) || 0,v=Math.max(0,l.duration.G - t),h && y.trace(("reevaluateBranches: immediate: ").concat(l.duration.G,", ").concat(t,", ").concat(v)),n=n.concat([{wf:A,CB:L,duration:v}])));v=d.Zta.UWa(function(M){return M.u === l;});d.Zta.add({u:g,ah:n,tb:H},v);m=E?m + g.duration.G:J;h && y.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(m," ") + ("probabilities: ").concat(JSON.stringify(n)));return {X$:!0,L1:N,state:{root:!l,complete:q,JVb:O,ah:n,aqb:m,Q8a:K + 1,Kr:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.d3b=b.E5b=b.W8=void 0;k=a(44724);r=a(95994);f=a(85341);h=r.K && !1;b.W8=function(d,g,m,l,n,p,q,u,t){var v,w,y,x;w={Zta:new f.b0()};y=(null === (v=m.Rf) || void 0 === v?void 0:v.wa(m.Ud).G) || 0;0 < p.length && (0,k.assert)(m.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");h && d.trace(("reevaluateBranches: starting at ").concat(m.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,T3b:l,vg:n,lYb:p,dBb:q.G + y,Fqa:u,Tha:t.G,kTb:w};g.D5b(m,function(A,z,B,C){return c(x,A,z,B,C);});return w;};b.E5b=c;b.d3b=function(d,g,m){var l;l=(0,f.j7a)(g,function(n){return ("").concat(n.u.id);});m(("requiredBranches(").concat(d,")"),l.replace(/\n/g,"<>"));m(("requiredBranches(").concat(d,")"),g.values.map(function(n){var p;return ("").concat(n.u.id,"::").concat(null === (p=g.parent(n)) || void 0 === p?void 0:p.u.id);}).join(", "));};},19824:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;c=a(51472);r=(function(){function k(f,h){this.Qta=h;this.uW=[];this.uW.push(f);}k.prototype.wo=function(f,h){return c.TO.R5({J:f,rW:h},this.uW);};k.prototype.cw=function(f){return this.Qta(f);};k.prototype.OXb=function(f){this.uW.pop();this.uW.push(f);};k.prototype.SPa=function(f){this.uW.unshift(f);};return k;})();b.yKa=r;},43450:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UKa=void 0;c=a(70655);k=a(70950);f=a(44724);b.UKa=(function(){function h(){}h.vJb=function(d){var g,m,l;if(d.Wg){l=c.__read(d.Xd,2);d=l[0];l=l[1];if(d.ha || (null === l || void 0 === l?0:l.ha))return {udb:k.N.Dp,vdb:k.N.Dp};d=null === (g=d.Bo) || void 0 === g?void 0:g.Rf;g=null === (m=null === l || void 0 === l?void 0:l.Bo) || void 0 === m?void 0:m.Rf;(0,f.assert)(d);m=g?k.N.min(d,g):d;return {udb:d,vdb:m};}};return h;})();},62437:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KZa=void 0;b.KZa=function(a,c){return a.reduce(function(k,f){return k + f.E4(c).G;},0);};},81545:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NXa=void 0;c=a(46044);b.NXa=function(k,f){return k.reduce(function(h,d){var g;g=f(d);d.Ws().forEach(function(m){return h.Lga(m.mediaType,m.CA,!g);});return h;},new c.BJa());};},88414:function(r,b,a){var k,f;function c(h,d){return Object.keys(h.$G).map(function(g){return h.$G[g];}).filter(function(g){return void 0 === g.WF || 1 === g.WF;}).reduce(function(g,m){return g + m.Hq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.CLa=void 0;k=a(47571);f=a(95994);r=(function(){function h(d,g,m){this.fa=d;this.console=g;this.rma=m;}h.prototype.tub=function(d,g,m){var l,n,p,q;l=m && this.fa.config.W4b;n=this.fa.config.J$ || l;p=this.rma();if(l){l=d.global;l=(q={},q[k.v.ga]=l[k.v.ga] - c(d,k.v.ga),q[k.v.Z]=l[k.v.Z] - c(d,k.v.Z),q[k.v.Ya]=l[k.v.Ya] - c(d,k.v.Ya),q);}q=l;p=this.tSa(g) || this.Zub(d) || this.Xub(d,p,q) || this.Yub(d,p,q,g);q=(0,k.sta)(p);if(p && (!q || n))return (f.K && this.console.log(("canIssueRequest ").concat(this.fa.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.fa.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};h.prototype.tSa=function(d){var g;g=this.fa.config.BG;if(this.fa.LGb(d) >= (g || Infinity))return "mediaDurationLimit";};h.prototype.Zub=function(d){return d.$G[this.fa.id].total.total > (this.fa.R4() || Infinity)?"playgraphMemoryLimit":void 0;};h.prototype.Xub=function(d,g,m){d=d.global;return m?m[k.v.ga] + m[k.v.Z] > (g.Uva.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};h.prototype.Yub=function(d,g,m,l){var n;n=d.global;return m?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(l,"]:") + (" using static limit ").concat(g.Uva[l],", usage: ").concat(m) + (" (global: ").concat(n[l]," ") + (" - certain contiguous: ").concat(c(d,l),")")),m[l] > (g.Uva[l] || Infinity)?l === k.v.Z?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[l] > (g.total[l] || Infinity)?l === k.v.Z?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return h;})();b.CLa=r;},38104:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gz=void 0;c=a(47571);k=a(312);f=a(35619);r=(function(){function h(d){var s1G,g;s1G=2;for(;s1G !== 9;){switch(s1G){case 1:var I29="1";I29+="S";I29+="IYbZr";I29+="NJCp9";this.config=d;this.rdb=this.e2=null;this.Gsa=function(m,l,n){var R_I;R_I=2;for(;R_I !== 5;){switch(R_I){case 2:m=g.Xm(m,n);return g.config.qRa?(l=(0,k.R3)(g.config.pRa,l.Km - l.Gd,1),{lower:m * (1 - l),upper:void 0}):{lower:m * g.config.sX / 100,upper:void 0};break;}}};I29;s1G=9;break;case 2:g=this;s1G=1;break;}}}var o84;o84=2;for(;o84 !== 6;){switch(o84){case 2:h.prototype.dVa=function(d,g){var g_P,m;g_P=2;for(;g_P !== 4;){switch(g_P){case 2:m=null === this.e2?d * (100 - this.config.sX) / 100:(0,f.mha)(d,this.e2);this.config.qpa && g?(d=(0,f.mha)(d,g),d=Math.max(d,m)):d=m;return d;break;}}};h.prototype.xva=function(d){var n$G;n$G=2;for(;n$G !== 1;){switch(n$G){case 2:return this.config.PVa && (d === c.Db.Hk || d === c.Db.Pe);break;}}};o84=5;break;case 5:h.prototype.Xm=function(d,g){var I87,m,l,n;I87=2;for(;I87 !== 5;){switch(I87){case 2:return this.xva(g)?(null === (m=d.YT) || void 0 === m?void 0:m.Ea) || (null === (l=d.sb) || void 0 === l?void 0:l.Ea) || 0:(null === (n=d.sb) || void 0 === n?void 0:n.Ea) || 0;break;}}};h.prototype.I9=function(d){var S8n;S8n=2;for(;S8n !== 1;){switch(S8n){case 2:this.e2=d;S8n=1;break;}}};h.prototype.Yla=function(){var X5z;X5z=2;for(;X5z !== 1;){switch(X5z){case 4:return this.e2;break;case 2:return this.e2;break;}}};h.prototype.tva=function(d){var C$S;C$S=2;for(;C$S !== 1;){switch(C$S){case 2:this.rdb=d;C$S=1;break;}}};o84=8;break;case 8:h.prototype.rna=function(){var S3w;S3w=2;for(;S3w !== 1;){switch(S3w){case 2:return this.rdb;break;}}};return h;break;}}})();b.Gz=r;},23174:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sAa=void 0;c=a(70655);k=a(47571);r=a(38104);f=a(78570);a=(function(h){function d(g){var e2z,m;e2z=2;for(;e2z !== 9;){switch(e2z){case 4:var J8S="1SIY";J8S+="b";J8S+="Z";J8S+="rNJ";J8S+="Cp9";J8S;return m;break;case 2:m=h.call(this,g) || this;m.VV=function(l,n,p,q){var m4n,u2n;m4n=2;for(;m4n !== 11;){switch(m4n){case 4:var n4j="d";n4j+="e";n4j+="liv";n4j+="erytime-ci";n=l[n4j];m4n=3;break;case 8:return {lower:(null === n || void 0 === n?void 0:n.initial) || l.sb.Ea,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 2:m4n=m.xva(p)?1:5;break;case 12:var F3x="thr";F3x+="ou";F3x+="ghput";F3x+="-c";F3x+="i";n=l[F3x];m4n=3;break;case 1:return m.ePb.VV(l,n,p,q);break;case 3:q=m.config.gxa * l.sb.Ea;m4n=9;break;case 7:return {lower:(null === n || void 0 === n?void 0:n.low) || l.sb.Ea,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 6:m4n=p === k.Db.Pe?8:14;break;case 14:m4n=7;break;case 5:var g$2="deliv";g$2+="erytim";g$2+="e";g$2+="-ci";u2n=m.config.Iia;m4n=u2n === g$2?4:13;break;case 13:m4n=12;break;case 9:m4n=p === k.Db.Hk?8:6;break;}}};m.ePb=new f.Ica(g);e2z=4;break;}}}var r3h;r3h=2;for(;r3h !== 5;){switch(r3h){case 2:c.__extends(d,h);return d;break;case 3:c.__extends(d,h);return d;break;}}})(r.Gz);b.sAa=a;},83440:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tZa=b.Gz=void 0;c=a(78570);k=a(16038);f=a(1689);h=a(23174);d=a(38104);Object.defineProperties(b,{Gz:{enumerable:!0,get:function(){return d.Gz;}}});b.tZa=function(g){switch(g.Xpa){case "manifold":return new c.Ica(g);case "stddev":return new f.uLa(g);case "ci":return new h.sAa(g);default:return new k.eLa(g);}};},78570:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=void 0;c=a(70655);r=c.__importStar(a(312));k=c.__importDefault(a(29736));a=a(38104);f=r.oK;h=r.CSa;d=r.R3;g=r.nWa;m=r.t9a;new k.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var G6u;G6u=2;for(;G6u !== 5;){switch(G6u){case 2:c.__extends(n,l);return n;break;case 3:c.__extends(n,l);return n;break;}}function n(p){var j3X,q;j3X=2;for(;j3X !== 13;){switch(j3X){case 9:var u$g="1SIY";u$g+="bZr";u$g+="NJ";u$g+="C";u$g+="p9";q.filter=p.Ds.filter;q.t0b=!!p.Ds.simpleScaling;p.Ds.niqrfilter && p.Ds.niqrcurve && (q.N4a=p.Ds.niqrfilter,q.lRb=h(p.Ds.niqrcurve,1,0,4));u$g;return q;break;case 2:q=l.call(this,p) || this;q.VV=function(u,t,v,w){var n3W,y,x,A;n3W=2;for(;n3W !== 14;){switch(n3W){case 2:A=q.Xm(u,v);v=q.xva(v)?A:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Ea) || A;y=Math.pow(Math.max(1 - v / q.Psb,0),q.Msb);v=t.Km - t.Gd;q.t0b?(t=d(q.pUa,v,1),v=d(q.oUa,v,1),t=t * y + v * (1 - y)):t=d(m(q.pUa,q.oUa,y),v,1);u=q.N4a && (null === (x=u[q.N4a]) || void 0 === x?void 0:x.Vqa);n3W=8;break;case 8:void 0 !== u && (x=g(q.lRb,u),t=Math.min(t * x,1));R7xOY.n0y(11);w=q.dVa(R7xOY.g6M(t,1,A),w);return {lower:w,upper:w * q.config.gxa};break;}}};Array.isArray(p.Ds.curves) && (q.pUa=h(p.Ds.curves[0],0,0,1),q.oUa=h(p.Ds.curves[1],0,0,1));q.Psb=f(p.Ds.threshold || 6E3,1,1E5);q.Msb=f(p.Ds.gamma || 1,.1,10);j3X=9;break;}}}})(a.Gz);b.Ica=a;},16038:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eLa=void 0;c=a(70655);r=c.__importDefault(a(29736));k=a(38104);f=a(35619);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var S7K;S7K=2;for(;S7K !== 3;){switch(S7K){case 5:d.prototype.k0b=function(g,m){var G$s;G$s=2;for(;G$s !== 5;){switch(G$s){case 2:g=this.Xm(g,m);return this.config.kwa && g < this.config.ija;break;}}};return d;break;case 2:c.__extends(d,h);d.prototype.XFb=function(g,m){var f3N,l,n;f3N=2;for(;f3N !== 3;){switch(f3N){case 2:(l=this.config,n=m?l.gja:l.Kha);m=m?l.hja:l.Mha;Array.isArray(m) && (n=(0,f.mWa)(m,g.Km - g.Gd,l.Lha));return n;break;}}};S7K=5;break;}}function d(g){var Z15,m;Z15=2;for(;Z15 !== 3;){switch(Z15){case 2:m=h.call(this,g) || this;m.VV=function(l,n,p,q){var O29,u;O29=2;for(;O29 !== 9;){switch(O29){case 4:q=m.dVa(n,q);return {lower:q,upper:q * m.config.gxa};break;case 2:u=m.Xm(l,p);l=m.k0b(l,p);n=u?u * (100 - m.XFb(n,l)) / 100 | 0:0;O29=4;break;}}};Z15=5;break;case 5:var N_y="1";N_y+="S";N_y+="I";N_y+="YbZrNJCp";N_y+="9";N_y;return m;break;}}}})(k.Gz);b.eLa=a;},1689:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uLa=void 0;c=a(70655);r=a(38104);r=(function(k){var L1M;L1M=2;for(;L1M !== 5;){switch(L1M){case 3:c.__extends(f,k);return f;break;case 2:c.__extends(f,k);return f;break;}}function f(h){var t_p,d;t_p=2;for(;t_p !== 3;){switch(t_p){case 4:return d;break;case 2:var C5t="1SIYbZ";C5t+="rN";C5t+="J";C5t+="Cp";C5t+="9";d=k.call(this,h) || this;d.VV=function(g){var F2P,l8M,m;F2P=2;for(;F2P !== 10;){switch(F2P){case 1:var l_p="deliv";l_p+="e";l_p+="r";l_p+="ytime";l8M=d.config.e1b;F2P=l8M === l_p?5:12;break;case 4:return m;break;case 14:F2P=g.Nm && g.Nm.qO?13:4;break;case 12:var S_T="a";S_T+="ver";S_T+="ag";S_T+="e";S_T+="tp";F2P=l8M === S_T?8:11;break;case 11:var n$y="e";n$y+="w";n$y+="m";n$y+="a";F2P=l8M === n$y?14:4;break;case 9:return {lower:8 / (g.Nm.Ea + d.config.Vva * m),upper:8 / (g.Nm.Ea - d.config.Wva * m)};break;case 3:m=Math.sqrt(g.Nm.$d || 0);F2P=9;break;case 7:m=Math.sqrt(g.Nm.qO || 0);F2P=6;break;case 13:return (m=Math.sqrt(g.Nm.qO || 0),{lower:g.sb.Ea + d.config.Vva * m,upper:g.sb.Ea + d.config.Wva * m});break;case 2:m={lower:g.sb.Ea,upper:void 0};F2P=1;break;case 5:F2P=!g.Nm || !g.Nm.Ea?4:3;break;case 6:return {lower:g.Nm.$J + d.config.Vva * m,upper:g.Nm.$J + d.config.Wva * m};break;case 8:F2P=!g.Nm || !g.Nm.$J?4:7;break;}}};C5t;t_p=4;break;}}}})(r.Gz);b.uLa=r;},35619:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mha=b.Gsa=b.mWa=void 0;c=a(312);b.mWa=function(k,f,h){var d,g,m;d=0;if(h){k.some(function(l){var n;n=l.b;l=l.m;if(f <= n)return (d=m && n !== g?m + (l - m) / (n - g) * (f - g):l,!0);g=n;d=m=l;return !1;});}else k.some(function(l){d=l.m;return f <= l.b;});return d;};b.Gsa=function(k,f,h){var d;f=(null === (d=f.sb) || void 0 === d?void 0:d.Ea) || 0;return k.qRa?(k=(0,c.R3)(k.pRa,h.Km - h.Gd,1),f * (1 - k)):f * k.sX / 100;};b.mha=function(k,f){return k < 2 * f?k / 2:k - f;};},76613:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=b.FAa=void 0;c=a(71820);k=a(56714);b.FAa=625E3;r=(function(){function f(h){this.config=h;}f.prototype.VRa=function(h){var d,g,m,l,n;d=this.config.Wja;g=this.config.aec || this.config.Vja;m=0 < h.$Za.DB;l=m?g * b.FAa / 1E3:this.config.TU || Infinity;n=m?Math.floor(h.$Za.DB / l):d;return {$l:h.V5b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {B1a:{DB:q > n - 1?0:l},Cd:p,y8:1,Ai:u,n1b:{audio:[(0,c.sK)(u),new k.iea()],video:[(0,c.tK)(u),new k.iea()]}};})};};return f;})();b.CAa=r;},66904:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YAa=void 0;c=a(70655);k=a(41427);f=a(86021);r=(function(){function h(){}h.prototype.e3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,l,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Cd.key;if(!(0,f.mU)(g))return [3,2];m=g.J;l=d.Cd.Oe.Um(m);return [4,Promise.resolve(l.fq)];case 1:return (n=q.Ra(),p=n.W,p.np?[2,(0,k.B2)(p.np,{config:n.config})]:[2,(0,k.X9)(m,"ps0")]);case 2:return [2,g.fa];}});});};return h;})();b.YAa=r;},23983:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(95994);k=a(38761);b.OJa=(function(){function f(){}f.QXb=function(h,d,g,m){h.events.once("seeking",function(l){var n,p;n=l.position;p=g.length;l.duplicate || (g.Z8(function(q){return "segmentNormalized" !== q.Lq;}),c.K && m.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,k.l5)(d)) + (" due to seek to ").concat((0,k.l5)(n))));c.K && m.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,k.l5)(n)));g.Lta();g.Qa();});};return f;})();},12568:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z;Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;c=a(70655);k=a(28075);f=a(47571);h=a(74005);d=a(51472);g=a(4145);m=a(44724);l=a(57538);n=a(95994);p=a(71820);q=a(3346);u=c.__importDefault(a(29736));t=a(96649);v=a(66904);w=a(11974);y=a(76613);x=a(86021);A=a(23983);z=a(68332);r=(function(){function B(C,D,F,G,E){void 0 === G && (G=new w.ZAa());void 0 === E && (E=new v.YAa());this.fWa=C;this.config=D;this.h8a=G;this.$l=[];this.c7a=[];this.vw=[];this.Wf={F1a:0,G1a:0,C1a:0,dia:0,D1a:0,E1a:0,eia:0};this.events=new k.EventEmitter();this.S=(0,h.Ph)(u.default,F,"PREFETCH");this.aQa(new y.CAa(D));this.aQa(new z.aLa(D));this.Y9a({DB:D.bVb});this.hva(E);this.sLb();}Object.defineProperties(B.prototype,{cVb:{get:function(){return this.$l.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.s$a=function(C){n.K && (0,m.assert)(C,"Reconciliation strategy is undefined");this.h8a=C;return this;};B.prototype.aQa=function(C){this.c7a.unshift(C);};B.prototype.z$a=function(C){n.K && this.S.debug("Wish list changed",{xec:C.length});this.vw=C;this.Xsa();};B.prototype.reset=function(){var C,G,E,J,K,N;if(this.config.kVb)try{for(var D=c.__values(this.$l),F=D.next();!F.done;F=D.next()){G=F.value;E=G.fa;J=G.m6;K=G.context;if(E){E.Pf();J.Z8(function(O){return "segmentNormalized" !== O.Lq;});N=(0,x.Zma)(K.Cd,E.fa);E.HC(N);}}}catch(O){var I;I={error:O};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.z$a([]);};B.prototype.Y9a=function(C){n.K && this.S.debug("Budget changed",{cSb:this.QR,bRb:C});this.QR=C;this.Xsa();};B.prototype.kvb=function(C,D){var F,G,E,J;n.K && this.S.debug("Looking for playgraph to claim");if(C=this.h8a.TWa(this.$l,{fa:C,Ai:D}))if((D=this.vw.indexOf(C.context.Cd),n.K && this.S.debug(("Claiming item: ").concat((0,x.Ym)(C.context.Cd.key)),{Dl:u.default.time.Da() - C.t$,buffer:null === (F=C.fa) || void 0 === F?void 0:F.Wn(h.N.Ia)}),this.GK(C.context,{$oa:!!C.fa}),C.fa)){F=C.fa;E=C.kN;J=F.Dg;A.OJa.QXb(F,J,C.m6,this.S);E.aZb(null !== (G=F.XF(J)) && void 0 !== G?G:h.N.Ia,D);F.pcb({DB:this.config.TU || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Cd,videoBytesBuffered:C.fa.GF().OX,audioBytesBuffered:C.fa.GF().mR});}this.config.jrb || this.reset();return null === C || void 0 === C?void 0:C.fa;};B.prototype.jvb=function(){};B.prototype.getStats=function(){var C;C=u.default.time.Da();return {wishListLength:this.vw.length,prefetchList:this.cVb.length,contents:this.$l.map(function(D){var F,G,E,J,K;return {id:(0,x.Ym)(D.context.Cd.key),buffer:null === (F=D.fa) || void 0 === F?void 0:F.Wn(h.N.Ia),pId:null === (G=D.fa) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.B1a.DB},weight:D.context.y8,age:C - D.t$,timeOpened:C - (null !== (E=D.L2b) && void 0 !== E?E:0),state:f.Uc[null !== (K=null === (J=D.fa) || void 0 === J?void 0:J.jf.value) && void 0 !== K?K:f.Uc.cs]};}),aggregated:{itemsRequested:this.Wf.F1a,itemsStarted:this.Wf.G1a,itemsClaimed:this.Wf.C1a,bytesClaimed:this.Wf.dia,itemsCompleted:this.Wf.D1a,itemsDiscarded:this.Wf.E1a,bytesDiscarded:this.Wf.eia}};};B.prototype.GK=function(C,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,E,J,K,N,I;return c.__generator(this,function(O){switch(O.label){case 0:G=c.__assign({$oa:!1,L1a:!1},D);E=G.$oa;J=G.L1a;K=(0,g.qc)(this.$l,function(L){return L.context === C;});if(!K)return [3,3];this.$l.splice(this.$l.indexOf(K),1);J || (N=this.vw.length,this.vw=this.vw.filter(function(L){return L !== C.Cd;}),n.K && this.S.info("Dropping items from wishlist",N - this.vw.length),this.vw.length >= N && n.K && this.S.warn("Unable to filter out wishlist item",this.vw.map(function(L){return L.key;}),C.Cd.key));n.K && this.S.debug("Dropping playgraph",{Dl:u.default.time.Da() - K.t$,buffer:null === (F=K.fa) || void 0 === F?void 0:F.Wn(h.N.Ia),J:(0,x.Ym)(C.Cd.key),Xec:!E,tcc:!J});K.jB.clear();if(E)return [3,2];I=this.az(K);return K.fa?[4,I]:[3,2];case 1:(O.Ra(),O.label=2);case 2:(this.Xsa(),O.label=3);case 3:return [2];}});});};B.prototype.hva=function(C){(0,m.assert)(C,"Playgraph resolver is undefined");this.Csa=C;return this;};B.prototype.sLb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Wf.D1a++;});this.events.on("prefetchStarted",function(){return C.Wf.G1a++;});this.events.on("itemQueued",function(){return C.Wf.F1a++;});this.events.on("itemClaimed",function(D){var F,G;C.Wf.C1a++;C.Wf.dia+=(null !== (F=D.s5b) && void 0 !== F?F:0) + (null !== (G=D.isb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;C.Wf.E1a++;C.Wf.eia+=(null !== (F=D.s5b) && void 0 !== F?F:0) + (null !== (G=D.isb) && void 0 !== G?G:0);});};B.prototype.Xsa=function(){var C,D,F,G,E,J;C=this;D=d.TO.R5({V5b:this.vw,$Za:this.QR},this.c7a.map(function(K){return K.VRa.bind(K);})).$l;F=(0,g.xx)(D,this.$l,function(K,N){return (0,x.isEqual)(K.Cd.key,N.context.Cd.key);});G=(0,g.xx)(this.$l,D,function(K,N){return (0,x.isEqual)(K.context.Cd.key,N.Cd.key);});E=(0,g.xx)(this.$l,G);n.K && this.S.debug(("Re-evaluated prefetch items. new:").concat(F.length,", evict: ").concat(G.length,", update: ").concat(F.length));G=G.map(function(K){var N;N=K.context.Cd.key;n.K && C.S.debug("Releasing playgraph",(0,x.Ym)(N));return C.az(K).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.Cd});});});J=E.map(function(K){return c.__awaiter(C,void 0,void 0,function(){var N,I;return c.__generator(this,function(O){switch(O.label){case 0:(N=(0,g.qc)(D,function(L){return (0,x.isEqual)(L.Cd.key,K.context.Cd.key);}),(0,m.assert)(N,"Couldn't find the requested item context"),K.context=N,O.label=1);case 1:return (O.Vj.push([1,3,,4]),[4,K.x8]);case 2:return (I=O.Ra(),[3,4]);case 3:return (O.Ra(),[2]);case 4:return ((0,g.qc)(this.$l,function(L){return L === K;}) && (this.NQa(K.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.Cd})),[2]);}});});});F=F.map(function(K){var N;N=C.Tyb(K);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.Cd});return N;});this.$l=c.__spreadArray(c.__spreadArray([],c.__read(E),!1),c.__read(F),!1);E=F.map(function(K){return K.x8.catch(function(){});});E=G.concat(J).concat(E);Promise.all(E);};B.prototype.az=function(C){var D;D=this;return C.x8.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (n.K && this.S.debug("Removing prefetch playgraph",{size:F.Wn(h.N.Ia)}),C.jB.clear(),[4,this.fWa()]);case 1:return (G=E.Ra(),G.az(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Cd,videoBytesBuffered:F.GF().OX,audioBytesBuffered:F.GF().mR}),[2]);}});});},function(){});};B.prototype.a3=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,J,K,N;N=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,F=(0,x.Ym)(D.Cd.key),n.K && this.S.debug("Creating playgraph",F),[4,this.Csa.e3a(D)]);case 1:return (G=I.Ra(),[4,D.Cd.Oe.Um(F).fq]);case 2:return (E=I.Ra(),E.W.Lm?(this.GK(D,{$oa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(F) + " is not supported with prefetching")]):[4,this.fWa()]);case 3:return (J=I.Ra(),K=J.wR(G,D.y8,D.Ai,D.Cd.Oe,!1),C.jB.addListener(K.events,"error",function(O){n.K && N.S.debug("Prefetch playgraph resulted in error",O.rcc);N.GK(D);}),[2,K]);}});});};B.prototype.VSb=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J;return c.__generator(this,function(K){switch(K.label){case 0:return (F=C.context,G=(0,x.Ym)(F.Cd.key),E=F.Cd.Oe.Um(G),[4,E.fq]);case 1:return (J=K.Ra(),this.NQa(F,D),this.Crb(F,D,!!J.wp),D.open(),D.hz({AN:function(N,I){var O;O=N.recommendedMedia;return O?(0,g.Bs)(I,function(L){return L.new_track_id === O.ip;}):(0,g.Bs)(I,function(L){return L.track_id === N.defaultTrackOrderList[0].audioTrackId;});}},{AN:function(N,I){var O;O=N.recommendedMedia;return O?(0,g.Bs)(I,function(L){return L.new_track_id === O.rO;}):(0,g.Bs)(I,function(L){return L.track_id === N.defaultTrackOrderList[0].videoTrackId;});}}),D.HC((0,x.Zma)(F.Cd,D.fa)),this.rXb(C,E),E.Nq && (n.K && this.S.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.GK(C.context)),[2]);}});});};B.prototype.rXb=function(C,D){var G;function F(E){n.K && G.S.debug(("Viewable ").concat(E?"superseded":"expired"),(0,x.Ym)(C.context.Cd.key));C.Odc=!0;G.GK(C.context,{L1a:!E});}G=this;D.events && (C.jB.addListener(D.events,"viewableEvicted",function(){F(!0);}),C.jB.addListener(D.events,"viewableExpired",function(){F(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Cd});};B.prototype.NQa=function(C,D){D.Jcb(C.y8);D.pcb(C.B1a);};B.prototype.Crb=function(C,D,F){var G;G=C.n1b;C=G.audio;G=G.video;F && G.push(new t.AP(this.S,D.config));D.mva(new p.zu(C,!0),new p.zu(G,!0));};B.prototype.Tyb=function(C){var D,F,G;D=this;F=new l.PJa();G={context:C,t$:u.default.time.Da(),jB:new k.gf(),kN:F};G.x8=this.a3(G).then(function(E){return c.__awaiter(D,void 0,void 0,function(){var J,K;K=this;return c.__generator(this,function(N){switch(N.label){case 0:for(J=E;J.Va;){J=J.Va;}E.Ye(F);F.csb(E);G.m6=new q.jCa(J.events,{f0b:function(I){var O;O=I.Lq;switch(O){case "buffering":return !1;case "bufferingStarted":G.m6.Z8(function(L){return "bufferingComplete" === L.Lq || "updateStreamingPts" === L.Lq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.m6.Z8(function(L){return L.Lq === O;});default:return !0;}}});J.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Cd});});return [4,this.VSb(G,E)];case 1:return (N.Ra(),G.L2b=u.default.time.Da(),G.fa=E,[2,E]);}});});});G.x8.catch(function(E){n.K && D.S.error("Exception occurred creating playgraph",E);D.GK(G.context);});return G;};return B;})();b.QJa=r;},11974:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZAa=void 0;c=a(70655);k=a(44724);f=a(86021);r=(function(){function h(){}h.Ym=function(d){var g,m;g=d.L;d=d.we;m=g[d].J;Object.keys(g).forEach(function(l){return (0,k.assert)(g[l].J === m);});return g[d].J;};h.prototype.TWa=function(d,g){var m;m=Object.keys(g.fa.L).length;return c.__read(d.filter(function(l){var n,p;return h.Ym(g.fa) === (0,f.Ym)(l.context.Cd.key) && (1 === m || m === Object.keys(null !== (p=null === (n=l.fa) || void 0 === n?void 0:n.fa.L) && void 0 !== p?p:{}).length);}),1)[0];};return h;})();b.ZAa=r;},68332:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.VRa=function(c,k){var f,h;f=this;c=k(c);h=c.$l.map(function(d){return d.Cd.priority;}).sort();c.$l.forEach(function(d){d.y8=f.config.eVb / (2 << h.lastIndexOf(d.Cd.priority));});return c;};return a;})();b.aLa=r;},56714:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iea=void 0;c=a(47571);r=(function(){function k(){}k.prototype.kk=function(f,h){return h === c.Uc.um?[]:f;};return k;})();b.iea=r;},86021:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Zma=b.Ym=b.isEqual=b.mU=void 0;c=a(74005);k=a(18934);b.mU=function(f){return !!f.J;};b.isEqual=function(f,h){var d,g;d=(0,b.mU)(f);g=(0,b.mU)(h);return d === g?d?f.J === h.J:f.fa === h.fa:!1;};b.Ym=function(f){if((0,b.mU)(f))return f.J;f=f.fa;return f.L[f.we].J;};b.Zma=function(f,h){var d;return f.o2?f.o2 instanceof c.N?(f=(0,k.Rx)(h,(0,b.Ym)(f.key),f.o2),(null === f || void 0 === f?0:f.offset.greaterThan(c.N.Ia))?f:{offset:c.N.Ia,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:h.we}):f.o2:{offset:c.N.Ia,I:h.we};};},89098:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.oca=b.I_=void 0;a=(function(){function k(){var f;f=this;this.YQ=[];this.LXb=function(h){h=f.YQ.indexOf(h);0 <= h && f.YQ.splice(h,1);};}Object.defineProperties(k.prototype,{P1:{get:function(){return 0 !== this.YQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{m5a:{get:function(){return this.YQ.length;},enumerable:!1,configurable:!0}});k.prototype.add=function(){var f;f=new c(this.LXb);this.YQ.push(f);return f;};k.prototype.Exa=function(f){var h;h=this.add();try{Promise.resolve(f()).then(function(d){h.release();return d;},function(d){h.release();return Promise.reject(d);});}catch(d){h.release();Promise.reject(d);}};return k;})();b.I_=a;c=(function(){function k(f){this.Uob=f;}k.prototype.release=function(){this.Uob(this);};return k;})();r=(function(){function k(f,h){this.JSb=f;this.console=h;this.counter=new a();}k.prototype.Wu=function(){var f,h;f=this;this.console.trace("Acquiring lease, total count",this.counter.m5a + 1);h=this.counter.add();return {release:function(){h.release();f.console.trace("Releasing lease, total count",f.counter.m5a);f.JSb(function(){return !f.counter.P1;});}};};return k;})();b.oca=r;},37656:function(r,b,a){var f;function c(h,d){this.Aob=h.MM && h.MM.enabled;this.l1=void 0;this.Nnb=d;this.ega=[];this.tga=[];this.Ufa=[];h=h.UOa || [];d=h.map(function(g){return g.Ybc;});d.unshift(0);this.Hob=h;this.Iob=d;this.Wfa=[];this.qh=[];}function k(h,d){var u,t,v,w;for(var g=[],m=[],l=0;l < h.length;l++){for(var n=h[l],p=[],q=0;q < n.length;q++){u=n[q] - (m[q] || 0);t=d && d[q];v=p;w=v.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);w.call(v,u);}g.push(p);m=n;}return g;}f=a(16955).SL;c.prototype.reset=function(h){this.l1=void 0;this.ega=[];this.tga=[];this.Ufa=[];this.Wfa=[];h && (this.qh=[]);};c.prototype.add=function(h,d){var g,m,l,n;g=d.filter(function(p,q){return f(p) || q === h.Th;});m=g.map(function(p){return p.bitrate;});d=d[h.Th];g=g.indexOf(d);l=this.l1;if(l && (l.length !== m.length || l.some(function(p,q){return p !== m[q];}))){n=this.fYa();n && (this.qh.push(n),this.reset(!1));}void 0 === l && (this.l1=m);this.ega.push([g,h.Jr,h.jl,h.KRa,h.ztb,h.WV,h.QRb,h.Bg,h.gk,h.pp,h.QC - h.Jr,h.EUb]);void 0 !== h.Ov && this.Ufa.push([h.Jr,h.Ov.jz,h.Ov.Px,h.Ov.Zy]);g=d && d.La;this.Aob && void 0 !== g && (l=g.dy(h.pp),-1 != l && (g=g.get(l),l=g.duration,d=g.zb || d.zb,void 0 !== d && this.tga.push({ab:g.ab,duration:l,zb:d})));(d=h.ZUb) && d.length && (d=d.slice(0),d.unshift(h.Jr),this.Wfa.push(d));};c.prototype.fYa=function(){var h,d;h=k(this.ega);if(0 !== h.length){h={dltype:this.Nnb,bitrates:this.l1,seltrace:h,vmaftrace:this.tga,paceratetrace:k(this.Ufa)};d=k(this.Wfa,this.Iob);d && d.length && (h.predtrace={config:this.Hob,data:d});return h;}};c.prototype.get=function(){var h,d;h=this.fYa();d=this.qh;h && d.push(h);if(0 !== d.length)return d;};r.exports=c;},15876:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iya=void 0;c=a(41427);k=a(96349);f=a(19829);r=(function(){function h(d){this.context=d;this.md="ad-playgraph";this.enabled=!0;}h.prototype.Wi=function(d){var g,m,l,n,p,q,u;g=d.Zi;d=d.$B;if(g === f.pc.Sj || g === f.pc.lm || g === f.pc.Vi || d === f.Wh.It || void 0 === g && void 0 === d){d=this.context;g=d.Ic;m=d.Va;d=m.Y;l=d.he?d.Jg:m.Wq?m.Dg:void 0;n=g.zs;p=void 0;q="content";d=void 0;if(l){m=m.fa.L[l.I];u=m.Tb;u && (g=g.fa.L[u],g.J != m.J && (p=m.J,q=m.type,d=this.KFb(l.I,g.J)));}g={adPlaygraph:n?c.Gda.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (g.adBreakLocationMs=d);return g;}};h.prototype.KFb=function(d,g){var m,l,n,p;if(d=(0,k.FF)(d))p=null === (n=null === (l=null === (m=this.context.Ic.Ed) || void 0 === m?void 0:m.Xe.de[g]) || void 0 === l?void 0:l[d.vj]) || void 0 === n?void 0:n.Tt;return p;};return h;})();b.iya=r;},5015:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Nya=void 0;r=a(70655);c=a(28075);k=a(74005);f=r.__importDefault(a(54186));h=a(4145);d=r.__importDefault(a(37656));g=a(19829);m=a(18312);a=(function(){function l(n){var p,q;p=this;this.fa=n;this.Lq="aseReport";this.TR=k.N.Dp;this.events=new c.EventEmitter();this.Via=m.K_.BAa;this.En=!1;this.kPa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.DR || n.config.Ecc){this.TR=k.N.Na(n.config.uha);this.GPb=n.config.Lrb;this.fa.W1=!0;q=[];q[f.default.un.Z]=new d.default(n.config,f.default.un.Z);q[f.default.un.ga]=new d.default(n.config,f.default.un.ga);this.jga=q;this.fa.events.on("openComplete",function(){return p.open();});}}l.prototype.open=function(){this.fa.W1 && !this.En && (this.En=!0,this.fa.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.fa.events.on("requestIssued",this.Era.bind(this)));};l.prototype.Era=function(n){n.result && n.streamList && (this.jga[n.mediaType].add(n.result,n.streamList),++this.kPa >= this.GPb && this.events.emit("collectionRequested"));};l.prototype.VIb=function(){var n;n=(0,h.flatten)(this.jga.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.jga.forEach(function(p){return p.reset(!0);});this.kPa=0;return n;};l.prototype.Hf=function(n){var p,q;p=n.Zi;q=n.Nvb;n=n.R0a || q || p === g.pc.Vi;return this.fa.W1 && this.En && n && (n=this.VIb()) && n.length?{P9:!0,event:{type:"asereport",strmsel:n}}:{P9:!1};};return l;})();b.Nya=a;},52843:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wza=void 0;c=a(38264);k=a(95994);f=a(19829);r=(function(){function h(d,g){this.L0b=d;this.en=g;}Object.defineProperties(h.prototype,{Hp:{get:function(){return ("cache-").concat(this.L0b);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{md:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});h.prototype.Wi=function(d){var g,m,l;g=d.Zi;d=d.$B;if(g === f.pc.Sj || g === f.pc.lm || g === f.pc.Vi || void 0 === g && void 0 === d){m=(0,c.TXa)(this.en);g=Object.keys(m).filter(function(n){return m[n].isEnabled;});if(g.length){l={};g.forEach(function(n){l[n]={hit:m[n].fia,idx:m[n].QRa};});return {lbc:l};}}};return h;})();b.Wza=r;},20571:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dAa=void 0;c=a(47571);k=a(4145);f=a(19829);r=(function(){function h(d,g){this.tg=d;this.config=g;this.md="CdnListTracker";}Object.defineProperties(h.prototype,{enabled:{get:function(){return this.config.Fub;},enumerable:!1,configurable:!0}});h.prototype.Wi=function(d){var g;g=this;if(d.Zi === f.pc.Vi)return {cdndldist:JSON.stringify((0,k.PQa)(Object.keys(this.tg).map(function(m){var l;l=g.tg[m];return Object.keys(l).map(function(n){var p;p=l[n];return {cdnid:p.Hm,pbcid:p.Np,dls:Object.keys(p.nF).map(function(q){var u,t;q=p.nF[q];t=q.mediaType === c.v.ga?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Vb,u.vf=q.zb,u);})};});})))};};return h;})();b.dAa=r;},21185:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;c=a(19829);r=(function(){function k(f){this.Lm=f;this.md="content-playgraph";this.enabled=!0;}k.prototype.Wi=function(f){var h,d;h=f.Zi;f=f.$B;if(h === c.pc.Sj || h === c.pc.lm || h === c.pc.Vi || void 0 === h && void 0 === f){f=this.Lm.Va;d=f.Y;h=void 0;(d.he?d.Jg:f.Wq && f.Dg) && this.Lm.Lm && (d=d.Jg,f=this.Lm.Vg.Ut(d),d=this.Lm.Va.fa.L[d.I].J,this.Lm.fa.L[f.I].J != d && (h=d));return {contentPlaygraph:this.Lm.Lm,auxMid:h};}};return k;})();b.yAa=r;},74573:function(r,b,a){var k,f,h,d;function c(g,m,l){var n,p,t;m=k.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{p5a:m,zq:l}));if((null === g || void 0 === g?0:g.zq) && l)if(!0 === g.zq)m.args=l;else {p={};m.args=p;try{for(var q=k.__values(g.zq),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=l[t];}}catch(w){var v;v={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(v)throw v.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Au=b.pna=b.Sb=void 0;k=a(70655);f=a(95994);h=k.__importDefault(a(29736));d=a(74005);b.Sb=function(g){return function(m,l,n){var p;p=n.value;n.value=function(){var q,u,t,v,w,y;u=(0,b.pna)(this);if(u)(t=c(g,this,arguments),v=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(l),w=u.gQa(v,t,null === g || void 0 === g?void 0:g.ik,null === g || void 0 === g?void 0:g.hdc));q=null === u || void 0 === u?void 0:u.Fja;u && (u.Fja=w);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,d.Poa)(y) && (y=y.then(function(A){w && (null === g || void 0 === g?0:g.return) && (w.data.resolve=A);return A;},function(A){w && (w.data.reject=("").concat(A));return Promise.reject(A);}));return y;}catch(A){var x;x=A;throw A;}finally{u && (u.Fja=q);w && (w.data || (w.data={}),x?(w.data.error=("").concat(x),null === u || void 0 === u?void 0:u.fwb(w)):(null === g || void 0 === g?0:g.return) && !(0,d.Poa)(y) && (w.data.lRet=y));}};};};b.pna=function(g){if(null === g || void 0 === g?0:g.Cea)return g.Cea;};r=(function(){function g(m){this.Fp=[];this.N0=!1;this.ufa={};this.X=k.__assign({ko:10},m);Object.defineProperties(m.en,{Cea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.X.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.N0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fNb:{get:function(){return k.__spreadArray([],k.__read(this.Fp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{uKb:{get:function(){return this.ufa;},enumerable:!1,configurable:!0}});g.prototype.As=function(m){var l,n;if(!this.N0){n=null === (l=(0,b.pna)(this.X.en)) || void 0 === l?void 0:l.Fja;n && (n.data=k.__assign(k.__assign({},n.data),m));}};g.prototype.gQa=function(m,l,n,p){var q,u,t,v;if(!this.N0){t=!1;v=null === (u=(q=this.X).kQa) || void 0 === u?void 0:u.call(q,this.X.en);q=c({},this.X.en);l=k.__assign(k.__assign(k.__assign({},v),q),l);v=0 < Object.keys(l).length;l={methodName:m,data:v?l:void 0,time:h.default.time.Da()};p && this.ufa[m]++;n && this.Fp.length && (n=this.Fp[this.Fp.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=l,t=!0));this.gwb(l);t || this.Fp.push(l);this.Fp.length > this.X.ko && this.Fp.shift();return l;}};g.prototype.gwb=function(m){var l;f.K && (null === (l=this.X.console) || void 0 === l?void 0:l.trace(("").concat(this.X.source,"::").concat(m.methodName),m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.X,m);};g.prototype.fwb=function(m){var l;f.K && (null === (l=this.X.console) || void 0 === l?void 0:l.error(("").concat(this.X.source,"::").concat(m.methodName),m.data));};g.prototype.Qa=function(){Object.defineProperties(this.X.en,{Cea:{enumerable:!1,value:null,configurable:!0}});this.N0=!0;this.clear();};g.prototype.clear=function(){this.Fp=[];this.ufa={};};return g;})();b.Au=r;},92758:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=void 0;c=a(19829);r=(function(){function k(f){this.Sd=f;}Object.defineProperties(k.prototype,{md:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Wi=function(f){var h;if(f.Zi === c.pc.Vi && this.Sd){f={};h=this.Sd.get();h && h.avtp && h.avtp.Ea && (f.avtp=h.avtp.Ea,f.dltm=h.avtp.fVa);h && h.initialThroughput && h.initialThroughput.Ea && (f.initial_avtp=h.initialThroughput.Ea);h && h.cdnavtp && (f.cdnavtp=h.cdnavtp,f.activecdnavtp=h.activecdnavtp);if(h=this.Sd.Mma())(h.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=h.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=h.estimatedBytesPacedVideo,f.bytestotalVideo=h.bytestotalVideo,f.pacedAvtpVideo=h.pacedAvtpVideo),h.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=h.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=h.estimatedBytesPacedAudio,f.bytestotalAudio=h.bytestotalAudio,f.pacedAvtpAudio=h.pacedAvtpAudio),h.pacedAvtp && (f.pacedAvtp=h.pacedAvtp));this.Sd.flush();if(h=this.Sd.PGb())for(var d in h){h.hasOwnProperty(d) && (f["ne" + d]=Number(h[d]).toFixed(6));}return f;}};return k;})();b.ZBa=r;},96607:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bCa=void 0;c=a(19829);r=(function(){function k(f){this.N3=f;this.Hp="engine";this.enabled=!0;}Object.defineProperties(k.prototype,{md:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});k.prototype.Wi=function(f){var h;h=f.Zi;f=f.$B;if(h === c.pc.Sj || h === c.pc.lm || h === c.pc.Vi || void 0 === h && void 0 === f)return (h=this.N3.HUb.map(function(d){var g;g=d.fa;return {id:g.id,weight:g.weight,relativeWeight:d.jW};}),{prefetcher:this.N3.Tv.getStats(),playgraphs:h,viewables:this.N3.C5b,players:this.N3.FUb.length});};return k;})();b.bCa=r;},65398:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TEa=void 0;c=a(28075);k=a(74005);f=a(47571);h=a(18312);d=a(19829);r=(function(){function g(m){this.fa=m;this.Lq="liveReport";this.TR=k.N.Dp;this.events=new c.EventEmitter();this.Via=h.K_.rLa;this.wQ=!1;this.trace=[];this.Hbb=1;0 < m.config.v2a && 0 < m.config.tpa && (this.TR=k.N.Na(m.config.tpa),this.Hbb=Math.max(Math.floor(m.config.v2a / m.config.tpa),1),this.wQ=!0);}g.prototype.Lvb=function(){var m,l,n,p;l=this.fa.Y;if(l.he){n=l.Uy;p=n.pa;if(p.ha){if(n=null === (m=n.ef(f.v.Z)) || void 0 === m?void 0:m.fo)(m=n.Yn(),p=p.Mt,l=m.Hha + l.Md.G,m=this.fa.GF(),this.trace.push([p,l,m.totalabuflmsecs,m.totalvbuflmsecs]));}else this.wQ=!1;}};g.prototype.Hf=function(m){var l;l=m.R0a;m=m.Zi;this.wQ && (l || m === d.pc.Sj) && this.Lvb();return this.trace.length === this.Hbb || 0 < this.trace.length && m === d.pc.Vi?(l=this.trace,this.trace=[],{P9:!0,event:{type:"livereport",samplinginterval:this.TR.G,trace:l}}):{P9:!1};};return g;})();b.TEa=r;},80120:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UEa=void 0;c=a(18920);k=a(19829);r=(function(){function f(h){this.Ca=h;this.enabled=!0;}Object.defineProperties(f.prototype,{md:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});f.prototype.Wi=function(h){var d,g,m,l;h=h.$B;if(h === k.Wh.Er || h === k.Wh.bU || h === k.Wh.Zx || h === k.Wh.It || h === k.Wh.bX || h === k.Wh.Ix || h === k.Wh.nW){g=this.Ca.Y;if(g.he){m=g.Uy;l=m.pa;m=null === (d=m.ef(c.v.Z)) || void 0 === d?void 0:d.fo;if(l.ha && m){d=m.Yn();g={encodingpipelinetime:l.Mt,devicepts:d.Hha + g.Md.G};h === k.Wh.Er && (g.presentationtimeoffset=d.F8.G);if(h === k.Wh.Er || h === k.Wh.It)g.targetbufferduration=this.Ca.config.BU;return g;}}}};return f;})();b.UEa=r;},18312:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=b.K_=void 0;c=a(28075);k=a(19829);(function(h){h[h.BAa=1]="Creation";h[h.rLa=2]="StartPlayback";})(f=b.K_ || (b.K_={}));r=(function(){function h(d,g,m){this.Kd=d;this.S=g;this.events=m;this.lH=[];this.bn=new c.gf();}h.prototype.Ye=function(d){var g;g={kN:d,iia:void 0};this.lH.push(g);d.Via === f.BAa && this.w9a(g);this.bn.on(d.events,"collectionRequested",this.pSb.bind(this,g));};h.prototype.Qa=function(){this.bn.clear();};h.prototype.JNb=function(d){var g,m;g=this;m={Zi:d};this.lH.forEach(function(l){g.Lwa(l.kN,m);d === k.pc.Sj && l.kN.Via === f.rLa && g.w9a(l);});};h.prototype.pSb=function(d){var g;this.Lwa(d.kN,{Nvb:!0});null === (g=d.iia) || void 0 === g?void 0:g.Vf();};h.prototype.w9a=function(d){var g,m,l,n;g=this;l=d.kN;n=this.Kd.NTa(function(){g.Lwa(l,{R0a:!0});},l.TR,l.Lq);null === (m=d.iia) || void 0 === m?void 0:m.Qa();d.iia=n;};h.prototype.Lwa=function(d,g){var m;try{m=d.Hf(g);m.P9 && this.events.emit(d.Lq,m.event);}catch(l){this.S.error(("Error generating event for ").concat(d.Lq),l);}};return h;})();b.rFa=r;},48256:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GIa=void 0;c=a(47571);k=a(19829);r=(function(){function f(h){this.ef=h;}Object.defineProperties(f.prototype,{md:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Wi=function(h){var d,g;h=h.Zi;if(h === k.pc.lm || h === k.pc.Vi){h={};d=this.ef(c.v.Z);g=this.ef(c.v.ga);d && (h.videoPipelineSummary=this.Pab(d));g && (h.audioPipelineSummary=this.Pab(g));return h;}};f.prototype.Pab=function(h){var d,g,m,l,n;n=h.ff.La;return {actualStartPlayerTimestamp:null === (d=n.Bb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:n.l6a,completePlayerTimestamp:null === (g=h.Kl) || void 0 === g?void 0:g.G,segmentId:h.I,contentStartMs:null === (m=h.Ma) || void 0 === m?void 0:m.G,contentEndMs:null === (l=h.Za) || void 0 === l?void 0:l.G,streamingPlayerMs:h.OC.G,isStreamable:h.PB(),isNormalized:h.Wg(),isDoneStreaming:h.ht(),trackNeedsHeaderRequest:h.track.gV,completedRequests:n.hTa,activeRequests:h.ff.gk,unsentRequests:h.ff.WC,bytes:{current:n.xa,received:n.KWb,partial:n.mr,completed:n.N2,unsent:n.S3b}};};return f;})();b.GIa=r;},52302:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.sJa=void 0;c=a(70655);k=a(95994);f=a(74005);h=a(19829);d=a(89589);r=(function(){function g(m,l){var n;n=this;this.Bsa=m;this.Ca=l;this.N6a=new f.yu();l.events.on("branchesReevaluated",function(){n.N6a.push(m.size);});}Object.defineProperties(g.prototype,{md:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hp:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});g.prototype.Wi=function(m){var l;m=m.Zi;if(m === h.pc.lm || m === h.pc.Vi){l={branchCountStats:this.N6a.toJSON(),decisions:this.Ca.vg.toJSON(),player:this.Ca.Y.Bp?this.Ca.Y.Ua.map(function(n){return n.u.id;}):[]};this.Bsa.forEach(function(n,p){var q,u;u=(0,d.dma)(n);l[p]=c.__assign({probabilities:n.ah.map(function(t){return {duration:t.duration,immediate:t.CB,seamless:t.wf};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.Wg,hasViewable:n.$n,headerRequested:n.$n && n.pa.C_a},u);});return l;}};return g;})();b.sJa=r;},57538:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(70655).__importDefault(a(29736));k=a(19829);r=(function(){function f(){this.creationTime=c.default.time.Da();this.Hc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.csb=function(h){this.fa=h;};f.prototype.aZb=function(h,d){var g;h=null === (g=this.fa) || void 0 === g?void 0:g.Wn(h);this.Hc={isPrefetchItem:!0,prefetchedVideoMs:h.eO,prefetchedAudioMs:h.dO,prefetchClaimDurationMs:c.default.time.Da() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{md:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Wi=function(h){if(h.Zi === k.pc.Sj)return this.Hc;};return f;})();b.PJa=r;},19829:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=b.Wh=b.pc=void 0;c=a(70655);k=a(69570);f=a(4145);(function(h){h[h.Sj=0]="startPlayback";h[h.Vi=1]="endPlayback";h[h.lm=2]="underflow";})(b.pc || (b.pc={}));b.Wh={Er:"startplay",Hy:"midplay",Zx:"endplay",bU:"intrplay",Ix:"chgstrm",PM:"playbackaborted",nW:"renderstrmswitch",DC:"repos",It:"resumeplay",bX:"statechanged",GE:"aseReport"};r=(function(){function h(d){this.config=d;this.lH=[];}h.prototype.Ye=function(d){var g,m;m=c.__read(this.config.Jrb.filter(function(l){return l.md === d.md;}),1)[0];this.config.VBb && (null !== (g=null === m || void 0 === m?void 0:m.enabled) && void 0 !== g?g:d.enabled)?this.lH.push(d):d.Qa && d.Qa();};h.prototype.AIb=function(d){return (0,f.qc)(this.lH,function(g){return g.md === d.md;});};h.prototype.Wi=function(d,g){var m,l,n,u,t;l={};n=[];try{for(var p=c.__values(this.lH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.Wi({Zi:d,$B:g});t && (u.Hp?l[u.Hp]=t:l=c.__assign(c.__assign({},l),t));}catch(w){n.push(Error(("").concat(u.md,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(v)throw v.error;}}n.length && (l["rpt-error"]=k.uaa.stringify(new k.uaa("Reporting error",n)));return l;};return h;})();b.Uda=r;},89589:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PXa=b.kZa=b.dma=b.uKa=void 0;c=a(70655);k=a(95994);f=a(19829);r=(function(){function h(d){this.yb=d;}Object.defineProperties(h.prototype,{md:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hp:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});h.prototype.Wi=function(d){var g,m,p;d=d.Zi;if(d === f.pc.Vi || d === f.pc.lm)if(d=this.yb.Zla()){m={};try{for(var l=c.__values(d.vUb),n=l.next();!n.done;n=l.next()){p=n.value;m[p.mediaType]=this.hPb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=l.return) && g.call(l);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.PXa)(d.wWb),playerIterator:m,driftStats:this.yb.Axa};}};h.prototype.hPb=function(d){return null === d || void 0 === d?void 0:d.JYa();};return h;})();b.uKa=r;b.dma=function(h){var d,g;if(h){d=h.u;g={};h.Ws().forEach(function(m){g[m.mediaType]=(0,b.kZa)(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:h.ag,RM:g};}return h;};b.kZa=function(h){var d,g,m;if(h && h.ff)return c.__assign(c.__assign({},h.ff.wZa()),{unsentRequests:h.ff.WC,lastFragmentContentEndPts:null === (d=h.qf) || void 0 === d?void 0:d.Za.G,trackAttributes:null === (g=h.track) || void 0 === g?void 0:g.Wm(),bitrate:null === (m=h.qf) || void 0 === m?void 0:m.bitrate});};b.PXa=function(h){return h.map(function(d){return (0,b.dma)(d);});};},72393:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zKa=void 0;c=a(19829);r=(function(){function k(f,h){this.Sd=f;this.O8a=h;}Object.defineProperties(k.prototype,{md:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Wi=function(f){var h;h=f.Zi;f=f.$B;if(h === c.pc.Vi || h === c.pc.lm || void 0 === h && void 0 === f)return (h={numOutstandingRequests:this.O8a.JRb,requestOpportunityDelayStats:this.O8a.N8a},(f=this.Sd.bqb) && f.length && (h.activeRequests=JSON.stringify(f)),h);};return k;})();b.zKa=r;},32922:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aea=void 0;c=a(19829);r=(function(){function k(){this.Hp=this.md=k.md;this.enabled=!0;this.AW=[];this.c9a=0;}k.prototype.Kqb=function(f){this.AW.push(f);5 < this.AW.length && this.AW.shift();};k.prototype.Lqb=function(){this.c9a++;};k.prototype.Wi=function(f){var h;h=f.Zi;f=f.$B;if((h === c.pc.Sj || h === c.pc.lm || h === c.pc.Vi || void 0 === h && void 0 === f) && this.AW.length)return {restarts:this.AW.map(function(d){return {s:d.M0b,d:d.LAb,r:d.reason,atMs:d.DUb.G};}),restartsCompleted:this.c9a};};k.md="seamlessManager";return k;})();b.aea=r;},33969:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;c=a(28075);k=a(47571);f=a(19829);r=(function(){function h(d){this.oNa=!1;this.jB=new c.gf();this.jB.addListener(d.events,"streamSelection",this.Era.bind(this));}h.prototype.Era=function(d){this.oNa || (d.mediaType === k.v.ga && void 0 === this.loa?this.loa=d:d.mediaType === k.v.Z && void 0 === this.noa && (this.noa=d));};h.prototype.Qa=function(){this.noa=this.loa=void 0;this.jB.clear();this.oNa=!0;};Object.defineProperties(h.prototype,{md:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.Wi=function(d){var g;if(d.Zi === f.pc.Sj)return (d=null !== (g=this.noa) && void 0 !== g?g:this.loa,g={histdiscbw:null === d || void 0 === d?void 0:d.result.dt,histage:null === d || void 0 === d?void 0:d.result.AB},d=null === d || void 0 === d?void 0:d.streamList.map(function(m){return void 0 !== m.Q3?{vmaf:m.Q3,streamIndex:m.Ot,streamId:m.Nb}:void 0;}).filter(function(m){return void 0 !== m;}),0 < (null === d || void 0 === d?void 0:d.length) && (g.vmafEstimates=d),this.Qa(),g);this.Qa();};return h;})();b.sLa=r;},89909:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;r=a(70655);c=a(28075);k=a(95994);f=r.__importDefault(a(29736));h=a(19829);a=(function(){function d(g){this.Kd=g;this.k0=[];this.reset();}Object.defineProperties(d.prototype,{md:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hp:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,m;g=this;null === (m=this.sJ) || void 0 === m?void 0:m.clear();this.sJ=new c.gf();this.sJ.on(this.Kd,"clockChanged",function(){g.reset();g.dT("initial");});this.sJ.on(this.Kd,"stopping",function(){g.dT("stopping");});this.sJ.on(this.Kd.sa,"clockAdjusted",function(){g.dT("clockAdjusted");});this.sJ.on(this.Kd.sa,"stopStart",function(){g.dT("stopStart");});this.sJ.on(this.Kd.sa,"speedChanged",function(){g.dT("speedChanged");});};d.prototype.dT=function(g){this.k0.push({reason:g,audit:this.Kd.tv(),time:f.default.time.Da()});5 < this.k0.length && this.k0.shift();};d.prototype.Wi=function(g){var m;m=g.Zi;g=g.$B;if(m === h.pc.Sj || m === h.pc.lm || m === h.pc.Vi || void 0 === m && void 0 === g)return this.k0;};return d;})();b.MLa=a;},22258:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ax=void 0;c=a(70655);k=a(95994);f=a(74005);h=a(19829);r=(function(){function d(g,m){this.ih=g;this.options=c.__assign({svb:!0},m);}Object.defineProperties(d.prototype,{Hp:{get:function(){return ("trace-").concat(this.ih.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{md:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});d.prototype.Wi=function(g){var m,l;m=g.Zi;if(m === h.pc.Vi || m === h.pc.lm){g=(0,f.FUa)(this.ih.fNb);l=this.ih.uKb;m === h.pc.Vi && this.options.svb && this.ih.clear();m=g;Object.keys(l).length && (m=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[l],!1));return m;}};d.prototype.Qa=function(){var g;null === (g=this.ih) || void 0 === g?void 0:g.Qa();};return d;})();b.ax=r;},80849:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=void 0;c=a(70655);k=c.__importStar(a(67841));f=a(18026);h=a(76897);d=a(10945);g=a(18618);r=a(23563);m=a(47571);l=a(44724);n=a(24705);p=a(74005);q=a(50971);u=a(28035);a=(function(t){function v(w,y,x,A,z,B,C,D){var F;F=t.call(this,w) || this;F.X=y;F.S=x;F.Uo=A;F.ds=z;F.Af=B;F.T4=D;F.oe=new n.tI(F.S);F.dA=F.S.error.bind(F.S);F.ys=F.S.warn.bind(F.S);F.Tu=F.S.trace.bind(F.S);F.WOa();F.Wo=null === C || void 0 === C?void 0:C.Tx(function(){return F.cYb();},"pruner");return F;}c.__extends(v,t);Object.defineProperties(v.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mediaType:{get:function(){return this.Af;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tb:{get:function(){return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jw:{get:function(){return 0 < this.Rta;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qva:{get:function(){return !this.AQ;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Rta:{get:function(){return this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{WC:{get:function(){return this.Ka.WC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{WJ:{get:function(){return this.oe.sy;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kl:{get:function(){return this.Ka.complete.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cS:{get:function(){return this.Ka.fTa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$ia:{get:function(){return this.Ka.Uvb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{OC:{get:function(){return this.Ka.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{f9:{get:function(){return void 0 === this.Ka.Bb?0:this.Ka.Mb.G - this.Ka.Bb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{M2:{get:function(){return {xa:this.Ka.N2,G:this.Ka.empty?0:Math.max(this.Ka.fTa - this.Ka.Bb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{N2:{get:function(){return this.Ka.N2;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{CA:{get:function(){return this.Ka.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PTb:{get:function(){return this.enb();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Cna:{get:function(){return this.Ka.length > this.Ka.WC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gk:{get:function(){return this.Ka.gk;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{S1a:{get:function(){return this.UNa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{La:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});v.prototype.Pf=function(w){var x,A;function y(){return A.forEach(function(z){z.abort();z.$e();});}A=this.Ka;w?setTimeout(y,1):y();this.WOa();this.oe.SK();null === (x=this.Wo) || void 0 === x?void 0:x.Qa();};v.prototype.reset=function(){this.Pf();this.oe.W8a();};v.prototype.close=function(){this.oe.SK();};v.prototype.W9a=function(){this.cNa=!0;};v.prototype.wZa=function(){return {endMarked:void 0 !== this.oe.count,queueCount:this.oe.count,isComplete:this.oe.sy,itemCount:this.oe.gTa,continuousEndPts:this.oe.Hr().reduce(function(w,y){return y && !y.done && (y=y.value,100 > Math.abs(y.gL.G - w) || -1 === w)?y.Qla.G:w;},-1),sentinelItemCount:this.oe.Hr().filter(function(w){return w && w.done;}).length,processedCount:this.oe.BAb,rc:this.Rta};};v.prototype.WTa=function(w,y,x){var A,z,B,C;A=this.X;(0,l.assert)(!w.header);if(x.ha){B=this.ds;C=B.RZa();B=B.mz;this.X.Qab?x.mediaType === m.v.Z && void 0 !== C && (z=new d.Baa(x,A,y.track,w,this.Ka,this.tb.u,this.S,C,B)):z=new g.Iya(x,A,y.track,w,this.Ka,this.tb.u,this.S,C,B);}z || (z=f.rY.create(x,A,y.track,w,this.Ka,this.tb.u,!1,this.S,this.T4));this.av(z);return z;};v.prototype.av=function(w){var y,x;this.Ka.et(w);(null === (y=this.Wo) || void 0 === y?void 0:y.state) === q.Ik.complete && (null === (x=this.Wo) || void 0 === x?void 0:x.Vf());this.nmb();w.Dj && (this.AQ=!1);};v.prototype.tB=function(){return this.oe.$la();};v.prototype.pSa=function(){this.Pu === this.Ka.length && this.cNa && this.oe.SK();};v.prototype.Ybb=function(){var w,y,x;w=this;Promise.resolve();if(this.ds.S5(this.Af) && this.Pu !== this.Ka.length){for(var A=this.X.CPb,z=0,B=[];this.Pu < this.Ka.length;){if(x=this.Ka.get(this.Pu)){if(this.Ka.fXa && this.Ka.fXa.lb < x.lb)break;if(!x.mk())break;B.push(x);++z;k.rb(this.ysa) || (this.ysa=null === (y=x.Bb) || void 0 === y?void 0:y.G);}++this.Pu;if(!k.mi(A) && z >= A)break;}B.length && (void 0 !== this.oe.count && (this.dA("tryToAtach() but requestQueue has sentinel:",this.oe.count),this.oe.W8a()),Promise.all(B.map(function(C){return w.oe.enqueue(C).then(function(){return w.BJb(C);});})),this.pSa());}};v.prototype.BJb=function(w){this.UNa=w;};v.prototype.kR=function(w){var y,x,A;y=this;x=[];if(0 !== this.Ka.WC){A=this.Ka.l6a;this.Ka.R3b.Kva(function(z){var B;if(z.Dj || A > (null === (B=z.Bb) || void 0 === B?void 0:B.G))return !0;z.ey && (y.AQ=!1);if(!y.Dea(z))return (y.ys("request abort failed:",z.toString()),!0);x.unshift(z);});this.KOa();x.length && "function" === typeof w && w(x);}};v.prototype.cYb=function(){var w,y,x,A,z,B;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Ka.length)return [3,3];w=this.Ka.get(0);y=p.N.Na(null !== (B=null === (z=this.X.GN) || void 0 === z?void 0:z.G) && void 0 !== B?B:0);x=y.add(w.Mb);return [4,q.Pg.Yt(x)];case 2:C.Ra();if(1 >= this.Ka.complete.length && !w.Dj)return [3,3];(0,l.assert)(w === this.Ka.get(0));w.rd || this.Dea(w);A=this.Ka.splice(0,1);0 < this.Pu && this.Pu--;this.Uo.fra(A);A=void 0;return [3,1];case 3:return [2];}});};v.prototype.oEb=function(w){if(this.Ka.length && (w=this.Ka.OWa(w)))return w;};v.prototype.Spb=function(w){var y,x,A,z,B,C,D;C=w.Za;w=this.Ka.pla(w.Ma.G);D=this.Ka.get(w);(0,l.assert)(D && void 0 !== (null === (y=D.Ma) || void 0 === y?void 0:y.G) && void 0 !== (null === (x=D.Za) || void 0 === x?void 0:x.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (A=D.Za) || void 0 === A?0:A.equal(C))return (this.DPa(w),[null === (z=D.Za) || void 0 === z?void 0:z.G,D.index + 1]);this.DPa(w - 1);return [null === (B=D.Ma) || void 0 === B?void 0:B.G,D.index];};v.prototype.qn=function(w){var y,x;y=this;x=[];this.Ka.forEach(function(A){var z;z=A.cxa(w);1 === z?x.push(A):2 === z && y.tb.pa.uf("swapUrl failure");});return x;};v.prototype.nC=function(w){w.jt && w.mk() && this.Ybb();this.eL(w);};v.prototype.Xl=function(w){var y,x;w.jt && !w.rd && this.Ybb();(null === (y=this.Wo) || void 0 === y?void 0:y.state) === q.Ik.complete && (null === (x=this.Wo) || void 0 === x?void 0:x.Vf());this.lB(w);};v.prototype.enb=function(){return this.Ka.gk + this.Ka.WC;};v.prototype.WOa=function(){var w,y,x;y=void 0 !== this.Ka && 0 < this.Ka.length;x=this.Ka;this.Ka=new h.Dya(this.S,this);this.Pu=0;this.oe.clear();this.UNa=void 0;this.ysa=null;null === (w=this.Wo) || void 0 === w?void 0:w.Vf();this.cNa=this.AQ=!1;y && (w=x.map(function(A){return A;}),this.Uo.fra(w));};v.prototype.nmb=function(){this.AQ || (this.AQ=!0);};v.prototype.DPa=function(w){var y;for(w+=1;w < this.Rta;w++){y=this.Ka.get(w);(0,l.assert)(y,"expected request to exist");this.oe.remove(y);y.aborted || (this.Dea(y),y.$e());}this.KOa();};v.prototype.Dea=function(w){return w.abort()?!0:!1;};v.prototype.KOa=function(){var w,y,x,A;w=this;if(0 !== this.Ka.length){x=[];A=0;this.Ka.lWb(function(z,B){B < w.Pu && ++A;x.push(z);});this.Pu-=A;null === (y=this.Wo) || void 0 === y?void 0:y.Vf();this.Uo.fra(x);}};return v=c.__decorate([u.DF],v);})(r.Ez);b.vKa=a;},59708:function(r,b,a){var c,k,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wKa=void 0;c=a(70655);k=a(44724);f=c.__importDefault(a(29736));h=a(74573);d=a(74005);r=(function(){var J6B;J6B=2;for(;J6B !== 13;){switch(J6B){case 2:Object.defineProperties(g.prototype,{JRb:{get:function(){var R85;R85=2;for(;R85 !== 1;){switch(R85){case 2:return this.gE;break;}}},enumerable:!1,configurable:!0}});g.prototype.zj=function(){var X0F,l,m;X0F=2;for(;X0F !== 9;){switch(X0F){case 5:this.Bua=!0;l=f.default.time.Da();return Promise.resolve().then(function(){var G1z;G1z=2;for(;G1z !== 5;){switch(G1z){case 2:m.Bua=!1;m.uSa(l);G1z=5;break;}}});break;case 6:X0F=~this.Bua?4:2;break;case 1:X0F=!this.Bua?5:9;break;case 2:m=this;X0F=1;break;}}};g.prototype.av=function(m){var I6S,l,n;I6S=2;for(;I6S !== 3;){switch(I6S){case 2:var G93="Mo";G93+="re than maxAllow";G93+="edO";G93+="utstandingRe";G93+="quests are outstanding";this.Fp.As({mediaType:m.mediaType,contentStartPts:null === (l=m.Ma) || void 0 === l?void 0:l.G,contentEndPts:null === (n=m.Za) || void 0 === n?void 0:n.G});this.gE++;(0,k.assert)(this.gE <= this.config.N6,G93);I6S=3;break;}}};g.prototype.Vp=function(m){var F2B,l,n;F2B=2;for(;F2B !== 9;){switch(F2B){case 2:var G0S="removeRe";G0S+="que";G0S+="st";var J61="Received remove request when there ar";J61+="e n";J61+="o r";J61+="equests outstanding";this.Fp.As({mediaType:m.mediaType,contentStartPts:null === (l=m.Ma) || void 0 === l?void 0:l.G,contentEndPts:null === (n=m.Za) || void 0 === n?void 0:n.G});this.gE--;(0,k.assert)(0 <= this.gE,J61);this.zj(G0S);F2B=9;break;}}};J6B=3;break;case 3:var p5m="V";p5m+="p";var g3w="removeR";g3w+="eq";g3w+="u";g3w+="est";var j6q="a";j6q+="v";var i9r="a";i9r+="d";i9r+="dRequest";var K7c="z";K7c+="j";var g4S="ch";g4S+="e";g4S+="ckR";g4S+="equest";g4S+="Opportunity";g.prototype.uSa=function(m){var z4_,l,n,p;z4_=2;for(;z4_ !== 9;){switch(z4_){case 3:var x$8="reque";x$8+="stOpportunityRun";x$8+="ner";x$8+="Complete";this.Fp.gQa(x$8,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);z4_=9;break;case 4:p++;z4_=5;break;case 5:z4_=this.gE < l && this.i6()?4:3;break;case 1:this.N8a.push(n);z4_=5;break;case 2:(l=this.config.N6,n=f.default.time.Da() - m,p=0);z4_=1;break;}}};c.__decorate([(0,h.Sb)({methodName:g4S,ik:!0,zq:!0})],g.prototype,K7c,null);c.__decorate([(0,h.Sb)({methodName:i9r,ik:!0})],g.prototype,j6q,null);c.__decorate([(0,h.Sb)({methodName:g3w,ik:!0})],g.prototype,p5m,null);J6B=6;break;case 6:var e1d="u";e1d+="S";e1d+="a";var D_u="ch";D_u+="e";D_u+="ckRequestOppor";D_u+="tuni";D_u+="tyRunner";c.__decorate([(0,h.Sb)({methodName:D_u,ik:!0})],g.prototype,e1d,null);return g;break;}}function g(m,l){var c_Z,n;c_Z=2;for(;c_Z !== 14;){switch(c_Z){case 3:var W3e="RequestP";W3e+="a";W3e+="c";W3e+="er";var F$p="1";F$p+="S";F$p+="IYbZ";F$p+="rNJC";F$p+="p9";var M4P="m";M4P+="ed";M4P+="ia|ase";M4P+="js";var Y1Q="AS";Y1Q+="EJS_R";Y1Q+="EQUE";Y1Q+="ST_PACER";this.console=new f.default.Console(Y1Q,M4P);this.Bua=!1;F$p;this.Fp=new h.Au({en:this,source:W3e,kQa:function(){var J$h;J$h=2;for(;J$h !== 1;){switch(J$h){case 2:return {numOutstanding:n.gE};break;case 4:return {numOutstanding:n.gE};break;}}},ko:10});c_Z=6;break;case 6:this.N8a=new d.yu();c_Z=14;break;case 2:n=this;this.i6=m;this.config=l;this.gE=0;c_Z=3;break;}}}})();b.wKa=r;},22782:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oLa=void 0;c=a(71502);k=a(47571);f=a(70950);r=(function(){function h(d,g){this.fl=d;this.console=g;this.V0=Infinity;this.jNa=0;this.ypb=!1;}h.prototype.fEb=function(d,g,m,l,n){var p;if(this.fl){p=d.La;if(p){if(m === k.v.Z)(m=p.dy(Math.ceil(this.fl * d.ca.Sy),void 0,!0),p=d.Xn(m),d=p.Nd.Ui(d.ca),p.Bi({start:0,end:this.fl - m * d}),this.V0=this.fl);else {void 0 !== l.cab?(g=l.cab,m=g * d.ca.G):(m=(0,c.Hma)(l,n) + Math.ceil(l.tsb * d.ca.Sy),f.N.Na(m).Ui(d.ca),m=g + m,g=Math.ceil(m / d.ca.Sy));m=p.dy(m,void 0,!0);for(n=l=0;n < m;++n){p=d.Xn(n);l+=p.Nd.Ui(d.ca);}l=g - l;p=d.Xn(m);p.Bi({end:l});this.V0=g;}p.h3a();return p;}}};h.prototype.$Jb=function(){return this.jNa >= this.V0;};h.prototype.gLb=function(d,g){this.vv(d,g);};h.prototype.PCb=function(d,g,m){d.Zec=this.vv(g,m);};h.prototype.vv=function(d,g){return d.Nd.Ui(g.ca);};h.prototype.A2=function(){if(!this.$Jb())return !1;if(this.ypb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.jNa," >= ").concat(this.V0));return !0;};return h;})();b.oLa=r;},74145:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IQa=void 0;b.IQa=function(a,c,k){var f,h;f=!0;k.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(m){return c >= m.min && c <= m.max;});!f && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (h=m.disallowedBy,!0);});}});return {inRange:f,w3:h};};},73729:function(r,b,a){var k;function c(f,h){h=Math.max(f,h);return isNaN(h)?f || -Infinity:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Cya=void 0;k=a(47571);r=(function(){function f(h){this.config=h;this.uta=0;this.state=k.Uc.cs;this.n4a=c(h.zqa,h.i7);this.Gqa=c(h.FG,h.$U);}f.prototype.kk=function(h,d){var g;g=this;if(d !== this.state){this.state=d;if(d === k.Uc.Pe || d === k.Uc.X_)return h;d === k.Uc.vl && this.JWb();}return h.filter(function(m){return !(void 0 !== m.zb && m.zb < g.Gqa || (void 0 === m.zb || 0 > g.Gqa) && m.bitrate < g.n4a);});};f.prototype.JWb=function(){++this.uta;this.Gqa=c(this.config.FG,this.config.$U - this.config.mQb * this.uta);this.n4a=this.config.zqa || -Infinity;};return f;})();b.Cya=r;},62999:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oya=void 0;c=a(4145);r=(function(){function k(f){this.config=f;}k.prototype.W_b=function(f){return f % 100 + 1 <= this.config.fsa;};k.prototype.kk=function(f){var h,d,g,m,l,n,p,q,u,t,v;p=Number(null === (h=f[0]) || void 0 === h?void 0:h.O);if(!(this.config.L3 && this.W_b(p) && 0 < this.config.k9.length))return f;h=f.length;q=null !== (d=f[h - 1].j9) && void 0 !== d?d:0;if(d=(0,c.qc)(this.config.k9,function(w){return w.afc >= q && w.Z8a <= q;})){for(p=0;p < h;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.j9) && void 0 !== g?g:0) < d.Z8a || (null !== (m=u.j9) && void 0 !== m?m:0) < d.Z8a)){v=null !== (l=t.zb) && void 0 !== l?l:Infinity;u=null !== (n=u.zb) && void 0 !== n?n:Infinity;if(!(u < d.pec || u < d.oec && t.bitrate < d.maxBitrate || !v && t.bitrate < d.Rdc))break;}}return f.slice(0,p);}return f;};return k;})();b.Oya=r;},46967:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;r=(function(){function a(c){this.config=c;}a.prototype.kk=function(c){var k;k=this.config;return c.filter(function(f){return !(void 0 !== f.zb && (f.zb < k.FG || f.zb > k.m3a) || (void 0 === f.zb || 0 >= k.FG) && f.bitrate < k.zqa || (void 0 === f.zb || Infinity === k.m3a) && f.bitrate > k.oPb);});};return a;})();b.Pya=r;},45866:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tK=b.sK=void 0;c=a(39481);k=a(71820);b.sK=function(f,h){h && (null === f || void 0 === f?0:f.U_a) && (h=new k.zu(h).or(k.DD));return new k.zu(k.Kaa).and(null !== h && void 0 !== h?h:k.DD).or(k.wca,c.$I.xF).or(k.xca,c.$I.xF);};b.tK=function(f,h){h && f.U_a && (h=new k.zu(h).or(k.DD));return new k.zu(k.Kaa).and(new k.Qya(f)).and(new k.Pya(f)).and(new k.Cya(f)).and(new k.Sya(f)).and(f.L3?new k.Oya(f):k.DD).and(null !== h && void 0 !== h?h:k.DD).or(k.wca,c.$I.xF).or(k.xca,c.$I.xF);};},79985:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;c=a(47571);r=(function(){function k(f){this.config=f;}k.prototype.kk=function(f,h){return this.config.m$ || h !== c.Uc.um?f.filter(function(d){return d.sv;}):f;};return k;})();b.Qya=r;},62256:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eQ=void 0;r=a(70655);c=a(95994);k=r.__importDefault(a(29736));f=a(74145);a=(function(){function h(d){this.console=d;this.HUa=[];this.wRa={};this.aVa=!1;}h.prototype.O9=function(d,g){this.HUa=d;void 0 !== g?this.wRa[g]=d:this.aVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.aVa=!0);};h.prototype.kk=function(d){var g,m,l,n,p;g=this;if(0 === d.length)return d;n=d[0].J;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=k.default.Gs) || void 0 === m?void 0:m.call(k.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (l=this.wRa[n]) && void 0 !== l?l:this.HUa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,f.IQa)(q.profile,q.bitrate,p,g.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return h;})();b.eQ=a;},84326:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Sya=void 0;r=(function(){function a(c){var k;k=this;c.RN && c.RN.enabled && c.RN.profiles && c.RN.profiles.length && "keepLowest" === c.RN.action && (this.M1a={},c.RN.profiles.forEach(function(f){return k.M1a[f]=!0;}));}a.prototype.kk=function(c){var k,f;k={};f=this.M1a;return void 0 === f?c:c.filter(function(h){return !f[h.profile] || (k[h.profile]?!1:k[h.profile]=!0);});};return a;})();b.Sya=r;},95459:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wca=b.Kaa=void 0;c=a(4145);b.Kaa={kk:function(k){return k.filter(function(f){return f.Yq && !f.zB;});}};b.wca={kk:function(k){return (k=(0,c.qc)(k,function(f){return !!f.Yq && !f.zB;}))?[k]:[];}};},71820:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(20136),b);r.__exportStar(a(79985),b);r.__exportStar(a(62256),b);r.__exportStar(a(84326),b);r.__exportStar(a(46967),b);r.__exportStar(a(73729),b);r.__exportStar(a(62999),b);r.__exportStar(a(95459),b);r.__exportStar(a(17262),b);r.__exportStar(a(39481),b);r.__exportStar(a(61915),b);r.__exportStar(a(45866),b);r.__exportStar(a(96649),b);},61915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xca=void 0;b.xca={kk:function(a){return a.length?[a[0]]:[];}};},96649:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.AP=void 0;c=a(95994);k=a(91854);r=(function(){function f(h,d){this.console=h;this.config=d;this.hxa=!1;}f.prototype.kk=function(h,d,g,m){void 0 === g && (g=k.N.Ia);void 0 === m && (m=!1);c.K && this.console.trace("Filtering streams for fastplay",{hxa:this.hxa,Gq:g.G,Adc:m});if(this.hxa || g.G >= this.config.tPb || !1 === m){d=h.filter(this.vBb);if(d.length)return d;c.K && this.console.trace("No drm streams to return");}d=h.filter(this.vvb);if(d.length)return d;c.K && this.console.trace("No clear streams to return");return h;};f.prototype.vBb=function(h){return h.ki;};f.prototype.vvb=function(h){return !h.ki;};return f;})();b.AP=r;},17262:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DD=void 0;b.DD={kk:function(a){return a;}};},39481:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zu=b.$I=void 0;c=a(17262);(function(f){f[f.XM=0]="primary";f[f.xF=1]="fallback";})(k=b.$I || (b.$I={}));r=(function(){function f(h,d){var g,m;void 0 === d && (d=!1);m=this;this.rub=d;this.filters=(g={},g[k.XM]=[],g[k.xF]=[],g);Array.isArray(h)?h.forEach(function(l){return m.and(l,k.XM);}):this.and(h);}f.prototype.and=function(h,d){void 0 === d && (d=k.XM);h !== c.DD && this.filters[d].push({filter:h,rTa:!0});return this;};f.prototype.or=function(h,d){void 0 === d && (d=k.XM);this.filters[d].push({filter:h,rTa:!1});return this;};f.prototype.filter=function(h){var d;d=this;[k.XM,k.xF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(m){return h(g,m.filter);});});};f.prototype.kk=function(h,d,g,m){var l;l=this;return [k.XM,k.xF].reduce(function(n,p){return l.filters[p].reduce(function(q,u){u.rTa?q=u.filter.kk(q,d,g,m):0 === q.length && (q=u.filter.kk(h,d,g,m));return q;},n);},h);};return f;})();b.zu=r;},20136:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30067:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zLa=b.xlb=void 0;c=a(70655);k=a(44724);r=c.__importDefault(a(29736));f=a(52190);a=a(94475);h=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}g=(function(m){function l(n,p){p=m.call(this,n.Bo,p) || this;p.tE=n;return p;}c.__extends(l,m);Object.defineProperties(l.prototype,{xa:{get:function(){return this.tE.S$a(this.ce);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{offset:{get:function(){return this.tE.wi(this.ce);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jqa:{get:function(){return this.tE.uM && this.tE.uM[this.ce];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wj:{get:function(){return this.tE.NFb(this.ce);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zb:{get:function(){return this.tE.uw && this.tE.uw[this.ce];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qha:{get:function(){return 8 * this.xa / (1E3 * this.cB / this.T);},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.lb,contentEndTicks:this.nb,durationTicks:this.cB,timescale:this.T,startPts:this.Ma.G,endPts:this.Za.G,duration:this.Nd.G,additionalSAPs:this.wj};};return l;})(a.bMa);b.xlb=g;r=(function(){function m(l,n,p,q,u,t,v){this.FJ=128;this.Gc=n;this.Ib=p.offset;this.Am=p.sizes;this.k1=l;this.kJ=this.nQ=this.Jh=this.ap=this.hga=void 0;this.Vnb=q;this.Fea=u && u.wi;this.sga=t;this.iA=Math.min(this.Gc.length,this.Am.length);l=this.$tb();this.Knb=l.maxBitrate;this.Lnb=l.ko;this.Bo.qq.length !== this.Am.length && h.trace("Mis-matched stream duration (" + this.Bo.qq.length + "," + this.Am.length + ") for movie id " + v);this.Bo.I1 && !this.Fea && h.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Gc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.iA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dr:{get:function(){return this.Gc.Dr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kka:{get:function(){return this.Gc.Kka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ab:{get:function(){return this.Gc.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nf:{get:function(){return this.Gc.nf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dqa:{get:function(){return this.Gc.dqa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gv:{get:function(){return this.Knb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ko:{get:function(){return this.Lnb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{T:{get:function(){return this.Gc.T;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dk:{get:function(){return this.ap || this.Lea();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uM:{get:function(){return this.Vnb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zga:{get:function(){return this.Fea;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uw:{get:function(){return this.sga;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bo:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Br:{get:function(){return this.hga || this.wmb();},enumerable:!1,configurable:!0}});m.prototype.S$a=function(l){if(this.Am)return this.Am[l];h.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.fm=function(l){return this.Gc.fm(l);};m.prototype.IS=function(l){return this.Gc.fm(l) + this.Gc.mf(l);};m.prototype.wi=function(l){var n,p,q;if(this.nQ !== l || void 0 === this.kJ){if(0 === l)return this.Ib;if(this.nQ === l - 1 && void 0 !== this.kJ)(this.kJ+=this.Am[this.nQ],++this.nQ);else {n=this.Jh || this.kmb();p=Math.floor(l / this.FJ);q=p * this.FJ;for(n=n[p];q < l;++q){n+=this.Am[q];}this.nQ=l;this.kJ=n;}}return this.kJ;};m.prototype.mf=function(l){return this.Gc.mf(l);};m.prototype.get=function(l){return new g(this,l);};m.prototype.NFb=function(l){var n,p,q,u,t;(0,k.assert)(0 <= l);n=this.Bo.I1;p=this.Bo.lQa;q=this.Fea;if(!q || !n || !p || l >= n.length)return [];u=[];t=l === n.length - 1?p.length:n[l + 1];for(n=n[l];n < t;++n){u.push({Mj:p[n],Me:this.fm(l) + this.ca.Jv(p[n]).G,offset:q[n]});}return u;};m.prototype.dy=function(l,n,p){return this.Gc.dy(l,n,p);};m.prototype.ola=function(l,n,p){return this.Gc.ola(l,n,p);};m.prototype.sja=function(l,n){return this.Gc.sja(l,n);};m.prototype.Ytb=function(l,n,p,q,u){var t,v,w,y,x,A,z,B,C;t=!0;v=0;w=this.Gc.qq;y=this.Am;l=Math.floor(l * this.T / 1E3);x=Math.floor(p * this.T / 1E3);A=0;z=0;B=0;if(this.Gc.Qwa && this.Gc.Pwa)for(v=this.Gc.Qwa;v <= this.Gc.Pwa;++v){A+=w[v];z+=y[v];}if(z > n)t=!1;else for(;v < this.length && (!u || v < u);){C=y[v];p=w[v];if(z + C > n){for(;1 < v - B && z + C > n && (A - w[B] >= x || z - y[B] > q);){A-=w[B];z-=y[B];++B;}if(A < l || z + C > n){t=!1;this.Gc.Qwa=B;this.Gc.Pwa=v;break;}}A+=p;z+=C;++v;}return t;};m.prototype.subarray=function(l,n){(0,k.assert)(void 0 === l || 0 <= l && l < this.length);(0,k.assert)(void 0 === n || n > l && n <= this.length);return new m(this.k1,this.Gc.subarray(l,n),{offset:this.wi(l),sizes:this.Am.subarray(l,n)},this.uM && this.uM.subarray(l,n),this.Zga && ({wi:this.Zga}),this.sga && this.sga.subarray(l,n));};m.prototype.forEach=function(l){for(var n=0;n < this.length;++n){l(this.get(n),n,this);}};m.prototype.map=function(l){for(var n=[],p=0;p < this.length;++p){n.push(l(this.get(p),p,this));}return n;};m.prototype.reduce=function(l,n){for(var p=0;p < this.length;++p){n=l(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;h.trace("StreamFragments: " + this.length);for(var l=0;l < this.length;++l){n=this.get(l);h.trace(("StreamFragments: ").concat(l,": [").concat(n.Ma.G,"-").concat(n.Za.G,"]") + (" @ ").concat(n.offset,", ").concat(n.xa," bytes"));}};m.prototype.$tb=function(){var l,n,p,q,u,t,y;l=0;n=0;p=this.Gc.t3a;q=this.Gc.u3a;u=this.Gc.qq;t=this.Am;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,w=this.length;v < w;++v){y=t[v];y > n && (n=y,q=v);y/=u[v];y > l && (l=y,p=v);}void 0 === this.Gc.t3a && (this.Gc.t3a=p);void 0 === this.Gc.u3a && (this.Gc.u3a=q);}else (l=t[p] / u[p],n=t[q]);return {maxBitrate:Math.floor(l * this.T / 125),ko:n};};m.prototype.Lea=function(){for(var l=0,n=0;n < this.length;++n){l+=this.Am[n];}return this.ap=l;};m.prototype.wmb=function(){return this.hga=new f.dea(this.Gc.qq,this.Am,this.Gc.T);};m.prototype.kmb=function(){if(!this.Jh){for(var l=d?new Float64Array(Math.ceil(this.length / this.FJ)):Array(Math.ceil(this.length / this.FJ)),n=this.Ib,p=0;p < l.length;++p){l[p]=n;for(var q=0;q < this.FJ;++q){n+=this.Am[p * this.FJ + q];}}this.Jh=l;}return this.Jh;};return m;})();b.zLa=r;(0,a.Dv)(r.prototype.fm);(0,a.Dv)(r.prototype.IS);(0,a.Dv)(r.prototype.mf);(0,a.Dv)(r.prototype.wi);(0,a.Dv)(r.prototype.S$a);(0,a.Dv)(r.prototype.get);},40572:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kea=void 0;c=a(74005);r=(function(){function k(f){this.ox=f;this.eXa=new c.Lz();}Object.defineProperties(k.prototype,{V1a:{get:function(){var f,h;return null !== (f=this.pKb) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.V1a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{t6:{get:function(){var f,h;return null !== (f=this.rRb) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.t6;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fo:{get:function(){var f,h;return null !== (f=this.gg) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b2a:{get:function(){var f,h,d,g;return null !== (f=this.Th) && void 0 !== f?f:(null === (h=this.track) || void 0 === h?0:h.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (g=this.parent) || void 0 === g?void 0:g.Th:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{d2a:{get:function(){var f,h;return null !== (f=this.l1b) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.d2a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ipa:{get:function(){var f,h;return null !== (f=this.m1b) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.ipa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{track:{get:function(){return this.yZb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ddb:{get:function(){return this.eXa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{parent:{get:function(){var f;return null === (f=this.ox) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});k.prototype.Qa=function(){this.ox=void 0;};k.prototype.h$a=function(f){this.pKb=f;};k.prototype.n_b=function(f){this.rRb=f;};k.prototype.t$a=function(f){this.gg=f;this.eXa.resolve();};k.prototype.QW=function(f){this.Th=f;};k.prototype.z_b=function(f){this.l1b=f;};k.prototype.u$a=function(f){this.m1b=f;};k.prototype.F_b=function(f){this.yZb=f;};return k;})();b.kea=r;},36886:function(r,b,a){(function(){var q__,c;q__=2;for(;q__ !== 8;){switch(q__){case 9:var Y$e="1SI";Y$e+="YbZ";Y$e+="rN";Y$e+="JCp9";Y$e;q__=8;break;case 1:a(54186);a(16955);c=a(47571).Uc;r.exports={checkBuffering:function(k,f,h,d,g,m){var E0E=R7xOY;var i1y,v,n,p,q,u,t,w;i1y=2;function l(y){var h$o;h$o=2;for(;h$o !== 5;){switch(h$o){case 2:y=d.La.ola(k.Gd + y,void 0,!0);return (t - k.mr) / (t + (y.offset + y.xa) - v);break;}}}for(;i1y !== 54;){switch(i1y){case 24:i1y=-1 === g?23:22;break;case 38:var B1J="n";B1J+="o";B1J+="re";B1J+="buf";B1J+="f";return {complete:!0,reason:B1J};break;case 8:i1y=f <= m.Opa && (0 < f || !m.ala)?7:6;break;case 26:return (f < p && (q=Math.min(u,Math.max(m.gW * (p / f - 1),q))),{complete:!1,oN:q,progress:0});break;case 11:i1y=!f?10:20;break;case 3:i1y=n >= u?9:8;break;case 44:p=d.La.get(m);E0E.n0y(12);var K_G=E0E.G5G(6,52,3,9,4);w=K_G * w * h / f - p.ab - q;i1y=42;break;case 39:--m;i1y=28;break;case 41:return (q=Math.min(u,n + w),{complete:!1,oN:q,progress:l(q)});break;case 22:v=d.La.wi(g);i1y=21;break;case 6:E0E.v$C(13);var G2e=E0E.G5G(9,18,1);q=m.hr * (p?m.tta:G2e);!d.ha && m.rCb && d.Yb && d.Yb.el && d.Yb.el.Ea > m.Ipa && (q+=m.Xga + d.Yb.el.Ea * m.csa);g && !d.ha && (q+=g.mv * m.Yga);q=u?Math.min(u,q):q;i1y=11;break;case 35:i1y=f > p * m.Z3?34:33;break;case 42:i1y=0 < w?41:40;break;case 16:i1y=d.ha?15:27;break;case 2:(n=k.Km - k.Gd,p=f === c.vl);f=d.sb || 0;(q=0,u=m.jxa && !p?m.bC:m.hqa);u=Math.min(m.BG,u);i1y=3;break;case 25:g=d.La.dy(k.jl);i1y=24;break;case 20:t=0;k.La.forEach(function(y){var q8c;q8c=2;for(;q8c !== 1;){switch(q8c){case 2:t+=y.ab + y.duration > k.Gd?y.xa:0;q8c=1;break;}}});h=Math.max(h,1);p=h * d.bitrate;i1y=16;break;case 28:i1y=m > g?44:38;break;case 7:var P24="lo";P24+="w";P24+="Thr";P24+="o";P24+="ughput";return {complete:!1,Npa:!0,reason:P24};break;case 15:var M4g="lowLive";M4g+="B";M4g+="uff";M4g+="er";var V7e="liveBu";V7e+="f";V7e+="f";V7e+="er";V7e+="Level";return f > p && n > q?{complete:!0,reason:V7e}:{complete:!1,oN:q,sb:f,bitrate:p,reason:M4g};break;case 10:var G$9="not";G$9+="hroughp";G$9+="u";G$9+="t";return {complete:!1,oN:q,reason:G$9};break;case 9:var w7B="m";w7B+="a";w7B+="xsi";w7B+="z";w7B+="e";return {complete:!0,reason:w7B};break;case 37:0 < f && f < p && (q=Math.min(u,Math.max(m.gW * (p / f - 1),q)));return {complete:!1,oN:q,progress:l(q)};break;case 21:i1y=n >= q?35:37;break;case 40:w=p.offset;i1y=39;break;case 23:var a5C="out";a5C+="ofrang";a5C+="e";return {complete:!0,reason:a5C};break;case 33:q=d.La.mf(g);m=Math.min(g + Math.floor(m.gW / q),d.La.length - 1);w=d.La.wi(m);E0E.n0y(14);var a83=E0E.g6M(15,14,5,4,0);q=a83 * v * h / f - k.Gd;i1y=29;break;case 29:--m;i1y=28;break;case 27:i1y=!d.La || !d.La.length?26:25;break;case 34:var d6j="h";d6j+="ight";d6j+="p";return {complete:!0,reason:d6j};break;}}}};q__=9;break;case 2:a(67841);q__=1;break;}}})();},16955:function(r,b,a){var h,d;function c(g,m){return g && g.mG && (m || !1 !== g.sv);}function k(g,m,l){return !h.rb(g) || g < m?m:g > l?l:g;}function f(g){if(!(this instanceof f))return new f(g);this.Th=h.rb(g)?g:void 0;}h=a(67841);d=new (a(29736)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,m){if(!g)throw (g=m?" : " + m:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},SL:c,xla:function(g,m,l){var p,q,u,t;function n(v){var w;w=g[v];if(!w.mG || l && !l(w,v))return !1;t=v;return !0;}p=g.length;q=0;u=p;h.isArray(m) && (q=k(m[0],0,p),u=k(m[1],0,p),m=m[2]);m=k(m,q - 1,u);for(p=m - 1;p >= q;--p){if(n(p))return t;}for(p=m + 1;p < u;++p){if(n(p))return t;}return -1;},OQb:function(g,m){return Math.floor(g / (125 * m) * 1E3);},Htb:function(g,m){return Math.ceil(g / 1E3 * m * 125);},vdc:function(g,m){return !g.slice(m + 1).some(c);},An:f,qc:function(g,m){var l;return g.some(function(n,p,q){l=n;return m(n,p,q);})?l:void 0;},Bs:function(g,m){var l;return g.some(function(n,p,q){l=p;return m(n,p,q);})?l:-1;},oK:k};},1119:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(78069),b);},62405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jda=void 0;c=a(70655);r=(function(){function k(f,h,d){var g,m,l;this.Mp=f;"HYBRID" === f?this.EL=d:"CCSP" === f && (this.jz=null !== (g=h.jz) && void 0 !== g?g:0,this.Px=null !== (m=h.Px) && void 0 !== m?m:0,this.Zy=null !== (l=h.Zy) && void 0 !== l?l:0);}Object.defineProperties(k.prototype,{N7a:{get:function(){var f;return "HYBRID" === this.Mp?[null !== (f=this.EL.Ov) && void 0 !== f?f:0]:"CCSP" === this.Mp?[this.jz,this.Px,this.Zy]:[];},enumerable:!1,configurable:!0}});k.prototype.g4a=function(){return Math.min(this.jz,this.Px,this.Zy);};k.prototype.e6=function(){return this.N7a.some(function(f){return 0 < f;});};k.prototype.xua=function(f){return new k(this.Mp,{jz:f * this.jz,Px:f * this.Px,Zy:f * this.Zy});};k.prototype.$pa=function(f,h,d,g){var m;m=8 * f / Math.max(d - h,1);if(!this.e6())return !1;f=this.N7a.map(function(l){return Math.abs(m - l) / l;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return k;})();b.jda=r;},94713:function(r,b,a){var u,t,v;function c(w){return f(w.gg);}function k(w,y){var x,B,C;x=h(y.tXb,w.Bg,w.gg.Yb.confidence);if(0 === x.length)return 0;a:switch(y.wTb){case "implicit":y=q(y,w.gg);y=w.ME / y;break a;case "capacityPercentage":y=Math.max(w.qtb / w.ptb || 0,w.ME / y.BG);break a;default:y=0;}for(var A=-1,z=0;z < x.length;z++){if(x[z].r2 >= y){A=z;break;}}if(-1 === A)return d(w,x[x.length - 1].Uia);if(0 === A)return d(w,x[0].Uia);B=x[A - 1].r2;z=d(w,x[A - 1].Uia);C=x[A].r2;w=d(w,x[A].Uia);x=Math.min((y - B) / (C - B),1);return (1 - x) * z + x * w;}function f(w){var y,x;x=null === (y=null === w || void 0 === w?void 0:w.pa) || void 0 === y?void 0:y.hM;return x?x[w.mediaType] || 0:0;}function h(w,y,x){var z;function A(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}z=w.filter(function(B){return A(B.v8,y);});0 === z.length && (z=w.filter(function(B){return !B.v8 || 0 === B.v8.length;}));w=z.filter(function(B){return A(B.E4a,x);});0 === w.length && (w=z.filter(function(B){return !B.E4a || 0 === B.E4a.length;}));return w.sort(function(B,C){return B.r2 - C.r2;});}function d(w,y){var x,A,z,B;if(!y || "object" !== typeof y)return 0;x=w.gg;A=w.K4b;z=w.a3b;B={selectedFragmentBitrate:g(w.r4,x,w.df) * w.playbackRate,selectedPeakBitrate:(x.Gv || m(x) || 0) * w.playbackRate,upswitchPeakBitrate:(A.Gv || m(A) || 0) * w.playbackRate,maxPeakBitrate:(z.Gv || m(z) || 0) * w.playbackRate,selectedAverageBitrate:m(x) * w.playbackRate,upswitchAverageBitrate:m(A) * w.playbackRate,maxAverageBitrate:f(x) * w.playbackRate,bufferLevelMs:w.ME,observedThroughput:l(w.gg) || 0,averagetp:n(w.gg) || 0,stddevtp:p(w.gg) || 0};w=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},w);}function g(w,y,x){var A;return void 0 !== x && y.La?(void 0 === w?null === (A=y.La) || void 0 === A?void 0:A.get(x).Qha:w.AYa(y,x).Qha) || y.Gv || 0:y.Gv || 0;}function m(w){return (null === w || void 0 === w?void 0:w.bitrate) || 0;}function l(w){var y;w=w.Yb;return (null === (y=null === w || void 0 === w?void 0:w.sb) || void 0 === y?void 0:y.Ea) || 0;}function n(w){var y;w=w.Yb;return (null === (y=null === w || void 0 === w?void 0:w.Nm) || void 0 === y?void 0:y.$J) || 0;}function p(w){var y;w=w.Yb;return Math.sqrt(null === (y=null === w || void 0 === w?void 0:w.Nm) || void 0 === y?void 0:y.qO) || 0;}function q(w,y){var x,A;x=w.j2b;x=n(y) + x * p(y);y=y.sb || 0;A=0;0 < y && (A=x / y - 1);return w.vQb + w.i2b * Math.max(0,A);}Object.defineProperties(b,{__esModule:{value:!0}});b.gHb=b.XHb=b.nGb=b.GHa=void 0;r=a(70655).__importDefault(a(29736));u=a(47571);t=a(62405);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");v={maxStreamBitrate:c,"static":function(w,y){return y.oab;},none:function(){return 0;},regression:k,epsGreedy:function(w,y){return Math.min(k(w,y) || 0,l(w.gg));},"default":c};a=(function(){function w(y,x){var i8o;i8o=2;for(;i8o !== 7;){switch(i8o){case 8:var y0K="CC";y0K+="S";y0K+="P";this.Mp=y0K;i8o=7;break;case 9:i8o=y.I3 || y.H3?8:7;break;case 2:var T8n="d";T8n+="ef";T8n+="au";T8n+="lt";var G6R="1SIYbZ";G6R+="rNJCp";G6R+="9";this.X=y;G6R;this.algorithm=(v[x === u.v.ga?this.X.tTb:this.X.sTb] || v[T8n]).bind(this);i8o=4;break;case 3:var m2x="H";m2x+="Y";m2x+="B";m2x+="RID";this.Mp=m2x;i8o=7;break;case 4:i8o=y.K3?3:9;break;}}}var L58;L58=2;for(;L58 !== 9;){switch(L58){case 2:w.prototype.yXa=function(y,x){var u7o,A,z,B;u7o=2;for(;u7o !== 6;){switch(u7o){case 5:var O27="H";O27+="Y";O27+="BR";O27+="ID";u7o=O27 === this.Mp?4:7;break;case 2:z=this.X.G2;x=null === (A=x.POb) || void 0 === A?void 0:A.Gv;u7o=5;break;case 9:B=new t.jda(this.Mp,void 0,{GKb:1,Ov:A,ria:Number(this.X.ria),QPb:this.X.FPb,Sta:Number(this.X.Sta)});u7o=8;break;case 8:return B;break;case 4:A=y;this.X.G2 && (A=this.H4(y,z.nta[0],x));u7o=9;break;case 7:var U_y="CC";U_y+="S";U_y+="P";U_y === this.Mp && (B=new t.jda(this.Mp,z?{jz:this.H4(y,z.nta[0],x),Px:this.H4(y,z.nta[1],x),Zy:this.H4(y,z.nta[2],x)}:{jz:0,Px:0,Zy:0},void 0));u7o=8;break;}}};w.prototype.bIb=function(y){var G8q,x,A;G8q=2;for(;G8q !== 5;){switch(G8q){case 2:var x48="s";x48+="t";x48+="at";x48+="i";x48+="c";var E8s="CC";E8s+="S";E8s+="P";var G_C="H";G_C+="YBRI";G_C+="D";A=null === (x=y.gg) || void 0 === x?void 0:x.mediaType;return G_C !== this.Mp || this.X.$Bb?E8s === this.Mp && (A === u.v.ga && !this.X.YBb || A === u.v.Z && !this.X.ZBb)?0:x48 === this.X.uTb?this.X.oab:f(y.gg):0;break;}}};w.prototype.H4=function(y,x,A){var S8h;S8h=2;for(;S8h !== 3;){switch(S8h){case 2:S8h=!x?1:5;break;case 7:return 5;break;case 8:S8h=+x?9:6;break;case 5:R7xOY.v$C(15);y=Math.ceil(R7xOY.G5G(x,y));return y < (this.X.G2.Ldc || 0) * (A || 0)?0:y;break;case 1:return 0;break;}}};w.prototype.cIb=function(y){var L7z,x,A,z;L7z=2;for(;L7z !== 7;){switch(L7z){case 9:x=y.qo?this.algorithm(y,this.X):this.bIb(y);return this.yXa(x,y);break;case 3:return x;break;case 4:L7z=!this.Mp || !z || !A || (z=this.X.P3b) && y.df && 0 === y.df % z || y.ME < A.eC?3:9;break;case 2:(A=null === (x=y.gg) || void 0 === x?void 0:x.mediaType,z=this.X.K3 || A === u.v.ga && this.X.H3 || A === u.v.Z && this.X.I3);x=this.yXa(0,y);A=this.X.G2;L7z=4;break;}}};return w;break;}}})();b.GHa=a;b.nGb=h;b.XHb=l;b.gHb=q;},30331:function(r,b,a){(function(){var j92,f,h,d,g,m,l,n,p,q,u;j92=2;function c(t,v){var g6O,w;g6O=2;for(;g6O !== 4;){switch(g6O){case 5:return w;break;case 2:w=void 0;v.some(function(y){var O54,x;O54=2;for(;O54 !== 4;){switch(O54){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (w=y.override);return x;break;}}});g6O=5;break;}}}function k(t,v,w,y){var f6H,z,B,C,D,F,G,E,x,A,J,K;f6H=2;for(;f6H !== 30;){switch(f6H){case 3:return new p(y);break;case 21:w=C;f6H=34;break;case 16:w=C;f6H=34;break;case 27:var o4l=" ";o4l+="k";o4l+="bps";var J$y=" ";J$y+="k";J$y+="b";J$y+="ps >";J$y+=" ";var b9u="throughpu";b9u+="t for";b9u+=" ";b9u+="aud";b9u+="io ";f6H=D < z.length - 1 && F > G.mcb * C * v.playbackRate && (g && d.log(b9u + F + J$y + G.mcb + "*" + C + o4l),C=v.buffer,E=C.Km - C.Gd,B.La && B.La.length)?26:34;break;case 9:w=y;t.$ab.some(function(N){var J92,L,H,M,R,I,O;J92=2;for(;J92 !== 9;){switch(J92){case 5:(L=(N=N.EV) && N.o7 || t.o7,H=N && N.eec || -Infinity,M=N && N.Qdc || Infinity,R=v.buffer.RE);J92=4;break;case 3:return O;break;case 2:(I=N.profiles,O=I && 0 <= I.indexOf(A));J92=1;break;case 1:J92=O?5:3;break;case 4:z=x.filter(function(Y){var c8D,ea;c8D=2;for(;c8D !== 5;){switch(c8D){case 2:ea=Y.bitrate;return ea >= H && ea <= M && 0 <= I.indexOf(Y.af) && ea * L / 8 < R;break;}}}).map(function(Y){var d9p;d9p=2;for(;d9p !== 1;){switch(d9p){case 4:return Y.Ot;break;case 2:return Y.Ot;break;}}});J92=3;break;case 6:J92=O?3:5;break;case 12:return O;break;}}});f6H=6;break;case 34:var d0l="kbp";d0l+="s, str";d0l+="eaming";d0l+="Pts :";var K_m=", audio ";K_m+="throu";K_m+="ghput:";var X6R=" k";X6R+="bps, p";X6R+="rof";X6R+="ile :";var m9o="s";m9o+="electAudio";m9o+="Stream: sele";m9o+="cted stream ";m9o+=":";var L7Q=" ";L7Q+="kb";L7Q+="p";L7Q+="s";var w6z=" kb";w6z+="ps,";w6z+=" to";w6z+=" ";var N5Y="switc";N5Y+="hing";N5Y+=" audio from ";var Q_7="d";Q_7+="o";Q_7+="wn";var Z2J="u";Z2J+="p";F=x[w];w !== y && g && d.log((w > y?Z2J:Q_7) + N5Y + B.bitrate + w6z + F.bitrate + L7Q);g && d.log(m9o + F.bitrate + X6R + A + K_m + F.sb + d0l + v.buffer.jl);return new p(w);break;case 13:f6H=0 > D?12:11;break;case 10:var Z26=" kbps,";Z26+=" try to downs";Z26+="witch";var X_M=" ";X_M+="kbps";X_M+=" ";X_M+="<";X_M+=" ";var r8I="t";r8I+="hroug";r8I+="hput for audi";r8I+="o ";(g && d.log(r8I + F + X_M + G.kVa + "*" + C + Z26),--D);f6H=20;break;case 22:f6H=(C=z[D],E=x[C],n(E) && F > G.mcb * E.bitrate * v.playbackRate)?21:23;break;case 14:(B=x[y],C=B.bitrate,D=z.indexOf(y),F=B.sb,G=t.zsb);f6H=13;break;case 20:f6H=0 <= D?19:34;break;case 23:f6H=++D < z.length?22:34;break;case 4:f6H=!(t && t.lX && 0 <= t.lX.indexOf(A))?3:9;break;case 12:w=0;f6H=34;break;case 19:C=z[D];E=x[C];f6H=17;break;case 2:var Q33="Must have";Q33+=" at least";Q33+=" one selected stream";x=w.first;m(!f.mi(y),Q33);A=x[y].af;f6H=4;break;case 35:var Z7D="m";Z7D+="s";var t1X=", b";t1X+="uf";t1X+="f";t1X+="er lev";t1X+="el = ";var p$s=", l";p$s+="astUp";p$s+="switchPts = ";var v5u="  Upsw";v5u+="itch not a";v5u+="llowed. las";v5u+="t";v5u+="DownswitchPts = ";g && d.log(v5u + K + p$s + J + t1X + E + Z7D);f6H=34;break;case 17:f6H=n(E) && (0 == D || E.bitrate * v.playbackRate * G.kVa < F)?16:15;break;case 25:f6H=v.OB && E > G.zy && (void 0 === K || Number(J) > K || C.jl - K > G.FU)?24:35;break;case 6:f6H=z && 1 < z.length?14:34;break;case 24:var J$n=", streamingP";J$n+="ts ";J$n+="=";J$n+=" ";var D9o=", ";D9o+="l";D9o+="astUpsw";D9o+="itchPts = ";var x0d="  Up";x0d+="switc";x0d+="h allowed. lastD";x0d+="ownswitchPts = ";g && d.log(x0d + K + D9o + J + J$n + C.jl);f6H=23;break;case 26:(J=this.lpa,K=this.XL);f6H=25;break;case 15:D--;f6H=20;break;case 11:f6H=D && F < G.kVa * C * v.playbackRate?10:27;break;}}}for(;j92 !== 4;){switch(j92){case 2:var C4r="1";C4r+="SI";C4r+="Y";C4r+="bZr";C4r+="NJCp9";(f=a(67841),h=a(16955),d=h.console,g=h.debug,m=h.assert,l=a(6328),n=h.SL,p=h.An,q=a(13687),u=a(47571).Db);r.exports={STARTING:function(t,v,w,y){var y4g,x,A,z;y4g=2;for(;y4g !== 7;){switch(y4g){case 4:var m7W=" kbps, pr";m7W+="ofi";m7W+="le :";var O3I="selectAudioStreamStarting: selected stre";O3I+="am ";O3I+=":";t=q[u[u.Hk]](x,v,w,y);A=A[t.Th];g && d.log(O3I + A.bitrate + m7W + A.af);return t;break;case 2:(x=t,A=w.first,z=A[y || 0].af);y4g=1;break;case 1:y4g=(z=t && t.lX && 0 <= t.lX.indexOf(z)?c(z,t.$ab):c(z,t.wsb))?5:4;break;case 5:var m$g="se";m$g+="lectAudioStreamStartin";m$g+="g: ov";m$g+="erriding config with ";(x={minInitAudioBitrate:t.bV,minHCInitAudioBitrate:t.m7,maxInitAudioBitrate:t.QU,minRequiredAudioBuffer:t.o7},g && d.log(m$g + JSON.stringify(z)),l(z,x));y4g=4;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};C4r;j92=4;break;}}})();},13687:function(r,b,a){var f,h,d,g,m,l;function c(n,p,q,u){g(!f.mi(u),"Must have at least one selected stream");return new l(u);}function k(n,p,q,u){g(!f.mi(u),"Must have at least one selected stream");return new l(u);}f=a(67841);b=a(16955);h=b.console;d=b.debug;g=b.assert;m=b.SL;l=b.An;r.exports={STARTING:function(n,p,q){var t,v,w,y;function u(x,A){var z,B,C,D;z=x.id;B=x.bitrate;C=x.sb || 0;D=!!C;d && h.log("Checking feasibility of [" + A + "] " + z + " (" + B + " Kbps)");if(!x.mG)return (d && !x.Yq && h.log("  Not available"),d && x.zB && h.log("  Failed"),!1);if(B > n.QU)return (d && h.log("  Above maxInitAudioBitrate (" + n.QU + " Kbps)"),!1);if(!(B * n.o7 / 8 < p.buffer.RE))return (d && h.log("  audio buffer too small to handle this stream"),!1);if(D){d && h.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / v)return (d && h.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && h.log(" bitrate requires more than available throughput");return !1;}x=n.bV;p.oMb && (x=Math.max(x,n.m7));if(B <= x)return (d && h.log("  Bitrate is less than max of minInitAudioBitrate (" + n.bV + " Kbps) " + (p.oMb?" and also minHCInitAudioBitrate (" + n.m7 + " Kbps)":"")),d && h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && h.log("  No throughput history");return !1;}t=new l();v=n.Tac || 1;y=q.first;for(w=y.length - 1;0 <= w;--w){q=y[w];if(u(q,w)){t.Th=w;break;}m(q) && (t.Th=w);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},12657:function(r,b,a){var k,f,h,d;function c(g,m,l,n){g=l.first;if(k.mi(n))n=f(g);else if(!h(g[n]) && (n=f(g,n),0 > n))return null;return new d(n);}k=a(67841);b=a(16955);f=b.xla;h=b.SL;d=b.An;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},2134:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(3216);b["default"]={PLAYING:r.cm,PAUSED:r.cm};},3216:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cm=void 0;r=a(70655);c=r.__importStar(a(67841));k=r.__importDefault(a(16955));f=r.__importDefault(a(69311));h=a(60595);d=r.__importDefault(a(29736));g=k.default.assert;m=k.default.An;b.cm=l;(function(){var U_E;U_E=2;for(;U_E !== 5;){switch(U_E){case 2:var B5p="1";B5p+="SIYbZr";B5p+="NJ";B5p+="C";B5p+="p9";b.cm=l=function(n,p,q,u,t,v,w){var b3F,D,y,L,H,K,N,I,O,x,A,z,B,C,F,G,E,J;b3F=2;for(;b3F !== 90;){switch(b3F){case 6:R7xOY.n0y(5);C=R7xOY.G5G(y,B);0 > C && (C=0);C >= x.length && (C=x.length - 1);D=x[C].f;b3F=11;break;case 2:var P9y="Must have at least one se";P9y+="le";P9y+="cted stream";g(!c.mi(u),P9y);b3F=5;break;case 64:I=void 0;p.wtb && (I=d.default.time.Da() - p.wtb);q.push({df:p.df,$fc:I,Xdc:O,abc:D,Xfc:J,Zfc:K,KRa:t,uXa:v,xbc:N,Ddc:w.bitrate,Edc:null !== (F=w.zb) && void 0 !== F?F:0,Ibc:C.bitrate,Jbc:null !== (G=C.zb) && void 0 !== G?G:0,wfc:x.bitrate,xfc:null !== (E=x.zb) && void 0 !== E?E:0,Y5:B});b3F=61;break;case 51:b3F=L < Math.min(L + n.Csb,I.length)?50:47;break;case 20:b3F=void 0 !== B?19:58;break;case 27:t=p.buffer;t=t.Km - t.Gd;v=h.pl.ZTa(p.buffer.La);b3F=24;break;case 52:L=p.df;b3F=51;break;case 55:C+=1;b3F=77;break;case 50:H=I.get(L);N.push({d:H.Nd.G,b:H.xa});b3F=48;break;case 75:y=C;b3F=72;break;case 28:K=C.Yb.tdigest;b3F=44;break;case 18:z.gg=A[z.Th];b3F=17;break;case 72:B=y;b3F=20;break;case 45:O+=I.get(L).Nd.G;b3F=65;break;case 46:b3F=L < I.length?45:64;break;case 7:return f.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 67:b3F=x[C].f < B?72:66;break;case 35:b3F=y < A.length?34:60;break;case 68:y=C;b3F=72;break;case 37:K=void 0;C.Yb && C.Yb.tputTrace && (K=C.Yb.tputTrace);(N=[],I=C.La,O=0);b3F=53;break;case 59:return z;break;case 73:C++;b3F=77;break;case 38:J.push(K.max);b3F=37;break;case 17:b3F=n.wCb?16:59;break;case 57:y=void 0;b3F=56;break;case 60:z.Yac=q;b3F=59;break;case 69:b3F=x[C].f === B?68:67;break;case 34:C=A[y];B=y <= u?!0:!1;D=void 0;b3F=31;break;case 29:b3F=C.Yb && C.Yb.tdigest?28:37;break;case 58:return f.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 74:b3F=x[C].f > B?72:73;break;case 47:L=p.df;b3F=46;break;case 5:var l86="playe";l86+="r missing fr";l86+="agmentIn";l86+="dex";g(c.rb(p.df),l86);(x=n.r1b,A=q.first,z=new m(u),B=null !== (y=p.df) && void 0 !== y?y:-1);y=x[0].f;C=x[x.length - 1].f;b3F=8;break;case 48:L++;b3F=51;break;case 19:z.Th=x[B].jfc;b3F=18;break;case 65:L++;b3F=46;break;case 10:B=C;b3F=20;break;case 16:q=[];b3F=27;break;case 66:C--;b3F=70;break;case 8:b3F=B < y || B > C?7:6;break;case 31:J=[];C.Yb && C.Yb.throughput && (D=C.Yb.throughput.Ea);b3F=29;break;case 44:J.push(K.min);J.push(K.Kra);J.push(K.Kp);J.push(K.gn);b3F=40;break;case 56:b3F=D < B?55:71;break;case 40:J.push(K.Lp);J.push(K.Lra);b3F=38;break;case 77:b3F=C < x.length?76:72;break;case 11:b3F=D === B?10:57;break;case 70:b3F=0 <= C?69:72;break;case 61:y++;b3F=35;break;case 24:v=p.buffer.RE - v.xa;w=A[u];x=A[u];b3F=21;break;case 76:b3F=x[C].f === B?75:74;break;case 21:y=0;b3F=35;break;case 71:--C;b3F=70;break;case 53:b3F=void 0 !== I?52:64;break;}}};B5p;U_E=5;break;}}})();},79243:function(r,b,a){var k;function c(f,h,d){return new k(d.first.length - 1);}a(67841);k=a(16955).An;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},22465:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(78655);b["default"]={PLAYING:r.cm,PAUSED:r.cm};},78655:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cm=void 0;r=a(70655).__importDefault(a(16955));c=r.default.console;k=r.default.An;b.cm=f;(function(){var w2S;w2S=2;for(;w2S !== 5;){switch(w2S){case 2:b.cm=f=function(h,d,g,m){var r6g,u,l,n,p,q;r6g=2;for(;r6g !== 10;){switch(r6g){case 14:n.Th=h;r6g=11;break;case 11:return n;break;case 6:r6g=(m=u.Yb.sb.Ea,p=u.bitrate,u=u.$sa(null !== (l=d.df) && void 0 !== l?l:-1),p * d.playbackRate < m * q && u)?14:13;break;case 7:r6g=u.Yb && u.Yb.sb?6:12;break;case 8:u=g[h];r6g=7;break;case 9:r6g=-1 < h?8:11;break;case 13:--h;r6g=9;break;case 3:n.Th=0;r6g=9;break;case 2:(n=new k(m),p=d.buffer.jl);g=g.first;R7xOY.n0y(16);var A7M=R7xOY.G5G(2,4,16,7);q=h.z2b * Math.pow(Math.min(A7M,(d.buffer.Km - d.buffer.Gd) / h.BU),h.y2b);h=void 0 === this.XL || p - this.XL > h.FU?g.length - 1:m;r6g=3;break;case 12:var T1e="Stre";T1e+="am has no throu";T1e+="ghput statistics";c.warn(T1e);r6g=13;break;}}};w2S=1;break;case 1:var v$W="1";v$W+="SIYb";v$W+="ZrNJC";v$W+="p";v$W+="9";v$W;w2S=5;break;case 9:"";w2S=2;break;}}})();},24592:function(r,b,a){var k;function c(){return new k(0);}a(67841);k=a(16955).An;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},69311:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(43487);c=a(36910);a=a(20775);b["default"]={STARTING:a.G9a,BUFFERING:r.D9,REBUFFERING:r.D9,PLAYING:c.cm,PAUSED:c.cm};},43487:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.D9=void 0;r=a(70655);c=r.__importStar(a(67841));k=a(4145);r=r.__importDefault(a(16955));f=a(36910);h=r.default.assert;d=r.default.An;b.D9=g;(function(){var f_7;f_7=2;function m(l,n,p,q){var m0C,t,v,w,x,y;m0C=2;for(;m0C !== 19;){switch(m0C){case 2:var S6t="Must have at le";S6t+="as";S6t+="t one selected strea";S6t+="m";h(!c.mi(q),S6t);(t=p.first,v=t[q],w=v.bitrate);p=v;m0C=4;break;case 10:p !== v && (q.reason=y,q.dt=x);return q;break;case 12:q=new d();q.gg=v;m0C=10;break;case 8:m0C=void 0 === v?7:13;break;case 3:q=Math.min(q + (l.orb?2:1),t.length);v=(0,k.qc)(t.slice(0,q).reverse(),u);m0C=8;break;case 13:var S29="sel";S29+="ect";S29+="_feasible_";S29+="bufferin";S29+="g";y=S29;m0C=14;break;case 7:v=t[0];m0C=6;break;case 14:x=null === v || void 0 === v?void 0:v.sb;m0C=12;break;case 4:m0C=v.sb?3:12;break;case 6:var m57="f";m57+="allback_";m57+="lowest_acceptable_stream";y=m57;m0C=14;break;}}function u(A){var p3Q,z;p3Q=2;for(;p3Q !== 8;){switch(p3Q){case 2:z=A.sb;p3Q=1;break;case 1:p3Q=!z || (A.bitrate > w?l.J4b:1) * A.bitrate * n.playbackRate > z?5:4;break;case 5:return !1;break;case 4:var H6t="buff";H6t+="_lt";H6t+="_hi";H6t+="s";H6t+="t";y=H6t;x=z;return !0;break;}}}}for(;f_7 !== 5;){switch(f_7){case 2:var T0P="1S";T0P+="IYbZrNJCp";T0P+="9";b.D9=g=function(l,n,p,q,u,t,v){var e$t;e$t=2;for(;e$t !== 1;){switch(e$t){case 2:var B2U="p";B2U+="l";B2U+="a";B2U+="yin";B2U+="g";return B2U === l.Yha?f.cm.call(this,l,n,p,q,u,t,v):m.call(this,l,n,p,q);break;}}};T0P;f_7=5;break;}}})();},36910:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.uka=b.Y5=b.cm=void 0;r=a(70655);k=r.__importStar(a(67841));f=a(4145);h=a(60595);d=r.__importDefault(a(54186));g=r.__importDefault(a(16955));m=r.__importDefault(a(72292));l=a(47571);n=a(95032);p=g.default.assert;q=g.default.An;b.cm=(c=(function(){var m7A;m7A=2;for(;m7A !== 5;){switch(m7A){case 2:var s_U="1S";s_U+="IYbZ";s_U+="r";s_U+="NJCp";s_U+="9";s_U;return {Y5:u,cm:function(w,y,x,A,z,B,C){var n8D,D,F,G,E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa;n8D=2;for(;n8D !== 17;){switch(n8D){case 2:var j1$="Must have at least one ";j1$+="sel";j1$+="ected stream";p(!k.mi(A),j1$);n8D=5;break;case 18:return G;break;case 5:var A_R="nu";A_R+="mbe";A_R+="r";var A$8="inva";A$8+="lid ";A$8+="pl";A$8+="ayer";A$8+=" fragmentIndex";void 0 === y.df && (y.df=0);p(k.rb(y.df),A$8);p(A_R === typeof y.buffer.RE);n8D=9;break;case 9:var G$k="n";G$k+="u";G$k+="mb";G$k+="er";p(G$k === typeof y.B3);(F=x.first,G=new q(),E=z=F[A],J=y.buffer.ab,K=y.buffer.Gd,N=y.buffer.jl,I=y.buffer.Km,O=y.df,L=I - K,H=this.ye.V1a || d.default.CZ.Hk,M=y.state === l.Db.me || y.state === l.Db.Xh?y.buffer.mr:0,R=w.T6,Y=null !== (D=w.Ay) && void 0 !== D?D:1E3);n8D=7;break;case 6:return t.call(this,y,w,F,z);break;case 7:n8D=H === d.default.CZ.Hlb || !z.sb?6:14;break;case 14:x.Hla(function(Ja,Xa,cb){var O2D,W;O2D=2;for(;O2D !== 5;){switch(O2D){case 2:void 0 !== cb && (Ja=Ja[cb],null !== (W=Ja.La) && void 0 !== W && W.length || (Ja.Zva=!0));O2D=5;break;}}});(ca=h.pl.ZTa(y.buffer.La),oa=y.buffer.RE - ca.xa);D=(w.Iva || C) && L >= w.Bxa?F.length:A + 2;(Ga=(function(Ja){var h7F,Y3S;h7F=2;for(;h7F !== 4;){switch(h7F){case 2:var F8C="varia";F8C+="b";F8C+="l";F8C+="e";Y3S=w.Gva;h7F=Y3S === F8C?1:3;break;case 3:h7F=5;break;case 1:return F.slice(0,Ja).map(function(Xa){var X3q;X3q=2;for(;X3q !== 1;){switch(X3q){case 2:return [v(w,y.buffer.RE,Xa),0];break;}}});break;case 5:return F.slice(0,Ja).map(function(Xa,cb){var L8d;L8d=2;for(;L8d !== 1;){switch(L8d){case 2:return cb < A?[w.Kna,w.Lpa]:cb === A?[w.Jna,w.Kpa]:[w.Lna,w.Mpa];break;}}});break;case 13:h7F=6;break;}}})(D),Fa=F.slice(0,D).map(function(Ja,Xa){var d_G=R7xOY;var v5D,cb;v5D=2;for(;v5D !== 5;){switch(v5D){case 2:d_G.v$C(17);cb=d_G.G5G(A,Xa);return function(){var p7p,W,aa,Q,ka,P,fa,ta,pa,Ra;p7p=2;for(;p7p !== 5;){switch(p7p){case 2:a:{d_G.n0y(5);W=Math.max(d_G.g6M(1,Xa),0);aa=Ga[Xa][1];Q=y.playbackRate;ka=x.JZa(Xa,O,Ga[Xa][0]);P=ka.Fbb;ka=ka.xab;d_G.n0y(2);aa=x.JZa(W,d_G.g6M(O,P),aa);W=aa.Fbb;fa=aa.xab;aa=ka[0].stream;ta=aa.sb || 0;pa=aa.La && aa.La.length;Ra=C?w.FDb:pa?w.Z3:w.GDb;Ra=cb?w.kla:Ra;if(ea && !ea.a4 && ea.sb >= ta && ea.bitrate <= aa.bitrate){P=!1;}else {cb || pa || (aa.Zva=!0);if(!cb || !pa)if(pa && !w.m$){if(ta >= Math.max(aa.Gv * Q,aa.bitrate * Q * Ra) && aa.sv){P=!0;break a;}}else if(ta >= aa.bitrate * Q * Ra){P=!0;break a;}Q=!w.jja || aa === E || aa.dc === E.dc && B?0:(Q=aa.Yb) && Q.el && Q.el.Ea?Q.el.Ea + w.fja * (Q.el.$d?Math.sqrt(Q.el.$d):0):0;(P=u(w,F,ka,fa,ca,K + Q - J,R,I - J,N - J,O,ca.length,M,oa,P,W,Y,y.B3,y.playbackRate)) && P.result && (G.Mdc=P.HU);ea={a4:P && P.result,sb:ta,bitrate:aa.bitrate};P=P && P.result;}}return P;break;}}};break;}}}));p(Fa.length === Ga.length);Fa[A]()?A + 1 < F.length && L > w.zy && (void 0 === this.XL || this.lpa && this.lpa > this.XL || N - this.XL > w.FU && L > w.Ppa) && (z=(0,f.qha)(F.slice(A + 1,D),function(Ja,Xa){var a5A;a5A=2;for(;a5A !== 1;){switch(a5A){case 4:return Fa[A % 2 % Xa]();break;case 2:return Fa[A + 1 + Xa]();break;}}})):z.La && z.La.length && (z=(0,f.qha)(F.slice(0,A),function(Ja,Xa){var Y0T;Y0T=2;for(;Y0T !== 1;){switch(Y0T){case 2:return Fa[Xa]();break;}}}),D=F[0],z && z.Ot < D.Ot || !z) && (z=D);G.gg=z || E;n8D=18;break;}}},uka:v};break;}}function u(w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O,L,H){var I14,M,R,Y,ea,ca,oa;I14=2;for(;I14 !== 17;){switch(I14){case 18:return 0 < N || 0 < I?(0,m.default)({ZEb:oa,blocks:E + N + I,Gd:B,Km:D,z0b:C,mr:J,jl:F,df:E,AEb:E + N,B3:L,uXa:K,sb:M / H,pQb:O,eC:w.eC,UMb:w.m$,WBb:!1}):M > y.Gv?{result:!0,HU:0,sv:!0}:{result:!1,HU:0,sv:!0};break;case 2:var s3Q="Fi";s3Q+="r";s3Q+="st stream undefi";s3Q+="ned";y=x[0].stream;R=null === (M=A[0]) || void 0 === M?void 0:M.stream;p(y,s3Q);I14=3;break;case 3:M=y.sb;(Y=D - B,ea=y.La && y.La.length,ca=(null === R || void 0 === R?void 0:R.La) && (null === R || void 0 === R?void 0:R.La.length));p(z.length === E);w.Qpa && (O=Math.min(O,Y));I14=6;break;case 13:ca || (R=y);oa=new n.gLa(z);N=Math.max(0,Math.min(N,y.La.length - G));I=Math.max(0,Math.min(I,R.La.length - G - N));x.forEach(function(Ga){var E2y,Fa,Ja;E2y=2;for(;E2y !== 4;){switch(E2y){case 2:(Fa=Ga.stream,Ja=Ga.blocks);Ga=Ga.df;k.rb(Ga) && Fa.La && oa.add(Fa.La.Br.subarray(Ga,Ga + Ja));E2y=4;break;}}});A.forEach(function(Ga){var J2n,Fa,Ja;J2n=2;for(;J2n !== 4;){switch(J2n){case 2:(Fa=Ga.stream,Ja=Ga.blocks);Ga=Ga.df;0 < I && k.rb(Ga) && Fa.La && oa.add(Fa.La.Br.subarray(Ga,Ga + Ja));J2n=4;break;}}});I14=18;break;case 6:I14=!M || M < y.bitrate * H * w.Ina || !ea?14:13;break;case 14:return !1;break;}}}function v(w,y,x){var K6s,A;K6s=2;for(;K6s !== 3;){switch(K6s){case 8:K6s=~x.sb?4:3;break;case 2:K6s=!x.sb?1:5;break;case 5:A=(x.G2b || x.sb) / x.sb;return 1 >= A?w.iqa:Math.min(Math.max((w.u0b * Math.min(8 * y / x.bitrate,w.BG) - w.Ay) / (A - 1),w.i4a),w.iqa);break;case 1:return w.i4a;break;case 7:return w.i4a;break;}}}function t(w,y,x){var P1g;P1g=2;for(;P1g !== 4;){switch(P1g){case 2:w=new q();w.gg=x[0];return w;break;}}}})(),c.cm);b.Y5=c.Y5;b.uka=c.uka;},20775:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.iMb=b.G9a=void 0;c=a(70655);k=c.__importDefault(a(6328));f=c.__importStar(a(67841));h=a(4145);d=a(45041);g=c.__importDefault(a(29736));r=c.__importStar(a(312));a=c.__importDefault(a(16955));m=a.default.OQb;l=a.default.Htb;n=a.default.oK;p=a.default.An;q=r.O$a;a=(function(){var W4Y;function u(B,C){var e9p,F,D;e9p=2;for(;e9p !== 12;){switch(e9p){case 9:B=(0,k.default)(D.BB,{});e9p=7;break;case 6:(F=d.NLa.eIb(B),f.Ep(F)?(B.yi=F,F=!0):F=!1);e9p=14;break;case 2:D=new p();D.gg=B;B=D.gg.Yb || ({});D.BB=B.Dl && B.fh;D.AB=B.Dl?B.Dl:0;e9p=9;break;case 7:e9p=(F=f.rb(C.E9) && 0 <= C.E9 && 100 >= C.E9 && !f.mi(B) && !f.Wb(B))?6:14;break;case 14:var R1l="hi";R1l+="st";R1l+="_throughpu";R1l+="t";var m7z="hist";m7z+="_t";m7z+="d";m7z+="igest";F?(C=B.yi(C.E9 / 100) || D.gg.sb,D.dt=C,D.reason=m7z):D.gg.sb && (C=D.gg.sb,D.dt=C,D.reason=R1l);return D;break;}}}function t(B,C,D){var a1f;a1f=2;for(;a1f !== 5;){switch(a1f){case 2:B=l(D.hr,B * D.b7);return m(B,C);break;}}}W4Y=2;function w(B,C){var l26=R7xOY;var w2q,D;w2q=2;for(;w2q !== 9;){switch(w2q){case 1:var F9M="l";F9M+="o";F9M+="g";w2q=0 === C.zN.lastIndexOf(F9M,0)?5:3;break;case 7:l26.v$C(18);var j04=l26.G5G(0,8,9,4);l26.n0y(19);var f6w=l26.g6M(23,746,11,1,1);l26.v$C(18);var a4N=l26.g6M(332,13,27,4);B=n(B,j04,f6w) % a4N;w2q=9;break;case 3:var h2C="s";h2C+="i";h2C+="gm";h2C+="o";h2C+="id";return 0 === C.zN.lastIndexOf(h2C,0)?(D=C.zN,(D=C.H9a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.fr):C.fr;break;case 5:D=C.zN;w2q=4;break;case 4:return (D=C.H9a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.fr;break;case 2:l26.v$C(20);var W5J=l26.g6M(17,100020,14,1300518);l26.n0y(21);var o21=l26.g6M(200,6,806);B=n(B,0,W5J) / o21;w2q=1;break;}}}function A(B,C,D){var t7o,F,G;t7o=2;for(;t7o !== 4;){switch(t7o){case 2:(F=new p(),G=Math.max(B.qt,B.i7));F.gg=(0,h.qc)(D.filter(function(E){var r6r;r6r=2;for(;r6r !== 1;){switch(r6r){case 2:return E.bitrate <= B.Fy;break;case 4:return E.bitrate >= B.Fy;break;}}}).reverse(),function(E){var b4v,J,K,N;b4v=2;for(;b4v !== 13;){switch(b4v){case 6:J=!1;b4v=7;break;case 2:J={sb:E.sb,Dl:E.Yb && E.Yb.Dl,fh:E.Yb && E.Yb.fh};b4v=1;break;case 8:var N6H="h";N6H+="ist_buf";N6H+="f";N6H+="t";N6H+="ime";t(E,K,B) <= N?(F.dt=K,J && (F.AB=J.Dl?J.Dl:0,F.BB=J.Dl && J.fh),F.reason=N6H,J=!0):J=!1;b4v=7;break;case 14:var W6D="n";W6D+="o_hist";W6D+="oric";W6D+="al_lte";W6D+="_minbitrate";var X6o="hist";X6o+="_tput_lt_minbit";X6o+="r";X6o+="at";X6o+="e";var d4w="lt";d4w+="_hist_lte_minbi";d4w+="trate";(K=J.sb,E.bitrate * C.playbackRate <= K?(F.dt=K,J && (F.AB=J.Dl?J.Dl:0,F.BB=J.Dl?J.fh:void 0),F.reason=d4w,J=!0):K?(F.dt=K,J && (F.AB=J.Dl?J.Dl:0,F.BB=J.Dl?J.fh:void 0),F.reason=X6o,J=!1):(F.reason=W6D,J=!0));b4v=7;break;case 3:b4v=K?9:6;break;case 1:b4v=E.bitrate > G?5:14;break;case 5:E=E.bitrate * C.playbackRate;K=J.sb;b4v=3;break;case 9:N=v(B,E);b4v=8;break;case 7:return J;break;}}}) || D[0];return F;break;}}}function y(B,C,D){var X$Z,J,K,N,F,G,E;X$Z=2;for(;X$Z !== 19;){switch(X$Z){case 13:G.reason=N;X$Z=12;break;case 14:X$Z=J?11:13;break;case 12:E--;X$Z=1;break;case 9:N=x(J,G.dt,F,K,N,B);J=N.a4;N=N.reason;G.J5=K;X$Z=14;break;case 5:J=D[E];G=u(J,B);(K=t(J.bitrate * C.playbackRate,G.dt,B),N=w(G.dt,B));X$Z=9;break;case 1:X$Z=0 <= E && (F?D[E].zb >= B.st:D[E].bitrate >= B.qt)?5:11;break;case 11:var o6E="fallb";o6E+="ack_";o6E+="no_acceptab";o6E+="le_st";o6E+="ream";var y8B="below_min";y8B+="Ini";y8B+="t";y8B+="VideoB";y8B+="itrate";f.Wb(G) && D[E].bitrate < B.qt && (G=u(D[E],B),G.reason=y8B);f.Wb(G) && (G=u(D[0],B),G.reason=o6E);return G;break;case 2:(F=!!B.st && !!B.H3a && D.every(function(I){var U_8;U_8=2;for(;U_8 !== 1;){switch(U_8){case 2:return I.zb && 110 >= I.zb;break;}}}),G=null,E=D.length - 1);X$Z=1;break;}}}function z(B,C,D,F){var t0Z,G;t0Z=2;for(;t0Z !== 7;){switch(t0Z){case 2:var B90="v";B90+="b";G=g.default.storage.get(B90);t0Z=1;break;case 1:var q_r="num";q_r+="b";q_r+="er";t0Z=q_r !== typeof G?5:4;break;case 5:return B.nR?y(B,C,D,F):A(B,C,D,F);break;case 4:var C0f="hist_";C0f+="bi";C0f+="trate";B=new p();B.gg=(0,h.qc)(D.slice().reverse(),function(E){var I5r;I5r=2;for(;I5r !== 1;){switch(I5r){case 4:return E.bitrate > G;break;case 2:return E.bitrate <= G;break;}}}) || D[0];B.reason=C0f;t0Z=8;break;case 8:return B;break;}}}function x(B,C,D,F,G,E){var Q6r;Q6r=2;for(;Q6r !== 5;){switch(Q6r){case 2:var w10="no_v";w10+="al";w10+="id_Bitrate";var q45="no_va";q45+="lid_V";q45+="MAF";var C8C="no";C8C+="_valid_De";C8C+="l";C8C+="a";C8C+="yTarget";B=D?B.zb >= E.st && B.zb <= E.H3a:B.bitrate >= E.qt && B.bitrate <= E.Fy;return (F=F < G && B)?{a4:F}:{a4:F,reason:B?C8C:D?q45:w10};break;}}}for(;W4Y !== 5;){switch(W4Y){case 2:var Y_I="1S";Y_I+="IY";Y_I+="bZ";Y_I+="rNJC";Y_I+="p9";Y_I;W4Y=1;break;case 1:return {epb:function(B,C,D,F){var J59;J59=2;for(;J59 !== 5;){switch(J59){case 2:var O4A="hi";O4A+="st";O4A+="orical";D=D.first;return D.some(function(G){var d$M;d$M=2;for(;d$M !== 1;){switch(d$M){case 4:return G.ha;break;case 2:return G.ha;break;}}})?A(B,C,D,F):O4A === B.joa?z(B,C,D,F):B.nR?y(B,C,D,F):A(B,C,D,F);break;}}},wnb:x};break;case 3:"";W4Y=8;break;}}function v(B,C){var L5Q,D,F;L5Q=2;for(;L5Q !== 13;){switch(L5Q){case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;case 9:return D[D.length - 1].d;break;case 2:L5Q=B.L5?1:14;break;case 8:R7xOY.v$C(5);B=D[R7xOY.G5G(1,F)];D=D[F];L5Q=6;break;case 14:return B.fr;break;case 1:(D=B.L5,F=(0,h.Bs)(D,function(G){var A$e;A$e=2;for(;A$e !== 1;){switch(A$e){case 2:return C <= G.r;break;case 4:return C >= G.r;break;}}}));L5Q=5;break;case 5:L5Q=0 === F?4:3;break;case 3:L5Q=-1 === F?9:8;break;case 4:return D[0].d;break;}}}})();r=a.wnb;b.G9a=a.epb;b.iMb=r;},72292:function(r,b,a){var K4m="d";K4m+="ef";K4m+="ault";var c,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);c.__importStar(a(67841));k=a(16955);b[K4m]=function(f){var M7h=R7xOY;var g5X,h,d,g,m,l,n,p,q,u,t,v,w,y,x,A,z,B,C,D,J,K,N,I,O,L,H,F,G,E;g5X=2;for(;g5X !== 50;){switch(g5X){case 35:g5X=v < q?34:53;break;case 42:g5X=l < g && d < J?41:40;break;case 33:g5X=v < F?32:31;break;case 32:(g=l,v+=O[d],++d,d >= O.length && ++I < h.length && (O=h.CT(I),L=h.pL(I),d=0),G=L[d],l+=G);g5X=33;break;case 51:return c.__assign({result:!0,HU:m / (z / 1E3),sv:!0},f && ({s2:n}));break;case 2:(h=f.ZEb,d=f.blocks,g=f.Gd,m=f.Km,l=f.z0b,n=f.mr,p=f.jl,q=f.df,u=f.AEb,t=f.B3,v=f.uXa,w=f.sb,y=f.pQb,x=f.eC,A=f.UMb);f=f.WBb;g5X=5;break;case 41:(v+=O[d],++d,d >= O.length && ++I < h.length && (O=h.CT(I),L=h.pL(I),d=0));g5X=42;break;case 29:M7h.n0y(5);G=M7h.g6M(g,p);g5X=28;break;case 5:var x_G="1";x_G+="SIY";x_G+="bZrNJCp9";x_G;(z=h.T,B=Math.min(h.$Eb,d),C=m - g,D=8 * n / w | 0);g5X=3;break;case 40:++J;g5X=39;break;case 52:return (f && n.push(G / (z / 1E3)),c.__assign({result:!1,HU:Math.min(G,m) / (z / 1E3),sv:!0},f && ({s2:n})));break;case 25:(J=G[1],K=h.CT(D),N=h.pL(D),I=0,O=h.CT(I),L=h.pL(I),H=B - q);g5X=24;break;case 38:J >= K.length && ++D < h.length && (u-=K.length,K=h.CT(D),N=h.pL(D),J=0);f && n.push(G / (z / 1E3));F=G;g5X=54;break;case 39:g5X=J >= u && G > C?51:38;break;case 3:n=[];m=Infinity;g5X=8;break;case 8:F=0;d=0;G=h.pL(0)[0];g5X=14;break;case 31:g5X=!A && (G=p - g,G < x)?30:29;break;case 26:D=G[0];g5X=25;break;case 14:M7h.n0y(22);l=M7h.g6M(G,l,1E3,z);M7h.v$C(23);w=M7h.g6M(8,w,0);M7h.n0y(3);E=M7h.g6M(1E3,z);g5X=11;break;case 28:M7h.v$C(24);g+=M7h.g6M(w,0,q,E);p+=B;g5X=43;break;case 54:m=Math.min(G,m);g5X=24;break;case 11:var F0E=" >= f";F0E+="ragmentsL";F0E+="ength: ";var t9x="Streamin";t9x+="gI";t9x+="nde";t9x+="x: ";q >= B && k.console.error(t9x + q + F0E + B);g+=D;0 === p && (g=0);g5X=19;break;case 43:v-=q;g5X=42;break;case 30:return (f && n.push(G / (z / 1E3)),c.__assign({result:!1,HU:G / (z / 1E3),sv:!1},f && ({s2:n})));break;case 21:B=N[J];g5X=35;break;case 19:M7h.n0y(3);g*=M7h.g6M(1E3,z);M7h.v$C(3);p*=M7h.g6M(1E3,z);M7h.v$C(3);x*=M7h.g6M(1E3,z);M7h.n0y(3);y*=M7h.G5G(1E3,z);M7h.n0y(3);C*=M7h.g6M(1E3,z);G=c.__read(h.YHb(q),2);g5X=26;break;case 53:g5X=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 24:g5X=H?23:51;break;case 34:F=Math.max(q,t);g5X=33;break;case 23:H--;q=K[J];g5X=21;break;}}};},90429:function(r,b,a){var k;function c(f,h,d){f=d.first.map(function(g,m){return g.mG?m:null;}).filter(function(g){return null !== g;});return f.length?new k(f[Math.floor(Math.random() * f.length)]):null;}k=a(16955).An;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},27032:function(r,b,a){var k,f,h,d;function c(g,m,l){var n,p;n=l.first;l=this.Ffa;m=m.buffer.jl;p="forward" === g.LYb;if(k.mi(l))return (l=p?f(n):f(n,n.length),this.Gfa=m,this.Ffa=l,new d(l));h(n[l]) || (l=f(n,l),this.Gfa=m,this.Ffa=l);if(0 > l)return null;if(m > this.Gfa + g.J2b){g=n.map(function(q,u){return q.mG?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?l=(g.indexOf(l) + 1) % g.length:(l=g.indexOf(l) - 1,0 > l && (l=g.length - 1));this.Ffa=g[l];this.Gfa=m;return new d(g[l]);}return new d(l);}k=a(67841);b=a(16955);f=b.xla;h=b.SL;d=b.An;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},11377:function(r,b,a){var k,f,h,d,g,m;function c(l,n,p){var q;q=p.first;g=q;m=q.map(function(u,t){return t;});if(null === d)return (l=f(q),d=q[l].bitrate,new h(l));if(!q.length)return null;l=m.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === l?(k.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new h(m[0])):new h(l);}b=a(16955);a=a(29736)["default"];k=b.console;f=b.xla;h=b.An;d=null;g=null;m=null;a.Hub && (a.Hub.il={qa:function(){m=g=d=null;},I9a:function(l){d=l;},Ucc:function(){return {all:g,Ocb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},54327:function(r,b,a){(function(){var l2s,h,d,k,f;l2s=2;function c(g,m,l,n){var U4i,p;U4i=2;for(;U4i !== 11;){switch(U4i){case 2:var I_h="player m";I_h+="issing fr";I_h+="agmentIndex";var y0x="Mus";y0x+="t ha";y0x+="ve at least one select";y0x+="ed";y0x+=" stream";h(!k.mi(n),y0x);h(k.rb(m.df),I_h);m=d(n);U4i=4;break;case 7:U4i=p.Yb && p.Yb.sb && p.bitrate < p.Yb.sb.Ea - g.E2b?6:14;break;case 8:p=l[n];U4i=7;break;case 6:return (m.Th=n,m);break;case 14:--n;U4i=9;break;case 13:m.Th=0;return m;break;case 4:l=l.first;U4i=3;break;case 3:R7xOY.n0y(2);var F2y=R7xOY.g6M(0,1);n=l.length - F2y;U4i=9;break;case 9:U4i=-1 < n?8:13;break;}}}for(;l2s !== 6;){switch(l2s){case 4:var Z$x="d";Z$x+="e";Z$x+="f";Z$x+="aul";Z$x+="t";a(29736);(h=f.assert,d=f.An);f=a(69311)[Z$x];l2s=8;break;case 2:k=a(67841);a(54186);f=a(16955);l2s=4;break;case 8:var N8S="1SI";N8S+="Yb";N8S+="ZrNJCp9";r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};N8S;l2s=6;break;}}})();},95032:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gLa=void 0;r=(function(){function a(c){this.Br=[];this.Br.push(c);}Object.defineProperties(a.prototype,{T:{get:function(){return this.Br[0].T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Br.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$Eb:{get:function(){var c;return null !== (c=this.Ymb) && void 0 !== c?c:this.Ymb=this.Br.reduce(function(k,f){return k + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.pL=function(c){return this.Br[c].mf;};a.prototype.CT=function(c){return this.Br[c].sizes;};a.prototype.add=function(c){this.Br.push(c);};a.prototype.YHb=function(c){var f;for(var k=0;0 <= c;){f=this.Br[k];if(c < f.length)break;k++;c-=f.length;}return [k,c];};return a;})();b.gLa=r;},52190:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dea=void 0;c=a(70655);k=a(86393);a(44724);c.__importDefault(a(16955));r=(function(){function f(h,d,g,m){this.mf=h;this.T=g;this.length=Math.min(h.length,d.length);this.Am=d;this.Kc=m;}Object.defineProperties(f.prototype,{xa:{get:function(){return void 0 !== this.Kc?this.Kc:this.Kc=this.Lea();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.Am;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(h,d){return new f(this.mf.subarray(h,d),this.sizes.subarray(h,d),this.T);};f.prototype.concat=function(){var g,m;for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}d=[this];h=d.concat.apply(d,c.__spreadArray([],c.__read(h),!1));d=h.reduce(function(l,n){return l + n.length;},0);g=new Uint32Array(d);m=new Uint32Array(d);d=h[0].T;h.reduce(function(l,n){k.oMa.set(g,n.mf,l);k.oMa.set(m,n.sizes,l);return l + n.length;},0);return new f(g,m,d);};f.prototype.Lea=function(){for(var h=this.sizes,d=this.length,g=0,m=0;m < d;++m){g+=h[m];}return g;};f.prototype.Y0a=function(h){return void 0 === this.Fpb?!1:0 < this.Fpb[h];};return f;})();b.dea=r;},78069:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.ALa=void 0;r=a(70655);c=r.__importStar(a(67841));k=r.__importDefault(a(54186));f=r.__importDefault(a(29736));h=a(4145);d=a(47571);g=a(34004);m=a(94713);l=new f.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.Db[d.Db.Hk],d.Db[d.Db.Pe],d.Db[d.Db.vl],d.Db[d.Db.me],d.Db[d.Db.Xh],"checkBuffering"];p=a(11377);q={first:function(){return a(12657);},random:function(){return a(90429);},optimized:function(){return a(69311)["default"];},roundrobin:function(){return a(27032);},selectaudio:function(){return a(13687);},selectaudioadaptive:function(){return a(30331);},"default":function(){return a(69311)["default"];},lowest:function(){return a(24592);},highest:function(){return a(79243);},throughputthreshold:function(){return a(54327);},replay:function(){return a(2134)["default"];},checkdefault:function(){return a(36886);},livesimple:function(){return a(22465)["default"];},testscript:function(){return p;}};u={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var J7S;J7S=2;function t(v,w,y,x){var I5Z,A,z;I5Z=2;for(;I5Z !== 6;){switch(I5Z){case 2:var b_O="1SIYbZr";b_O+="N";b_O+="J";b_O+="Cp";b_O+="9";A=this;this.zZb=v;this.X=w;this.ye=y;b_O;v=v || this.X.zab;I5Z=8;break;case 8:this.bNa=n.reduce(function(B,C){var P2B,D;P2B=2;for(;P2B !== 4;){switch(P2B){case 5:return B;break;case 2:D=(q[v] || q[u[C]])()[C] || q[u[C]]()[C];B[C]=D.bind(A);P2B=5;break;}}},{});x && (this.Z5a=new m.GHa(w,null === (z=y.track) || void 0 === z?void 0:z.mediaType));I5Z=6;break;}}}for(;J7S !== 6;){switch(J7S){case 7:return t;break;case 2:t.prototype.I9a=function(v,w,y,x,A,z,B){var X_O,L,C,D,F,G,E,J,K,N,I,R,Y,H,M,O,U02;X_O=2;for(;X_O !== 61;){switch(X_O){case 7:O=G.La;L=O.length;X_O=14;break;case 14:X_O=0 < L?13:10;break;case 32:var A0q="p";A0q+="la";A0q+="y";A0q+="ing";c.rb(N) && w.bitrate < K[N].bitrate && (this.Dfa=G.jl);v.state !== d.Db.me && v.state !== d.Db.Xh?(A=(0,g.L6a)(v.state),z=this.A2(v.buffer,A,v.playbackRate,w,z),(M.Gm=z.complete)?M.ntb=z.reason:(M.Gm=!1,M.oN=z.oN,M.Npa=z.Npa,M.progress=z.progress)):(M.Gm=!0,M.ntb=A0q);X_O=30;break;case 46:this.ye.h$a(k.default.CZ.Hk);X_O=15;break;case 48:return M;break;case 16:this.ye.h$a(k.default.CZ.Hk);X_O=15;break;case 2:(G=null === v || void 0 === v?void 0:v.buffer,E=f.default.time.Da(),J=this.X,K=w.first,N=this.ye.b2a,I=!1);c.rb(N) && v.state === d.Db.Hk && (this.ye.QW(void 0),N=void 0);c.rb(N) && N >= K.length && (this.ye.QW(void 0),N=void 0);X_O=4;break;case 44:X_O=R && z && 0 < z.length?43:40;break;case 23:return null;break;case 40:M.jl=G.jl;z=v && v.df;A=w.La;M.pp=A && void 0 !== z && !isNaN(z) && 0 <= z && z < A.length?A.fm(z):G.jl;M.QRb=R && R.sb && R.sb.Ea || 0;M.KRa=G.Km - G.Gd;M.ztb=G.Dk;X_O=52;break;case 63:X_O=62;break;case 65:X_O=U02 === d.Db.me?15:64;break;case 21:var d6e="min_";d6e+="frag";d6e+="ment";d6e+="_vmaf";w=K[M.Th];M.WV=w.sb || 0;M.reason && (w.Lt=M.reason,d6e !== M.reason && (w.tZb=M.dt,w.J5=M.J5,w.AB=M.AB,w.BB=M.BB));this.Z5a && (M.Ov=this.Z5a.cIb({ME:G.Km - G.Gd,qtb:G.Dk || 0,ptb:G.RE || 0,Gd:G.Gd,POb:K[0],gg:w,K4b:K[M.Th + 1] || w,a3b:K[K.length - 1],Bg:v.state,playbackRate:v.playbackRate,df:v.df,r4:B,qo:A}));X_O=32;break;case 45:X_O=U02 === d.Db.vl?46:65;break;case 62:var V$u="St";V$u+="ream selector called with invali";V$u+="d pla";V$u+="yer state ";return (l.error(V$u + d.Db[v.state]),null);break;case 64:X_O=U02 === d.Db.Xh?15:63;break;case 17:this.Hfa=this.Dfa=void 0;X_O=16;break;case 29:R=w.Yb;z=J.UOa;X_O=44;break;case 4:X_O=c.mi(N) && v.state === d.Db.me && (I=!0,void 0 !== this.ye.fo)?3:7;break;case 43:Y=[];z.forEach(function(ea){var w9t,ca;w9t=2;for(;w9t !== 4;){switch(w9t){case 2:ca=ea.stat;ca=(ea=R[ea.filter]) && ea[ca];Y.push(isNaN(ca)?-1:ca);w9t=4;break;}}});X_O=41;break;case 10:c.mi(N) && (N=this.ye.b2a);v.state === d.Db.Hk && c.rb(N) && (v.state=d.Db.Pe);v.state !== d.Db.Hk && void 0 === N && (v.state=d.Db.Hk);X_O=18;break;case 12:N=(0,h.Bs)(K,function(ea){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:return ea.Nb === H;break;}}});X_O=11;break;case 25:M.gg && (M.hF=[],w.JEb(function(ea,ca){var X9Z;X9Z=2;for(;X9Z !== 5;){switch(X9Z){case 2:ea === M.gg?M.Th=ca:(ea.Zva || J.UBb && (!ea.La || !ea.La.length)) && M.hF.push(ea.Nb);ea.Zva=!1;X9Z=5;break;}}}),!M.hF.length && J.C0b && G.Km - G.Gd > J.k7 && !M.gg.ha && (w=void 0,y=M.Th + 1,y=y < K.length?K[y]:void 0,x=M.Th - 1,x=0 <= x?K[x]:void 0,!y || y.La && y.La.length?!x || x.La && x.La.length || (w=x):w=y,w && M.hF.push(w.Nb)),M.hF.length || (M.hF=void 0));X_O=24;break;case 52:M.EUb=null !== (F=null === (D=null === (C=f.default.Scc) || void 0 === C?void 0:C.call(f.default)) || void 0 === D?void 0:D[v.mediaType === d.v.Z?1:0]) && void 0 !== F?F:-1;M.gk=v && v.gk;M.Jr=E;X_O=49;break;case 13:H=O[L - 1].Nb;X_O=12;break;case 8:this.ye.QW(N);X_O=7;break;case 47:X_O=U02 === d.Db.Pe?46:45;break;case 49:M.QC=f.default.time.Da();X_O=48;break;case 15:void 0 !== x && this.$6a(w,v.state,v.buffer,x);M=this.bNa[d.Db[v.state]].call(this,J,v,w,N,x,!!A,I,y);M.Bg=v.state;X_O=25;break;case 24:X_O=!M || null === M.Th?23:22;break;case 3:O=this.ye.fo.zb;N=w.fna(w.first,this.ye.fo.bitrate,O);X_O=8;break;case 18:U02=v.state;X_O=U02 === d.Db.Hk?17:47;break;case 11:0 <= N || (N=O[L - 1].bitrate,O=O[L - 1].zb,N=w.fna(w.first,N,O));X_O=10;break;case 22:void 0 === M.rQb?this.ye.QW(M.Th):this.ye.QW(M.rQb);X_O=21;break;case 41:M.ZUb=Y;X_O=40;break;case 30:X_O=v.DS?29:48;break;}}};t.prototype.A2=function(v,w,y,x,A){var W$J;W$J=2;for(;W$J !== 1;){switch(W$J){case 2:return this.bNa.checkBuffering.call(this,v,w,y,x,A,this.X);break;}}};t.prototype.q1b=function(v,w,y){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 2:c.mi(w)?this.Dfa=this.Hfa=void 0:w.bitrate < y.bitrate && (this.Hfa=v);D$p=1;break;}}};t.prototype.$6a=function(v,w,y,x){var g7O,A,z,B;g7O=2;for(;g7O !== 5;){switch(g7O){case 2:A=this;v.Hla(function(C){var R4s;R4s=2;for(;R4s !== 1;){switch(R4s){case 2:A.l4(C,function(D){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:D.mG && D.Yb && D.Yb.confidence?(z !== D.Yb && (z=D.Yb,B=x(D.Yb,y,w,D.track.pa.hM[d.v.ga])),D.sb=Math.floor(B.lower) || 1,D.G2b=Math.floor(B.upper || 1) || 1):D.sb=void 0;e20=1;break;}}});R4s=1;break;}}});g7O=5;break;}}};t.prototype.l4=function(v,w){var Q24=R7xOY;var x_3,y;x_3=2;for(;x_3 !== 3;){switch(x_3){case 2:Q24.n0y(25);var C_X=Q24.g6M(6,0,61,10,1);y=v.length - C_X;x_3=1;break;case 5:w(v[y],y,v);x_3=4;break;case 8:Q24.n0y(26);var P0G=Q24.g6M(16,13,17,4854,6);y=v.length + P0G;x_3=0;break;case 1:x_3=0 <= y?5:3;break;case 4:--y;x_3=1;break;case 7:x_3=8 < y?7:7;break;}}};Object.defineProperties(t.prototype,{XL:{get:function(){var I7X;I7X=2;for(;I7X !== 1;){switch(I7X){case 2:return this.Dfa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lpa:{get:function(){var j5E;j5E=2;for(;j5E !== 1;){switch(j5E){case 2:return this.Hfa;break;case 4:return this.Hfa;break;}}},enumerable:!1,configurable:!0}});J7S=7;break;}}})();b.ALa=r;},2338:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lea=void 0;c=a(4145);k=a(16955);r=(function(){function f(){this.j1=[];}Object.defineProperties(f.prototype,{first:{get:function(){var h;return null === (h=this.j1[0]) || void 0 === h?void 0:h.hg;},enumerable:!1,configurable:!0}});f.prototype.Uga=function(h){this.j1.push({hg:h});};f.prototype.Hla=function(h){this.j1.forEach(function(d,g){return h(d.hg,g);});};f.prototype.JEb=function(h){this.Hla(function(d){d.forEach(function(g,m){return h(g,m);});});};f.prototype.JZa=function(h,d,g){var m,l,n,p,q,u,t;m=this;l=g;n=d;p=0;q=[];d=this.first[h];u=d.zb;t=d.bitrate;this.j1.forEach(function(v,w){var y,x;v=v.hg;0 >= l || (w=(0,k.oK)(0 === w?h:m.fna(v,t,u),0,v.length - 1),w=v[w],v=null === (y=w.La) || void 0 === y?void 0:y.sja(n,l),y=null !== (x=null === v || void 0 === v?void 0:v.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:w,blocks:y,df:n}),null === v || void 0 === v?!0:!v.Cta) || (n=0,l-=v.Cta);});return {xab:q,Fbb:p};};f.prototype.fna=function(h,d,g){var m;m=(0,c.Bs)(h,function(l){return g && l.zb?l.zb > g:l.bitrate > d;});return 0 < m?m - 1:0 === m?0:h.length - 1;};return f;})();b.lea=r;},54059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(70655);r=(function(){function k(f,h){this.S=f;this.gb=h;this.bwa=!1;}k.prototype.UXb=function(f){this.uf(f.message,void 0,c.__assign(c.__assign({},f.kWa),{err:f.toString()}));};k.prototype.uf=function(f,h,d){void 0 === h && (h=void 0);void 0 === d && (d={});this.bwa || (d.temporaryFailure || (this.bwa=!0),f=c.__assign({type:"error",error:null !== h && void 0 !== h?h:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.S.error("notifyStreamingError:",f),this.gb.emit("error",f));};k.prototype.Zq=function(){return this.bwa;};return k;})();b.DLa=r;},94475:function(r,b,a){var k,f,h,d;function c(g){return function(){for(var m=Array(this.length),l=0;l < this.length;++l){m[l]=g.call(this,l);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Grb=b.Dv=b.sea=b.bMa=void 0;r=a(70655);k=a(44724);r=r.__importDefault(a(29736));f=a(70950);h=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(m,l){this.Gc=m;this.ce=l;}Object.defineProperties(g.prototype,{index:{get:function(){return this.ce;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ma:{get:function(){return new f.N(this.lb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Za:{get:function(){return new f.N(this.nb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nd:{get:function(){return new f.N(this.cB,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lb:{get:function(){return this.Gc.g1 + this.Gc.sA[this.ce];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nb:{get:function(){return this.lb + this.Gc.qq[this.ce];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cB:{get:function(){return this.Gc.qq[this.ce];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{T:{get:function(){return this.Gc.T;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.lb / this.ca.T,endPts:1E3 * this.nb / this.ca.T,duration:1E3 * this.cB / this.ca.T,index:this.index};};return g;})();b.bMa=d;a=(function(){function g(m,l,n,p){this.mediaType=m;this.length=n.mf.length;this.fb=n.T;this.qq=n.mf;this.I1=p && p.SM;this.lQa=p && p.uN;this.vJ=l;this.Pwa=this.Qwa=this.hOa=void 0;this.g1=n.Dr;this.sA=new Uint32Array(this.length + 1);if(this.length){for(l=m=0;l < this.length;++l){this.sA[l]=m;m+=this.qq[l];}this.sA[l]=m;this.Gea=Math.floor((this.nf - this.ab) / this.length);}}Object.defineProperties(g.prototype,{Dr:{get:function(){return this.lab(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kka:{get:function(){return this.lab(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ab:{get:function(){return this.fm(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nf:{get:function(){return this.fm(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rf:{get:function(){return new f.N(this.Kka,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dqa:{get:function(){return this.hOa || this.jmb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{T:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.lab=function(m){return this.g1 + this.sA[m];};g.prototype.fm=function(m){return Math.floor(1E3 * (this.g1 + this.sA[m]) / this.T);};g.prototype.IS=function(m){return this.fm(m + 1);};g.prototype.mf=function(m){return this.IS(m) - this.fm(m);};g.prototype.get=function(m){return new d(this,m);};g.prototype.dy=function(m,l,n){if(0 === this.length || m < this.fm(0))return -1;m=Math.max(m,l || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.fm(u),m < t))q=u - 1;else if(m >= t + this.mf(u))p=u + 1;else {for(;l && u < this.length && this.fm(u) < l;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.ola=function(m,l,n){m=this.dy(m,l,n);return 0 <= m?this.get(m):void 0;};g.prototype.sja=function(m,l){var n,p,q;n=Math.floor(l * this.T / 1E3);p=Math.min(m + Math.ceil(l / this.Gea),this.length);q=this.sA[p] - this.sA[m];if(q >= n){for(;q >= n;){--p;q-=this.qq[p];}return {blocks:Math.max(p - m + 1,0),Cta:0};}for(;q < n && p <= this.length;){l-=q || 0;q+=this.qq[p];++p;}return {blocks:Math.max(p - m - 1,0),Cta:l};};g.prototype.subarray=function(m,l){(0,k.assert)(void 0 === m || 0 <= m && m < this.length);(0,k.assert)(void 0 === l || l > m && l <= this.length);return new g(this.mediaType,this.ca,{T:this.T,Dr:this.g1 + this.sA[m],mf:this.qq.subarray(m,l)},this.I1 && ({SM:this.I1.subarray(m,l + 1),uN:this.lQa}));};g.prototype.forEach=function(m){for(var l=0;l < this.length;++l){m(this.get(l),l,this);}};g.prototype.map=function(m){for(var l=[],n=0;n < this.length;++n){l.push(m(this.get(n),n,this));}return l;};g.prototype.reduce=function(m,l){for(var n=0;n < this.length;++n){l=m(l,this.get(n),n,this);}return l;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Gea};};g.prototype.dump=function(){var l;h.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Gea + "ms");for(var m=0;m < this.length;++m){l=this.get(m);h.trace(("TrackFragments: ").concat(m,": [").concat(l.Ma.G,"-").concat(l.Za.G,"]"));}};g.prototype.jmb=function(){for(var m=0,l=0;l < this.length;l++){m=Math.max(this.qq[l],m);}return this.hOa=m;};return g;})();b.sea=a;b.Dv=c;c(a.prototype.fm);c(a.prototype.IS);c(a.prototype.mf);b.Grb=function(g){return ("[").concat(Array(g.length).map(function(m,l){return g[l].toString();}).join(","),"]");};},63050:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$P=void 0;r=(function(){function a(c){this.$Oa=c;}Object.defineProperties(a.prototype,{ML:{get:function(){return this.unb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.$Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DYb:{get:function(){var c;c=this;return this.$Oa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.unb=!0;};a.prototype.Q7=function(c,k){var f;f=this;this.result.then(function(h){f.ML?k && k(h):c(h);});};return a;})();b.$P=r;},47130:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52745:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},26732:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rha=b.Beb=b.AbortController=void 0;c=a(70655);r=(function(f){function h(){var d;d=null !== f && f.apply(this,arguments) || this;d.dx=!1;return d;}c.__extends(h,f);Object.defineProperties(h.prototype,{aborted:{get:function(){return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{reason:{get:function(){return this.Sob;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});h.prototype.abort=function(d){this.Sob=new k(d);this.dx=!0;this.emit("abort",{type:"abort"});};return h;})(a(28075).EventEmitter);b.AbortController=r;k=(function(f){function h(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(h,f);return h;})(Error);b.Beb=k;b.rha=function(f){return new Promise(function(h){f.aborted && h();f.addListener("abort",function(){return h();});});};},4145:function(r,b,a){var f;function c(h){return h.filter(function(d,g){return h.indexOf(d) === g;});}function k(h,d,g){return g?h.filter(function(m){return !d.some(function(l){return g(m,l);});}):h.filter(function(m){return -1 === d.indexOf(m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.YSa=b.PQa=b.F7=b.AJb=b.zwb=b.flatten=b.b4a=b.Svb=b.U1=b.xx=b.RQa=b.CR=b.pha=b.Bs=b.qha=b.qc=void 0;f=a(70655);b.qc=function(h,d){for(var g=0;g < h.length;g++){if(d(h[g],g,h))return h[g];}};b.qha=function(h,d){for(var g=h.length - 1;0 <= g;--g){if(d(h[g],g,h))return h[g];}};b.Bs=function(h,d){var g;g=-1;return h.some(function(m,l,n){g=l;return d(m,l,n);})?g:-1;};b.pha=function(h,d){for(var g=h.length - 1;0 <= g;g--){if(d(h[g],g,h))return g;}return -1;};b.CR=c;b.RQa=function(h,d){d=h.indexOf(d);if(-1 === d)return !1;h.splice(d,1);return !0;};b.xx=k;b.U1=function(h,d){return c(h.concat(d));};b.Svb=function(h){return function(d,g){return h(d) - h(g);};};b.b4a=function(h){return function(d,g){return h(d) < h(g)?d:g;};};b.flatten=function(h){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(h),!1));};b.zwb=function(h,d){void 0 === d && (d=function(g){return g;});return h.reduce(function(g,m){m=d(m);return (void 0 === g[m]?g[m]=1:++g[m],g);},{});};b.AJb=function(h,d){return h.reduce(function(g,m){var l;l=d(m);return (void 0 === g[l]?g[l]=[m]:g[l].push(m),g);},{});};b.F7=function(h){return null !== h && void 0 !== h;};b.PQa=function(h){var d,m;d=[];if(Array.isArray(h))for(var g=0;g < h.length;g++){m=h[g];Array.isArray(m)?d=d.concat(m.filter(function(l){return void 0 !== l;})):void 0 !== m && d.push(m);}return d;};b.YSa=function(h,d,g){var m;m=k(h,d,g);d=k(d,h,g);h=k(h,m);return {Dta:m,Yqb:d,i7a:h,result:h.concat(d)};};},44724:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(70655);k=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){var d;if(!f){d=new k(h || "Assertion failed");a(69565).hq.S.error("Assertion failed",{value:f,message:h,stack:d.stack});throw d;}};},73856:function(r){function b(a,c,k){this.RJ=a;this.uj=Math.floor((a + c - 1) / c);this.xd=c;this.Rob=k;this.reset();}b.prototype.shift=function(){this.yd.shift();this.Jh.shift();};b.prototype.update=function(a,c){this.yd[a]+=c;};b.prototype.push=function(a){this.yd.push(0);this.Jh.push(a?a:0);this.jb+=this.xd;};b.prototype.add=function(a,c,k,f){var h,d;if(null === this.jb){h=Math.max(Math.floor((k - c + this.xd - 1) / this.xd),1);for(this.jb=c;this.yd.length < h;){this.push(f);}}for(;this.jb < k;){if((this.push(f),this.Rob))for(;1 < this.yd.length && k + f - (this.jb - this.xd * this.yd.length + this.Jh[0]) > this.RJ;){this.shift();}else this.yd.length > this.uj && this.shift();}if(c > this.jb - this.xd)this.update(this.yd.length - 1,a);else if(c == k)(f=this.yd.length - Math.max(Math.ceil((this.jb - k) / this.xd),1),0 <= f && this.update(f,a));else for(f=1;f <= this.yd.length;++f){h=this.jb - f * this.xd;d=h + this.xd;if(!(h > k)){if(d < c)break;this.update(this.yd.length - f,Math.round(a * (Math.min(d,k) - Math.max(h,c)) / (k - c)));}}for(;this.yd.length > this.uj;){this.shift();}};b.prototype.reset=function(){this.yd=[];this.Jh=[];this.jb=null;};b.prototype.setInterval=function(a){this.uj=Math.floor((a + this.xd - 1) / this.xd);};r.exports=b;},34004:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.L6a=void 0;c=a(47571);b.L6a=function(k){switch(k){case c.Db.Pe:k=c.Uc.Pe;break;case c.Db.vl:k=c.Uc.vl;break;case c.Db.Hk:case c.Db.cs:case c.Db.N_:k=c.Uc.cs;break;default:k=c.Uc.um;}return k;};},51472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TO=void 0;b.TO=(function(){function a(){}a.R5=function(c,k){var d;function f(g){return h(d++)(g,f);}function h(g){return g >= k.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:k[g];}d=0;return f(c);};return a;})();},79906:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.T_=void 0;r=a(28075);c=a(40885);k=a(70950);a=(function(){function f(h){void 0 === h && (h={li:!1,currentTime:k.N.Ia,speed:1});this.zc={li:function(){return "function" === typeof h.li?h.li():h.li;},currentTime:function(){return "function" === typeof h.currentTime?h.currentTime():h.currentTime;},speed:function(){return "function" === typeof h.speed?h.speed():h.speed;}};}Object.defineProperties(f.prototype,{li:{get:function(){return this.zc.li();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.zc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.zc.speed();},enumerable:!1,configurable:!0}});return f;})();b.T_=a;(0,c.gj)(r.EventEmitter,a);},91932:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FUa=void 0;b.FUa=function(a){return JSON.parse(JSON.stringify(a));};},22084:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;c=a(70655);a(44724);r=(function(){function k(f,h){this.Wc=f;this.lJ=h;this.lx();}Object.defineProperties(k.prototype,{length:{get:function(){return this.iA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.iA;},enumerable:!1,configurable:!0}});k.prototype.rFb=function(){return this.wJ && this.wJ.get(0);};k.prototype.Ksb=function(){return this.jJ && this.jJ.get(this.jJ.length - 1);};k.prototype.get=function(f){0 > f && (f+=this.length);for(var h=0;h < this.Wc.length;++h){if(this.Jh[h + 1] > f)return this.Wc[h].get(f - this.Jh[h]);}};k.prototype.push=function(f){this.Wc[this.lJ(f)].push(f);this.lx();return this.iA;};k.prototype.shift=function(){var f;if(this.wJ){f=this.wJ.shift();this.lx();return f;}};k.prototype.pop=function(){var f;if(this.jJ){f=this.jJ.pop();this.lx();return f;}};k.prototype.unshift=function(f){this.Wc[this.lJ(f)].unshift(f);this.lx();return this.iA;};k.prototype.et=function(f){var h;h=this.lJ(f);this.Wc[h].et(f);this.lx();};k.prototype.remove=function(f){var h;h=this.Wc.some(function(d){return d.remove(f);});h && this.lx();return h;};k.prototype.splice=function(f,h){var q,u,t,v;for(var d,g=[],m=2;m < arguments.length;m++){g[m - 2]=arguments[m];}m=[];for(var l,n=f + Math.max(0,h),p=0;p < this.Wc.length;++p){q=this.Wc[p];u=this.Jh[p];t=this.Jh[p + 1];if(f < t){v=f - u;u=Math.min(n - u,q.length);void 0 === l && 0 < v && u < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spreadArray([v,u - v],c.__read(g),!1))):(Array.prototype.push.apply(m,q.splice(v,u - v)),void 0 === l && (l=0 < p && 0 === v?p - 1:p));f=t;if(f >= n)break;}}if(g.length && void 0 !== l){for(n=this.lJ(g[0]);0 < l && n < l && this.Wc[l].empty;){--l;}for(;g.length && n === l;){this.Wc[l].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}for(;g.length && ++l < this.Wc.length && this.Wc[l].empty;){for(;g.length && n === l;){this.Wc[l].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}}g.length && (d=this.Wc[l]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.lx();return m;};k.prototype.find=function(f){var h,d;h=this;return this.Wc.some(function(g,m){d=g.find(h.vA(f,m));return void 0 !== d;})?d:void 0;};k.prototype.findIndex=function(f){var d;for(var h=0;h < this.Wc.length;++h){d=this.Wc[h].findIndex(this.vA(f,h));if(-1 !== d)return d + this.Jh[h];}return -1;};k.prototype.indexOf=function(f){var d;for(var h=0;h < this.Wc.length;++h){d=this.Wc[h].indexOf(f);if(-1 !== d)return d + this.Jh[h];}return -1;};k.prototype.map=function(f){var h,d;h=this;d=this.Wc.map(function(g,m){return g.map(h.vA(f,m));});return Array.prototype.concat.apply([],d);};k.prototype.reduce=function(f,h){var d;d=this;return this.Wc.reduce(function(g,m,l){return m.reduce(d.Npb(f,l),g);},h);};k.prototype.forEach=function(f){var h;h=this;this.Wc.forEach(function(d,g){d.forEach(h.vA(f,g));});};k.prototype.l4=function(f){for(var h=this.Wc.length - 1;0 <= h;--h){this.Wc[h].l4(this.vA(f,h));}};k.prototype.some=function(f){var h;h=this;return this.Wc.some(function(d,g){return d.some(h.vA(f,g));});};k.prototype.Kva=function(f){for(var h=this.Wc.length - 1;0 <= h;--h){if(this.Wc[h].Kva(this.vA(f,h)))return !0;}return !1;};k.prototype.every=function(f){var h;h=this;return this.Wc.every(function(d,g){return d.every(h.vA(f,g));});};k.prototype.IEb=function(f,h){var n,p;function d(q){return q.reduce(function(u,t,v,w){return void 0 === t?u:void 0 === u?v:0 > f(t,w[u])?v:u;},void 0);}for(var g=this,m=this.Wc.map(function(){return 0;}),l=this.Wc.filter(function(q){return q.empty;}).length;l < this.Wc.length;){n=m.map(function(q,u){return q < g.Wc[u].length?g.Wc[u].get(q):void 0;});p=d(n);h(n[p],this.Jh[p] + m[p],this);++m[p];m[p] === this.Wc[p].length && ++l;}};k.prototype.move=function(f){return this.remove(f)?(this.et(f),!0):!1;};k.prototype.T_b=function(){var f;if(this.Wc[1].length){f=this.Wc[1].shift();this.Wc[0].push(f);this.lx();}};k.prototype.PWa=function(f){for(var h=-1,d=0;d < this.Wc.length;++d){if((h=f(this.Wc[d]),-1 !== h)){h+=this.Jh[d];break;}}return h;};k.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};k.prototype.lx=function(){var h;this.iA=0;this.Jh=[0];this.jJ=this.wJ=void 0;for(var f=0;f < this.Wc.length;++f){h=this.Wc[f];this.iA+=h.length;this.Jh.push(this.Jh[this.Jh.length - 1] + h.length);!this.wJ && h.length && (this.wJ=h);h.length && (this.jJ=h);}};k.prototype.vA=function(f,h){var d,g;d=this;g=this.Jh[h];return function(m,l){return f(m,g + l,d);};};k.prototype.Npb=function(f,h){var d,g;d=this;g=this.Jh[h];return function(m,l,n){return f(m,l,g + n,d);};};return k;})();b.qAa=r;},81989:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jTa=void 0;c=a(70655);k=a(95994);f=a(44724);b.jTa=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}k.K && (0,f.assert)(h.length);return function(g,m){var l,q,u;try{for(var n=c.__values(h),p=n.next();!p.done;p=n.next()){q=p.value;u=q(g,m);if(0 !== u)return u;}}catch(v){var t;t={error:v};}finally{try{p && !p.done && (l=n.return) && l.call(n);}finally{if(t)throw t.error;}}return 0;};};},74227:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jBa=void 0;c=a(44724);k=a(55575);f=a(93055);r=(function(){function h(d){this.EBb=d;this.vxa=!1;this.Y$=new f.cKa();}h.prototype.D5b=function(d,g){var l,n;function m(){var u,t,v,w,y,x;u=p.pop();t=u.node;v=u.O1;u=v.YUb;w=v.kF;v=v.state;if(!q.Y$.has(t)){u=g(t,w,u,v);y=u.X$;x=u.state;u.L1 || q.Y$.add(t);n(t).forEach(function(A){var z;z=A.n5b;l.Y$.has(z) || (A=w + A.weight,y && p.push({node:z,O1:{kF:A,YUb:t,state:x}}));});}}l=this;n=this.EBb;(0,c.assert)(!this.vxa);this.vxa=!0;this.Y$.clear();for(var p=new k.g_([{node:d,O1:{kF:0,state:{root:!1,complete:!0,Q8a:0,Kr:0}}}],function(u,t){return u.O1.kF - t.O1.kF;}),q=this;!p.empty;){m();}this.vxa=!1;};return h;})();b.jBa=r;},29374:function(r){function b(a){this.rQ=a;this.Ib=0;this.MJ=null;}b.prototype.add=function(a,c,k){null !== this.MJ && c > this.MJ && (this.Ib+=c - this.MJ,this.MJ=null);this.rQ.add(a,c - this.Ib,k - this.Ib,this.Ib);};b.prototype.stop=function(a){null === this.MJ && (this.MJ=a);};b.prototype.get=function(){return this.rQ.get();};b.prototype.reset=function(){this.rQ.reset();};b.prototype.toString=function(){return this.rQ.toString();};r.exports=b;},24068:function(r,b,a){function c(k,f){this.RJ=k;this.uj=Math.floor((k + f - 1) / f);this.xd=f;this.reset();}a(44724);c.prototype.shift=function(){this.yd.shift();this.Su.shift();};c.prototype.xt=function(k){return this.TRa(this.yd[k],k);};c.prototype.update=function(k,f){this.yd[k]=(this.yd[k] || 0) + f;};c.prototype.push=function(){this.yd.push(0);this.Su.push(0);this.jb+=this.xd;};c.prototype.add=function(k,f,h){var d,g,m;if(null === this.jb){d=Math.max(Math.floor((h - f + this.xd - 1) / this.xd),1);for(this.jb=f;this.yd.length < d;){this.push();}}for(;this.jb <= h;){this.push();this.yd.length > this.uj && this.shift();}if(null === this.Bn || f < this.Bn)this.Bn=f;if(f > this.jb - this.xd)this.update(this.yd.length - 1,k);else if(f == h)(d=this.yd.length - Math.max(Math.ceil((this.jb - h) / this.xd),1),0 <= d && this.update(d,k));else for(d=1;d <= this.yd.length;++d){g=this.jb - d * this.xd;m=g + this.xd;if(!(g > h)){if(m < f)break;this.update(this.yd.length - d,Math.round(k * (Math.min(m,h) - Math.max(g,f)) / (h - f)));}}for(;this.yd.length > this.uj;){this.shift();}};c.prototype.start=function(k){null === this.Bn && (this.Bn=k);null === this.jb && (this.jb=k);};c.prototype.stop=function(k){var f,h;if(null !== this.jb)if(k - this.jb > 10 * this.RJ)this.reset();else {for(;this.jb <= k;){this.push();this.yd.length > this.uj && this.shift();}f=this.yd.length - Math.ceil((this.jb - this.Bn) / this.xd);h=this.yd.length - Math.ceil((this.jb - k) / this.xd);if(0 <= h)if((0 > f && (this.Bn=this.jb - this.xd * this.yd.length,f=0),f === h))this.Su[f]+=k - this.Bn;else if(h > f)for((this.Su[f]+=(this.jb - this.Bn) % this.xd,this.Su[h]+=this.xd - (this.jb - k) % this.xd,k=f + 1);k < h;++k){this.Su[k]=this.xd;}this.Bn=null;}};c.prototype.TRa=function(k,f){f=this.Ula(f);return 0 === f?null:8 * k / f;};c.prototype.Ula=function(k){var f;f=this.Su[k];null !== this.Bn && (k=this.jb - (this.yd.length - k - 1) * this.xd,k > this.Bn && (f=k - this.Bn <= this.xd?f + (k - this.Bn):this.xd));return f;};c.prototype.get=function(k,f){var h,d;h=this.yd.map(this.TRa,this);if("last" === k)for(k=0;k < h.length;++k){null === h[k] && (h[k]=0 < k?h[k - 1]:0);}else if("average" === k){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.xd));for(k=0;k < h.length;++k){null === h[k]?h[k]=Math.floor(d || 0):d=void 0 !== d?f * h[k] + (1 - f) * d:h[k];}}return h;};c.prototype.reset=function(){this.xac || (this.yd=[],this.Su=[],this.Bn=this.jb=null);};c.prototype.setInterval=function(k){this.uj=Math.floor((k + this.xd - 1) / this.xd);};r.exports=c;},54907:function(r,b,a){var k;function c(f,h,d){var g,l,n;if(f === h || !d.gm && f == h)return !0;if(typeof f !== typeof h)return !1;if(f && "object" === typeof f){for(var m in f){if(!c(f[m],h[m],d))return !1;}if(!d.Sub){l=Object.keys(f);n=Object.keys(h).filter(function(t){return 0 > l.indexOf(t);});try{for(var p=k.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(f[m],h[m],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.l3=void 0;k=a(70655);b.l3=function(f,h,d){void 0 === d && (d={});d=k.__assign({gm:!1,Sub:!1},d);return c(f,h,d);};},7670:function(r,b){function a(c){var k,f;k=Math.abs(c);f=1 / (1 + k / 2);k=f * Math.exp(-k * k - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?k:2 - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Cb=b.T_a=b.WK=void 0;b.WK=a;b.T_a=function(c){var k,f,d;if(2 <= c)return -100;if(0 >= c)return 100;k=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(k / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var h=0;2 > h;h++){d=a(f) - k;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.$Cb=function(c){return 1 - a(c);};},3346:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jCa=void 0;c=a(70655);r=(function(){function f(h,d){void 0 === d && (d={});this.Rn=h;this.options=d;this.vF=[];this.gG=new k(h,this.yqb.bind(this));}f.prototype.yqb=function(h){for(var d,g,m,l,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Lq:h,zq:q};(null !== (m=null === (g=(d=this.options).f0b) || void 0 === g?void 0:g.call(d,q,this.vF)) && void 0 !== m?m:1) && this.vF.push(q);return null !== (p=null === (n=(l=this.options).Dfc) || void 0 === n?void 0:n.call(l,q)) && void 0 !== p?p:!0;};f.prototype.Z8=function(h){this.vF=this.vF.filter(function(d,g){return !h(d,g);});};f.prototype.Lta=function(){var h;h=this;this.gG.Swa();this.vF.forEach(function(d){var g;(g=h.Rn).emit.apply(g,c.__spreadArray([d.Lq],c.__read(d.zq),!1));});this.gG.E0a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.vF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.vF=[];};f.prototype.Qa=function(){this.clear();this.gG.Swa();this.options=void 0;};return f;})();b.jCa=r;k=(function(){function f(h,d){this.Rn=h;this.Fs=d;this.J5a=this.Rn.emit;this.Byb();this.E0a();}f.prototype.Byb=function(){var h;h=this;this.gG=function(d){for(var g,m,l=[],n=1;n < arguments.length;n++){l[n - 1]=arguments[n];}return (null === (m=h.Fs) || void 0 === m?0:m.call.apply(m,c.__spreadArray([h,d],c.__read(l),!1)))?(g=h.J5a).call.apply(g,c.__spreadArray([h.Rn,d],c.__read(l),!1)):!1;};};f.prototype.E0a=function(){this.gG && (this.Rn.emit=this.gG);};f.prototype.Swa=function(){this.Rn.emit=this.J5a;};f.prototype.Qa=function(){this.Swa();this.Fs=this.gG=void 0;};return f;})();},68710:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(7670);r=(function(){function k(f,h){this.Ea=f;this.$d=h;}k.prototype.gSa=function(f){return .5 * (0,c.WK)(-(f - this.Ea) / Math.sqrt(2 * this.$d));};k.prototype.Sv=function(f){return this.Ea - Math.sqrt(2 * this.$d) * (0,c.T_a)(2 * f);};return k;})();b["default"]=r;},87357:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mB=void 0;b.mB=function(a,c){var k;a=Math.abs(a);for(c=Math.abs(c);c;){k=c;c=a % c;a=k;}return a;};},38761:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l5=void 0;b.l5=function(a){return ("( ").concat(a.I,", ").concat(a.offset.ob()," )");};},18934:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Rx=void 0;c=a(70655);k=a(70950);b.Rx=function(f,h,d,g){var m,l,n,u,t,v;void 0 === g && (g={});n=k.N.max(d,k.N.Ia);try{for(var p=c.__values(Object.keys(f.L)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.L[u];if(t.J === h){v=k.N.Na(t.va);if(n.ji(v) && (!isFinite(null !== (l=t.ta) && void 0 !== l?l:NaN) || n.lessThan(k.N.Na(t.ta))))return {I:u,offset:d.wa(v)};}}}catch(y){var w;w={error:y};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(w)throw w.error;}}if(g.z9a && (t=Object.keys(f.L).map(function(y){return {key:y,u:f.L[y]};}).filter(function(y){return y.u.J === h;}).map(function(y){var x,A;x=k.N.abs(d.wa(k.N.Na(y.u.va)));if(y.u.ta && isFinite(y.u.ta)){A=k.N.abs(d.wa(k.N.Na(y.u.ta)));x=k.N.min(x,A);}return c.__assign(c.__assign({},y),{Pn:x});}),t.sort(function(y,x){return y.Pn.G - x.Pn.G;}),v=c.__read(t,1)[0]))return (t=v.u,g=v.key,v=k.N.Na(t.va),{I:g,offset:d.wa(v)});};},74005:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Bkb=b.DCa=void 0;r=a(70655);r.__exportStar(a(50623),b);r.__exportStar(a(312),b);r.__exportStar(a(70950),b);r.__exportStar(a(28330),b);r.__exportStar(a(17039),b);r.__exportStar(a(84144),b);r.__exportStar(a(55775),b);r.__exportStar(a(91932),b);r.__exportStar(a(54907),b);r.__exportStar(a(80657),b);r.__exportStar(a(37481),b);r.__exportStar(a(35269),b);c=r.__importDefault(a(68710));b.DCa=c.default;a=r.__importDefault(a(41176));b.Bkb=a.default;},9133:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.a_=void 0;c=a(7670);r=(function(){function k(f,h){this.Lqa=f;this.$d=h;0 < h?(this.R1a=h=Math.pow(f,3) / h,f=2 * h / f,500 >= f && (this.cla=Math.exp(f))):this.cla=0;}k.prototype.gSa=function(f){var h,d,g;h=this.Lqa;d=this.cla;if(d && 0 < f){g=Math.sqrt(this.R1a / (2 * f));h=f / h;f=(0,c.WK)(g * (h - 1));g=(0,c.WK)(g * (h + 1));return Math.max((2 - f + d * g) / 2,0);}return f < h?0:f > h?1:.5;};k.prototype.Sv=function(f,h,d){for(var g=0,m=this.Lqa + 5 * Math.sqrt(this.$d),l=1,n=0;Math.abs(l) > h && d--;){n=(g + m) / 2;l=this.gSa(n);l=f - l;0 > l?m=n:g=n;}return n;};k.prototype.zub=function(f){var h,d,g,m;h=this.Lqa;d=this.cla;if(d && 0 < f){g=Math.sqrt(this.R1a / (2 * f));m=f / h;f=2 - (0,c.WK)(g * (m - 1));d*=(0,c.WK)(g * (m + 1));return [Math.max((f + d) / 2,0),Math.max(h * (f - d) / 2,0)];}return f < h?[0,0]:f > h?[1,h]:[.5,h / 2];};return k;})();b.a_=r;},29083:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W1a=void 0;b.W1a=function(a){var c,k;c=a.next();do {if(!c.done)k=c.value;c=a.next();}while(!c.done);return k;};},35269:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dy=void 0;b.Dy=function(a){var c,k,f,h,d,g;g=null === (c=a.u) || void 0 === c?void 0:c.id;return {ab:null === (k=a.Bb) || void 0 === k?void 0:k.G,duration:(null === (f=a.Mb) || void 0 === f?NaN:f.G) - (null === (h=a.Bb) || void 0 === h?NaN:h.G),offset:a.offset,xa:a.xa,bitrate:a.bitrate,profile:a.profile,Hd:!!a.Hd,I:g,Nb:a.Nb,Dc:a.Dc,location:a.location,Tg:a.Tg,pp:null === (d=a.Ma) || void 0 === d?void 0:d.G,yt:{tb:{u:{id:g || "unknown"}}}};};},82922:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NRa=void 0;c=a(94522);k=a(59151);b.NRa=function(){return function(f){var g,m,l,n;function h(p){n[p]=function(q){return m({rules:[{Lj:p,config:q}]},!0);};}function d(p){g[p]=function(q){return m({rules:[{Lj:p,config:q}]});};}g={};m=(0,c.map)(f.g3a);for(l in f.sN){d(l);}g.L7=m({rules:[],eha:!0});g.gm=m({rules:[],gm:!0});n={};for(l in f.sN){h(l);}n.L7=m({rules:[],eha:!0},!0);n.gm=m({rules:[],gm:!0},!0);g.return=n;return {Uja:g,lua:f,ata:function(p,q,u,t){return (0,k.UTa)(p,q,u,f.sN,f.g3a,t);}};};};},94522:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.l9a=b.UYa=b.map=void 0;c=a(70655);a(62772);b.map=function(k){return function(f,h){void 0 === h && (h=!1);return function(d,g,m){var l,n,p,q,u,t,v,w;u=Reflect.iZa(k,d,g) || ({});v="number" === typeof m;w=h;(t=v?null !== (n=(null !== (l=u.qb) && void 0 !== l?l:{})[m]) && void 0 !== n?n:{}:w?u.return:u.vqa) || (t={rules:[]});l=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});v?(u.qb || (u.qb={}),u.qb[m]=l):w?u.return=l:u.vqa=l;Reflect.p3(k,u,d,g);};};};b.UYa=function(k){return function(f,h){var d,g,m,l;f=null !== (l=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (m=null === f || void 0 === f?void 0:f.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== l?l:f;for(var n;f && void 0 === n;){n=Reflect.iZa(k,f,h);f=f.__proto__;}return n;};};b.l9a=function(){return function(){return function(k){return k;};};};},59151:function(r,b,a){var d,g,m,l,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function k(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var v;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(v,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function h(p,q,u,t){var y;for(var v=[],w=4;w < arguments.length;w++){v[w - 4]=arguments[w];}y=t();if((null === y || void 0 === y?0:y.vqa) || (null === y || void 0 === y?0:y.qb))v=v.map(function(x,A){var z;A=(0,n.S3a)(y.vqa,null === (z=y.qb) || void 0 === z?void 0:z[A]);return (0,l.o9)(q,x,u,A);});v=p.call.apply(p,d.__spreadArray([void 0],d.__read(v),!1));return (null === y || void 0 === y?0:y.return)?(0,l.o9)(q,v,u,y.return,m.ou.Uwa):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.tFb=b.qAb=b.UTa=void 0;d=a(70655);g=a(94522);m=a(41937);l=a(28005);n=a(66706);b.UTa=function(p,q,u,t,v,w){var y,x;void 0 === w && (w=[]);y={};x=(0,g.UYa)(v);f(q,p);w.forEach(function(A){return f(A,p);});return new Proxy(p,{get:function(A,z){var B,C,D,F;if("__proxyCtor" === z)return null !== (B=p[z]) && void 0 !== B?B:p.constructor;if((z in q)){F=q[z];return "function" === typeof F?F.bind(q):F;}B=y[z];if(!B && !k(y,z)){B=null !== (D=null === (C=null === A || void 0 === A?void 0:A.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:A;C=null !== (F=c(B,z)) && void 0 !== F?F:c(B.__proxyCtor,z);F=k(B,z);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=x.bind(null,C,z),A=h.bind(A,F.bind(A),u,t,C),Object.defineProperty(y,z,{get:A,enumerable:!0,configurable:!0}),A());F=A[z];return "function" === typeof F?(C=x.bind(null,A,z),A=h.bind(A,F.bind(A),u,t,C),y[z]=A):F;}return B;},set:function(A,z,B){if((z in q))return (q[z]=B,!0);A[z]=B;delete y[z];return !0;}});};b.qAb=f;b.tFb=h;},41937:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ou=void 0;r=b.ou || (b.ou={});r[r.Uwa=0]="up";r[r.vS=1]="down";},28005:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.o9=void 0;c=a(70655);k=a(44724);f=a(41937);b.o9=function(h,d,g,m,l,n){var p,q;void 0 === l && (l=f.ou.vS);p=h();if(m && p){q=m.eha;h=m.gm;m=m.rules.map(function(u){return ["function" === typeof u.Lj?u.Lj(g):g[u.Lj],u.config];});q || (0,k.assert)(d,"Param is null");n && m.push([{map:n,Fx:function(){return !0;}},void 0]);n=m.filter(function(u){u=c.__read(u,2);return u[0].Fx(d,p,u[1]);});h && (0,k.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,l,p,t[1]);},d);}return d;};},66706:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.S3a=void 0;c=a(70655);k=a(4145);b.S3a=function(f,h){var d;if(f || h){d=(null === f || void 0 === f?0:f.rules) && (null === h || void 0 === h?0:h.rules)?(0,k.U1)(f.rules,h.rules):(null === f || void 0 === f?void 0:f.rules) || (null === h || void 0 === h?void 0:h.rules);return c.__assign(c.__assign(c.__assign({},f),h),{rules:d});}};},55575:function(r,b,a){var k;function c(f,h){return f < h?-1:f > h?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.g_=void 0;k=a(70655);r=(function(){function f(h,d){this.data=null !== h && void 0 !== h?h:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(h=(this.length >> 1) - 1;0 <= h;h--){this.afa(h);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(h){this.data.push(h);this.wPa(this.length - 1);};f.prototype.pop=function(){var h,d;if(!this.empty){h=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.afa(0));return h;}};f.prototype.xt=function(){return this.data[0];};f.prototype.map=function(h){return this.data.map(h);};f.prototype.find=function(h){return k.__read(this.data.filter(h),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(h){var d,g,m;d=this.data;h=d.indexOf(h);if(-1 !== h){g=d.pop();if(h < d.length){d[h]=g;m=h - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(g,d)?this.wPa(h):this.afa(h);}}};f.prototype.Bsb=function(){for(var h=this.data,d=1;d < h.length;d++){if(0 > this.compare(h[d],h[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(h));}};f.prototype.contains=function(h){return 0 <= this.data.indexOf(h);};f.prototype.Hr=function(){return this.data.concat([]);};f.prototype.wPa=function(h){for(var d=this.data,g=this.compare,m=d[h],l,n;0 < h;){l=h - 1 >> 1;n=d[l];if(0 <= g(m,n))break;d[h]=n;h=l;}d[h]=m;};f.prototype.afa=function(h){for(var d=this.data,g=this.compare,m=this.length >> 1,l=d[h],n,p,q;h < m;){n=(h << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,l))break;d[h]=q;h=n;}d[h]=l;};return f;})();b.g_=r;},28330:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;c=a(4145);k=a(44724);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var h;h=this;return Object.keys(this.data).reduce(function(d,g){return d + h.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(h){var d;return null !== (d=this.data[h]) && void 0 !== d?d:[];};f.prototype.has=function(h,d){return (h=this.data[h])?void 0 === d?!0:-1 !== h.indexOf(d):!1;};f.prototype.count=function(h){return (h=this.data[h])?h.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var h;h=this;return (0,c.flatten)(this.keys().map(function(d){return h.data[d];}));};f.prototype.set=function(h,d){(this.data[h] || (this.data[h]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(h,d){var g,m;g=this.data[h];if(void 0 === g)return !1;if(void 0 === d)return ((0,k.assert)(1 === arguments.length),delete this.data[h],!0);m=g.indexOf(d);if(-1 === m)return !1;1 === g.length?delete this.data[h]:g.splice(m,1);return !0;};f.prototype.forEach=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;this.keys().forEach(function(m){return g.data[m].forEach(function(l){return h(l,m,g);});});};f.prototype.reduce=function(h,d,g){var m,l;m=this;h=void 0 !== g?h.bind(g):h;l=d;this.forEach(function(n,p){l=h(l,n,p,m);});return l;};f.prototype.map=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].map(function(l){return h(l,m,g);});}));};f.prototype.filter=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].filter(function(l){return h(l,m,g);});}));};return f;})();b.GGa=r;},71016:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yca=void 0;r=(function(){function a(c,k,f,h){var d;d=this;this.properties=c;this.transform=k;this.Fs=f;this.state=h;this.qa();c.forEach(function(g){return g.addListener(d.yra);});this.yra();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(k){return k.removeListener(c.yra);});};a.prototype.W0a=function(c){return void 0 !== c.equal;};a.prototype.qa=function(){var c;c=this;this.yra=function(){var k,f;k=c.state;f=c.properties.map(function(h){return h.value;});c.state=c.transform(f);(c.W0a(c.state) && c.W0a(k)?c.state.equal(k):k === c.state) || c.Fs(c.state);};};return a;})();b.Yca=r;},50623:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uw=b.Skb=void 0;c=a(70655);k=a(71016);f=a(55775);r=(function(){function h(d,g){this.Pa=d;this.iy=g?[g]:[];}Object.defineProperties(h.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});h.prototype.addListener=function(d){-1 === this.iy.indexOf(d) && (this.iy=this.iy.slice(),this.iy.push(d));};h.prototype.removeListener=function(d){d=this.iy.indexOf(d);-1 !== d && (this.iy=this.iy.slice(),this.iy.splice(d,1));};return h;})();b.Skb=r;r=(function(h){function d(g,m){return h.call(this,g,m) || this;}c.__extends(d,h);d.Hdb=function(g,m,l){return new k.Yca(g,m,l,!1);};d.O5b=function(g,m,l){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(n=void 0,p=new Promise(function(t){n=q.Hdb(g,m,t);}),u.label=1);case 1:return (u.Vj.push([1,,6,7]),l?[4,(0,f.K7a)(l,p)]:[3,3]);case 2:return [2,u.Ra()];case 3:return [4,p];case 4:return [2,u.Ra()];case 5:return [3,7];case 6:return (n.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Pa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var m;m=this.Pa;m !== g && (this.Pa=g,this.iy.forEach(function(l){return l({oldValue:m,newValue:g});}));};return d;})(r);b.Uw=r;},42229:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.z0a=void 0;c=a(70655);b.z0a=function(k,f){var m,l,n,p,q,u,t,y,x,A,z,B,C,D;for(var h,d,g=0;g < k.length;g++){m=c.__read(f,3);l=m[0];n=m[1];p=m[2];q=c.__read(k[g],3);u=q[0];m=q[1];t=q[2];if(!(l >= m)){l=[l,Math.min(m,n),u,m].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=l.length - 1;q=Array(u);p+=t;try{for(var v=(h=void 0,c.__values([f,k[g]])),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,3);x=y[0];A=y[1];z=y[2];t=A - x;for(f=0;f < u;f++){B=l[f + 1];C=Math.min(B,A) - Math.max(l[f],x);if(0 < C){D=C * z / t;p-=D;q[f]=q[f]?q[f] + D:D;}if(A <= B)break;}}}catch(F){h={error:F};}finally{try{w && !w.done && (d=v.return) && d.call(v);}finally{if(h)throw h.error;}}t=[];for(f=0;f < u;f++){z=q[f];0 < z && t.push([l[f],l[f + 1],z]);}k.splice.apply(k,c.__spreadArray([g,1],c.__read(t),!1));if(m < n)f=[m,n,p];else return;}}f && 0 < f[2] && k.splice(k.length,0,f);};},41176:function(r){function b(a){this.Jnb=a;this.oE=[];this.uA=!1;this.iga=void 0;this.ym={};}b.prototype.dQa=function(a){this.oE.length === this.Jnb && this.oE.shift();Array.isArray(a)?this.oE=this.oE.concat(a):this.oE.push(a);this.uA=!0;};b.prototype.BT=function(){return this.oE.length;};b.prototype.jK=function(a){var c,k,f;if(this.uA || void 0 === this.iga)(this.iga=this.oE.slice(0).sort(function(h,d){return h - d;}),this.ym={},this.uA=!1);if(void 0 === this.ym[a]){c=this.iga;k=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.ym[a]=k === c.length - 1?c[k]:c[k] + f * (c[k + 1] - c[k]);}return this.ym[a];};r.exports=b;},55775:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.K7a=b.Lz=b.Poa=void 0;c=a(70655);k=a(26732);b.Poa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var h;h=this;this.ZOa=!1;this.promise=new Promise(function(d){h.XOa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gua:{get:function(){return this.ZOa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(h){var d;this.ZOa=!0;null === (d=this.XOa) || void 0 === d?void 0:d.call(this,h);this.XOa=void 0;};return f;})();b.Lz=r;b.K7a=function(f,h){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,k.rha)(f),[4,Promise.race([d,h])]);case 1:return [2,g.Ra()];}});});};},36024:function(r,b){var k,f,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.WMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{WMa:{value:{},configurable:!1,enumerable:!1}})).WMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qda=void 0;f=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;h=Date.now() % f;r=(function(){function d(){this.id=h=(h + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,m){c(g)[this.id]=m;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Qda=r;},93055:function(r,b){var k,f,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.XMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{XMa:{value:{},configurable:!1,enumerable:!1}})).XMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.cKa=void 0;f=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;h=Date.now() % f;r=(function(){function d(){this.G9=0;this.id=h=(h + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.G9;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.G9;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.G9=(this.G9 + 1) % f;return this;};return d;})();b.cKa=r;},15163:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ukb=void 0;c=a(70655).__importDefault(a(29736));k=a(69565);f=["",""];r=(function(){function h(d){this.Cb=d;this.complete=this.append=this.i4=this.vpa=this.open=0;}Object.defineProperties(h.prototype,{console:{get:function(){return k.hq.wv(this.Cb.mediaType);},enumerable:!1,configurable:!0}});h.prototype.BSb=function(){this.open=c.default.time.Da();};h.prototype.vSb=function(){this.vpa=c.default.time.Da();this.Tu();};h.prototype.rSb=function(){this.i4=c.default.time.Da();this.Tu();};h.prototype.gSb=function(){this.append=c.default.time.Da();this.Tu();};h.prototype.Q7=function(){this.complete=c.default.time.Da();this.Tu();};h.prototype.Tu=function(){var d;d=("RequestLedger ID: ").concat(this.Cb.Tg());d+=(" load-open: ").concat(this.vpa - this.open);0 < this.i4 && (" firstbyte-load: ").concat(this.i4 - this.vpa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.i4);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.Cb.mediaType,this.Cb.Nd && this.complete - this.open > this.Cb.Nd.G?((" duration: ").concat(this.Cb.Nd.G),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return h;})();b.Ukb=r;},40001:function(r,b,a){var k,f,h,d,g;function c(m,l){return m.time - l.time || m.priority - l.priority || m.id - l.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.$ob=b.F2=b.N9=void 0;r=a(70655);k=a(95994);f=r.__importDefault(a(29736));h=a(44724);d=a(55575);g=(function(){function m(){var l;l=this;this.Ao=new d.g_([],c);this.xwa=0;this.console=new f.default.Console("SETTIMEOUT");this.lDb=function(){var n,p;n=f.default.time.Da();l.nX=void 0;k.K && l.console.trace(("[").concat(n,"] Wake"));try{for(;!l.Ao.empty && l.Ao.xt().time <= n;){p=l.Ao.pop();k.K && l.console.trace(("[").concat(f.default.time.Da(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Fs();}}finally{l.zua();}};}Object.defineProperties(m,{instance:{get:function(){return m.qs || (m.qs=new m());},enumerable:!1,configurable:!0}});m.bga=function(){(0,h.assert)(void 0 === m.qs || m.qs.Ao.empty,"Singleton SetTimeoutWithPriority reset with pending timers");m.qs=void 0;};m.prototype.N9=function(l,n,p){var q,u,t;(0,h.assert)(isFinite(n) && 0 <= n);q=this.Ao;u=f.default.time.Da();t=u + n;q.push({id:++this.xwa,time:t,priority:p,Fs:l});k.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.xwa," scheduled for ").concat(t," in ").concat(n,"ms"));this.zua();return this.xwa;};m.prototype.F2=function(l){var n,p,q;n=this.Ao;p=n.find(function(u){return u.id === l;});if(p){q=n.xt().time;n.remove(p);k.K && this.console.trace(("[").concat(f.default.time.Da(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.xt().time > q) && this.zua();}};m.prototype.LSa=function(){this.nX && (clearTimeout(this.nX.id),k.K && this.console.trace(("[").concat(f.default.time.Da(),"] Clearing wake timer")),this.nX=void 0);};m.prototype.zua=function(){var l,n;n=this.Ao;n.empty?this.LSa():(n=n.xt().time,n !== (null === (l=this.nX) || void 0 === l?void 0:l.time) && (this.LSa(),l=Math.max(0,n - f.default.time.Da()),k.K && this.console.trace(("[").concat(f.default.time.Da(),"] Setting wake timer for ").concat(n," in ").concat(l,"ms")),this.nX={id:setTimeout(this.lDb,l),time:n}));};return m;})();b.N9=function(m,l,n){return g.instance.N9(m,l,n);};b.F2=function(m){g.instance.F2(m);};b.$ob=function(){g.bga();};},84144:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dLa=b.cLa=void 0;c=a(4145);r=(function(){function k(f){this.Pa=f;this.listeners=[];this.BV=[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});k.prototype.set=function(f){var h;this.Pa=f;h=this.BV;this.BV=[];this.listeners.forEach(function(d){return d(f);});h.forEach(function(d){return d(f);});};k.prototype.Y8a=function(){this.Pa=void 0;};k.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Pa && f(this.Pa);};k.prototype.once=function(f){void 0 !== this.Pa?f(this.Pa):this.BV.push(f);};k.prototype.kr=function(f){this.listeners=this.listeners.filter(function(h){return h !== f;});this.BV=this.BV.filter(function(h){return h !== f;});};return k;})();b.cLa=r;r=(function(){function k(){this.listeners=[];}k.prototype.on=function(f,h){this.listeners.push({signal:f,listener:h});f.on(h);};k.prototype.once=function(f,h){var d,g;d=this;if(void 0 === f.value){g=function(m){d.remove(f,h);h(m);};this.listeners.push({signal:f,listener:h,Ndb:g});f.once(g);}else f.once(h);};k.prototype.kr=function(f,h){var d,g;g=(0,c.qc)(this.listeners,function(m){return m.signal === f && m.listener === h;});void 0 !== g && f.kr(null !== (d=g.Ndb) && void 0 !== d?d:g.listener);this.remove(f,h);};k.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var h,d;h=f.listener;d=f.Ndb;return f.signal.kr(null !== d && void 0 !== d?d:h);});this.listeners=[];};k.prototype.remove=function(f,h){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== h;});};return k;})();b.dLa=r;},80657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yu=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Ea=NaN;}Object.defineProperties(a.prototype,{Vv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ea=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ea+=(c - this.Ea) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ea,count:this.count};};return a;})();b.yu=r;},50971:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(68330),b);r.__exportStar(a(17695),b);r.__exportStar(a(49580),b);r.__exportStar(a(73388),b);r.__exportStar(a(56824),b);},68330:function(r,b,a){var c,k,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wEa=void 0;c=a(70655);k=a(70950);f=a(44724);a(89383);h=c.__importDefault(a(29736));d=a(49580);g=a(56824);r=(function(m){function l(n,p,q){p=m.call(this,p,q) || this;p.cZb=n;p.Afa=!1;p.Y0=!1;p.reset();return p;}c.__extends(l,m);l.prototype.reset=function(){var n,p;if(this.zc === d.Ik.p9 || this.zc === d.Ik.pending)null === (p=null === (n=this.rJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);m.prototype.reset.call(this);this.rJ=this.cZb();this.Y0=!1;this.NQ=g.Pg.ZC(k.N.Ia);};l.prototype.Vf=function(){this.reset();(0,f.assert)(this.Gn);this.Gn.iua(this);};l.prototype.C7=function(){return this.NQ;};l.prototype.Hf=function(){var n,p,q,u,t;try{this.Afa=!0;t=null !== (p=null === (n=this.rJ) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.Afa=!1;this.Cnb=h.default.time.Da();this.Vub();}t.done?(this.NQ=g.Pg.yxa,null === (u=null === (q=this.rJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.rJ=void 0):this.NQ=t.value;};l.prototype.Vub=function(){this.Y0 && this.XUa();};l.prototype.XUa=function(){var n,p;this.Afa?this.Y0=!0:(this.Y0=!1,null === (p=null === (n=this.rJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.rJ=void 0);};l.prototype.Qa=function(){this.XUa();m.prototype.Qa.call(this);};l.prototype.tv=function(){return {state:d.Ik[this.state],nextWakeup:{ms:this.NQ.timestamp.G,type:g.S_[this.NQ.type]},lastRunMono:this.Cnb};};return l;})(d.qea);b.wEa=r;},17695:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fLa=void 0;c=a(70655);k=a(49580);f=a(56824);r=(function(h){function d(g,m,l,n){void 0 === n && (n={});l=h.call(this,l) || this;l.Dua=g;l.Fs=m;l.options=n;return l;}c.__extends(d,h);d.prototype.C7=function(){return this.zc === k.Ik.pending?this.Dua:f.Pg.yxa;};d.prototype.Hf=function(){this.Fs();};d.prototype.Vf=function(){this.options.Efc?(h.prototype.reset.call(this),this.Gn.iua(this)):this.Qa();};return d;})(k.qea);b.fLa=r;},49580:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qea=b.Ik=void 0;c=a(56824);(function(f){f[f.pending=0]="pending";f[f.p9=1]="running";f[f.complete=2]="complete";f[f.iF=3]="destroyed";})(k=b.Ik || (b.Ik={}));r=(function(){function f(h,d){void 0 === d && (d=0);this.name=h;this.priority=d;this.zc=k.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{L0a:{get:function(){return this.zc === k.pending || this.zc === k.p9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kd:{get:function(){return this.Gn;},enumerable:!1,configurable:!0}});f.prototype.Yrb=function(h){var d;null === (d=this.Gn) || void 0 === d?void 0:d.a9(this);this.Gn=h;};f.prototype.tN=function(){this.zc=k.p9;this.Hf();this.C7() === c.Pg.yxa && (this.zc=k.complete);};f.prototype.Qa=function(){var h;this.zc=k.iF;null === (h=this.Gn) || void 0 === h?void 0:h.a9(this);};f.prototype.mSa=function(h){this.Gn.a9(this);this.Gn=h;this.Gn.iua(this);};f.prototype.tv=function(){};f.prototype.reset=function(){this.zc=k.pending;};return f;})();b.qea=r;},73388:function(r,b,a){var k,f,h,d,g,m,l,n,p,q,u,t,v,w,y;function c(x){var A,z,B,C,D,F;A=x.sa;z=x.Fs;B=x.Fdb;C=x.im;x=x.priority;D=void 0 === x?0:x;(0,g.assert)(A.li,("Current time: ").concat(n.default.time.Da()," cr: ").concat(A.currentTime));(0,g.assert)(A.currentTime.isFinite());x=B.wa(A.currentTime);x=Math.max(Math.ceil(x.Sy / A.speed),0);F=null !== C && void 0 !== C?C:{id:void 0,RUa:x,f5a:0,bTb:x};F.id=(0,p.N9)(function(){B.wa(A.currentTime).VB(h.N.Ia)?z():(F.f5a++,c({sa:A,Fs:z,Fdb:B,im:F,priority:D}));},x,D);F.RUa=x;return F;}Object.defineProperties(b,{__esModule:{value:!0}});b.$$=b.YP=void 0;k=a(70655);f=a(28075);h=a(70950);d=a(55575);g=a(44724);m=a(95994);l=a(81989);n=k.__importDefault(a(29736));p=a(40001);q=a(49580);u=a(68330);t=a(17695);v=a(56824);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{UH:{get:function(){return this.mga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{L4a:{get:function(){return this.aob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nzb:{get:function(){return this.zmb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Aua:{get:function(){return this.cpb;},enumerable:!1,configurable:!0}});x.prototype.set=function(A,z,B){this.zmb=z === y.E7?0:n.default.time.Da();this.aob=A;this.cpb=z;m.K && (0,g.assert)(!this.mga,"Invalid replacement of timeout value");this.mga=B;};x.prototype.complete=function(){this.mga=void 0;this.set(h.N.Dp,y.E7);};return x;})();(function(x){x[x.E7=0]="none";x[x.U3a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function A(z,B,C,D){var F;void 0 === C && (C="unknown");void 0 === D && (D=0);F=x.call(this) || this;F.sa=z;F.console=B;F.name=C;F.priority=D;F.Znb=0;F.M0=!1;F.Zea=!1;F.ek=new w();F.U3=new f.gf();F.Ki=new d.g_([],(0,l.jTa)(function(G,E){return G.oH.Lk(E.oH);},function(G,E){return E.Bk.priority - G.Bk.priority;},function(G,E){return G.Bk.id > E.Bk.id?1:G.Bk.id < E.Bk.id?-1:0;}));F.XQa(z);return F;}k.__extends(A,x);Object.defineProperties(A.prototype,{Z_b:{get:function(){return this.sa.li;},enumerable:!1,configurable:!0}});A.prototype.dUa=function(z,B){z=new (z.bind.apply(z,k.__spreadArray([void 0],k.__read(B),!1)))();z.id=this.Znb++;z.Yrb(this);this.Vga(z);return z;};A.prototype.Tx=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.dUa(u.wEa,z);};A.prototype.tv=function(){var z;z={hasSchedule:!!this.ek.UH,schedule:this.ek.UH && ({sleepTime:this.ek.UH.RUa,originalSleepTime:this.ek.UH.bTb,clockSkewAdjustments:this.ek.UH.f5a}),nextWakeup:this.ek.L4a.G,timeScheduled:this.ek.nzb,scheduleType:y[this.ek.Aua],numTasks:this.Ki.length,clock:{ir:this.sa.li,ct:this.sa.currentTime.G,sp:this.sa.speed}};m.K && this.trace("audit",z);return z;};A.prototype.UA=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.dUa(t.fLa,z);};A.prototype.NTa=function(z,B,C){return this.Tx(function(){return k.__generator(this,function(D){switch(D.label){case 0:return [4,v.Pg.ZC(B)];case 1:return (D.Ra(),z(),[3,0]);case 2:return [2];}});},C);};A.prototype.XQa=function(z){var B;B=this;this.Jx();this.U3.clear();this.sa=z;this.U3.on(z,"stopStart",function(){return B.dN();});this.U3.on(z,"clockAdjusted",function(){return B.sV();});this.U3.on(z,"speedChanged",function(){return B.PSb();});this.sV();this.emit("clockChanged");};A.prototype.PSb=function(){this.Jx();this.dN();};A.prototype.Qa=function(){this.reset();this.M0 && (this.Zea=!0);};A.prototype.reset=function(){var z;this.Jx();z=this.Ki.Hr();this.Ki.clear();z.forEach(function(B){return B.Bk.Qa();});};A.prototype.Vf=function(){var z;this.Jx();z=this.Ki.Hr();this.Ki.clear();z.forEach(function(B){return B.Bk.Vf();});};A.prototype.sV=function(){var z,B;z=this;B=this.Ki.map(function(C){return C.Bk;});this.Jx();this.Ki.clear();B.forEach(function(C){return z.Vga(C,!1);});this.dN();};A.prototype.Vga=function(z,B){var C,D;void 0 === B && (B=!0);C=z.C7();D=this.zbb(C);C={Bk:z,oH:D,g9:C};m.K && this.trace(("Adding task ").concat(z.name," for ").concat(D.G));(0,g.assert)(!this.Ki.contains(C));this.Ki.push(C);B && this.dN();};A.prototype.dN=function(){var z,B,C,D,F;z=this;m.K && this.trace("recheck schedule task count:" + this.Ki.length);if(this.Z_b){if(this.M0)m.K && this.trace("already executing, bailing");else {C=this.ek.L4a;D=this.Ki.xt();F=null !== (B=null === D || void 0 === D?void 0:D.oH) && void 0 !== B?B:h.N.Dp;F.isFinite() && F.Zqa(C)?(this.Jx(!1),this.sa.currentTime.ji(F)?(this.ek.set(F,y.U3a),Promise.resolve().then(function(){z.ek.Aua === y.U3a && (z.ek.complete(),z.n9a());})):(m.K && this.trace("scheduling next wake up for",{xgc:F.G,Bk:null === D || void 0 === D?void 0:D.Bk.name}),B=c({sa:this.sa,Fs:function(){z.ek.complete();z.n9a();},Fdb:F,priority:this.priority}),this.ek.set(F,y.setTimeout,B))):F.isFinite() || this.ek.Aua !== y.setTimeout || this.Jx(!1);}}else (m.K && this.trace("should check schedule is false, stopping"),this.Jx());};A.prototype.n9a=function(){var z,B,C;B=0;C=null === (z=this.Ki.xt()) || void 0 === z?void 0:z.g9;try{for(this.M0=!0;1E4 > B++ && this.A3b();){;}}finally{this.M0=!1;this.Jx();1E4 < B && !this.iKb(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(m.K && this.trace("Next tasks",this.Ki.map(function(D){return {name:D.Bk.name,ygc:D.oH.G};})),this.dN());}};A.prototype.iKb=function(z){var B,C;C=null === (B=this.Ki.xt()) || void 0 === B?void 0:B.g9;return z && C && z.timestamp.equal(C.timestamp) && z.type === C.type?!1:!0;};A.prototype.A3b=function(){var z,B,C;C=null !== (B=null === (z=this.Ki.xt()) || void 0 === z?void 0:z.oH) && void 0 !== B?B:h.N.Dp;m.K && this.trace(("tryExecuteNextTask @").concat(this.sa.currentTime.G,", next wakeup at ").concat(C));if(this.sa.currentTime.ji(C) && (z=this.Ki.pop())){B=z.Bk;m.K && this.trace("Running a task @" + this.sa.currentTime.G + ", scheduled for time:" + C.G + ("Name:").concat(B.name));try{B.tN();z.g9=B.C7();z.oH=this.zbb(z.g9);}catch(D){throw (this.error(("Unhandled error from a task ").concat(B.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),B.Qa(),D);}finally{this.Zea?(B.Qa(),this.Zea=!1):z.oH !== h.N.Dp && B.state === q.Ik.p9 && ((0,g.assert)(!this.Ki.contains(z)),this.Ki.push(z));}return !0;}};A.prototype.iua=function(z){(0,g.assert)(z.Kd === this);this.a9(z,!1);this.Vga(z);};A.prototype.a9=function(z,B){var C;void 0 === B && (B=!0);C=this.Ki.find(function(D){return D.Bk === z;});C && this.MXb(C,B);};A.prototype.MXb=function(z,B){this.Ki.remove(z);B && this.dN();};A.prototype.Jx=function(z){void 0 === z && (z=!0);this.ek.UH && (z && this.emit("stopping"),z=this.ek.UH,(0,p.F2)(z.id),this.ek.complete());};A.prototype.zbb=function(z){return z.type === v.S_.absolute?z.timestamp:z.timestamp.add(this.sa.currentTime);};A.prototype.trace=function(){for(var z,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,k.__spreadArray([("TaskScheduler(").concat(this.name,"):")],k.__read(B),!1));};A.prototype.error=function(){for(var z,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,k.__spreadArray([("TaskScheduler(").concat(this.name,"):")],k.__read(B),!1));};return A;})(f.EventEmitter);b.YP=r;b.$$=function(x,A,z){var B;B=void 0;return (z || x.sa.li) && x.sa.currentTime.ji(A)?{promise:Promise.resolve()}:{promise:new Promise(function(C){B=x.UA(v.Pg.Yt(A),C);}),Bk:B};};},56824:function(r,b,a){var c,k,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Pg=b.S_=void 0;c=a(70950);(function(d){d[d.absolute=0]="absolute";d[d.m8a=1]="relative";})(k=b.S_ || (b.S_={}));h=(function(){function d(g,m){this.type=g;this.timestamp=m;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(k[this.type]);};Object.defineProperties(d,{Ia:{get:function(){f || (f=new d(k.m8a,c.N.Ia));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Yt=function(g){return new h(k.absolute,g);};Object.defineProperties(d,{L5b:{get:function(){return h.Ia;},enumerable:!1,configurable:!0}});d.ZC=function(g){return new h(k.m8a,g);};d.yxa=new h(k.absolute,c.N.Dp);return d;})();b.Pg=r;},17039:function(r,b,a){var k,f;function c(h,d,g){var m;void 0 === g && (g={});m=k.__assign(k.__assign({},f),g);return h.filter(function(l){var n;n=l.Mb;l=l.Bb;return !!l && l.VB(d) && (!m.dTa || n.ji(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.nla=b.bEb=b.ula=void 0;k=a(70655);f={dTa:!1};b.ula=function(h,d,g){void 0 === g && (g={});return c(h,d,g).pop();};b.bEb=c;b.nla=function(h,d,g){return h.filter(function(m){var l;l=m.Mb;m=m.Bb;return !!m && !!l && (m.ji(d) && m.VB(g) || l.ji(d) && l.VB(g) || m.VB(d) && l.ji(g));});};},70950:function(r,b,a){var k;function c(f,h){return f && h?Math.abs(f * h / (0,k.mB)(f,h)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;k=a(87357);r=(function(){function f(h,d){"object" === typeof h?(this.kc=h.ya,this.fb=h.T):(this.kc=h,this.fb=d);isFinite(this.kc) || (this.fb=1);}f.compare=function(h,d){return h.Lk(d);};f.abs=function(h){return new f(Math.abs(h.kc),h.fb);};f.Na=function(h){return 0 === h?f.Ia:new f(h,1E3);};f.Awa=function(h,d){return Math.floor(1E3 * h / d);};f.w4a=function(h,d){return Math.floor(h * d / 1E3);};f.max=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(g,m){return g.greaterThan(m)?g:m;});};f.min=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(g,m){return g.lessThan(m)?g:m;});};f.mB=function(h,d){var g;if(h.fb === d.fb)return new f((0,k.mB)(h.kc,d.kc),h.fb);g=c(h.fb,d.fb);return new f((0,k.mB)(h.kc * g / h.fb,d.kc * g / d.fb),g);};Object.defineProperties(f.prototype,{ya:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{T:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.Awa(this.kc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sy:{get:function(){return 1E3 * this.kc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qH:{get:function(){var h;h=this.Sy;return 0 > h?Math.ceil(h):Math.floor(h);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bh:{get:function(){return this.kc / this.fb;},enumerable:!1,configurable:!0}});f.prototype.Wd=function(h){h/=this.fb;return new f(Math.floor(this.kc * h),Math.floor(this.fb * h));};f.prototype.add=function(h){var d;if(this.fb === h.fb)return new f(this.kc + h.kc,this.fb);d=c(this.fb,h.fb);return new f(this.kc * d / this.fb + h.kc * d / h.fb,d);};f.prototype.wa=function(h){var d;if(this.fb === h.fb)return new f(this.kc - h.kc,this.fb);d=c(this.fb,h.fb);return new f(this.kc * d / this.fb - h.kc * d / h.fb,d);};f.prototype.Jv=function(h){return new f(this.kc * h,this.fb);};f.prototype.Ui=function(h){var d;if("number" === typeof h){if(Math.floor(h) === h){d=c(this.kc,h);if(d !== this.kc)return this.Wd(d / this.kc * this.fb).Ui(h);}return new f(Math.floor(this.kc / h),this.fb);}if(this.fb === h.fb)return this.kc / h.kc;d=c(this.fb,h.fb);return this.kc * d / this.fb / (h.kc * d / h.fb);};f.prototype.DK=function(h){var d;if(this.fb === h.fb)return new f(Math.abs(this.kc - h.kc),this.fb);d=c(this.fb,h.fb);return new f(Math.abs(this.kc * d / this.fb - h.kc * d / h.fb),d);};f.prototype.g8a=function(){return new f(this.fb,this.kc);};f.prototype.compare=function(h,d){var g;if(this.fb === d.fb)return h(this.kc,d.kc);g=c(this.fb,d.fb);return h(this.kc * g / this.fb,d.kc * g / d.fb);};f.prototype.Lk=function(h){var d;if(this.fb === h.fb)return this.ya === h.kc?0:this.kc - h.kc;d=c(this.fb,h.fb);return this.kc * d / this.fb - h.kc * d / h.fb;};f.prototype.equal=function(h){return this.compare(function(d,g){return d === g;},h);};f.prototype.Zqa=function(h){return this.compare(function(d,g){return d !== g;},h);};f.prototype.lessThan=function(h){return this.compare(function(d,g){return d < g;},h);};f.prototype.greaterThan=function(h){return this.compare(function(d,g){return d > g;},h);};f.prototype.VB=function(h){return this.compare(function(d,g){return d <= g;},h);};f.prototype.ji=function(h){return this.compare(function(d,g){return d >= g;},h);};f.prototype.isFinite=function(){return !!this.fb && isFinite(this.kc);};f.prototype.SZa=function(h){return c(this.T,h);};f.prototype.toJSON=function(){return {ticks:this.kc,timescale:this.fb};};f.prototype.toString=function(){return ("").concat(this.kc,"/").concat(this.fb);};f.prototype.ob=function(){return ("").concat(this.kc,"/").concat(this.fb," (").concat(this.G,"ms)");};f.Ia=new f(0,1E3);f.Ly=new f(1,1E3);f.Dp=new f(Infinity,1);f.EQb=new f(-Infinity,1);return f;})();b.N=r;},85341:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.j7a=b.b0=void 0;a(70655);c=a(95994);k=a(36024);f=a(44724);a(4145);r=(function(){function h(){this.P=new k.Qda();}Object.defineProperties(h.prototype,{empty:{get:function(){return !this.gw;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{root:{get:function(){var d;return null === (d=this.gw) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{values:{get:function(){var d;d=[];this.zF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});h.prototype.has=function(d){return !!this.P.get(d);};h.prototype.parent=function(d){var g;d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};h.prototype.children=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};h.prototype.zna=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};h.prototype.add=function(d,g){var m;c.K && (0,f.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");m={value:d};void 0 === this.gw?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.gw=m):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.P.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.bRa(m,g));this.P.set(d,m);return this;};h.prototype.remove=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};h.prototype.removeNode=function(d){var g;g=this;this.Gla(function(m){return g.P.delete(m);},d.value);void 0 === d.parent?this.gw=void 0:this.detach(d);};h.prototype.move=function(d,g){d=this.P.get(d);g=this.P.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.ULb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.bRa(d,g));return this;};h.prototype.PXb=function(d){var g,m;g=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");m=[];this.detach(d);this.Gla(function(l){g.P.delete(l);m.unshift(l);return !0;});this.gw=d;};h.prototype.clear=function(){this.gw && this.remove(this.gw.value);return this;};h.prototype.iXa=function(d,g){var m,l;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (l=d.children) || void 0 === l?void 0:l.forEach(function(n){return g(n.value,m);});};h.prototype.H0b=function(d,g){var m,l;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (l=d.children) || void 0 === l || !l.some(function(n){return g(n.value,m);}));};h.prototype.zF=function(d){this.jXa(d,void 0);};h.prototype.jXa=function(d,g,m,l){var n;n=this;void 0 === l && (l=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.gw.value,d(g,m,this,l) && this.iXa(g,function(p){return n.jXa(d,p,g,l + 1);}));};h.prototype.Gla=function(d,g){var m;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.gw.value,this.iXa(g,function(l){return m.Gla(d,l);}),d(g,this));};h.prototype.UWa=function(d,g){var m,l;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.gw.value;return this.H0b(g,function(n){return !!(l=m.UWa(d,n));})?l:d(g,this)?g:void 0;}};h.prototype.QAb=function(d){var g,m,l,n;g=this;m=this.values;l=m.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !g.has(p);});m=m.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {Wga:l,hN:n,G8a:m};};h.prototype.bRa=function(d,g){var m;d.parent=g;(null !== (m=g.children) && void 0 !== m?m:g.children=[]).push(d);};h.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};h.prototype.ULb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return h;})();b.b0=r;b.j7a=function(h,d){var g;g="";h.zF(function(m,l,n,p){g+=("").concat(Array(p + 1).join("-")).concat(d(m),"\n");return !0;});return g;};},40885:function(r,b,a){var h,d,g;function c(m){var l,n,p,t;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(l=void 0,h.__values(Object.getOwnPropertyNames(m))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(v){l={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(l)throw l.error;}}m=Object.getPrototypeOf(m);}return p;}function k(m,l,n,p,q){var u;Object.getOwnPropertyNames(m).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(l,t)) && (p || !((t in l)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(m,t);void 0 !== u && Object.defineProperty(l,t,u);});}function f(m,l,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(l));p || (q=c(l));u=Object.getPrototypeOf(m);null !== u && u !== Object.prototype && f(u,l,n,p);k(m,l,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.gj=b.wwb=void 0;h=a(70655);d=a(44724);b.wwb=f;g=Object.getOwnPropertyNames(Function);b.gj=function(m,l,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);m.prototype?(f(m.prototype,l.prototype,n,p),k(m,l,n,p,function(q){return -1 === g.indexOf(q);})):k(m,l.prototype,n,p,function(q){return -1 === g.indexOf(q);});return l;};},312:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function k(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=k(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function h(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,v=0,w=c(q),y=c(u),x=0;x < t;x++){v+=q[x] * u[x];}return (v - w * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function m(q,u){return "number" === typeof q?q:u;}function l(q){return 1 / (1 + Math.exp(-q));}function n(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.t9a=b.scale=b.nWa=b.R3=b.O$a=b.CSa=b.oK=b.tanh=b.pZb=b.Ph=b.sGb=b.uGb=b.PIb=b.WZa=b.JXa=b.aJb=b.YE=b.bg=b.Eq=void 0;p=a(70655).__importStar(a(67841));b.Eq=function(q,u,t){try{q.emit(u,t);}catch(v){if(q.dA)q.dA("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",v,"Event:",t);else throw v;}};b.bg=function(q,u){void 0 !== q && p.yTb(q).forEach(function(t){u(t[0],t[1]);});};b.YE=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(v,w){return v + w.byteLength;},0);t=new Uint8Array(u);q.reduce(function(v,w){t.set(new Uint8Array(w),v);return v + w.byteLength;},0);return t.buffer;};b.aJb=c;b.JXa=k;b.WZa=f;b.PIb=h;b.uGb=d;b.sGb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=h(q);u=h(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Ph=function(q,u,t){return u.aUa?u.aUa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.pZb=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.oK=g;b.CSa=function(q,u,t,v){return {min:g(m(q.min,u),t,v),max:g(m(q.max,u),t,v),Hx:g(q.Hx || 6E4,0,6E5),jSa:g(q.jSa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),u9a:g(q.u9a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.O$a=l;b.R3=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(l(6 * (u - (q.Hx + (q.jSa || 0) * (1 - t))) / (q.scale + (q.u9a || 0) * (1 - t))),q.gamma));};b.nWa=function(q,u){return q.min + (q.max - q.min) * Math.pow(l(6 * (u - q.Hx) / q.scale),q.gamma);};b.scale=n;b.t9a=function(q,u,t){return {min:n(q.min,u.min,t),max:n(q.max,u.max,t),Hx:n(q.Hx,u.Hx,t),scale:n(q.scale,u.scale,t),gamma:n(q.gamma,u.gamma,t)};};},60482:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dJ=void 0;c=a(70950);r=(function(){function k(f,h){this.hE=f;this.ZD=h;this.XYb();}k.from=function(f){return "number" === typeof f?new k(f,1):new k(f.ut,f.Ks);};k.jFb=function(f){return new k(f.T,f.ya);};Object.defineProperties(k.prototype,{ut:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ks:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});k.prototype.ca=function(){return new c.N(this.ZD,this.hE);};k.prototype.equal=function(f){return this.hE === f.hE && this.ZD === f.ZD;};k.prototype.normalize=function(f){var h;h=1E3 * this.Ks;return Math.floor(Math.floor((Math.floor(f + 1) * this.ut - 1) / h) * h / this.ut);};k.prototype.XYb=function(){var f,h,d;f=Math.floor(1E3 * this.hE / this.ZD);h=Math.floor(1001 * this.hE / this.ZD);d=1E3 * Math.round(f / 1E3);this.hE=d;this.ZD=Math.abs(h - d) > Math.abs(f - d)?1E3:1001;};return k;})();b.dJ=r;},61276:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eJ=void 0;c=a(87357);b.eJ=(function(){return function(k,f){var h;void 0 === f && (f={w:1,Tq:1});this.cl=k;this.c6a=f;h=k.w * f.w;k=k.Tq * f.Tq;f=(0,c.mB)(h,k);this.Ax={w:h / f,Tq:k / f};};})();},37481:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Bea=void 0;c=a(70655).__importDefault(a(29736));r=(function(){function k(f){this.yN=new Uint16Array(f.length);for(var h=0;h < f.length;++h){this.yN[h]=f.charCodeAt(h);}}k.prototype.encrypt=function(f){for(var h=this.yN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.yN[g % h] ^ f.charCodeAt(g));}return encodeURIComponent(d);};k.prototype.decrypt=function(f,h){var d,g;void 0 === h && (h=!1);d=this.yN.length;g="";if(h)for((h=new Uint8Array(c.default.g3(f)),f=0);f < h.length;f++){g+=String.fromCharCode(this.yN[f % d] ^ h[f]);}else for((h=decodeURIComponent(f),f=0);f < h.length;f++){g+=String.fromCharCode(this.yN[f % d] ^ h.charCodeAt(f));}return g;};return k;})();b.Bea=r;},62772:function(r,b,a){var c;(function(k){(function(f){var d,g;function h(m,l){return function(n,p){"function" !== typeof m[n] && Object.defineProperty(m,n,{configurable:!0,writable:!0,value:p});l && l(n,p);};}d="object" === typeof a.t4?a.t4:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=h(k);"undefined" === typeof d.Reflect?d.Reflect=k:g=h(d.Reflect,g);f(g);})(function(f){var G,E,J,K,N,I,O,L,H,M,R;function h(Y,ea,ca){var oa;oa=R.get(Y);if(u(oa)){if(!ca)return;oa=new H();R.set(Y,oa);}Y=oa.get(ea);if(u(Y)){if(!ca)return;Y=new H();oa.set(ea,Y);}return Y;}function d(Y,ea,ca){if(g(Y,ea,ca))return !0;ea=z(ea);return null === ea?!1:d(Y,ea,ca);}function g(Y,ea,ca){ea=h(ea,ca,!1);return u(ea)?!1:!!ea.has(Y);}function m(Y,ea,ca){if(g(Y,ea,ca))return l(Y,ea,ca);ea=z(ea);if(null !== ea)return m(Y,ea,ca);}function l(Y,ea,ca){ea=h(ea,ca,!1);if(!u(ea))return ea.get(Y);}function n(Y,ea){var ca,Fa,Ja;ca=p(Y,ea);Y=z(Y);if(null === Y)return ca;ea=n(Y,ea);if(0 >= ea.length)return ca;if(0 >= ca.length)return ea;Y=new M();for(var oa=[],Ga=0;Ga < ca.length;Ga++){Fa=ca[Ga];Ja=Y.has(Fa);Ja || (Y.add(Fa),oa.push(Fa));}for(ca=0;ca < ea.length;ca++){Fa=ea[ca];(Ja=Y.has(Fa)) || (Y.add(Fa),oa.push(Fa));}return oa;}function p(Y,ea){var ca,oa;ca=[];Y=h(Y,ea,!1);if(u(Y))return ca;Y=Y.keys();ea=A(Y,K);if(!x(ea))throw new TypeError();Y=ea.call(Y);if(!t(Y))throw new TypeError();for(ea=0;;){oa=Y.next();oa=oa.done?!1:oa;if(!oa)return (ca.length=ea,ca);oa=oa.value;try{ca[ea]=oa;}catch(Fa){var Ga;try{Ga=Y["return"];Ga && Ga.call(Y);}finally{throw Fa;}}ea++;}}function q(Y){if(null === Y)return 1;switch(typeof Y){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Y?1:6;default:return 6;}}function u(Y){return void 0 === Y;}function t(Y){return "object" === typeof Y?null !== Y:"function" === typeof Y;}function v(Y,ea){var ca;switch(q(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y;}ea=3 === ea?"string":5 === ea?"number":"default";ca=A(Y,J);if(void 0 !== ca){Y=ca.call(Y,ea);if(t(Y))throw new TypeError();return Y;}a:{if("string" === ("default" === ea?"number":ea)){ea=Y.toString;if(x(ea) && (ea=ea.call(Y),!t(ea)))break a;ea=Y.valueOf;}else {ea=Y.valueOf;if(x(ea) && (ea=ea.call(Y),!t(ea)))break a;ea=Y.toString;}if(!x(ea) || (ea=ea.call(Y),t(ea)))throw new TypeError();}return ea;}function w(Y){Y=v(Y,3);return "symbol" === typeof Y?Y:"" + Y;}function y(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:"[object Array]" === Object.prototype.toString.call(Y);}function x(Y){return "function" === typeof Y;}function A(Y,ea){Y=Y[ea];if(void 0 !== Y && null !== Y){if(!x(Y))throw new TypeError();return Y;}}function z(Y){var ea,ca;ea=Object.getPrototypeOf(Y);if("function" !== typeof Y || Y === L || ea !== L)return ea;ca=Y.prototype;ca=ca && Object.getPrototypeOf(ca);if(null == ca || ca === Object.prototype)return ea;ca=ca.constructor;return "function" !== typeof ca || ca === Y?ea:ca;}function B(){var oa,Ga,Fa;function Y(Ja){return Ja;}function ea(Ja,Xa){return Xa;}function ca(Ja,Xa){return [Ja,Xa];}oa={};Ga=[];Fa=(function(){function Ja(Xa,cb,W){this.ce=0;this.Te=Xa;this.Cf=cb;this.gpb=W;}Ja.prototype["@@iterator"]=function(){return this;};Ja.prototype[K]=function(){return this;};Ja.prototype.next=function(){var Xa,cb;Xa=this.ce;if(0 <= Xa && Xa < this.Te.length){cb=this.gpb(this.Te[Xa],this.Cf[Xa]);Xa + 1 >= this.Te.length?(this.ce=-1,this.Cf=this.Te=Ga):this.ce++;return {value:cb,done:!1};}return {value:void 0,done:!0};};Ja.prototype.throw=function(Xa){0 <= this.ce && (this.ce=-1,this.Cf=this.Te=Ga);throw Xa;};Ja.prototype.return=function(Xa){0 <= this.ce && (this.ce=-1,this.Cf=this.Te=Ga);return {value:Xa,done:!0};};return Ja;})();return (function(){function Ja(){this.Te=[];this.Cf=[];this.Fu=oa;this.gs=-2;}Object.defineProperty(Ja.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});Ja.prototype.has=function(Xa){return 0 <= this.gx(Xa,!1);};Ja.prototype.get=function(Xa){Xa=this.gx(Xa,!1);return 0 <= Xa?this.Cf[Xa]:void 0;};Ja.prototype.set=function(Xa,cb){Xa=this.gx(Xa,!0);this.Cf[Xa]=cb;return this;};Ja.prototype.delete=function(Xa){var cb,W;cb=this.gx(Xa,!1);if(0 <= cb){W=this.Te.length;for(cb+=1;cb < W;cb++){this.Te[cb - 1]=this.Te[cb];this.Cf[cb - 1]=this.Cf[cb];}this.Te.length--;this.Cf.length--;Xa === this.Fu && (this.Fu=oa,this.gs=-2);return !0;}return !1;};Ja.prototype.clear=function(){this.Te.length=0;this.Cf.length=0;this.Fu=oa;this.gs=-2;};Ja.prototype.keys=function(){return new Fa(this.Te,this.Cf,Y);};Ja.prototype.values=function(){return new Fa(this.Te,this.Cf,ea);};Ja.prototype.entries=function(){return new Fa(this.Te,this.Cf,ca);};Ja.prototype["@@iterator"]=function(){return this.entries();};Ja.prototype[K]=function(){return this.entries();};Ja.prototype.gx=function(Xa,cb){this.Fu !== Xa && (this.gs=this.Te.indexOf(this.Fu=Xa));0 > this.gs && cb && (this.gs=this.Te.length,this.Te.push(Xa),this.Cf.push(void 0));return this.gs;};return Ja;})();}function C(){return (function(){function Y(){this.Nf=new H();}Object.defineProperty(Y.prototype,"size",{get:function(){return this.Nf.size;},enumerable:!0,configurable:!0});Y.prototype.has=function(ea){return this.Nf.has(ea);};Y.prototype.add=function(ea){return (this.Nf.set(ea,ea),this);};Y.prototype.delete=function(ea){return this.Nf.delete(ea);};Y.prototype.clear=function(){this.Nf.clear();};Y.prototype.keys=function(){return this.Nf.keys();};Y.prototype.values=function(){return this.Nf.values();};Y.prototype.entries=function(){return this.Nf.entries();};Y.prototype["@@iterator"]=function(){return this.keys();};Y.prototype[K]=function(){return this.keys();};return Y;})();}function D(){var oa,Ga;function Y(){var Fa,cb;do {Fa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ca(new Uint8Array(16),16):ca(Array(16),16);Fa[6]=Fa[6] & 79 | 64;Fa[8]=Fa[8] & 191 | 128;for(var Ja="",Xa=0;16 > Xa;++Xa){cb=Fa[Xa];if(4 === Xa || 6 === Xa || 8 === Xa)Ja+="-";16 > cb && (Ja+="0");Ja+=cb.toString(16).toLowerCase();}Fa="@@WeakMap@@" + Ja;}while(O.has(oa,Fa));oa[Fa]=!0;return Fa;}function ea(Fa,Ja){if(!G.call(Fa,Ga)){if(!Ja)return;Object.defineProperty(Fa,Ga,{value:O.create()});}return Fa[Ga];}function ca(Fa,Ja){for(var Xa=0;Xa < Ja;++Xa){Fa[Xa]=255 * Math.random() | 0;}return Fa;}oa=O.create();Ga=Y();return (function(){function Fa(){this.rs=Y();}Fa.prototype.has=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?O.has(Ja,this.rs):!1;};Fa.prototype.get=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?O.get(Ja,this.rs):void 0;};Fa.prototype.set=function(Ja,Xa){ea(Ja,!0)[this.rs]=Xa;return this;};Fa.prototype.delete=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?delete Ja[this.rs]:!1;};Fa.prototype.clear=function(){this.rs=Y();};return Fa;})();}function F(Y){Y.Vlb=void 0;delete Y.Vlb;return Y;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;J=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";K=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;N=({__proto__:[]}) instanceof Array;I=!E && !N;O={create:E?function(){return F(Object.create(null));}:N?function(){return F({__proto__:null});}:function(){return F({});},has:I?function(Y,ea){return G.call(Y,ea);}:function(Y,ea){return (ea in Y);},get:I?function(Y,ea){return G.call(Y,ea)?Y[ea]:void 0;}:function(Y,ea){return Y[ea];}};L=Object.getPrototypeOf(Function);H=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;M=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?C():Set;R=new (E || "function" !== typeof WeakMap?D():WeakMap)();f("decorate",function(Y,ea,ca,oa){var Fa;if(u(ca)){if(!y(Y))throw new TypeError();if("function" !== typeof ea)throw new TypeError();for(ca=Y.length - 1;0 <= ca;--ca){if((oa=(0,Y[ca])(ea),!u(oa) && null !== oa)){if("function" !== typeof oa)throw new TypeError();ea=oa;}}return ea;}if(!y(Y))throw new TypeError();if(!t(ea))throw new TypeError();if(!t(oa) && !u(oa) && null !== oa)throw new TypeError();null === oa && (oa=void 0);ca=w(ca);for(var Ga=Y.length - 1;0 <= Ga;--Ga){Fa=(0,Y[Ga])(ea,ca,oa);if(!u(Fa) && null !== Fa){if(!t(Fa))throw new TypeError();oa=Fa;}}return oa;});f("metadata",function(Y,ea){return function(ca,oa){var Ga;if(!t(ca))throw new TypeError();if(Ga=!u(oa)){a:switch(q(oa)){case 3:Ga=!0;break a;case 4:Ga=!0;break a;default:Ga=!1;}Ga=!Ga;}if(Ga)throw new TypeError();h(ca,oa,!0).set(Y,ea);};});f("defineMetadata",function(Y,ea,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=w(oa));h(ca,oa,!0).set(Y,ea);});f("hasMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=w(ca));return d(Y,ea,ca);});f("hasOwnMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=w(ca));return g(Y,ea,ca);});f("getMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=w(ca));return m(Y,ea,ca);});f("getOwnMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=w(ca));return l(Y,ea,ca);});f("getMetadataKeys",function(Y,ea){if(!t(Y))throw new TypeError();u(ea) || (ea=w(ea));return n(Y,ea);});f("getOwnMetadataKeys",function(Y,ea){if(!t(Y))throw new TypeError();u(ea) || (ea=w(ea));return p(Y,ea);});f("deleteMetadata",function(Y,ea,ca){var oa;if(!t(ea))throw new TypeError();u(ca) || (ca=w(ca));oa=h(ea,ca,!1);if(u(oa) || !oa.delete(Y))return !1;if(0 < oa.size)return !0;Y=R.get(ea);Y.delete(ca);if(0 < Y.size)return !0;R.delete(ea);return !0;});});})(c || (c={}));},22153:function(r,b,a){var d;function c(){return Object.create(null);}function k(g){this.log=g.log;this.sa=g.sa;this.hC=c();this.Promise=g.Promise;this.Ox=g.Ox;this.Owa=g.Owa;this.pf=g.pf || !1;this.qv=c();this.LA=c();this.NE=c();this.jpb(g);g.Rn && (this.Rn=g.Rn);}function f(g){return "undefined" !== typeof g;}function h(g){var n;for(var m=0,l=arguments.length;m < l;){n=arguments[m++];if(f(n))return n;}}a(4070);d=a(42478);k.prototype.jpb=function(g){this.qv.manifest=h(g.rDb,d.qv.W);this.qv.ldl=h(g.qDb,d.qv.tU);this.qv.metadata=h(g.vcc,d.qv.Ad);this.LA.manifest=h(g.Otb,d.LA.W);this.LA.ldl=h(g.Ntb,d.LA.tU);this.LA.metadata=h(g.pbc,d.LA.Ad);this.NE.manifest=h(g.nbc,d.NE.W);this.NE.ldl=h(g.mbc,d.NE.tU);this.NE.metadata=h(g.obc,d.NE.Ad);};k.prototype.LT=function(g,m){this.Js("undefined" !== typeof g);this.Js("undefined" !== typeof m);return !!this.wNa(g,m,void 0).value;};k.prototype.wNa=function(g,m,l){var n,p;n={value:null,reason:"",log:""};p=this.hC[m];l=l?l:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(p=p[g][l]) && p.value?this.X5(m,p.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + g,n.reason="expired",this.clearData(g,m,l,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + g:"cache hit: " + m + " available for movieId:" + g,n.value=p.value):(n.log="cache miss: " + m + " data not available for movieId:" + g,n.reason="unavailable");return n;};k.prototype.getData=function(g,m,l){this.Js("undefined" !== typeof g);this.Js("undefined" !== typeof m);g=this.wNa(g,m,l);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Owa?JSON.parse(this.Owa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};k.prototype.setData=function(g,m,l,n,p){var q,u,t;this.Js("undefined" !== typeof g);this.Js("undefined" !== typeof m);q=this.hC;u=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));l=this.Ox?this.Ox(JSON.stringify(l),"gzip",!0):l;q=q[m];this.Fnb(g,m,u,q);t=this;n={creationTime:this.sa.getTime(),value:l,size:0,type:m,bka:n,pDb:setTimeout(function(){t.clearData(g,m,u,!1,"expired");},this.qv[m] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=n;q.size+=0;q.numEntries++;this.Rn && this.Rn.emit("addedCacheItem",n);return n;};k.prototype.Fnb=function(g,m,l,n){var p,q,u,t,v,w,y,x,A;p=this;q=n.numEntries;u=this.LA[m];t=n[g] && n[g][l];if(t && t.value)(v=g,w="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(n).every(function(z){var B;B=n[z] && n[z][l];B && B.value && p.X5(m,B.creationTime) && (A=z);B && B.value && B.creationTime < x && (x=B.creationTime,y=z);return !0;});v=A || y;w="cache_full";}this.pf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:m,movieId:g,movieToBeRemoved:v});v && (p.clearData(v,m,l,void 0,w),this.log.debug("removed from cache: ",v,m));};k.prototype.Lia=function(g,m){var l,n;l=this;l.Js("undefined" !== typeof g);n=g + "";m.forEach(function(p){var q;q=l.hC[p];q && Object.keys(q).forEach(function(u){u != n && l.clearData(u,p,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(g,m,l,n,p){var q;this.Js("undefined" !== typeof g);this.Js("undefined" !== typeof m);q=this.hC[m];m=q?q[g]:void 0;l=l?l:"DEFAULTCAPS";if(m && m[l]){q.size-=m[l].size;q.numEntries--;if(q=m && m[l])(clearTimeout(q.pDb),m[l]=void 0,!n && q.bka && q.bka());this.Rn && (g={creationTime:q.creationTime,destroyFn:q.bka,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Rn.emit("deletedCacheItem",g));}};k.prototype.flush=function(g){var m;this.Js("undefined" !== typeof g);m=this.hC;m[g]=c();m[g].numEntries=0;m[g].size=0;};k.prototype.ESa=function(){var g,m;this.Js(!1);g=this;m=this.hC;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(l){var n;n=m[void 0][l].DEFAULTCAPS;g.sa.getTime() - n.creationTime > g.qv[void 0] && g.clearData(l,void 0,"DEFAULTCAPS",void 0,"clean_up");});};k.prototype.X5=function(g,m){return this.sa.getTime() - m > this.qv[g];};k.prototype.getStats=function(g,m,l){var n,p,q,u,t;n={};p=this;q=p.hC;u=f(g) && f(m);t=l || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var w,y;w=Object.keys(q[v]);y=q[v];w.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (n[v]=(n[v] | 0) + 1,p.X5(x.type,x.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < m && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};k.prototype.getState=function(g){var m,l,n,p;m=[];l=this;n=l.hC;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(v){var w,y;w=t && t[v] && t[v][p];if(w && f(w.value)){y=l.X5(w.type,w.creationTime)?"expired":w.value instanceof l.Promise?"loading":"cached";m.push({movieId:v,state:y,type:q,size:w.size});}});});return m;};k.prototype.Js=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.pf))throw Error("Debug Assert Failed ");};r.exports=k;},42478:function(r){r.exports={qv:{W:12E5,tU:9E5,Ad:12E5},LA:{W:10,tU:10,Ad:10},NE:{W:10240,tU:10240,Ad:10240}};},4070:function(r){function b(a){var c;c=[];return (function h(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && h(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var k=0;a.length;){f=a.pop();if("boolean" === typeof f)k+=4;else if("string" === typeof f)k+=2 * f.length;else if("number" === typeof f)k+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var h in f){a.push(f[h]);}}}return k;};},70834:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Wma=function(){return this.buffer.length - this.position;};a.prototype.Yy=function(){return this.buffer[this.position++];};a.prototype.Gj=function(c){var k;k=this.position;this.position+=c;return this.RMb(this.buffer)?this.buffer.subarray(k,this.position):this.buffer.slice(k,this.position);};a.prototype.RMb=function(c){return void 0 !== c.subarray;};a.prototype.Tp=function(c){for(var k=0;c--;){k=256 * k + this.buffer[this.position++];}return k;};a.prototype.pta=function(c){for(var k="";c--;){k+=String.fromCharCode(this.buffer[this.position++]);}return k;};a.prototype.bh=function(){return this.Tp(2);};a.prototype.Up=function(){return this.Tp(4);};a.prototype.cN=function(){return this.Tp(8);};a.prototype.Xv=function(c){for(var k,f="";c--;){k=this.Yy();f+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return f;};a.prototype.qta=function(c){for(var k=0,f=0;f < c;f++){k+=this.Yy() << (f << 3);}return k;};a.prototype.bN=function(){return this.qta(4);};a.prototype.bY=function(c){this.vO(c,2);};a.prototype.Az=function(c){this.vO(c,4);};a.prototype.caa=function(c){this.buffer[this.position++]=c;};a.prototype.vO=function(c,k){this.position+=k;for(var f=1;f <= k;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.zz=function(c){for(var k=0;k < c.length;k++){this.buffer[this.position++]=c.charCodeAt(k);}};a.prototype.aY=function(c){for(var k=c.length,f=0;f < k;f++){this.buffer[this.position++]=c[f];}};a.prototype.uO=function(c,k){this.aY(c.Gj(k));};a.prototype.Pdb=function(c){c=new a(c);for(var k,f;;){if((k=c.Wma(),f=k >>> 14))(f=Math.min(4,f),this.caa(192 | f),this.uO(c,16384 * f));else {128 > k?this.caa(k):this.vO(k | 32768,2);this.uO(c,k);break;}}};a.prototype.O7a=function(){var f;for(var c=[],k=new a(c);;){f=this.Yy();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.Yy(),k.uO(this,f));else if((f&=63,0 < f && 4 >= f)){k.uO(this,16384 * f);continue;}else throw Error("bad asn1");}else k.uO(this,f);break;}return new Uint8Array(c);};return a;})();b.XO=r;},17555:function(r){function b(c,k,f,h){c.trace(":",f,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,k,f,h){f=h?f.bind(h):f;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addListener)c.addListener(k,f);else if("function" === typeof c.addEventListener)c.addEventListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,h;f=k[0];h=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,k):"function" === typeof f.removeListener && f.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},28075:function(r,b,a){b=a(84586);b.Xja=0;r.exports={EventEmitter:b,gf:a(17555)};},84586:function(r){var m,l,n,p;function b(){b.qa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,v){var w,y;a(t);w=q.gb;if(void 0 === w)(w=q.gb=Object.create(null),q.$D=0);else {void 0 !== w.dRb && (q.emit("newListener",u,t.listener?t.listener:t),w=q.gb);y=w[u];}void 0 === y?(w[u]=t,++q.$D):("function" === typeof y?y=w[u]=v?[t,y]:[y,t]:v?y.unshift(t):y.push(t),t=void 0 === q.ss?b.Xja:q.ss,0 < t && y.length > t && !y.zxa && (y.zxa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.pv=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function k(){if(!this.ZWa)return (this.target.removeListener(this.type,this.Mdb),this.ZWa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={ZWa:!1,Mdb:void 0,target:q,type:u,listener:t};u=k.bind(q);u.listener=t;return q.Mdb=u;}function h(q){var u;u=this.gb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,v){if("function" === typeof q.on){if(v.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){v.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;l=m && "function" === typeof m.apply?m.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,v){function w(x){q.removeListener(u,y);v(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",w);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.$D=0;b.prototype.ss=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.qa=function(){if(void 0 === this.gb || this.gb === Object.getPrototypeOf(this).gb)(this.gb=Object.create(null),this.$D=0);this.ss=this.ss || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.ss=q;return this;};b.prototype.emit=function(q){var v,w;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}v="error" === q;t=this.gb;if(void 0 !== t)v=v && void 0 === t.error;else if(!v)return !1;if(v){0 < u.length && (w=u[0]);if(w instanceof Error)throw w;u=Error("Unhandled error." + (w?" (" + w.message + ")":""));u.context=w;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)l(t,this,u);else {w=t.length;v=Array(w);for(var y=0;y < w;++y){v[y]=t[y];}for(t=0;t < w;++t){l(v[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.D8=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.f7a=function(q,u){a(u);this.D8(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,v,w,y,x;a(u);v=this.gb;if(void 0 === v)return this;w=v[q];if(void 0 === w)return this;if(w === u || w.listener === u)0 === --this.$D?this.gb=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,w.listener || u));else if("function" !== typeof w){y=-1;for(t=w.length - 1;0 <= t;t--){if(w[t] === u || w[t].listener === u){x=w[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)w.shift();else {for(;y + 1 < w.length;y++){w[y]=w[y + 1];}w.pop();}1 === w.length && (v[q]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.kr=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,v;u=this.gb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.gb=Object.create(null),this.$D=0):void 0 !== u[q] && (0 === --this.$D?this.gb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){v=t[u];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.gb=Object.create(null);this.$D=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.gb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):h.call(q,u);};b.prototype.listenerCount=h;},6328:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},24865:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(8430);k=a(22544);f=a(24907);b["default"]=function(h){var d;h=new c.vaa(h);d=new f.rjb(h);return new k.qjb(h,d);};},8430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.E2a=c;}a.prototype.dva=function(c){try{this.E2a.setItem("gtp",JSON.stringify(c));}catch(k){return !1;}return !0;};a.prototype.DYa=function(){var c;try{c=this.E2a.getItem("gtp");if(c)return JSON.parse(c);}catch(k){}};a.prototype.Xm=function(){var c;c=this.DYa();if(c && c.tp)return c.tp.a;};a.prototype.kHb=function(){var c;c=this.Ama();if(c)return c.p25;};a.prototype.lHb=function(){var c;c=this.Ama();if(c)return c.p50;};a.prototype.mHb=function(){var c;c=this.Ama();if(c)return c.p75;};a.prototype.Ama=function(){var c;c=this.DYa();if(c && (c=c.iqr))return c;};return a;})();b.vaa=r;},22544:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,k){this.bv=c;this.Vqa=k;}a.prototype.dva=function(c){return this.bv.dva(c);};a.prototype.Xm=function(){return this.bv.Xm();};return a;})();b.qjb=r;},24907:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.bv=c;}a.prototype.Vqa=function(){var c,k,f;c=this.bv.kHb();k=this.bv.lHb();f=this.bv.mHb();if("number" === typeof c && "number" === typeof k && "number" === typeof f)return (f - c) / k;};return a;})();b.rjb=r;},54138:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.Da:Date.now;},78378:function(r,b,a){var h;function c(d,g,m,l,n,p,q){this.NX=l;this.aeb=d;this.O4a=g;this.Hqa=m;this.YMb=p;this.GC=q;this.split=n;}function k(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,m,l,n,p){this.n9=n;this.K2=p;}b=a(69208);h=a(54138);a={};a.gsb=new (function(){this.Xmb=h();this.Pa=0;this.update=function(){this.Pa=h() - this.Xmb;};this.type="num";})();a.LNb=new (function(){this.type="cat";})();a.MNb=new (function(){this.type="cat";})();a.ONb=new (function(){this.type="cat";})();a.PNb=new (function(){this.type="cat";})();a.NNb=new (function(){this.type="cat";})();a.QNb=new (function(){this.type="cat";})();a.RNb=new (function(){this.type="cat";})();a.SNb=new (function(){this.type="cat";})();a.TNb=new (function(){this.type="cat";})();a.UNb=new (function(){this.type="cat";})();a.VNb=new (function(){this.type="cat";})();a.WNb=new (function(){this.type="cat";})();a.YNb=new (function(){this.type="cat";})();a.ZNb=new (function(){this.type="cat";})();a.$Nb=new (function(){this.type="cat";})();a.XNb=new (function(){this.type="cat";})();a.Usb=new (function(){this.update=function(d){for(var g in d.Gb){if("becauseYouAdded" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Vsb=new (function(){this.update=function(d){for(var g in d.Gb){if("becauseYouLiked" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Xsb=new (function(){this.update=function(d){for(var g in d.Gb){if("billboard" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.rwb=new (function(){this.update=function(d){for(var g in d.Gb){if("continueWatching" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Wsb=new (function(){this.update=function(d){for(var g in d.Gb){if("bigRow" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.DFb=new (function(){this.update=function(d){for(var g in d.Gb){if("genre" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.$Qb=new (function(){this.update=function(d){for(var g in d.Gb){if("netflixOriginals" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.eRb=new (function(){this.update=function(d){for(var g in d.Gb){if("newRelease" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.QUb=new (function(){this.update=function(d){for(var g in d.Gb){if("popularTitles" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.$M=new (function(){this.update=function(d){for(var g in d.Gb){if("queue" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.OWb=new (function(){this.update=function(d){for(var g in d.Gb){if("recentlyAdded" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.s0b=new (function(){this.update=function(d){for(var g in d.Gb){if("similars" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.n3b=new (function(){this.update=function(d){for(var g in d.Gb){if("trendingNow" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.L3b=new (function(){this.update=function(d){for(var g in d.Gb){if("ultraHD" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.M5b=new (function(){this.update=function(d){for(var g in d.Gb){if("watchAgain" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.b3b=new (function(){this.update=function(d){for(var g in d.Gb){if("topTen" === d.Gb[g].context){this.Pa=Math.max(d.Gb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Bwb=new (function(){this.type="cat";})();a.Cwb=new (function(){this.type="cat";})();a.Dwb=new (function(){this.type="cat";})();a.Ewb=new (function(){this.type="cat";})();a.Fwb=new (function(){this.type="cat";})();a.Gwb=new (function(){this.type="cat";})();a.Hwb=new (function(){this.type="cat";})();a.Iwb=new (function(){this.type="cat";})();a.Jwb=new (function(){this.type="cat";})();a.Kwb=new (function(){this.type="cat";})();a.Lwb=new (function(){this.type="cat";})();a.Mwb=new (function(){this.type="cat";})();a.Nwb=new (function(){this.type="cat";})();a.Owb=new (function(){this.type="cat";})();a.Pwb=new (function(){this.type="cat";})();a.Qwb=new (function(){this.type="cat";})();a.Rwb=new (function(){this.type="cat";})();a.Swb=new (function(){this.type="cat";})();a.Twb=new (function(){this.type="cat";})();a.Uwb=new (function(){this.type="cat";})();a.Vwb=new (function(){this.type="cat";})();a.Wwb=new (function(){this.type="cat";})();a.Xwb=new (function(){this.type="cat";})();a.Ywb=new (function(){this.type="cat";})();a.Zwb=new (function(){this.type="cat";})();a.$wb=new (function(){this.type="cat";})();a.axb=new (function(){this.type="cat";})();a.bxb=new (function(){this.type="cat";})();a.cxb=new (function(){this.type="cat";})();a.dxb=new (function(){this.type="cat";})();a.exb=new (function(){this.type="cat";})();a.fxb=new (function(){this.type="cat";})();a.gxb=new (function(){this.type="cat";})();a.hxb=new (function(){this.type="cat";})();a.ixb=new (function(){this.type="cat";})();a.jxb=new (function(){this.type="cat";})();a.kxb=new (function(){this.type="cat";})();a.lxb=new (function(){this.type="cat";})();a.mxb=new (function(){this.type="cat";})();a.nxb=new (function(){this.type="cat";})();a.oxb=new (function(){this.type="cat";})();a.pxb=new (function(){this.type="cat";})();a.qxb=new (function(){this.type="cat";})();a.rxb=new (function(){this.type="cat";})();a.sxb=new (function(){this.type="cat";})();a.txb=new (function(){this.type="cat";})();a.uxb=new (function(){this.type="cat";})();a.vxb=new (function(){this.type="cat";})();a.wxb=new (function(){this.type="cat";})();a.xxb=new (function(){this.type="cat";})();a.yxb=new (function(){this.type="cat";})();a.zxb=new (function(){this.type="cat";})();a.Axb=new (function(){this.type="cat";})();a.Bxb=new (function(){this.type="cat";})();a.Cxb=new (function(){this.type="cat";})();a.Dxb=new (function(){this.type="cat";})();a.Exb=new (function(){this.type="cat";})();a.Fxb=new (function(){this.type="cat";})();a.Gxb=new (function(){this.type="cat";})();a.Hxb=new (function(){this.type="cat";})();a.Ixb=new (function(){this.type="cat";})();a.Jxb=new (function(){this.type="cat";})();a.Kxb=new (function(){this.type="cat";})();a.Lxb=new (function(){this.type="cat";})();a.Mxb=new (function(){this.type="cat";})();a.Nxb=new (function(){this.type="cat";})();a.Oxb=new (function(){this.type="cat";})();a.Pxb=new (function(){this.type="cat";})();a.Qxb=new (function(){this.type="cat";})();a.Rxb=new (function(){this.type="cat";})();a.Sxb=new (function(){this.type="cat";})();a.Txb=new (function(){this.type="cat";})();a.Uxb=new (function(){this.type="cat";})();a.Vxb=new (function(){this.type="cat";})();a.Wxb=new (function(){this.type="cat";})();a.Xxb=new (function(){this.type="cat";})();a.Yxb=new (function(){this.type="cat";})();a.Zxb=new (function(){this.type="cat";})();a.$xb=new (function(){this.type="cat";})();a.RWb=new (function(){this.type="cat";})();a.SWb=new (function(){this.type="cat";})();a.TWb=new (function(){this.type="cat";})();a.UWb=new (function(){this.type="cat";})();a.VWb=new (function(){this.type="cat";})();a.WWb=new (function(){this.type="cat";})();a.XWb=new (function(){this.type="cat";})();a.YWb=new (function(){this.type="cat";})();a.ZWb=new (function(){this.type="cat";})();a.$Wb=new (function(){this.type="cat";})();a.aXb=new (function(){this.type="cat";})();a.bXb=new (function(){this.type="cat";})();a.cXb=new (function(){this.type="cat";})();a.dXb=new (function(){this.type="cat";})();a.eXb=new (function(){this.type="cat";})();a.fXb=new (function(){this.type="cat";})();a.gXb=new (function(){this.type="cat";})();a.hXb=new (function(){this.type="cat";})();a.iXb=new (function(){this.type="cat";})();a.jXb=new (function(){this.type="cat";})();a.kXb=new (function(){this.type="cat";})();a.lXb=new (function(){this.type="cat";})();a.mXb=new (function(){this.type="cat";})();a.O1b=new (function(){this.update=function(d){"down" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.Q1b=new (function(){this.update=function(d){"right" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.P1b=new (function(){this.update=function(d){"left" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.R1b=new (function(){this.update=function(d){"up" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.NPb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.rowIndex);};this.type="num";})();a.OPb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.VSa);};this.type="num";})();a.SPb=new (function(){this.WD=this.Pa=0;this.update=function(d){this.WD++;this.Pa=1 * (this.Pa + d.rowIndex) / this.WD;};this.type="num";})();a.TPb=new (function(){this.WD=this.Pa=0;this.update=function(d){this.WD++;return this.Pa=1 * (this.Pa + d.VSa) / this.WD;};this.type="num";})();a.xVb=new (function(){this.type="num";})();a.yVb=new (function(){this.type="num";})();k.prototype.GC=function(d){return this.aPa(this.P["0"].x9a(d),d);};k.prototype.aPa=function(d,g){return "string" == typeof d?this.aPa(this.P[d].x9a(g),g):d;};c.prototype.x9a=function(d){switch(this.YMb){case 0:switch(d.features[this.NX].type){case "cat":return null === d.features[this.NX].value?this.O4a:"missing" == d.features[this.NX].value?this.Hqa:this.aeb;case "num":return null === d.features[this.NX].value?this.Hqa:d.features[this.NX].value < this.split?this.aeb:this.O4a;default:return this.Hqa;}case 1:return this.GC;default:return this.GC;}};b.declare({dV:["modelSelector","modelone"],Kvb:["colEpisodeList",5],vKb:["holdDuration",15E3],j9a:["rowFirst",2],USa:["colFirst",5],k9a:["rowScroll",2],WSa:["colScroll",6],MYb:["rowScrollHorizontal",6],iZb:["searchTop",3],sUa:["cwFirst",2],PT:["horizontalItemsFocusedMode",3],$Mb:["itemsPerRank",1],zPb:["maxNumberPayloadsStored",10],z3a:["maxNumberTitlesScheduled",5],mcc:["enableDetailedLogging",!0],efc:["rowStep",20],Abc:["colStep",15],Hec:["pageRows",100],Gec:["pageColumns",75],Ypa:["maskParamsList",new (function(){var d,g;this.Ypa=[];this.$k={};this.n9=20;this.K2=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.n9) + "_" + Math.floor(g / this.K2) in this.$k) || (this.$k[Math.floor(d / this.n9) + "_" + Math.floor(g / this.K2)]=1,this.Ypa.push(new f("grid",10,5,5,Math.floor(d / this.n9),Math.floor(g / this.K2))));}}})().Ypa],P:["nodes",new k().P],mapping:["mapping",{OPb:"0",TPb:"1",NPb:"2",SPb:"3",gsb:"4",R1b:"5",P1b:"6",Q1b:"7",O1b:"8",yVb:"9",xVb:"10",LNb:"11",MNb:"12",ONb:"13",PNb:"14",NNb:"15",QNb:"16",RNb:"17",SNb:"18",TNb:"19",UNb:"20",VNb:"21",WNb:"22",XNb:"23",YNb:"24",ZNb:"25",$Nb:"26",RWb:"27",SWb:"28",TWb:"29",UWb:"30",VWb:"31",WWb:"32",XWb:"33",YWb:"34",ZWb:"35",$Wb:"36",aXb:"37",bXb:"38",cXb:"39",dXb:"40",eXb:"41",fXb:"42",gXb:"43",hXb:"44",iXb:"45",jXb:"46",kXb:"47",lXb:"48",mXb:"49",Bwb:"50",Cwb:"51",Dwb:"52",Ewb:"53",Fwb:"54",Gwb:"55",Hwb:"56",Iwb:"57",Jwb:"58",Kwb:"59",Lwb:"60",Mwb:"61",Nwb:"62",Owb:"63",Pwb:"64",Qwb:"65",Rwb:"66",Swb:"67",Twb:"68",Uwb:"69",Vwb:"70",Wwb:"71",Xwb:"72",Ywb:"73",Zwb:"74",$wb:"75",axb:"76",bxb:"77",cxb:"78",dxb:"79",exb:"80",fxb:"81",gxb:"82",hxb:"83",ixb:"84",jxb:"85",kxb:"86",lxb:"87",mxb:"88",nxb:"89",oxb:"90",pxb:"91",qxb:"92",rxb:"93",sxb:"94",txb:"95",uxb:"96",vxb:"97",wxb:"98",xxb:"99",yxb:"100",zxb:"101",Axb:"102",Bxb:"103",Cxb:"104",Dxb:"105",Exb:"106",Fxb:"107",Gxb:"108",Hxb:"109",Ixb:"110",Jxb:"111",Kxb:"112",Lxb:"113",Mxb:"114",Nxb:"115",Oxb:"116",Pxb:"117",Qxb:"118",Rxb:"119",Sxb:"120",Txb:"121",Uxb:"122",Vxb:"123",Wxb:"124",Xxb:"125",Yxb:"126",Zxb:"127",$xb:"128",M5b:"129",OWb:"130",s0b:"131",$M:"132",rwb:"133",DFb:"134",n3b:"135",b3b:"136",Xsb:"137",eRb:"138",L3b:"139",QUb:"140",Usb:"141",Wsb:"142",Vsb:"143",$Qb:"144"}],features:["features",a],Bac:["_modelName","tree"],vac:["_format","xgboost"],Aac:["_itemsToKeep",5],zac:["_itemsThreshold",null],kbc:["cacheLimit",20]});r.exports={config:b,Pdc:f,Kbc:c};},47151:function(r){r.exports={Aw:{pea:0,CKa:1,Gk:2,name:["transient","semiTransient","permanent"]},xw:{pCa:0,BKa:1,L_:2,LP:3,Tw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},jac:{Y$b:0,Z8b:1,r7b:2,Tw:100,name:["trailer","montage","content"]},lu:{EEa:0,hKa:1,Ilb:2,Hgb:3,Tw:100,name:["left","right","up","down"]},oP:{Ufb:0,L_:1,J8b:2,e8b:3,N6b:4,I8b:5,Neb:6,Tw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},GI:{LP:0,IAa:1,Tw:100,name:["playFocused","detailsOpened"]}};},81079:function(r,b,a){var f,h,d,g,m,l,n,p,q,u;function c(t,v){this.Kj=t;this.Il=v;}function k(t){this.S=t;this.reset();}f=a(54138);h=a(47151);b=a(33887);d=a(78378).config;g=b.rGb;m=b.bGb;l=b.MAb;n=b.VRb;p=b.URb;q=b.TRb;u=b.SWa;k.prototype.constructor=k;k.prototype.reset=function(){this.EOa=void 0;this.dk=[];this.vOa=this.wOa=!1;};k.prototype.update=function(t,v){var w;this.dk && (this.dk=this.dk.filter(this.d0b,this));if(!1 === this.wOa){w=g(t.Gb).slice(0,d.sUa);0 < w.length && (this.GG(w,h.Aw.Gk),this.wOa=!0,this.dk=this.eI(w.concat(this.dk)));}!1 === this.vOa && (w=m(t.Gb).slice(0,d.sUa),0 < w.length && (this.GG(w,h.Aw.Gk),this.vOa=!0,this.dk=this.eI(w.concat(this.dk))));switch(v){case h.xw.pCa:v=this.FJb(t);break;case h.xw.BKa:v=this.PJb(t);break;case h.xw.L_:v=this.QJb(t);break;case h.xw.LP:v=this.KJb(t);break;default:v=this.CJb(t);}this.EOa=t;return v;};k.prototype.FJb=function(t){t=n(t.Gb,d.j9a,d.USa);this.GG(t,h.Aw.Gk);return this.dk=this.eI(this.dk.concat(t));};k.prototype.PJb=function(t){var v,w;this.S.log("handleScrollHorizontal");v=t.Gb;t=n(v,d.k9a,d.WSa);w=l(v,this.EOa.Gb);v=v[w].list.slice(0,d.MYb);v.concat(t);this.GG(v,h.Aw.pea);return this.eI(v.concat(this.dk));};k.prototype.GG=function(t,v){t.forEach(function(w){if(void 0 === w.MA || w.MA < v)w.MA=v;void 0 === w.XN && (w.XN=f());void 0 === w.Ok && (w.Ok=f());});};k.prototype.QJb=function(t){this.S.log("handleSearch");t=p(t.Gb,d.iZb);this.GG(t,h.Aw.CKa);this.dk=t.concat(this.dk);return this.dk=this.eI(this.dk);};k.prototype.KJb=function(t){var v,w,y,x,A;this.S.log("handlePlayFocus: ",d.PT);v=t.direction;w=t.Gb;t=[];y=u(w);if(void 0 !== y.Kj)switch((t.push(y),v)){case h.lu.hKa:for(v=1;v < d.PT;v++){t.push(new c(y.Kj,y.Il + v));}t.push(new c(y.Kj - 1,y.Il));t.push(new c(y.Kj + 1,y.Il));break;case h.lu.EEa:for(v=1;v < d.PT;v++){t.push(new c(y.Kj,y.Il - v));}t.push(new c(y.Kj - 1,y.Il));t.push(new c(y.Kj + 1,y.Il));break;case h.lu.Ilb:t.push(new c(y.Kj - 1,y.Il));for(v=1;v <= d.PT / 2;v++){t.push(new c(y.Kj,y.Il + v));t.push(new c(y.Kj,y.Il - v));}break;case h.lu.Hgb:for((t.push(new c(y.Kj + 1,y.Il)),v=1);v <= d.PT / 2;v++){t.push(new c(y.Kj,y.Il + v));t.push(new c(y.Kj,y.Il - v));}}x=[];t.forEach(function(z){A=q(w,z.Kj,z.Il);void 0 !== A && x.push(A);});this.GG(x,h.Aw.pea);return this.eI(x.concat(this.dk));};k.prototype.CJb=function(t){this.S.log("ModelOne: handleDefaultCase");t=n(t.Gb,d.k9a,d.WSa);this.GG(t,h.Aw.pea);return this.eI(t.concat(this.dk));};k.prototype.d0b=function(t){return t.MA == h.Aw.Gk | t.MA == h.Aw.CKa & f() - t.XN < d.vKb;};k.prototype.eI=function(t){var v,w,y,x,A,z,B;v=[];w={};x=0;A=t.length;for(y=0;y < A;y++){z=t[y].J;B=t[y];!1 === (z in w)?(v.push(B),w[z]=x,x++):(z=v[w[z]],B.Ok < z.Ok && (z.Ok=B.Ok),B.MA > z.MA && (z.MA=B.MA),B.XN > z.XN && (z.XN=B.XN));}return v;};r.exports=k;},14845:function(r){function b(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.qg)return (this.qg={},this.qg[c]=[k],!0);f=this.qg[c];return void 0 === f?(this.qg[c]=[k],!0):0 > f.indexOf(k)?(f.push(k),!0):!1;}function a(c,k){c=this.qg?this.qg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.qg)return !1;f=this.qg[c];if(void 0 === f)return !1;k=f.indexOf(k);if(0 > k)return !1;if(1 === f.length)return (delete this.qg[c],!0);f.splice(k,1);return !0;},Eq:a,emit:a,removeAllListeners:function(c){this.qg && (void 0 === c?delete this.qg:delete this.qg[c]);return this;}};},14828:function(r){function b(c,k,f,h){c.trace(":",f,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,f,h){f=h?f.bind(h):f;h=!1;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addEventListener)h=c.addEventListener(k,f);else if("function" === typeof c.addListener)h=c.addListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,h;f=k[0];h=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,k):"function" === typeof f.removeListener && f.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},25660:function(r,b,a){r.exports={EventEmitter:a(14845),gf:a(14828)};},92997:function(r,b,a){var h,d,g,m,l,n,p;function c(q,u,t,v,w,y){this.O=this.J=q;this.priority=u;this.Me=t;y && y.ud && (this.ud=y.ud);void 0 !== v && (this.NM=v);this.Ok=w;this.qb=y;}function k(q,u,t,v,w){g(void 0 !== v,"video preparer is null");g(void 0 !== w,"ui preparer is null");this.S=u || console;this.S=u;this.ia=t;this.Hpb=v;this.xpb=w;this.DOa=n.Fsa;this.NJ=[];this.qga=!1;this.uQ=0;new p().on(n,"changed",f,this);this.reset();}function f(){this.S.log("config changed");n.Fsa && (this.DOa=n.Fsa);n.dV !== this.CJ && (this.reset(),this.Lta());}h=a(54138);d=a(47151);b=a(33887);g=b.assert;m=b.SWa;l=a(81079);n=a(78378).config;p=a(25660).gf;n.declare({Fsa:["ppmConfig",{h7b:{j5a:0,i5a:2,g5a:0,h5a:5,B$a:0},P$b:{j5a:0,i5a:1,g5a:0,h5a:3,B$a:1E3},t7b:{j5a:0,i5a:1,g5a:0,h5a:3,B$a:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.jfa=!0;this.CJ=n.dV;this.S.log("create model: " + n.dV,n.j9a,n.USa);switch(n.dV){case "modelone":this.CJ=new l(this.S);break;default:this.CJ=new l(this.S);}};k.prototype.Lta=function(){var u,t;if(!1 === this.qga){this.qga=!0;for(var q=0;q < this.NJ.length;q++){this.S.log("PlayPredictionModel replay: ",JSON.stringify(this.NJ[q]));u=this.DTa(this.NJ[q]);t=this.DXa(u);this.CJ.update(u,t);this.jfa=!1;}this.NJ=[];}};k.prototype.update=function(q){var u,t,v;this.S.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Gb && q.Gb[0]){!1 === this.qga && this.NJ.length < n.zPb && this.NJ.push(q);u=this.DTa(q);t=this.DXa(u);this.S.log("actionType",t);u="mlmodel" == n.dV?this.CJ.update(q,t):this.CJ.update(u,t);u=this.CFb(u,n.$Mb || 1);this.S.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.uQ && (this.uQ=h(),this.ia && this.ia.pW && this.ia.pW({KAb:this.uQ}));if(this.ia && this.ia.SXb){this.AGb();v=[];u.forEach(function(w){v.push({agc:w.J});});JSON.stringify(q);JSON.stringify(u);}this.Hpb.aH(u);this.xpb.aH(u);this.jfa=!1;}};k.prototype.AGb=function(){h();};k.prototype.pW=function(){this.uQ=h();this.ia && this.ia.pW && this.ia.pW({KAb:this.uQ});};k.prototype.DTa=function(q){var u,t,v,w,y;u={};v=q.Gb || [];w=(function(x){var A,z;A={};y=d.oP.name.indexOf(x.context);A.context=0 <= y?y:d.oP.Tw;A.rowIndex=x.rowIndex;A.requestId=x.requestId;A.list=[];t=x.list || [];t.forEach((function(B){z={J:B.J,Me:B.Me,index:B.index,NM:B.NM,E8:B.E8,list:B.list,qb:B.qb};void 0 !== B.property && (y=d.GI.name.indexOf(B.property),z.property=0 <= y?y:d.GI.Tw);A.list.push(z);}).bind(this));u.Gb.push(A);}).bind(this);if(void 0 !== q.direction){y=d.lu.name.indexOf(q.direction);u.direction=0 <= y?y:d.lu.Tw;}void 0 !== q.YS && (u.Dcc=q.YS.rowIndex,u.Ccc=q.YS.Ovb);u.YS=q.YS;u.Gb=[];v.forEach(w);return u;};k.prototype.DXa=function(q){var u,t,v;u=q.direction || d.lu.Tw;t=q.YS;v=q.Gb || [];!0 === this.jfa?q=d.xw.pCa:!0 === v.some(this.hKb)?(q=d.xw.LP,this.e9(v,u,t)):q=v[0].context === d.oP.L_?d.xw.L_:u === d.lu.hKa || u === d.lu.EEa?d.xw.BKa:d.xw.Tw;return q;};k.prototype.hKb=function(q){return (q.list || []).some(function(u){return u.property === d.GI.LP || u.property === d.GI.IAa;});};k.prototype.e9=function(q,u,t){var v,w;this.S.log("reportPlayFocusEvent: ",u,t);v={};w=m(q);this.ia && this.ia.e9 && (v.scc=h(),v.direction=d.lu.name[u],t && (v.rowIndex=t.rowIndex,v.VSa=t.Ovb),void 0 !== w.Kj && (v.requestId=q[w.Kj].requestId),this.ia.e9 && this.ia.e9(v));};k.prototype.CFb=function(q,u){for(var t=q.length,v=[],w,y,x,A,z=0;z < t;z++){y=q[z];w=Math.floor(z / u) + 1;if(void 0 !== y.list){x=y.list;A=x.length;for(var B=0;B < Math.min(n.Kvb,A) && !(x[B].Ok=y.Ok,this.YPa(x[B],w,v),v.length >= n.z3a);B++){;}}else this.YPa(y,w,v);if(v.length >= n.z3a)break;}return v;};k.prototype.YPa=function(q,u,t){var w,y;function v(x){x.ud && (x.qb || (x.qb={}),x.qb.ud=x.ud);return x.qb;}w=q.E8;if(void 0 !== w && w instanceof Array)w.forEach(function(x){void 0 !== x.J && (y=v(x),t.push(new c(x.J,u,x.Me,x.NM,q.Ok,y)));});else if(void 0 !== w && void 0 !== w.J){w=q.E8;y=v(w);t.push(new c(w.J,u,w.Me,w.NM,q.Ok,y));}void 0 !== q.J && (y=v(q),t.push(new c(q.J,u,q.Me,q.NM,q.Ok,y)));};k.prototype.HF=function(q){var u;u=this.DOa;return q?u[q]:u;};r.exports=k;},33887:function(r,b,a){var k;function c(f){for(var h="",d=0;d < f.length;d++){h+=f[d].J + "|";}return h;}k=a(47151);r.exports={assert:function(f,h){if(!f)throw Error("PlayPredictionModel assertion failed" + (h?" : " + h:""));},rdc:function(f,h,d){Array.prototype.splice.apply(f,[h,0].concat(d));},rGb:function(f){for(var h=[],d=0;d < f.length;d++){if(f[d].context === k.oP.Ufb){h=f[d].list;break;}}return h;},bGb:function(f){for(var h=[],d=0;d < f.length;d++){if(f[d].context === k.oP.Neb){h=f[d].list;break;}}return h;},MAb:function(f,h){for(var d=0,g,m,l,n=0,p=f.length - 1;n < p;n++){g=c(f[n].list || []);l=!1;for(var q=0,u=h.length;q < u;q++){if((m=c(h[q].list || []),m == g)){l=!0;break;}}if(!1 === l){d=n;break;}}return d;},VRb:function(f,h,d){for(var g=[],m,l=0;l < Math.min(h,f.length);l++){m=f[l].list || [];g=g.concat(m.slice(0,d));}return g;},URb:function(f,h){for(var d=[],g,m=0;m < f.length && (g=f[m].list || [],g=g.slice(0,Math.min(g.length,h)),h-=g.length,d=d.concat(g),0 !== h);m++){;}return d;},TRb:function(f,h,d){var g;h < f.length && 0 <= h && (f=f[h].list || [],d < f.length && (g=f[d]));return g;},SWa:function(f){for(var h={},d=f.length,g,m=0;m < d;m++){g=f[m].list || [];for(var l=0;l < g.length;l++){if(g[l].property === k.GI.LP || g[l].property === k.GI.IAa){h.Kj=m;h.Il=l;break;}}}void 0 === h.Kj && void 0 === h.Il && (h.Kj=0,h.Il=0);return h;}};},69208:function(r,b,a){var m,l,n,p,q,u,t,v;function c(w){return w.split(",").reduce(function(y,x){var A;A=x.split("=");x=A[0];A=A.slice(1).join("=");x && x.length && (y[x]=A || !0);return y;},{});}function k(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function f(w,y,x){var A;if("string" === typeof w)return f.call(this,c(w),y,x);A=0;Object.keys(w).forEach(function(z){var B,C,D;B=q[z];C=w[z];if(B){if(D=u[z] || v[typeof m[B]])try{C=D(C);}catch(F){x && x.error("Failed to convert value '" + C + "' for config '" + z + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + z + "' from " + k(D) + " (" + typeof D + ") to " + k(C) + " (" + typeof C + ")"),++A);}else y?(B=(B=t[z])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),t[z]=B):x && x.error("Attempt to change undeclared config option '" + z + "'");},this);A && p.emit("changed");return A;}function h(){return Object.keys(q).reduce(function(w,y){var x,A;x=q[y];A=w[x];A?(A.push(y),w[x]=A.sort(function(z,B){return B.length - z.length;})):w[x]=[y];return w;},{});}function d(w,y){return w.hasOwnProperty(y)?k(w[y]):void 0;}function g(w,y){return "undefined" === typeof w?y:w;}b=a(6328);a=a(30810).EventEmitter;m={};l=Object.create(m);n=Object.create(l);p=Object.create(n);q={};u={};t={};p.declare=function(w){Object.keys(w).forEach(function(y){var x,A,z,B;x=w[y];A=x[0];z=x[1];B=x[2];if(m.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof A && (A=[A]);A.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");m.hasOwnProperty(y) || ("function" === typeof z && (z=z()),m[y]=z);q[C]=y;"function" === typeof B && (u[C]=B);if(D=t[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];f.call(G,E,!1);}),delete t[C]);});});return p;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=f.bind(l);p.EV=f.bind(n);p.dump=function(w,y){var A,z,B,C;function x(){C && w && w.log("===========================================");}A=Object.keys(t).sort();z={};B=h();y=g(y,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!z[D]){z[D]=!0;F=d(l,D);G=d(n,D);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + k(p[D]) + " (" + typeof p[D] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(m,D) + "]";C || (C=!0,w && w.log("Current config values"),x());w && w.log(E);}}});(y || A.length) && w && w.log("<undeclared> :",A);x();};p.Mn=function(w){var y,x;y={};x={};Object.keys(q).forEach(function(A){A=q[A];x[A] || (x[A]=!0,y[A]=p[A]);});w && f.call(y,w);return y;};p.s6a=function(){var w;w=h();return Object.getOwnPropertyNames(l).reduce(function(y,x){y[w[x][0]]=l[x];return y;},{});};p.reset=function(){Object.keys(l).forEach(function(w){delete l[w];});};p.qg={};b(a,p);r.exports=Object.freeze(p);},46152:function(r){function b(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.qg)return (this.qg={},this.qg[c]=[k],!0);f=this.qg[c];return void 0 === f?(this.qg[c]=[k],!0):0 > f.indexOf(k)?(f.push(k),!0):!1;}function a(c,k){c=this.qg?this.qg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.qg)return !1;f=this.qg[c];if(void 0 === f)return !1;k=f.indexOf(k);if(0 > k)return !1;if(1 === f.length)return (delete this.qg[c],!0);f.splice(k,1);return !0;},Eq:a,emit:a,removeAllListeners:function(c){this.qg && (void 0 === c?delete this.qg:delete this.qg[c]);return this;}};},1471:function(r){function b(c,k,f,h){c.trace(":",f,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,f,h){f=h?f.bind(h):f;h=!1;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addEventListener)h=c.addEventListener(k,f);else if("function" === typeof c.addListener)h=c.addListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,h;f=k[0];h=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,k):"function" === typeof f.removeListener && f.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},30810:function(r,b,a){r.exports={EventEmitter:a(46152),gf:a(1471)};},5130:function(r,b,a){var f,h,d,g;function c(m,l,n){void 0 === n && (n=0);return m.displayTime - n <= l && l < m.displayTime + m.duration;}function k(m,l){for(var n=0;n < m.length;n++){if(l(m[n],n,m))return m[n];}}Object.defineProperty(b,"__esModule",{value:!0});b.qc=b.yfb=b.Rya=void 0;f=a(70655);h=a(91854);d=a(28075);r=(function(m){function l(n,p,q,u,t,v,w,y){var x,A,z;z=m.call(this) || this;z.anb=n;z.CQ=p;z.hnb=q;z.ja=u;z.mt=t;z.Pma=v;z.o8=w;z.options=y;z.sj=[];z.Ni=[];z.Li=[];z.psa=new d.gf();z.Eua=new d.gf();z.I2=new d.gf();z.bA=new g(function(){return p(n());},z.ja,(null === (x=z.options) || void 0 === x?void 0:x.ha) || !1);z.bA.events.on("bufferingcomplete",function(){var B;z.ja.trace("AseTimer:Received buffering complete from watcher");null === (B=z.Bm) || void 0 === B?void 0:B.Vf();z.ora();});z.bA.Esa();z.F$a();z.psa.on(z.o8,"segmentPresenting",function(){z.C5a();});z.psa.on(z.o8,"taskSchedulerChanged",function(){z.F$a();});null === (A=z.Bm) || void 0 === A?void 0:A.Qa();return z;}f.__extends(l,m);Object.defineProperty(l.prototype,"_buffering",{get:function(){return this.bA.RR;},enumerable:!1,configurable:!0});l.prototype.J1b=function(){var n,p,q,u,t,v,w,y,x,A,z,B,C,D;D=this;return f.__generator(this,function(F){switch(F.label){case 0:this.ja.trace("AseTimer:Starting subtitle worker");if(this.mt())return (this.ja.trace("Paused: exiting"),[2]);n=function(){return D.Jd.sa.currentTime.G;};p=this.anb;this.Li=this.Ni.concat(this.sj);this.u7a(p(),!0);F.label=1;case 1:if(!this.Li.length)return [3,3];u=q=p();this.sSa(q);try{for((t=(B=void 0,f.__values(this.Li)),v=t.next());!v.done;v=t.next()){w=v.value;this.ja.trace("AseTimer:Checking subtitle " + w.id);q >= w.displayTime + w.duration || (c(w,q,this.options.Kfc)?(this.ja.trace("AseTimer:Showing subtitle " + w.id),this.uVb(w),u=Math.max(q,w.displayTime)):(this.ja.trace("AseTimer:Staging subtitle " + w.id),this.Lva(w)));}}catch(G){B={error:G};}finally{try{v && !v.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.Utb(u);if(!isFinite(y))return (this.bA.Esa(),[3,3]);x=n();A=this.hnb(y,q);if(void 0 === A)return [3,3];z=Math.max(A,10) + x;this.ja.trace("AseTimer:Sleeping till PlayerTime " + z);return [4,h.Pg.Yt(h.N.Na(z))];case 2:return (F.Ra(),this.u7a(p()),[3,1]);case 3:return (this.ja.trace("AseTimer:Checking removed subtitles one more time " + p()),this.sSa(p()),this.ja.trace("AseTimer:Ending subtitle worker"),[2]);}});};l.prototype.u7a=function(n,p){var q,u,t,v,w;u=this;void 0 === p && (p=!1);t=p || !this.sj.length;t || (t=this.Li[this.Li.length - 1].displayTime > n);if(t){this.ja.trace("AseTimer:Getting subtitles for " + n,{Hbc:this.Jd.sa.currentTime});v=this.CQ(n);if(v){this.ja.trace("AseTimer:Received " + v.length + " subtitles");t=function(z){k(w.Li,function(B){return B.id === z.id;}) || n >= z.displayTime + z.duration || (w.ja.trace("AseTimer:adding " + z.id,{start:z.startTime,$bc:z.displayTime,end:z.endTime,icc:z.duration}),w.Li.push(z));};w=this;try{for(var y=f.__values(v),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(z){var A;A={error:z};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(A)throw A.error;}}p && this.Li.filter(function(z){return !k(v,function(B){return B.id === z.id;});}).forEach(function(z){return u.xV(z);});this.Li.length || this.bA.Esa();}else this.yh();}};l.prototype.stop=function(){var n;this.ja.trace("AseTimer:Stop");null === (n=this.Bm) || void 0 === n?void 0:n.Qa();this.bA.reset();this.Y8();this.psa.clear();this.Eua.clear();this.I2.clear();};l.prototype.Y8=function(){var n,p,q,u;this.ja.trace("AseTimer:Removing all",this.Ni.length);u=this.Ni;try{for(var t=f.__values(u),v=t.next();!v.done;v=t.next()){this.xV(v.value);}}catch(y){var w;w={error:y};}finally{try{v && !v.done && (n=t.return) && n.call(t);}finally{if(w)throw w.error;}}this.Ni=[];if(null === (p=this.Bm) || void 0 === p?0:p.L0a)null === (q=this.Bm) || void 0 === q?void 0:q.Qa();};l.prototype.pause=function(){var n;null === (n=this.Bm) || void 0 === n?void 0:n.Qa();};l.prototype.wz=function(){var n,p,q,u;(null === (n=this.Bm) || void 0 === n?void 0:n.state) !== h.Ik.complete && (null === (p=this.Bm) || void 0 === p?void 0:p.state) !== h.Ik.iF || this.mt() || (null === (q=this.Bm) || void 0 === q?void 0:q.Vf());this.Dn && this.bA.check();this.mt() && (null === (u=this.Bm) || void 0 === u?void 0:u.Qa());};l.prototype.F$a=function(){var n;n=this;this.ja.trace("Setting up new task scheduler");(this.Jd=this.Pma())?(this.Eua.clear(),this.Eua.on(this.Jd,"clockChanged",function(){return n.r5a();}),this.Bm=this.Jd.Tx(function(){return n.J1b();},"subtitleWorker"),this.r5a()):this.ja.warn("AseTimer: no player task scheduler");};l.prototype.Utb=function(n){var p;return null !== (p=this.Li.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > n;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};l.prototype.r5a=function(){var n,p,q;n=this;this.I2.clear();(null === (p=this.Jd) || void 0 === p?0:p.sa)?(this.ja.trace("onClockChanged: clock listeners registered"),this.I2.on(this.Jd.sa,"clockAdjusted",function(u){u.reason === h.Jz.FH && n.C5a();}),this.I2.on(this.Jd.sa,"stopStart",function(){var u;null === (u=n.Bm) || void 0 === u?void 0:u.Vf();})):this.ja.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Bm) || void 0 === q?void 0:q.Vf();};l.prototype.C5a=function(){var n,p;this.ja.trace("Timeline changed");this.Y8();this.mt()?null === (p=this.Bm) || void 0 === p?void 0:p.Qa():null === (n=this.Bm) || void 0 === n?void 0:n.Vf();};l.prototype.Lva=function(n){-1 === this.sj.indexOf(n) && this.QSb(n);};l.prototype.sSa=function(n){var p,q,v;q=this.Ni.concat(this.sj);try{for(var u=f.__values(q),t=u.next();!t.done;t=u.next()){v=t.value;n >= v.displayTime + v.duration && this.xV(v);}}catch(y){var w;w={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(w)throw w.error;}}};l.prototype.uVb=function(n){-1 === this.Ni.indexOf(n) && (this.Ni.push(n),-1 !== this.sj.indexOf(n) && (this.sj=this.sj.filter(function(p){return p !== n;})),this.Bra(n));};l.prototype.Bra=function(n){this.ja.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};l.prototype.QSb=function(n){this.ja.trace("AseTimer:Staging",n.id);this.sj.push(n);this.emit("stagesubtitle",n);};l.prototype.yh=function(){this.ja.trace("AseTimer:onUnderflow",this.Dn);this.Dn || (this.emit("underflow"),this.bA.yh());};l.prototype.xV=function(n){this.ja.trace("AseTimer:Removing",n.id);-1 !== this.sj.indexOf(n) && (this.sj=this.sj.filter(function(p){return p !== n;}));-1 !== this.Ni.indexOf(n) && (this.emit("removesubtitle",n),this.Ni=this.Ni.filter(function(p){return p !== n;}));this.Li=this.Li.filter(function(p){return p !== n;});};l.prototype.ora=function(){var n;this.Li.length && (this.emit("bufferingComplete"),this.mt() || (null === (n=this.Bm) || void 0 === n?void 0:n.Vf()));};return l;})(d.EventEmitter);b.Rya=r;g=(function(){function m(l,n,p){void 0 === p && (p=!1);this.CQ=l;this.ja=n;this.Bfa=p;this.events=new d.EventEmitter();this.Dn=!1;}Object.defineProperty(m.prototype,"buffering",{get:function(){return this.Dn;},enumerable:!1,configurable:!0});m.prototype.Esa=function(){var l;l=this;this.ja.trace("AseTimer:Buffering watcher restart");this.Dn=!0;this.Fob=this.Bfa?setInterval(function(){return l.check();},500):setInterval(function(){return l.check();},2E4);};m.prototype.yh=function(){this.ja.trace("AseTimer:Buffering watcher underflow");this.Dn=!0;this.wSa(1);};m.prototype.reset=function(){this.ja.trace("AseTimer:Buffering watcher reset");clearInterval(this.Fob);clearTimeout(this.zpb);this.Dn=!1;};m.prototype.wSa=function(l){var n;n=250 * (1 << l);2E3 < n && (n=2E3);this.check();this.Dn && (this.zpb=setTimeout(this.wSa.bind(this,l + 1),n));};m.prototype.check=function(){var l;l=this.CQ();this.ja.trace("AseTimer:Buffering complete check",null === l || void 0 === l?void 0:l.length);null !== l && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",PC:l}));};return m;})();b.yfb=g;b.qc=k;},14505:function(r,b,a){var w,y,x,A,z,B,C,D,F;function c(G,E){var J,K;J=this;K=G.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(N){var I;I=A.Wyb(G,N);return {textNodes:N.textNodes.map(v.bind(J,K)),region:I,id:N.id};})};}function k(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function f(G,E){var J,K,N,I,O,L;J=y.sf(!0);K={};N=[];I=null;O=[];L={};J.onerror=function(H){E(H,null);};J.onend=function(){E(null,K);};J.onclosetag=function(){N.pop();};J.onopentag=function(H){var M,R,Y,ea;M=H.attributes;R=H.name;Y=K.regions;ea=K.styles;N.push(H);if("tt" === R)K=q(M);else if("body" === R)"undefined" !== typeof M.style && (K.defaultStyle=M.style,O.push(M.style));else if("initial" === R && t(N,"styling"))(L=u(M,B),K.initialStyle=L);else if("style" === R && t(N,"styling")){Y=M["xml:id"];H=L;M=u(M,B);if(Object.keys(H).length)for(var ca in H){"undefined" === typeof M[ca] && (M[ca]=H[ca]);}ea[Y]=M;}else "style" === R && t(N,"region")?(ea=Object.keys(M)[0],"string" === typeof ea && (Y[I][ea.slice(4)]=M[ea])):"region" === R && t(N,"layout") && (I=M["xml:id"],Y[I]=u(M,D));};setTimeout(function(){var H;for(J.write(G);0 < N.length && !J.error;){H=k(N).name;J.write("</" + H + ">");}J.close();},10);}function h(G,E){var J;J=G.filter(function(K){return K.startTime <= E && E <= K.endTime;});G=G.filter(function(K){return K.startTime > E;});return 0 < G.length?J.concat([G[0]]):J;}function d(){}function g(G){var E,J,K,N;E=G.preferences;J=G.lf;K=G.Me;N=G.ja;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.ce=this.sfa=null;this.rx="object" === typeof E?G.preferences:{};this.fx="object" === typeof J?G.lf:{};this.tj="number" === typeof K?G.Me:0;this.wE=G.xml || "";this.ia="object" === typeof N?G.ja:F;this.Cb=G.request;this.rh=G.url;this.zf=[];this.bk=this.tj;this.gd=null;this.wm=this.Fn=!1;this.TD=G.dW || 0;}function m(G,E){return G && "object" === typeof G[E] && null !== G[E]?G[E]:{};}function l(G,E){return G !== E && !(G && 0 === Object.keys(G).length && E && 0 === Object.keys(E).length);}function n(){var G,E,J;G=this;E=G.wE.indexOf("<p");if(-1 < E){J=G.wE.slice(0,E);f(J,function(K,N){null !== K?(K.B_a=J,G.emit("error",K)):(G.sfa=N,G.ce=new x(G.wE,N.tickRate),p.call(G,G.tj));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var E,J,K,N,I,O,L,H;E=this;J=E.sfa;K=0;N=[];I=J.defaultStyle?[J.defaultStyle]:[];O=J.lang?[J.lang]:[];E.ia.info("parsing the next 5 entries...");L=E.ce.SHb(G);E.ia.debug(L);H=y.sf(!0);H.onerror=function(M){M.xml=L;E.emit("error",M);};H.onend=function(){var M;M=E.zf.reduce(function(R,Y){Y=Y.blocks.reduce(function(ea,ca){return ea.concat([ca.id]);},[]);return R.concat(Y);},[]);N.forEach(function(R){var Y;if(-1 === M.indexOf(R.id)){Y=R && R.blocks && R.blocks.filter(function(ea){return 0 < ea.textNodes.length;});Y && 0 < Y.length && (R.blocks=Y,E.zf.push(R));}});E.wm=!1;E.Fn || (E.Fn=!0,E.emit("ready"));};H.ontext=function(M){("" !== M.trim() || M.match(/ +/)) && k(k(N).blocks).textNodes.push({text:M.match(/ +/)?M:M.trim(),style:k(I),lang:k(O),lineBreaks:K});K=0;};H.onclosetag=function(){var M;M=H.tag;"undefined" !== typeof M.attributes.style && I.pop();"undefined" !== typeof M.attributes["xml:lang"] && O.pop();};H.onopentag=function(M){var R,Y,ea,ca,oa;R=M.attributes;Y=M.name;M=J.tickRate;if("p" === Y){K=0;Y=R["xml:id"];R.style && I.push(R.style);R["xml:lang"] && O.push(R["xml:lang"]);ea=Math.floor(parseInt(R.begin) / M * 1E3);if(0 === N.length || k(N).displayTime !== ea){ea=N.push;ca={};oa=parseInt(R.begin) / M;M=parseInt(R.end) / M;ca.id=Y;ca.startTime=Math.floor(1E3 * oa);ca.endTime=Math.floor(1E3 * M);ca.style=R.style;ca.region=R.region;ca.displayTime=ca.startTime;ca.duration=ca.endTime - ca.startTime;ca.extent=R["tts:extent"] || null;ca.origin=R["tts:origin"] || null;ca.latestEndSoFar=0 > ca.endTime?0:ca.endTime;ca.blocks=[{textNodes:[],region:ca.region,id:Y,extent:ca.extent,origin:ca.origin}];ea.call(N,ca);}else k(N).blocks.push({textNodes:[],region:R.region,id:Y,extent:R["tts:extent"] || null,origin:R["tts:origin"] || null});}else "span" === Y?(I.push(R.style),R["xml:lang"] && O.push(R["xml:lang"]),M=J.styles[R.style],R.style && M && M.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(M.ruby) && k(k(N).blocks).textNodes.push({text:"",style:k(I),lang:k(O),lineBreaks:0})):"br" === Y && K++;};H.write("<entries>").write(L).write("</entries>").close();}function q(G){var E;G=u(G,C);if("string" === typeof G.extent){E=G.extent.split(" ").map(function(J){return parseInt(J,10);});G.width=E[0];G.height=E[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(E=G.cellResolution.split(" ").map(function(J){return parseInt(J,10);}),G.cellResolution={},G.cellResolution.x=E[0],G.cellResolution.y=E[1]):G.cellResolution={x:52,y:19};return G;}function u(G,E){var J;J={};E.forEach(function(K){"undefined" !== typeof G["tts:" + K]?J[K]=G["tts:" + K]:"undefined" !== typeof G["ttp:" + K]?J[K]=G["ttp:" + K]:"undefined" !== typeof G["ebutts:" + K]?J[K]=G["ebutts:" + K]:"undefined" !== typeof G["xml:" + K] && (J[K]=G["xml:" + K]);});J.styles={};J.regions={};return J;}function t(G,E){var J;for(J=G.length - 1;0 <= J;J--){if(G[J].name === E)return !0;}return !1;}function v(G,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:z.$yb(G[E.style] || ({}),this.fx,this.rx),id:E.id};}w=a(17187).EventEmitter;y=a(93419);x=a(98310);A=a(62594);z=a(83032);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");F={info:d,debug:d};b=Object.create(w.prototype);g.prototype=b;b.start=function(){var G;G=this;G.ia.info("incremental text stream created, starting at pts " + G.tj);G.wE?n.call(G):G.Cb({url:G.rh},function(E,J){G.wE=J;n.call(G);});};b.nB=function(G){var E,J,K;E=this;G < E.bk - E.TD && (E.zf=[]);J=E.zf;K=0 < J.length?J[J.length - 1].startTime:G;E.bk=G;for(!E.gd && 5 > E.zf.length && !E.wm && (E.ia.info("buffer size: " + E.zf.length + "; minimum: 5"),E.wm=!0,E.gd=setTimeout(function(){E.gd=null;p.call(E,K + 1);},10));0 < J.length && J[0].endTime < G;){J.shift();}J=h(J,G).map(c.bind(E,E.sfa));G < E.ce.KWa() && 0 === J.length && (J=null);return J;};b.Ql=function(G,E){return this.ce?this.ce.Ql(G,E):0;};b.close=function(){};b.XC=function(G){var E;E=m(G,"preferences");G=m(G,"defaults");return l(E,this.rx) || l(G,this.fx)?(this.rx=E,this.fx=G,!0):!1;};r.exports={dca:g,h6a:f,Qd:k,J4:h,q3:c,XC:b.XC};},93419:function(r){var v,w,y,x,A,z,B,C,D,F,G,E,J,K,N,I,O;function b(){}function a(L,H){if(!(this instanceof a))return new a(L,H);for(var M=0,R=w.length;M < R;M++){this[w[M]]="";}this.q=this.c=this.Sm=this.textNode="";this.ERa=v.Cca;this.dn=H || ({});this.dn.R2a=this.dn.R2a || this.dn.Kdc;this.Jpa=this.dn.R2a?"toLowerCase":"toUpperCase";this.Di=[];this.closed=this.YR=this.vN=!1;this.tag=this.error=null;this.gm=!!L;this.Y4a=!(!L && !this.dn.Y4a);this.state=O.Maa;this.Fw=(this.Eab=this.dn.Eab)?Object.create(v.Tlb):Object.create(v.Fw);this.FA=[];this.dn.eY && (this.Fj=Object.create(K));if(this.A$=!1 !== this.dn.position)this.position=this.line=this.ZR=0;this.onready && this.onready(void 0);}function c(L,H){var M;if(!(this instanceof c))return new c(L,H);b.apply(this);this.px=new a(L,H);this.readable=this.writable=!0;M=this;this.px.onend=function(){M.emit("end");};this.px.onerror=function(R){M.emit("error",R);M.px.error=null;};y.forEach(function(R){Object.defineProperty(M,"on" + R,{get:function(){return M.px["on" + R];},set:function(Y){if(!Y)return (M.removeAllListeners(R),M.px["on" + R]=Y);M.on(R,Y);},enumerable:!0,configurable:!1});});}function k(L){return L.split("").reduce(function(H,M){H[M]=!0;return H;},{});}function f(L,H){return "[object RegExp]" === Object.prototype.toString.call(L)?!!H.match(L):L[H];}function h(L,H,M){L.textNode && d(L);L[H] && L[H](M);}function d(L){L.textNode=g(L.dn,L.textNode);L.textNode && L.ontext && L.ontext(L.textNode);L.textNode="";}function g(L,H){L.trim && (H=H.trim());L.normalize && (H=H.replace(/\s+/g," "));return H;}function m(L,H){d(L);L.A$ && (H+="\nLine: " + L.line + "\nColumn: " + L.ZR + "\nChar: " + L.c);H=Error(H);L.error=H;L.onerror && L.onerror(H);return L;}function l(L){L.vN && !L.YR && n(L,"Unclosed root tag");L.state !== O.Maa && L.state !== O.Naa && L.state !== O.Ya && m(L,"Unexpected end");d(L);L.c="";L.closed=!0;L.onend && L.onend(void 0);a.call(L,L.gm,L.dn);return L;}function n(L,H){if("object" !== typeof L || !(L instanceof a))throw Error("bad call to strictFail");L.gm && m(L,H);}function p(L,H){var M,R;M=0 > L.indexOf(":")?["",L]:L.split(":");R=M[0];M=M[1];H && "xmlns" === L && (R="xmlns",M="");return {prefix:R,local:M};}function q(L){var H,M,R;L.gm || (L.Qi=L.Qi[L.Jpa]());if(-1 !== L.FA.indexOf(L.Qi) || L.tag.attributes.hasOwnProperty(L.Qi))return L.Qi=L.Ri="";if(L.dn.eY){H=p(L.Qi,!0);M=H.local;if("xmlns" === H.prefix)if("xml" === M && L.Ri !== E)n(L,"xml: prefix must be bound to " + E + "\nActual: " + L.Ri);else if("xmlns" === M && L.Ri !== J)n(L,"xmlns: prefix must be bound to " + J + "\nActual: " + L.Ri);else {H=L.tag;R=L.Di[L.Di.length - 1] || L;H.Fj === R.Fj && (H.Fj=Object.create(R.Fj));H.Fj[M]=L.Ri;}L.FA.push([L.Qi,L.Ri]);}else (L.tag.attributes[L.Qi]=L.Ri,h(L,"onattribute",{name:L.Qi,value:L.Ri}));L.Qi=L.Ri="";}function u(L,H){var M,R,ea,ca,oa,Ga,Fa;if(L.dn.eY){M=L.tag;R=p(L.tagName);M.prefix=R.prefix;M.local=R.local;M.uri=M.Fj[R.prefix] || "";M.prefix && !M.uri && (n(L,"Unbound namespace prefix: " + JSON.stringify(L.tagName)),M.uri=R.prefix);R=L.Di[L.Di.length - 1] || L;M.Fj && R.Fj !== M.Fj && Object.keys(M.Fj).forEach(function(Ja){h(L,"onopennamespace",{prefix:Ja,uri:M.Fj[Ja]});});R=0;for(var Y=L.FA.length;R < Y;R++){ea=L.FA[R];ca=ea[0];oa=ea[1];Ga=p(ca,!0);ea=Ga.prefix;Fa="" == ea?"":M.Fj[ea] || "";oa={name:ca,value:oa,prefix:ea,local:Ga.local,uri:Fa};ea && "xmlns" != ea && !Fa && (n(L,"Unbound namespace prefix: " + JSON.stringify(ea)),oa.uri=ea);L.tag.attributes[ca]=oa;h(L,"onattribute",oa);}L.FA.length=0;}L.tag.zdc=!!H;L.vN=!0;L.Di.push(L.tag);h(L,"onopentag",L.tag);H || (L.state=L.Y4a || "script" !== L.tagName.toLowerCase()?O.Ya:O.YI,L.tag=null,L.tagName="");L.Qi=L.Ri="";L.FA.length=0;}function t(L){var H,M,Y;if(L.tagName){if(L.Qj){if("script" !== L.tagName){L.Qj+="</" + L.tagName + ">";L.tagName="";L.state=O.YI;return;}h(L,"onscript",L.Qj);L.Qj="";}H=L.Di.length;M=L.tagName;L.gm || (M=M[L.Jpa]());for(var R=M;H--;){if(L.Di[H].name !== R)n(L,"Unexpected close tag");else break;}if(0 > H)(n(L,"Unmatched closing tag: " + L.tagName),L.textNode+="</" + L.tagName + ">");else {L.tagName=M;for(M=L.Di.length;M-- > H;){Y=L.tag=L.Di.pop();L.tagName=L.tag.name;h(L,"onclosetag",L.tagName);for(var ea in Y.Fj){;}R=L.Di[L.Di.length - 1] || L;L.dn.eY && Y.Fj !== R.Fj && Object.keys(Y.Fj).forEach(function(ca){h(L,"onclosenamespace",{prefix:ca,uri:Y.Fj[ca]});});}0 === H && (L.YR=!0);L.tagName=L.Ri=L.Qi="";L.FA.length=0;}}else (n(L,"Weird empty close tag."),L.textNode+="</>");L.state=O.Ya;}v={sf:function(L,H){return new a(L,H);}};v.s$b=a;v.t$b=c;v.$Ta=function(L){return new c(L,void 0);};v.Cca=65536;w=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");v.Fh=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(L){function H(){this.__proto__=L;}H.prototype=L;return new H();});Object.getPrototypeOf || (Object.getPrototypeOf=function(L){return L.__proto__;});Object.keys || (Object.keys=function(L){var H,M;H=[];for(M in L){L.hasOwnProperty(M) && H.push(M);}return H;});a.prototype={end:function(){l(this);},write:function(L){var Y,ea,ca,oa,Ga,Fa;if(this.closed)return m(this,"Cannot write after close. Assign an onready handler.");if(null === L)return l(this);if(this.error)throw this.error;for(var H=0,M;this.c=M=L.charAt(H++);){switch((this.A$ && (this.position++,"\n" === M?(this.line++,this.ZR=0):this.ZR++),this.state)){case O.Maa:if((this.state=O.Naa,"\ufeff" === M))continue;case O.Naa:"<" === M?(this.state=O.Wca,this.Sva=this.position):f(x,M) || (n(this,"Non-whitespace before first tag."),this.textNode=M,this.state=O.Ya);continue;case O.Ya:if(this.vN && !this.YR){for(var R=H - 1;M && "<" !== M && "&" !== M;){(M=L.charAt(H++)) && this.A$ && (this.position++,"\n" === M?(this.line++,this.ZR=0):this.ZR++);}this.textNode+=L.substring(R,H - 1);}"<" !== M || this.vN && this.YR && !this.gm?(f(x,M) || this.vN && !this.YR || n(this,"Text data outside of root node."),"&" === M?this.state=O.oea:this.textNode+=M):(this.state=O.Wca,this.Sva=this.position);continue;case O.YI:"<" === M?this.state=O.AKa:this.Qj+=M;continue;case O.AKa:"/" === M?this.state=O.aba:(this.Qj+="<" + M,this.state=O.YI);continue;case O.Wca:"!" === M?(this.state=O.Yda,this.Ar=""):f(x,M) || (f(N,M)?(this.state=O.dHa,this.tagName=M):"/" === M?(this.state=O.aba,this.tagName=""):"?" === M?(this.state=O.EHa,this.J8=this.fH=""):(n(this,"Unencoded <"),this.Sva + 1 < this.position && (M=Array(this.position - this.Sva).join(" ") + M),this.textNode+="<" + M,this.state=O.Ya));continue;case O.Yda:(this.Ar + M).toUpperCase() === F?(h(this,"onopencdata"),this.state=O.uY,this.Hl=this.Ar=""):"--" === this.Ar + M?(this.state=O.xY,this.Ar=this.Jl=""):(this.Ar + M).toUpperCase() === G?(this.state=O.CY,(this.doctype || this.vN) && n(this,"Inappropriately located doctype declaration"),this.Ar=this.doctype=""):">" === M?(h(this,"onsgmldeclaration",this.Ar),this.Ar="",this.state=O.Ya):(f(B,M) && (this.state=O.DKa),this.Ar+=M);continue;case O.DKa:M === this.q && (this.state=O.Yda,this.q="");this.Ar+=M;continue;case O.CY:">" === M?(this.state=O.Ya,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=O.jba:f(B,M) && (this.state=O.MAa,this.q=M));continue;case O.MAa:this.doctype+=M;M === this.q && (this.q="",this.state=O.CY);continue;case O.jba:this.doctype+=M;"]" === M?this.state=O.CY:f(B,M) && (this.state=O.LAa,this.q=M);continue;case O.LAa:this.doctype+=M;M === this.q && (this.state=O.jba,this.q="");continue;case O.xY:"-" === M?this.state=O.Pza:this.Jl+=M;continue;case O.Pza:"-" === M?(this.state=O.Oza,(this.Jl=g(this.dn,this.Jl)) && h(this,"oncomment",this.Jl),this.Jl=""):(this.Jl+="-" + M,this.state=O.xY);continue;case O.Oza:">" !== M?(n(this,"Malformed comment"),this.Jl+="--" + M,this.state=O.xY):this.state=O.Ya;continue;case O.uY:"]" === M?this.state=O.Fza:this.Hl+=M;continue;case O.Fza:"]" === M?this.state=O.Gza:(this.Hl+="]" + M,this.state=O.uY);continue;case O.Gza:">" === M?(this.Hl && h(this,"oncdata",this.Hl),h(this,"onclosecdata"),this.Hl="",this.state=O.Ya):"]" === M?this.Hl+="]":(this.Hl+="]]" + M,this.state=O.uY);continue;case O.EHa:"?" === M?this.state=O.ida:f(x,M)?this.state=O.hda:this.J8+=M;continue;case O.hda:if(!this.fH && f(x,M))continue;else "?" === M?this.state=O.ida:this.fH+=M;continue;case O.ida:">" === M?(h(this,"onprocessinginstruction",{name:this.J8,body:this.fH}),this.J8=this.fH="",this.state=O.Ya):(this.fH+="?" + M,this.state=O.hda);continue;case O.dHa:if(f(I,M))this.tagName+=M;else {this.gm || (this.tagName=this.tagName[this.Jpa]());R=this.Di[this.Di.length - 1] || this;Y=this.tag={name:this.tagName,attributes:{}};this.dn.eY && (Y.Fj=R.Fj);this.FA.length=0;">" === M?u(this):"/" === M?this.state=O.p_:(!f(x,M) && n(this,"Invalid character in tag name"),this.state=O.oI);}continue;case O.p_:">" === M?(u(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=O.oI);continue;case O.oI:if(f(x,M))continue;else ">" === M?u(this):"/" === M?this.state=O.p_:f(N,M)?(this.Qi=M,this.Ri="",this.state=O.kY):n(this,"Invalid attribute name");continue;case O.kY:"=" === M?this.state=O.laa:">" === M?(n(this,"Attribute without value"),this.Ri=this.Qi,q(this),u(this)):f(x,M)?this.state=O.Kxa:f(I,M)?this.Qi+=M:n(this,"Invalid attribute name");continue;case O.Kxa:if("=" === M)this.state=O.laa;else if(f(x,M))continue;else (n(this,"Attribute without value"),this.Ri=this.tag.attributes[this.Qi]="",h(this,"onattribute",{name:this.Qi,value:""}),this.Qi="",">" === M?u(this):f(N,M)?(this.Qi=M,this.state=O.kY):(n(this,"Invalid attribute name"),this.state=O.oI));continue;case O.laa:if(f(x,M))continue;else f(B,M)?(this.q=M,this.state=O.oaa):(n(this,"Unquoted attribute value"),this.state=O.paa,this.Ri=M);continue;case O.oaa:if(M !== this.q){"&" === M?this.state=O.maa:this.Ri+=M;continue;}q(this);this.q="";this.state=O.Lxa;continue;case O.Lxa:f(x,M)?this.state=O.oI:">" === M?u(this):"/" === M?this.state=O.p_:f(N,M)?(n(this,"No whitespace between attributes"),this.Qi=M,this.Ri="",this.state=O.kY):n(this,"Invalid attribute name");continue;case O.paa:if(!f(D,M)){"&" === M?this.state=O.naa:this.Ri+=M;continue;}q(this);">" === M?u(this):this.state=O.oI;continue;case O.aba:if(this.tagName)">" === M?t(this):f(I,M)?this.tagName+=M:this.Qj?(this.Qj+="</" + this.tagName,this.tagName="",this.state=O.YI):(!f(x,M) && n(this,"Invalid tagname in closing tag"),this.state=O.Mza);else if(f(x,M))continue;else f(N,M)?this.tagName=M:this.Qj?(this.Qj+="</" + M,this.state=O.YI):n(this,"Invalid tagname in closing tag.");continue;case O.Mza:if(f(x,M))continue;">" === M?t(this):n(this,"Invalid characters in closing tag");continue;case O.oea:case O.maa:case O.naa:switch(this.state){case O.oea:(ea=O.Ya,ca="textNode");break;case O.maa:ea=O.oaa;ca="attribValue";break;case O.naa:(ea=O.paa,ca="attribValue");}if(";" === M){M=ca;R=this[M];Y=this.Sm;oa=Y.toLowerCase();Ga="";if(this.Fw[Y])Y=this.Fw[Y];else if(this.Fw[oa])Y=this.Fw[oa];else {Y=oa;if("#" === Y.charAt(0))if("x" === Y.charAt(1)){Y=Y.slice(2);Fa=parseInt(Y,16);Ga=Fa.toString(16);}else (Y=Y.slice(1),Fa=parseInt(Y,10),Ga=Fa.toString(10));Y=Y.replace(/^0+/,"");Y=Ga.toLowerCase() !== Y?(n(this,"Invalid character entity"),"&" + this.Sm + ";"):String.fromCodePoint(Fa);}this[M]=R + Y;this.Sm="";this.state=ea;}else f(C,M)?this.Sm+=M:(n(this,"Invalid character entity"),this[ca]+="&" + this.Sm + M,this.Sm="",this.state=ea);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.ERa){L=Math.max(v.Cca,10);M=H=0;for(ea=w.length;M < ea;M++){ca=this[w[M]].length;if(ca > L)switch(w[M]){case "textNode":d(this);break;case "cdata":h(this,"oncdata",this.Hl);this.Hl="";break;case "script":h(this,"onscript",this.Qj);this.Qj="";break;default:m(this,"Max buffer length exceeded: " + w[M]);}H=Math.max(H,ca);}this.ERa=v.Cca - H + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Hl && (h(this,"oncdata",this.Hl),this.Hl="");"" !== this.Qj && (h(this,"onscript",this.Qj),this.Qj="");}};y=v.Fh.filter(function(L){return "error" !== L && "end" !== L;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(L){this.px.write(L.toString());this.emit("data",L);return !0;};c.prototype.end=function(L){L && L.length && this.write(L);this.px.end();return !0;};c.prototype.on=function(L,H){var M;M=this;M.px["on" + L] || -1 === y.indexOf(L) || (M.px["on" + L]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,L);M.emit.apply(M,R);});return b.prototype.on.call(M,L,H);};x="\r\n\t ";A="0124356789";z="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=A + z + "#";D=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";K={xml:E,eY:J};x=k(x);A=k(A);z=k(z);N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=k(B);C=k(C);D=k(D);O=0;v.Yz={Maa:O++,Naa:O++,Ya:O++,oea:O++,Wca:O++,Yda:O++,DKa:O++,CY:O++,MAa:O++,jba:O++,LAa:O++,p7b:O++,xY:O++,Pza:O++,Oza:O++,uY:O++,Fza:O++,Gza:O++,EHa:O++,hda:O++,ida:O++,dHa:O++,p_:O++,oI:O++,kY:O++,Kxa:O++,laa:O++,oaa:O++,Lxa:O++,paa:O++,maa:O++,naa:O++,aba:O++,Mza:O++,YI:O++,AKa:O++};v.Tlb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};v.Fw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(v.Fw).forEach(function(L){var H;H=v.Fw[L];H="number" === typeof H?String.fromCharCode(H):H;v.Fw[L]=H;});for(O in v.Yz){v.Yz[v.Yz[O]]=O;}O=v.Yz;String.fromCodePoint || (function(){var H,M;function L(){var R,Y,ea,oa,Ga;R=[];Y=-1;ea=arguments.length;if(!ea)return "";for(var ca="";++Y < ea;){oa=Number(arguments[Y]);if(!isFinite(oa) || 0 > oa || 1114111 < oa || M(oa) != oa)throw RangeError("Invalid code point: " + oa);if(65535 >= oa)R.push(oa);else {oa-=65536;Ga=(oa >> 10) + 55296;oa=oa % 1024 + 56320;R.push(Ga,oa);}if(Y + 1 == ea || 16384 < R.length)(ca+=H.apply(null,R),R.length=0);}return ca;}H=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L;})();r.exports=v;},97464:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},62594:function(r,b,a){var h,d,g,m,l,n,p;function c(q){return "string" !== typeof q?null:d[q];}function k(q){return "string" !== typeof q?null:l[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}h=a(97464);r.exports={Wyb:function(q,u){var t,v,w,y,x,F;t=u.textNodes[0] || ({});v=q.regions;w=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});v=v && v[u.region]?v[u.region]:{};t=w && w[t.style]?w[t.style]:{};w=f(h(u.extent,v.extent,"80% 80%"),q);if(v.position){for(var A=v.position.split(" "),z=[.5,.5],B=["left","top"],C=0,D=0;D < A.length;D++){F=A[D];(F in p)?(B[C]=F,D + 1 >= A.length && (z[C++]=0)):"center" === F?z[C++]=.5:z[C++]=.01 * parseFloat(F);}-1 < ["top","bottom"].indexOf(B[0]) || -1 < ["left","right"].indexOf(B[1])?(C="bottom" === B[0]?1 - z[0]:z[0],A="right" === B[1]?1 - z[1]:z[1]):(A="right" === B[0]?1 - z[0]:z[0],C="bottom" === B[1]?1 - z[1]:z[1]);z=[(1 - w[0]) * A,(1 - w[1]) * C];}else z=null;u=z?z:f(h(z,u.origin,v.origin,"10% 10%"),q);q=Object;y/=1280 / 720;z=(1 - y) / 2;B=u[0];u=u[1];w=q.create.call(q,{marginLeft:B * y + z,marginTop:u,marginRight:(1 - (B + w[0])) * y + z,marginBottom:1 - (u + w[1])});y=v.writingMode?v.writingMode:"lrtb";w.writingMode="string" !== typeof y?null:n[y];1 < Object.keys(v).length?(y=h(t.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(w.horizontalAlignment="string" !== typeof y?null:"tblr" === v.writingMode?g[y]:m[y],w.verticalAlignment=c(h(t.textAlign,v.textAlign,"start"))):w.verticalAlignment=c(y)):w.verticalAlignment=c(h(t.displayAlign,"after"));"horizontal-tb" === w.writingMode && (w.horizontalAlignment=k(h(t.textAlign,v.textAlign,"center")));w.multiRowAlignment=k(h(t.multiRowAlign,v.multiRowAlign,t.textAlign,v.textAlign,x.textAlign,"center"));return w;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};m={before:"right",center:"center",after:"left"};l={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},83032:function(r,b,a){var m,l,n,p,q,u,t,v,w,y,x,A,z,B,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:n[D.toLowerCase()];}function k(D){var F,G,E;F=(D || "").split(" ");G=(/^[0-9]/).test(F);D=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:D,width:0 < G?G:0,blur:0 < F?F:0};}function f(D,F){if(-1 < F.indexOf(D))return D;}function h(D){var F,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;F=d(D,C);F=F.length?F[0]:"outside";G=d(D,B);if(G.length)return g(G[0],"",F);G=d(D,A);D=d(D,z);return D.length || G.length?g(D.length?D[0]:"circle",G.length?G[0]:"filled",F):g("auto","",F);}function d(D,F){return D.filter(function(G){return -1 !== F.indexOf(G);});}function g(D,F,G){return {textEmphasisShape:D,textEmphasisFill:F,textEmphasisPosition:G};}m=a(97464);r.exports={$yb:function(D,F,G){var E,J,K,N,I,O,L,H,M,R,Y,ea,ca,oa,Ga,Fa;E=m(G.characterSize,F.characterSize,"MEDIUM");J=D.fontFamily;J=m(G.characterStyle,"string" !== typeof J?null:p[J],F.characterStyle,"PROPORTIONAL_SANS_SERIF");K=(D.fontSize || "").split(" ")[0] || "";N=-1 < K.indexOf("%")?parseInt(K,10) / 100:-1 < K.indexOf("em")?parseFloat(K):1;K="underline" === D.textDecoration;I="italic" === D.fontStyle;O=l[m(G.S5b,F.S5b,"OPAQUE")];L=l[m(G.characterOpacity,F.characterOpacity,"OPAQUE")];H=l[m(G.backgroundOpacity,D.opacity,F.backgroundOpacity,"OPAQUE")];M=c(m(G.characterColor,D.color,F.characterColor,"#ffffff"));R=c(m(G.backgroundColor,D.backgroundColor,F.backgroundColor,null));Y=c(m(G.Kdb,D.Kdb,F.Kdb,null));ea=m(G.characterEdgeAttributes,F.characterEdgeAttributes,null);N*=q[E] || 1;ca=1;u[E] && (ca=u[E][J] || 1);N*=1 / 19 * ca;ca=0;t[E] && (ca=t[E][J] || 0);E=ca;ca=D.textOutline;ca="string" !== typeof ca?null:k(ca).width;ca=m(ca,0);oa=D.textOutline;oa="string" !== typeof oa?null:k(oa).blur;oa=m(oa,0);Ga=G.characterEdgeColor;Fa=D.textOutline;Fa="string" !== typeof Fa?null:k(Fa).color;return {characterUnderline:K,characterItalic:I,characterStyle:J,windowOpacity:O,characterOpacity:L,backgroundOpacity:H,characterColor:M,backgroundColor:R,windowColor:Y,characterEdgeAttributes:ea,characterSize:N,characterTracking:E,characterEdgeWidth:ca,characterEdgeBlur:oa,characterEdgeColor:c(m(Ga,Fa,F.characterEdgeColor,"#000000")),direction:m(G.direction,D.direction,F.direction,"ltr"),ruby:m(f(D.ffc,v),null),rubyAlign:m(f(D.gfc,w),null),rubyPosition:m(f(D.hfc,x),null),rubyReserve:m(f(D.ifc,y),null),textEmphasis:h(D.Ufc),shear:D.S_b?.01 * parseFloat(D.S_b):null,textCombine:D.q2b?D.q2b:null};}};l={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};v=("container base baseContainer text textContainer delimiter").split(" ");w=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];A=["filled","open"];z=["circle","dot","sesame"];B=["none","auto"];C=["before","after","outside"];},98310:function(r){function b(a,c){var k,f,h,d,g,m;k=[];f=a.indexOf("<p");h=-1;do {d={};d.G0b=f;g=a.indexOf("begin=",f) + 7;m=a.indexOf("end=",f) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);m=Math.floor(parseInt(a.substr(m,25),10) / c * 1E3);h=m > h?m:h;d.startTime=g;d.endTime=m;d.latestEndSoFar=h;d.jWa=a.indexOf("/p>",f) + 3;f=d.jWa;k.push(d);f=a.indexOf("<p",f);}while(-1 !== f);this.Po=k;this.wE=a;}b.prototype.KWa=function(){return this.Po[this.Po.length - 1].endTime;};b.prototype.Ql=function(a,c){return this.Po.filter(function(k){return k.startTime <= c && k.endTime >= a;}).length;};b.prototype.SHb=function(a){for(var c="",k=this.Po.filter(function(h){return h.startTime <= a && a < h.endTime || h.startTime >= a;}),f=4;f + 1 < k.length && k[f + 1].startTime === k[4].startTime;){f++;}k=k.slice(0,f + 1);0 < k.length && (c=this.wE.slice(k[0].G0b,k[k.length - 1].jWa));return c;};r.exports=b;},27923:function(r,b){var c;function a(k,f){for(var h=0;h < k.length;h++){if(f(k[h],h,k))return k[h];}}Object.defineProperty(b,"__esModule",{value:!0});b.qc=b.c_=b.WEa=b.yP=void 0;b.yP=1E4;r=(function(){function k(f){this.Bf=[];this.MQ=0;this.ia=f;}Object.defineProperty(k.prototype,"endOfStreamSegment",{get:function(){return this.Kmb;},enumerable:!1,configurable:!0});k.prototype.TF=function(f){var h;h=a(this.Bf,function(d){return f >= d.ab && f < d.nf;});"undefined" === typeof h && this.ia.warn("Get Segment at pts " + f + " is undefined");return h;};k.prototype.Kga=function(f,h){var g;for(var d=this.Bf;0 < d.length && 300 <= f.I - d[0].I;){this.GW();}for(;0 < d.length && 300 <= d[d.length - 1].I - f.I;){this.Jua();}g=new c(f,h);f=d.length;if(0 === f || d[f - 1].I < g.I)this.Kua(g);else {f=a(d,function(m){return m.I >= g.I;});if((null === f || void 0 === f?void 0:f.I) === g.I)return;this.Lua(d.indexOf(f),g);}g.endOfStream && (this.ia.trace("EOS segment added to segment manager"),this.Kmb=g);this.MQ=d[d.length - 1].I;};k.prototype.IX=function(f){var h;if("undefined" === typeof f)this.ia.warn("Current segment is undefined.");else for((this.zl=f,this.ia.trace("Current segment id is " + f.I));(null === (h=this.Bf[0]) || void 0 === h?void 0:h.nf) < f.nf - b.yP;){this.GW();}};k.prototype.Kma=function(){if(this.So){if(this.MQ !== this.So.I)return this.Bf[this.Bf.indexOf(this.So) + 1];}else return this.Bf[0];};k.prototype.Vt=function(f){this.So=this.rv(f);};k.prototype.rv=function(f){var h;h=a(this.Bf,function(d){return d.I === f;});"undefined" === typeof h && this.ia.error("Segment with segmentId " + f + " is not in segmentArray");return h;};k.prototype.qT=function(){var f;return (null === (f=this.So) || void 0 === f?void 0:f.I) || -1;};k.prototype.axa=function(f,h){f=this.rv(f);"undefined" !== typeof f && (this.Bf[this.Bf.indexOf(f)].header=h);};k.prototype.FZa=function(f){return this.rv(f);};k.prototype.sma=function(f){f=this.rv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};k.prototype.GW=function(){this.Bf.shift();};k.prototype.Kua=function(f){this.Bf.push(f);};k.prototype.Lua=function(f,h){this.Bf.splice(f,0,h);};k.prototype.Jua=function(){this.Bf.pop();};return k;})();b.WEa=r;c=(function(){return function(k,f){this.I=k.I;this.xml=k.xml;this.ab=k.ab;this.nf=k.nf;this.$F=f;this.size=k.size;this.sr=k.sr;this.endOfStream=k.endOfStream;};})();b.c_=c;b.qc=a;},42456:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;c=a(70655);r=(function(k){function f(h,d){d=k.call(this,h,d) || this;d.xml=h.xml;d.size=h.size;return d;}c.__extends(f,k);return f;})(a(27923).c_);b.YEa=r;},98704:function(r,b,a){var c,k,f,h,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;c=a(70655);r=a(17187);k=a(14505);f=a(93419);h=a(27923);d=a(62441);g=a(62441);m=r.EventEmitter;a=(function(l){function n(p){var q,u,t,v,w;q=l.call(this) || this;u=p.preferences;t=p.lf;v=p.Me;w=p.ja;m.call(q);q.vx=new d.qca(w);q.rx="object" === typeof u?p.preferences:{};q.fx="object" === typeof t?p.lf:{};q.tj="number" === typeof v?p.Me:0;q.ia="object" === typeof w?p.ja:console;q.zf=[];q.Yh=0;q.bk=q.tj;q.gd=null;q.Fn=!1;q.wm=!1;q.TD=p.dW || 0;q.fd=new h.WEa(q.ia);q.ia.trace("LiveTextStream created with options",p);return q;}c.__extends(n,l);n.prototype.start=function(){this.ia.info("Incremental live text stream created, starting at pts " + this.tj);"undefined" !== typeof this.fd.TF(this.tj) && this.QG.call(this,this.tj);};n.prototype.jta=function(p){var q,u,t,v;q=this;u=p.xml;t=u.indexOf("<p");this.ia.trace("pushNextSegment",p);this.fd.Kga(p,-1 !== t?t:0);if(!this.Fn){v=this.fd.Bf[0];this.fd.IX(v);this.tj=v.ab;}-1 < t?(this.vx.ZPa(u,p.I,p.sr),this.ia.trace("Live segment " + p.I + " is pushed to segment manager",{ab:p.ab,nf:p.nf,bBb:p.sr}),!this.Fn && 4 > this.Yh && (u=0 < this.zf.length?this.zf[this.zf.length - 1].startTime + 1:this.tj,this.ia.trace("parseNextSegment is called from push new live Segment at " + u),this.QG.call(this,u))):(this.ia.trace("Live segment " + p.I + " is pushed to segment manager, it is an empty segment"),this.Fn || setTimeout(function(){q.Vt(p.I);},10));};n.prototype.nB=function(p){var q,u,t,v,w,y;q=this;v=this;v.ia.trace("LiveTextStream:get subtitles at pts " + p);w=v.fd.TF(p);if("undefined" === typeof w)return (v.ia.debug("LiveTextStream: get subtitle at pts " + p + " returns empty result with segment not available at this pts"),[]);v.fd.IX(w);p < v.bk - v.TD?(v.ia.trace("Pts is less than backup tolerance, resetting buffer. pts: " + p,", _lastPts: " + v.bk + ", _backupTolerance: " + v.TD),v.zf=[],v.Yh=0):(v.Yh=0 < v.zf.length?Math.max(v.fd.qT() - w.I + 1,0):0,0 === v.Yh && (v.zf=[]));w=v.zf;v.ia.trace("LiveTextStream: lastBufferedPts calculation " + p,", buffer.length: " + w.length + ", result: " + (0 < w.length?null === (u=w[w.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.fd.So;y=0 < w.length && void 0 !== u?u.ab:p;v.bk=p;v.ia.info("LiveTextStream: timer is " + v.gd + " bufffered segment number is " + v.Yh + " is parsing entry : " + this.wm + " maxBufferedStartPts " + (null === (t=this.fd.So) || void 0 === t?void 0:t.ab));for(!v.gd && 4 > v.Yh && !v.wm && (v.ia.info("LiveTextStream: buffer size: " + v.Yh + "; minimum: 4"),v.wm=!0,v.gd=setTimeout(function(){v.gd=null;q.ia.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.QG.call(v,y + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return k.J4(w,p).map(function(x){var A;A=v.fd.sma(x.segId);return k.q3.call(v,A,x);});};n.prototype.Ql=function(p,q){return this.vx?this.vx.Ql(p,q):0;};n.prototype.XC=function(p){return k.XC.call(this,p);};n.prototype.close=function(){};n.prototype.QG=function(p){var q;q=this.Ima.call(this,p);"undefined" !== typeof q?(this.ia.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.$F?(this.ia.trace("This is an empty segment"),this.Vt(q.I)):(this.Ura.call(this,q),this.ia.trace("parseNextSegEntries buffer length: " + this.zf.length))):(this.ia.debug("Next segment is undefined at pts " + p),this.wm=!1);};n.prototype.Ima=function(p){var q,u;u=this.vx.bZa(p);this.ia.trace("Most recent entry at current pts " + p + " is segment id  " + u);-1 === u && (u=(null === (q=this.fd.TF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.fd.qT()?this.fd.Kma():this.fd.rv(u);};n.prototype.Ura=function(p){var q,u,t,v,w;q=this;u=this;t=p.xml.slice(0,p.$F);v=p.xml.slice(p.$F,p.xml.lastIndexOf("/p>") + 3);k.h6a(t,function(y,x){null !== y?(y.B_a=t,y.I=p.I,u.emit("error",y)):(w=x,u.fd.axa(p.I,w),q.Rra.call(u,v,w,p));});};n.prototype.Rra=function(p,q,u){var t,v,w,y,x,A,z;t=this;v=this;w=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];A=q.lang?[q.lang]:[];v.ia.debug(p);z=f.sf(!0);z.onerror=function(B){B.xml=p;v.emit("error",B);};z.onend=function(){var B;B=v.zf.reduce(function(C,D){D=D.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,v.zf.push(C));}});t.Vt(u.I);};z.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && k.Qd(k.Qd(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:k.Qd(x),lang:k.Qd(A),lineBreaks:w});w=0;};z.onclosetag=function(){var B;B=z.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && A.pop();};z.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){w=0;B=u.I.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && A.push(C["xml:lang"]);D=g.bF(C.begin);0 === y.length || k.Qd(y).displayTime !== D?(C=t.tja(B,0,C,u.sr),C.segId=u.I,y.push(C)):k.Qd(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && A.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && k.Qd(k.Qd(y).blocks).textNodes.push({text:"",style:k.Qd(x),lang:k.Qd(A),lineBreaks:0})):"br" === B && w++;};z.write("<entries>").write(p).write("</entries>").close();};n.prototype.tja=function(p,q,u,t){var v;v={};v.id=p;v.startTime=g.bF(u.begin || "") - t;v.endTime=g.bF(u.end || "") - t;v.style=u.style;v.region=u.region;v.displayTime=v.startTime;v.duration=v.endTime - v.startTime;v.extent=u["tts:extent"] || null;v.origin=u["tts:origin"] || null;v.latestEndSoFar=q > v.endTime?q:v.endTime;v.blocks=[{textNodes:[],region:v.region,id:p,extent:v.extent || null,origin:v.origin || null}];return v;};n.prototype.Vt=function(p){this.fd.Vt(p);this.Yh+=1;this.wm=!1;this.ia.trace("updateMaxParsedSegment " + p);if(!this.Fn && 4 <= this.Yh || this.fd.Ika && this.fd.FZa(p) === this.fd.Ika)(this.fd.Ika && this.fd.FZa(p) === this.fd.Ika && this.ia.trace("Marking stream ready due to EOS"),this.Fn=!0,this.emit("ready"));};return n;})(m);b.ZEa=a;},62441:function(r,b,a){var k;function c(f){var h;f=f.split(".");h=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * h[0] + 60 * h[1] + h[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.bF=b.qca=void 0;k=a(27923);r=(function(){function f(h){this.Po=[];this.ia=h;}f.prototype.ZPa=function(h,d,g){var m,l,n,p,q,u;void 0 === g && (g=0);m=this.Po;l=h.indexOf("<p");n=-1;do {p={};p.I=d;p.Y$a=l;q=h.indexOf("begin=",l) + 7;u=h.indexOf("end=",l) + 5;q=c(h.substring(q,q + 12)) - g;u=c(h.substring(u,u + 12)) - g;n=u > n?u:n;p.startTime=q;p.endTime=u;p.latestEndSoFar=n;p.XCb=h.indexOf("/p>",l) + 3;l=p.XCb;if(0 === m.length || p.startTime > m[m.length - 1].startTime)(m.push(p),this.ia.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,NCb:p.endTime}));else if((u=k.qc(m,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Y$a !== p.Y$a))(u=m.indexOf(u),m.splice(u,0,p),this.ia.trace("LiveTtmlIndex:  entry is pushed at index number " + u,{startTime:p.startTime,NCb:p.endTime}));l=h.indexOf("<p",l);}while(-1 !== l);};f.prototype.Ql=function(h,d){return this.Po.filter(function(g){return g.startTime <= d && g.endTime >= h;}).length;};f.prototype.bta=function(h){this.Po=this.Po.filter(function(d){return d.startTime >= h;});};f.prototype.bZa=function(h){var d;d=k.qc(this.Po,function(g){return g.startTime <= h && h < g.endTime || g.startTime >= h;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.KWa=function(){return 0 < this.Po.length?this.Po[this.Po.length - 1].endTime:0;};return f;})();b.qca=r;b.bF=c;},66229:function(r,b){function a(c,k){for(var f=0;f < c.length;f++){if(k(c[f],f,c))return c[f];}}Object.defineProperty(b,"__esModule",{value:!0});b.c_=b.qc=b.TGa=b.yP=void 0;b.yP=1E4;r=(function(){function c(k){this.Bf=[];this.MQ=0;this.ia=k;}c.prototype.TF=function(k){var f;f=a(this.Bf,function(h){return k >= h.ab && k < h.nf;});"undefined" === typeof f && this.ia.warn("Get Segment at pts " + k + " is undefined");return f;};c.prototype.Kga=function(k){var h;for(var f=this.Bf;0 < f.length && 300 <= k.I - f[0].I;){this.GW();}for(;0 < f.length && 300 <= f[f.length - 1].I - k.I;){this.Jua();}h=f.length;if(0 === h || f[h - 1].I < k.I)this.Kua(k);else {h=a(f,function(d){return d.I >= k.I;});if((null === h || void 0 === h?void 0:h.I) === k.I)return;this.Lua(f.indexOf(h),k);}this.MQ=f[f.length - 1].I;};c.prototype.IX=function(k){var f;if("undefined" === typeof k)this.ia.warn("Current segment is undefined.");else for((this.zl=k,this.ia.trace("Current segment id is " + k.I));(null === (f=this.Bf[0]) || void 0 === f?void 0:f.nf) < k.nf - b.yP;){this.GW();}};c.prototype.Kma=function(){if(this.So){if(this.MQ !== this.So.I)return this.Bf[this.Bf.indexOf(this.So) + 1];}else return this.Bf[0];};c.prototype.Vt=function(k){this.So=this.rv(k);};c.prototype.rv=function(k){var f;f=a(this.Bf,function(h){return h.I === k;});"undefined" === typeof f && this.ia.error("Segment with segmentId " + k + " is not in segmentArray");return f;};c.prototype.qT=function(){var k;return (null === (k=this.So) || void 0 === k?void 0:k.I) || -1;};c.prototype.axa=function(k,f){k=this.rv(k);"undefined" !== typeof k && (this.Bf[this.Bf.indexOf(k)].header=f);};c.prototype.sma=function(k){k=this.rv(k);return (null === k || void 0 === k?void 0:k.header) || ({});};c.prototype.GW=function(){this.Bf.shift();};c.prototype.Kua=function(k){this.Bf.push(k);};c.prototype.Lua=function(k,f){this.Bf.splice(k,0,f);};c.prototype.Jua=function(){this.Bf.pop();};return c;})();b.TGa=r;b.qc=a;b.c_=(function(){return function(c,k){this.I=c.I;this.xml=c.xml;this.ab=c.ab;this.nf=c.nf;this.$F=k;this.sr=c.sr;};})();},67974:function(r,b,a){var c,k,f,h,d,g,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;c=a(70655);r=a(17187);k=a(14505);f=a(71558);h=a(42456);d=a(62441);g=a(66229);m=a(80404);l=r.EventEmitter;a=(function(n){function p(q,u){var t,v,w,y,x;void 0 === u && (u=f.wD.Ya);t=n.call(this) || this;v=q.preferences;w=q.lf;y=q.Me;x=q.ja;l.call(t);t.vx=new d.qca(x);t.rx="object" === typeof v?q.preferences:{};t.fx="object" === typeof w?q.lf:{};t.tj="number" === typeof y?q.Me:0;t.ia="object" === typeof x?q.ja:console;t.zf=[];t.Yh=0;t.bk=t.tj;t.gd=null;t.Fn=!1;t.wm=!1;t.TD=q.dW || 0;t.fd=new g.TGa(t.ia);t.cPa=u;if(u === f.wD.Ya)t.e1=new m.$Ka(t.ia,t.rx,t.fx);else throw Error("Not implemented yet");t.ia.trace("LiveTextStream created with options",q);return t;}c.__extends(p,n);p.prototype.start=function(){this.ia.info("Incremental live text stream created, starting at pts " + this.tj);"undefined" !== typeof this.fd.TF(this.tj) && this.QG.call(this,this.tj);};p.prototype.jta=function(q){var u,t,v,w;u=this;t=q.xml;v=t.indexOf("<p");if(this.cPa === f.wD.Ya)w=new h.YEa(q,-1 !== v?v:0);else throw Error("Not yet implemented");this.fd.Kga(w);this.Fn || (q=this.fd.Bf[0],this.fd.IX(q),this.tj=q.ab);-1 < v?(this.vx.ZPa(t,w.I,w.sr),this.ia.trace("Live segment " + w.I + " is pushed to segment manager",{ab:w.ab,nf:w.nf,bBb:w.sr}),!this.Fn && 4 > this.Yh && (t=0 < this.zf.length?this.zf[this.zf.length - 1].startTime + 1:this.tj,this.ia.trace("parseNextSegment is called from push new live Segment at " + t),this.QG.call(this,t))):(this.ia.trace("Live segment " + w.I + " is pushed to segment manager, it is an empty segment"),this.Fn || setTimeout(function(){u.Vt(w.I);},10));};p.prototype.nB=function(q){var u,t,v,w,y,x;u=this;w=this;w.ia.trace("LiveTextStream:get subtitles at pts " + q);y=w.fd.TF(q);if("undefined" === typeof y)return (w.ia.debug("LiveTextStream: get subtitle at pts " + q + " returns empty result with segment not available at this pts"),[]);w.fd.IX(y);q < w.bk - w.TD?(w.ia.trace("Pts is less than backup tolerance, resetting buffer. pts: " + q,", _lastPts: " + w.bk + ", _backupTolerance: " + w.TD),w.zf=[],w.Yh=0):(w.Yh=0 < w.zf.length?Math.max(w.fd.qT() - y.I + 1,0):0,0 === w.Yh && (w.zf=[]));y=w.zf;w.ia.trace("LiveTextStream: lastBufferedPts calculation " + q,", buffer.length: " + y.length + ", result: " + (0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.fd.So;x=0 < y.length && void 0 !== t?t.ab:q;w.bk=q;w.ia.info("LiveTextStream: timer is " + w.gd + " bufffered segment number is " + w.Yh + " is parsing entry : " + this.wm + " maxBufferedStartPts " + (null === (v=this.fd.So) || void 0 === v?void 0:v.ab));for(!w.gd && 4 > w.Yh && !w.wm && (w.ia.info("LiveTextStream: buffer size: " + w.Yh + "; minimum: 4"),w.wm=!0,w.gd=setTimeout(function(){w.gd=null;u.ia.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.QG.call(w,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.e1.J4(y,q).map(function(A){var z;z=w.fd.sma(A.segId);return u.e1.q3(z,A);});};p.prototype.Ql=function(q,u){return this.vx?this.vx.Ql(q,u):0;};p.prototype.XC=function(q){return this.e1.XC(q);};p.prototype.close=function(){};p.prototype.QG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(v){switch(v.label){case 0:u=this;t=this.Ima.call(u,q);if("undefined" === typeof t)return [3,4];u.ia.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.$F)return [3,1];u.ia.trace("This is an empty segment");this.Vt(t.I);return [3,3];case 1:return [4,this.Ura.call(u,t)];case 2:(v.Ra(),u.ia.trace("parseNextSegEntries buffer length: " + u.zf.length),v.label=3);case 3:return [3,5];case 4:return (u.ia.debug("Next segment is undefined at pts " + q),this.wm=!1,[2]);case 5:return [2];}});});};p.prototype.Ima=function(q){var u,t;t=this.vx.bZa(q);this.ia.trace("Most recent entry at current pts " + q + " is segment id  " + t);-1 === t && (t=(null === (u=this.fd.TF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.fd.qT()?this.fd.Kma():this.fd.rv(t);};p.prototype.Ura=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,v,w,y,x,A,z,B;return c.__generator(this,function(C){switch(C.label){case 0:(u=this,t=q.xml.slice(0,q.$F),C.label=1);case 1:return (C.Vj.push([1,3,,4]),[4,this.CTb(t)]);case 2:return (v=C.Ra(),[3,4]);case 3:return (w=C.Ra(),this.yka(w),[3,4]);case 4:if(!v)return (y=Error("Parsing header text returned undefined"),this.yka(y),[2]);if(v.error)return (x=v.error,x.B_a=t,x.I=q.I,this.yka(x),[2]);z=v.head;this.fd.axa(q.I,z);return this.cPa !== f.wD.Ya?[3,6]:[4,this.e1.Rra(q,z)];case 5:return (A=C.Ra(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.zf.reduce(function(D,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return D.concat(F);},[]),A && (A.forEach(function(D){var F;if(-1 === B.indexOf(D.id)){F=D && D.blocks && D.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (D.blocks=F,u.zf.push(D));}}),this.Vt(q.I)),[2]);}});});};p.prototype.yka=function(q){this.ia.error(q);this.emit("error",q);};p.prototype.Vt=function(q){this.fd.Vt(q);this.Yh+=1;this.wm=!1;!this.Fn && 4 <= this.Yh && (this.Fn=!0,this.emit("ready"));};p.prototype.CTb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){k.h6a(q,function(t,v){t?u({error:t}):u({head:v});});})];});});};return p;})(l);b.UGa=a;},80404:function(r,b,a){var c,k,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;c=a(70655);k=a(14505);f=a(14505);h=a(93419);d=a(62441);r=(function(){function g(m,l,n){this.ia=m;this.rx=n;this.fx=l;}g.prototype.Rra=function(m,l){return c.__awaiter(this,void 0,void 0,function(){var n,p,q,u,t,v,w,y,x;x=this;return c.__generator(this,function(){n=this;p=0;q=[];u=l.defaultStyle?[l.defaultStyle]:[];t=l.lang?[l.lang]:[];v=m.xml.lastIndexOf("/p>") + 3;w=m.xml.slice(m.$F,v);n.ia.debug(w);y=h.sf(!0);return [2,new Promise(function(A,z){y.onerror=function(B){B.xml=w;z(B);};y.onend=function(){A(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && k.Qd(k.Qd(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:k.Qd(u),lang:k.Qd(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){p=0;B=m.I.toString() + "_" + C["xml:id"];C.style && u.push(C.style);C["xml:lang"] && t.push(C["xml:lang"]);D=d.bF(C.begin);0 === q.length || k.Qd(q).displayTime !== D?(C=x.tja(B,0,C,m.sr),C.segId=m.I,q.push(C)):k.Qd(q).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(u.push(C.style),C["xml:lang"] && t.push(C["xml:lang"]),B=l.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && k.Qd(k.Qd(q).blocks).textNodes.push({text:"",style:k.Qd(u),lang:k.Qd(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(w).write("</entries>").close();})];});});};g.prototype.J4=function(m,l){return k.J4.call(this,m,l);};g.prototype.q3=function(m,l){return k.q3.call(this,m,l);};g.prototype.XC=function(m){return f.XC.call(this,m);};g.prototype.tja=function(m,l,n,p){var q;q={};q.id=m;q.startTime=d.bF(n.begin || "") - p;q.endTime=d.bF(n.end || "") - p;q.style=n.style;q.region=n.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=n["tts:extent"] || null;q.origin=n["tts:origin"] || null;q.latestEndSoFar=l > q.endTime?l:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:m,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.$Ka=r;},55134:function(r,b,a){var k,f,h,d,g,m,l;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.Clb=void 0;k=a(70655);r=a(17187);f=a(14505);h=a(98704);d=a(67974);g=a(71558);m=a(94631);l=a(16272);r=(function(n){function p(q,u){var t,v,w,y;w=n.call(this) || this;w.xm=!0;w.FQ=[];w.bk=0;w.NOa=!0;y=q.pf || !1;w.ia=q.ja || console;w.Cb=q.request;w.ns=q.sIb;w.F0=null !== (t=q.Vcc) && void 0 !== t?t:function(x,A){return x - (null !== A && void 0 !== A?A:w.ns());};w.gd=null;w.xm=!0;w.FQ=[];w.HJ=u.profile;w.rh=u.url;w.mE=u.Me;w.rx=u.preferences;w.fx=u.lf;w.bk=w.mE || 0;w.NOa=null !== (v=u.Wec) && void 0 !== v?v:!0;t={url:w.rh,request:w.Cb,Me:w.mE,xml:u.xml,preferences:w.rx,lf:w.fx,ja:w.ia,pf:y,bufferSize:u.bufferSize,pt:u.pt,dW:u.dW || 0,HRa:u.HRa};if("nflx-cmisc" === w.HJ)(t.offset=u.xqa,t.size=u.Z3a,t.C9=u.C9,t.IVa=u.IVa,w.zd=new m(t));else if(u.ha && c(w.HJ))w.zd=u.ogc?new d.UGa(t,g.wD.Ya):new h.ZEa(t);else if(c(w.HJ) && "function" === typeof f.dca)w.zd=new f.dca(t);else throw Error("SubtitleManager: " + w.HJ + " is an unsupported profile");w.zd.on("ready",function(){var A,z,B;function x(){return w.xm;}A=!!u.kRa;w.ia.info("ready event fired by subtitle stream");w.emit("ready");z=w.zd.nB.bind(w.zd);if(q.Pma && q.o8){B=a(5130).Rya;w.gd=new B(w.ns,z,w.F0,w.ia,x,q.Pma,q.o8,u);}else w.gd=new l(w.ns,z,w.F0,x,w.ia,u);if("dfxp-ls-sdh" === w.HJ && "function" === typeof f.dca)w.gd.on("stagesubtitle",w.Lva.bind(w));w.gd.on("showsubtitle",w.zva.bind(w));w.gd.on("removesubtitle",w.Fta.bind(w));w.gd.on("underflow",w.lm.bind(w));w.gd.on("bufferingComplete",w.Gm.bind(w));A && (w.ia.info("autostarting subtitles"),setTimeout(function(){w.wz(w.ns());},10));});w.zd.on("error",w.emit.bind(w,"error"));return w;}k.__extends(p,n);p.prototype.start=function(){this.zd.start();};p.prototype.E7a=function(){this.xm || (this.xm=!0,this.bWa(this.bk));};p.prototype.wz=function(q){this.NOa && !this.xm && 1E4 < Math.abs(q - this.bk) && (this.ia.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.E7a());this.bk=q;this.xm && (this.xm=!1,this.T0b(q));null !== this.gd && (this.j4b(q),this.gd.wz(q));};p.prototype.stop=function(){var q;this.ia.info("stop called");this.xm || this.pause();this.zd.removeAllListeners(["ready"]);null !== this.gd && this.gd.stop();q=this.FQ.reduce(function(u,t){u.M$a+=t.SW;u.X3+=t.Y3 || 0;u.NLb.push(t);return u;},{M$a:0,X3:0,NLb:[]});"object" === typeof this.zd && this.zd.close();this.ia.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.ns();this.xm?this.ia.warn("pause called on subtitle manager, but it was already paused!"):(this.ia.info("pause called at " + q),this.xm=!0,this.bWa(q));null !== this.gd && this.gd.pause();};p.prototype.a5=function(q,u){return "function" === typeof this.zd.a5?this.zd.a5(q,u):[];};p.prototype.Ql=function(q,u){return this.zd.Ql(q,u);};p.prototype.nB=function(q){return this.zd.nB(q);};p.prototype.JC=function(q){var t;function u(){t.ia.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.zd.JC?this.zd.JC(q,u):u();};p.prototype.Rj=function(q,u){"function" === typeof this.zd.Rj && this.zd.Rj(q,u);};p.prototype.hj=function(q,u){"function" === typeof this.zd.hj && this.zd.hj(q,u);};p.prototype.ita=function(q){"function" === typeof this.zd.jta && this.zd.jta(q);};p.prototype.D4=function(){return this.FQ[this.FQ.length - 1];};p.prototype.zva=function(q){var u,t,v,x;t=0;this.ia.info("show subtitle called at " + this.ns() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);v=this.D4();v.Nt || (v.Nt={});if(c(this.HJ))try{for(var w=k.__values(q.blocks),y=w.next();!y.done;y=w.next()){x=y.value;v.Nt.hasOwnProperty(x.id) || t++;v.Nt[x.id]=q.endTime;}}catch(z){var A;A={error:z};}finally{try{y && !y.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}else (v.Nt.hasOwnProperty(q.id) || t++,v.Nt[q.id]=q.endTime);this.Rvb();v.SW+=t;};p.prototype.Rvb=function(){var q,u,t;q=this.D4();if(null === q || void 0 === q?0:q.Nt){u=q.Nt;t=Object.keys(q.Nt);30 < t.length && (t=t.sort(function(v,w){return u[w] - u[v];}),t.splice(19,Math.max(t.length - 20,0)),q.Nt={},t.forEach(function(v){q.Nt[v]=u[v];}));}};p.prototype.Fta=function(q){this.ia.info("remove subtitle called at " + this.ns() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.Lva=function(q){this.ia.info("stage subtitle called at " + this.ns() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.lm=function(){this.ia.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Gm=function(){this.ia.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.T0b=function(q){this.ia.debug("creating a new subtitle interval at " + q);this.FQ.push({ab:q,SW:0});};p.prototype.j4b=function(q){var u;u=this.D4();u && (u.hpa=q);};p.prototype.bWa=function(q){var u;this.ia.debug("ending subtitle interval at " + q);u=this.D4();u && (u.nf=q,u.nf < u.ab && (this.ia.warn("correcting for interval where endPts is smaller than startPts"),u.ab=0 < u.nf?u.nf - 1:0),u.Y3=this.zd.Ql(u.ab,u.nf),delete u.Nt,u.Y3 > u.SW && u.hpa && 500 > u.nf - u.hpa && (u.Y3=this.zd.Ql(u.ab,u.hpa)),this.ia.debug("showed " + u.SW + " during this interval"),this.ia.debug("expected " + u.Y3 + " for this interval"));};return p;})(r.EventEmitter);b.Clb=r;b["default"]=r;},71558:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wD=void 0;r=b.wD || (b.wD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},83809:function(r,b,a){var m,l;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function k(n,p,q){return p && (!p.entries.length && n > p.Wv || n > p.endTime) && q.entries.length && n < q.endTime;}function f(n,p,q){this.nE=this.Iu=0;this.Gnb=n.bufferSize || 4194304;this.Oo=new g();this.lE;this.dE=n.pf;this.ia=n.ja;this.rq=p;this.Zh=q;this.uq=new m(n);this.xE=new d(this.Zh.length,n.IVa);this.WQ=new h(n.HRa);}function h(n){this.wQ=0 !== n;this.on=!1;this.pj=n || 3E3;this.gd;}function d(n,p){if(this.enabled=p)this.kn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.Ak=n;this.index=p;}m=a(47120);l=a(11971);g.prototype.reset=function(){this.index=this.Ak=void 0;};d.prototype.ba=function(n){this.enabled && n < this.kn.length && (this.kn[n]="x");};d.prototype.L5a=function(n){this.enabled && n < this.kn.length && (this.kn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.kn.join("") + "|";};h.prototype.start=function(){var n;if(this.wQ){n=this;this.on=!0;this.gd=setTimeout(function(){n.on=!1;n.gd=void 0;},this.pj);}};h.prototype.stop=function(){this.on=!1;clearTimeout(this.gd);this.gd=void 0;};Object.defineProperties(f.prototype,{Hja:{get:function(){return this.Oo;}},pub:{get:function(){return !this.WQ.on;}}});f.prototype.LQ=function(){this.xE.enabled && this.ia.debug("Buffer: " + this.xE.toString());};f.prototype.Zob=function(n){this.nE+=n;this.ia.debug("Reserved buffer size is",this.Iu + this.nE,"after reserving",n);};f.prototype.Apb=function(n){this.nE-=n;this.ia.debug("Reserved buffer size is",this.Iu + this.nE,"after unreserving",n);};f.prototype.omb=function(n){this.Iu+=n;this.ia.debug("Buffer size is",this.Iu,"after claiming",n);};f.prototype.SOa=function(n){this.Iu-=n;this.ia.debug("Buffer size is",this.Iu,"after clearing",n);};f.prototype.yXb=function(n,p){var q;this.SOa(n);q=this;p && this.xE.enabled && (p.forEach(function(u){q.xE.L5a(u.index);}),this.LQ());};f.prototype.vva=function(n){var p;p=this.Wmb(n);return l.V_a(p) && l.K1b(n,p);};f.prototype.YZb=function(n){var p;p=this.JNa(n);(!p || p.index) !== (!this.Oo || this.Oo.index) && (this.lE=this.Oo.Ak,p?(this.dE && this.ia.debug("Current sidx is index",p.index),this.Oo=p):(this.dE && this.ia.debug("Current sidx is out of range"),this.Oo.reset()));this.lE && "number" === typeof this.lE.index && (n < this.lE.Wv - 35E3 || n > this.lE.Sp + 35E3) && (this.Pea(this.lE.index),this.lE=void 0,this.LQ());};f.prototype.JC=function(n,p){var q,u;q=this.Zh && this.Zh.length;for(p;p < q;p++){(u=this.Zh[p]) && ((u.endTime || u.Sp) >= n - 1E4 && (u.endTime || u.Sp) < n + 3E5 || this.Pea(p));}this.WQ.stop();this.LQ();};f.prototype.erb=function(){var n,p;this.ia.debug("executing aggressive cleanup");n=this.Zh && this.Zh.length;for(p=0;p < n;p++){p === this.Oo.index && (p+=2);this.Pea(p);}this.WQ.stop();this.LQ();};f.prototype.KIb=function(n){var p,q,u,t;p=[];q=this.JNa(n);if(!q)return (this.Oo.reset(),p);this.Oo=q;u=n + 1E4;q=q.index;t=this.Zh[q];q;for(t;q < this.Zh.length && u > t.Wv;(q++,t=this.Zh[q])){l.V_a(t) && l.L1b(n,u,t) && p.push(t);}return p;};f.prototype.pVa=function(n,p){var q,u,t,v,w,y;if(!n || !n.length)return (p && p(null),!0);this.uq.RQ && 2 <= Object.keys(this.uq.RQ).length && !this.WQ.on && (this.ia.debug("Enabling buffering quiet period"),this.WQ.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(v=u.entries[0].cG,w=u.entries[u.entries.length - 1]);0 < t.entries.length && (l.Qc(v) || (v=t.entries[0].cG),w=t.entries[t.entries.length - 1]);if(v)y=w.cG + w.Tna - v;else return (p && p(null),!0);u=l.lma(v,y);if(this.uq.RQ[u])(this.ia.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.knb(l.cna(n)))(this.ia.debug("Reserving",y,"bytes for subtitle request",n[0].Wv,n[n.length - 1].Sp),this.Zob(y),this.uq.oBb(n,v,y,function(x,A){q.ia.debug("Claiming reserved space.  Expected",y,"received",A);q.xE.enabled && (n.forEach(function(z){q.xE.ba(z.index);}),q.LQ());q.Apb(y);q.omb(A);p && p(x);}));else return (this.ia.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.gna=function(n,p){var q,u,t;q=this.rq;u=this.INa(n,p,this.Zh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var v=0;v < u.length;v++){n=u[v];t=t.concat(n.entries.filter(p));}t=t.map(function(w){return l.zja(w,null,q);});return l.sTa(t);};f.prototype.LIb=function(n,p,q){return this.INa(n,p.endTime,p.kn,q,!0);};f.prototype.INa=function(n,p,q,u,t){var v,w,y,x;if(p && n > p || 0 > n)this.ia.error("invalid range startPts: " + n + ", endPts: " + p);else {v=q && q.length || 0;w=[];if(q && 0 !== v){y=q[0].duration;x=q[0].Wv;if(l.Qc(y) && 0 < y)y=Math.floor((n - x) / y);else for((this.dE && this.ia.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < v && (x=q[y],!l.jBb(x,n));y++){;}for(;y < v && (!u || w.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > n)w.push(x);else if(w.length)break;if(p && p <= x.Sp)break;y++;}return w;}}};f.prototype.Wmb=function(n){var p,q,t;p=this.Zh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Wv > n || n > q.Sp))a:{this.Nmb || (this.Nmb=!0,q=l.qHb(this.rq.language),this.ia.error("bruteforce search for ",{movieId:this.rq.O,packageId:this.rq.hn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Wv <= n && n <= t.Sp){q=t;break a;}}q=void 0;}return q;}};f.prototype.JNa=function(n){var p,q,u,t,v,w,y,x;p=this.Oo;q=p.Ak;u=p.index;t=this.Zh;this.Vea(l.Qc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(v=!0,w=p);else {if(0 < u){y=t[u - 1];k(n,y,q) && (v=!0,w=p);}}}else {y=t[u - 1];x=t[u + 1];k(n,y,q)?(v=!0,w=p):x && x.endTime && n <= x.endTime && (n >= q.endTime || n >= q.Sp) && (v=!0,w=new g(x,u + 1));}if(!v)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){w=new g(u,q);break;}}return w;};f.prototype.knb=function(n){return this.Iu + this.nE + n <= this.Gnb;};f.prototype.Pea=function(n){var p,q,u;p=this.Zh[n];q=p && p.images && p.images.length || 0;if(0 < q){u=l.cna([p]);p.images=[];this.xE.L5a(n);this.SOa(u);this.dE && this.ia.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,yec:this.Iu});}};f.prototype.Vea=function(n){this.dE && l.assert(n,this.ia);};r.exports=f;},94631:function(r,b,a){var k,f,h,d,g,m;function c(l){k.call(this);this.rh=l.url;this.Cb=l.request;this.mE=l.Me || 0;this.ia=l.ja;this.Zh=this.rq=null;l.pt?this.rq=l.pt:(this.Ib=l.offset,this.LJ=l.size);this.Al;this.Tfa=l;}k=a(17187).EventEmitter;f=a(46445);h=a(36872);d=a(87370);g=a(11971);m=c.events={Oib:"midxready",elb:"sidxready",dKa:"ready",Eh:"error"};c.prototype=Object.create(k.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Oo:{get:function(){return this.Al && this.Al.Hja;}}});c.prototype.start=function(){this.rq?(this.ia.warn("midx was prefectched and provided"),this.uNa(this.rq)):this.Gmb(this.Ib,this.LJ,this.Mob.bind(this));};c.prototype.close=function(){};c.prototype.a5=function(l,n){return this.Al && this.Al.gna(l,n);};c.prototype.Ql=function(l,n){return (l=this.a5(l,n))?l.length:l;};c.prototype.JC=function(l,n){this.ia.debug("setStreamStartPosition: buffering subtitles at pts " + l);this.mE=l;this.Al?this.Al.JC(l,n):n && n();};c.prototype.nB=function(l){var n,p,q;if(!this.Al || l > g.VGb(this.rq))return [];this.Al && this.Al.nka(l);n=this.Oo.Ak;p=this.Oo.index;q=[];p=g.Qc(p) && this.Zh[p + 1];if(!(p && p.entries.length || n && !(l > n.endTime)))return [];n && n.images.length && (q=this.FNa(n,l,[]));2 > q.length && p && p.images.length && (n=this.FNa(p,l,q),q.push.apply(q,n));return this.Al.vva(l)?null:g.sTa(q);};c.prototype.hj=function(l,n){this.Al && this.Al.hj(l,n);};c.prototype.Rj=function(l,n){this.Al && this.Al.Rj(l,n);};c.prototype.Gmb=function(l,n,p){this.ia.debug("downloading midx...");this.ONa(l,n,"binary",p);};c.prototype.Hmb=function(l,n,p){this.ia.debug("downloading sidx...");this.ONa(l,n,void 0,p);};c.prototype.ONa=function(l,n,p,q){this.Cb({url:this.rh,offset:l,size:n,responseType:p},q);};c.prototype.Mob=function(l,n){if(l)this.emit(m.Eh,g.oT(l,"midxdownloaderror"));else try{this.rq=new f(n);this.uNa(this.rq);}catch(p){this.emit(m.Eh,g.oT(p,"midxparseerror"));}};c.prototype.uNa=function(l){var n;n=l.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.Oib,l),this.Hmb(l.startOffset,n,this.Oob.bind(this,l))):this.emit(m.Eh,g.oT({},"nosidxfoundinmidx"));};c.prototype.Oob=function(l,n,p){var q,u,t,v;q=this;if(n)q.emit(m.Eh,g.oT(n,"sidxdownloaderror"));else {u=0;t=0;q.Zh=[];try{v=0;l.entries.forEach(function(w){var y;y=new h(p,u,l.ioa,q.ia,t,t + w.duration,v);q.Zh.push(y);w.p0b=y;t=y.Sp;u+=w.size;v++;});}catch(w){q.emit(m.Eh,g.oT(w,"sidxparseerror"));return;}q.emit(m.elb,q.Zh);this.Al=new d(q.Tfa,l,q.Zh);n=q.mE;q.Tfa && q.Tfa.C9 || (n=Math.max(q.mE - 1E4,0));this.Al.nka(n,function(w){w && q.ia.error("initial sidx download failed");q.emit(m.dKa);});}};c.prototype.FNa=function(l,n,p){var x;for(var q=l.entries,u=0,t=q.length,v=[],w,y=this.rq;u < t;){w=q[u];if(w.displayTime <= n)w.displayTime + w.duration >= n && v.push(g.zja(w,l.images[u].data,y));else {x=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > n && x.displayTime !== w.displayTime)break;x.cG !== w.cG && v.push(g.zja(w,l.images[u].data,y));}u++;}return v;};r.exports=c;},46445:function(r,b,a){var k,f;function c(h,d){this.duration=h;this.size=d;this.p0b=void 0;}k=a(57966);f=a(11971);r.exports=function(h){var l;h=new k(h);this.identifier=h.pta(4);f.assert("midx" === this.identifier);this.version=h.Tp(4);f.assert(0 === this.version);this.ioa=h.Gj(36);this.creationTime=h.cN();this.hn=h.cN();this.O=h.cN();this.IYb=h.bh();this.JYb=h.bh();this.language=h.Gj(16);h.Gj(16);this.startOffset=h.cN();this.UK=h.bh();for(var d=[],g=0,m=0;m < this.UK;m++){l=new c(h.Tp(4),h.bh());d.push(l);g+=l.duration;}this.entries=d;this.endTime=g;};},47120:function(r,b,a){var k,f;function c(h){this.rh=h.url;this.Cb=h.request;this.mE=h.Me || 0;this.dE=h.pf;this.ia=h.ja;this.RQ={};}k=a(57966);f=a(11971);c.prototype.oBb=function(h,d,g,m){this.RQ[f.lma(d,g)]=!0;h && h.forEach(function(l){l.sW=!0;});this.Cb({url:this.rh,offset:d,size:g},this.nob.bind(this,h,d,g,m));};c.prototype.nob=function(h,d,g,m,l,n){var p,q,u,t;p=this;q=f.lma(d,g);setTimeout(function(){delete p.RQ[q];},1E3);if(l)(m && m(l,0),h && h.forEach(function(v){delete v.sW;}));else {u=new k(n);t=0;h && h.forEach(function(v){delete v.sW;v.entries.forEach(function(w,y){u.position=w.cG - d;w={data:u.Gj(w.Tna)};v.images[y]=w;f.i5b(v.images[y].data,p.Vea.bind(p));t+=v.images[y].data.length;});});m && m(null,t);}};c.prototype.Vea=function(h){this.dE && f.assert(h,this.ia);};r.exports=c;},90840:function(r){function b(a,c,k,f){this.ia=f;this.id=a;this.startTime=c && c.va || 0;this.endTime=c && c.ta;this.M4a=c && c.next || [];this.J9a;this.lV=[];this.NL=!1;a=this.startTime;c=this.endTime;for(var h=[],d=0;d < k.length;d++){(f=k[d]) && (!c || c > f.Wv) && a < f.Sp && (f.fLb(),h.push(f));}this.kn=h;}b.prototype.ESa=function(){this.ia.debug("Cleaning up segment",this.id);for(var a,c=0,k,f=[],h=0;h < this.kn.length;h++){a=this.kn[h];(k=a.Wzb()) && f.push(a);a && (c+=k);}this.kn=[];return {size:c,kn:f};};r.exports=b;},87370:function(r,b,a){var h,d;function c(g,m){var n;g=g || 0;if(m)for(var l in m.L){n=m.L[l];if(g >= (n.va || 0) && (!n.ta || g < n.ta))return l;}}function k(g,m){return g && m && m.L[g];}function f(g,m,l){var n;this.ia=g.ja;this.Zh=l;this.rA=this.qmb(g.C9);this.Ru=[];n=l && l[l.length - 1];this.bk=n && (n.endTime || n.Sp);this.ng=new h(g,m,l);g=c(g.Me || 0,this.rA);this.zl=this.sQ(g);}h=a(83809);d=a(90840);Object.defineProperties(f.prototype,{Hja:{get:function(){return this.ng.Hja;}}});f.prototype.gna=function(g,m){return this.ng && this.ng.gna(g,m);};f.prototype.nka=function(g,m){this.ng.YZb(g);this.xPa(g);if(!this.rA && this.bk && g > this.bk)m && m();else if((g=this.rNa(g,this.zl,2,m),this.rA && 0 < this.zl.M4a.length))m && m();else if(this.rA && this.zl.NL && g){2 > this.Ru.length && this.vmb(this.zl);m=Math.ceil(2 / (this.Ru.length - 1));for(var l=0;l < this.Ru.length && g && 3 > l;l++){g=this.Ru[l];g=this.rNa(g.startTime,g,m);}}};f.prototype.vva=function(g){return this.ng.vva(g)?(this.ng.erb(),this.nka(g),this.zl.NL=!1,!0):!1;};f.prototype.JC=function(g,m){var l;this.xPa(g);this.Ru.forEach(function(n){n.NL=!1;});l=this.zl.kn && this.zl.kn[0];this.ng.JC(g,l && l.index);(g=this.ng.KIb(g)) && g.length?this.ng.pVa(g,m):m && m();};f.prototype.Rj=function(g,m){var l;this.ia.debug("Set next segment to",m,"for segment",g);g=this.xNa(g) || this.sQ(g);g.J9a=m;l=this;g.lV=g.lV.filter(function(n){if(n.id === m)return !0;l.Yea(n);return !1;});};f.prototype.hj=function(g,m){var l;l=k(g,this.rA);Object.keys(l.next).forEach(function(n){l.next[n].weight=m[n] || 0;});};f.prototype.qmb=function(g){var m,n;m={};if(g=(g || ({})).L){m.L={};for(var l in g){n=g[l] || ({});m.L[l]={va:n.va,ta:n.ta,Jb:n.Jb,next:this.pmb(n.next)};}}return m;};f.prototype.pmb=function(g){var m,l;m={};for(l in g){m[l]={weight:(g[l] || ({})).weight};}return m;};f.prototype.xPa=function(g){var m,l;if(this.rA && this.zl.startTime > g || this.zl.endTime && this.zl.endTime < g){m=this.zl;l=c(g,this.rA);l?(this.ia.debug("Switching segments from",this.zl.id,"to",l,"at pts",g),this.zl=this.xNa(l) || this.sQ(l),this.Yea(m)):this.ia.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.sQ=function(g){this.ia.debug("SegmentManager: creating segment",g);g=new d(g,k(g,this.rA),this.Zh,this.ia);this.Ru.push(g);this.ia.debug("SegmentManager: segment contains",g.kn.length,"sidxes");return g;};f.prototype.Yea=function(g){var m;if(g && g !== this.zl){this.ia.debug("SegmentManager: deleting segment",g.id);g.lV.forEach(this.Yea.bind(this));this.Ru=this.Ru.filter(function(l){return l !== g;});m=g.ESa();this.ng.yXb(m && m.size || 0,m && m.kn);}};f.prototype.xNa=function(g){var l;for(var m=0;g && m < this.Ru.length;m++){l=this.Ru[m];if(g === l.id)return l;}};f.prototype.vmb=function(g){var m,n;m=g.J9a;if(m && "" !== m)g.lV.push(this.sQ(m));else {m=g.M4a;for(var l in m){n=m[l];if(!n || !n.weight)break;g.lV.push(this.sQ(l));}}};f.prototype.rNa=function(g,m,l,n){if(!m || m.NL)return (this.ia.debug("Done driving segment",m && m.id),!0);if(!this.ng.pub)return (this.ia.debug("Throttling buffering in quiet period"),!1);this.ia.debug("Drive streaming of segment",m.id,"from pts",g);l=(g=this.ng.LIb(g,m,l)) && g.length || 0;if(0 === l)return (this.ia.debug("Segment is fully downloaded",m && m.id),m.NL=!0,n && n(),!0);this.ia.debug("Downloading",l,"sidxes in segment",m.id);return this.ng.pVa(g,function(p,q){p && (m.NL=!1);n && n(p,q);});};r.exports=f;},36872:function(r,b,a){var f,h;function c(d,g,m,l,n,p,q,u){this.displayTime=d;this.duration=g;this.YSb=m;this.ZSb=l;this.w0b=n;this.x0b=p;this.cG=q;this.Tna=u;}function k(d,g,m,l,n,p,q){var u;d=new f(d);u=0;d.position=g;this.ia=l;this.identifier=d.pta(4);h.assert("sidx" === this.identifier,l);this.ioa=d.Gj(36);h.Tvb(this.ioa,m,l);this.duration=d.Tp(4);this.UK=d.bh();this.Wv=n;this.Sp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.dga=0;u < this.UK;){g=new c(d.Tp(4),d.Tp(4),d.bh(),d.bh(),d.bh(),d.bh(),d.cN(),d.Tp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(57966);h=a(11971);k.prototype.fLb=function(){this.dga++;};k.prototype.Wzb=function(){var d;d=0;this.dga--;1 > this.dga?this.images && 0 < this.images.length && (d+=h.cna([this]),this.images=[]):this.ia.debug("Not cleaning up shared sidx with range",this.Wv,"-",this.Sp);return d;};r.exports=k;},11971:function(r){function b(h,d){return h.some(function(g){return g.id === d;});}function a(h,d){return h.filter(c.bind(null,d)).map(k).reduce(f,0);}function c(h,d){return h.id === d.id && h.displayTime + h.duration === d.displayTime;}function k(h){return h.duration;}function f(h,d){return h + d;}r.exports={Tvb:function(h,d,g){for(var m=0;m < h.length;m++){if(h[m] !== d[m])return (g.error("indexId mismatch in sidx",{sIndexId:h,mIndexId:d}),!1);}return !0;},zja:function(h,d,g){var m;m={};m.displayTime=h.displayTime;m.duration=h.duration;m.originX=h.YSb;m.originY=h.ZSb;m.sizeX=h.w0b;m.sizeY=h.x0b;m.imageData=d;m.id=h.cG;m.rootContainerExtentX=g.IYb;m.rootContainerExtentY=g.JYb;return m;},lma:function(h,d){return "o_" + h + "s_" + d;},i5b:function(h,d){d("P" === String.fromCharCode(h[1]));d("N" === String.fromCharCode(h[2]));d("G" === String.fromCharCode(h[3]));},Qc:function(h){return "undefined" !== typeof h;},tfc:b,jcc:a,oT:function(h,d){var g,m;g=Object.create({});for(m in h){g[m]=h[m];}h instanceof Error && (g.message=h.message,g.stack=h.stack);g.errorString=d;return g;},assert:function(h,d){if(!h)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},V_a:function(h){return h && 0 < h.entries.length && 0 === h.images.length;},K1b:function(h,d){for(var g=d.entries.length,m,l=0;l < g;l++){if((m=d.entries[l],m.displayTime <= h && m.displayTime + m.duration >= h))return !0;}return !1;},L1b:function(h,d,g){for(var m=g.entries.length,l,n,p=0;p < m;p++){l=g.entries[p];n=l.displayTime;l=n + l.duration;if(d < n)break;if(n <= h && l >= h || n > h && n <= d)return !0;}return !1;},sTa:function(h){return h.map(function(d,g){d.duration+=a(h.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},cna:function(h){return h.reduce(function(d,g){return d + g.entries.reduce(function(m,l){return l.Tna + m;},0);},0);},jBb:function(h,d){return h && h.Wv <= d && h.Sp >= d;},VGb:function(h){if(h)return h.endTime;},qHb:function(h){try{return String.fromCharCode.apply(String,h);}catch(d){}return "";}};},16272:function(r,b,a){var c;c=a(17187).EventEmitter;a(57159)({});b=function n(f,h,d,g,m,l){if(!(this instanceof n))return new n(f,h,d,g,m,l);c.call(this);this.ns=f;this.CQ=h;this.F0=d;this.xnb=g;this.Ni={};this.sj={};this.ia=m || console;this.Dn=!1;this.Bfa=l.ha;this.Qob=l && l.dW || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.gd);this.gd=void 0;this.Y8();};b.prototype.Y8=function(){var f;f=this;Object.keys(f.Ni).forEach(function(h){f.emit("removesubtitle",f.Ni[h]);});f.Ni={};f.sj={};};b.prototype.pause=function(){this.Dn || (clearTimeout(this.gd),this.gd=void 0);};b.prototype.wz=function(f,h){var d,g;d=this;g=d.ns();f=d.CQ(g);null !== f && d.Dn && (d.Dn=!1,this.ia.debug("bufferingComplete"),d.emit("bufferingComplete"),this.xnb())?this.ia.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(d.Ni).forEach(function(m){m=d.Ni[m];m.displayTime - d.Qob <= g && g < m.displayTime + m.duration || (delete d.Ni[m.id],d.emit("removesubtitle",m));}),Object.keys(d.sj).forEach(function(m){m=d.sj[m];g >= m.displayTime + m.duration && delete d.sj[m.id];}),null !== f && 0 < f.length?(h=f.length,d.ia.debug("found " + h + " entries for pts " + g),f.forEach(function(m){m.displayTime - 0 <= g && g < m.displayTime + m.duration && !d.Ni[m.id] && (d.emit("showsubtitle",m),d.Ni[m.id]=m,delete d.sj[m.id]);}),h=f[f.length - 1],d.Ni[h.id] || d.sj[h.id] || (d.emit("stagesubtitle",h),d.sj[h.id]=h),h=d.tpb(g,f),"number" === typeof h && Infinity > h?d.bR(h):d.bR(2E4)):null === f?(f=250 * Math.pow(2,h),2E3 < f && (f=2E3),d.ia.warn("checking buffer again in " + f + "ms"),d.Dn || (d.Dn=!0,d.emit("underflow")),d.bR(f,h + 1)):d.Bfa?(f=500,d.ia.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.bR(f)):d.bR(2E4));};b.prototype.bR=function(f,h){var d;d=this;d.ia.debug("Scheduling pts check.",{timeout:f,bO:d.gd});clearTimeout(d.gd);d.gd=setTimeout(function(){d.wz(d.ns(),h);},f);};b.prototype.tpb=function(f,h){h=h.reduce(this.Ynb.bind(this,f),Infinity);return Infinity > h?this.F0(h,f):h;};b.prototype.Ynb=function(f,h,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ia.debug("next events: start",g,"end",d,"now",f);return g < h && f < g?g:d < h && f < d?d:h;};r.exports=b;},57966:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Wma:function(){return this.buffer.length - this.position;},Yy:function(){return this.buffer[this.position++];},Gj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Tp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},pta:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},bh:function(){return this.Tp(2);},Up:function(){return this.Tp(4);},cN:function(){return this.Tp(8);},Xv:function(a){for(var c,k="";a--;){c=this.Yy();k+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return k;},qta:function(a){for(var c=0,k=0;k < a;k++){c+=this.Yy() << (k << 3);}return c;},bN:function(){return this.qta(4);},bY:function(a){this.vO(a,2);},Az:function(a){this.vO(a,4);},caa:function(a){this.buffer[this.position++]=a;},vO:function(a,c){this.position+=c;for(var k=1;k <= c;k++){this.buffer[this.position - k]=a & 255;a=Math.floor(a / 256);}},zz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},aY:function(a){for(var c=a.length,k=0;k < c;k++){this.buffer[this.position++]=a[k];}},uO:function(a,c){this.aY(a.Gj(c));}};r.exports=b;},57159:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var h,d,g;function c(m,l,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + l + "'"));}function k(m,l,n){var p;p=d[m];"undefined" !== typeof p?p(l) || c(m,l,n):m !== typeof l && c(m,l,n);}function f(m,l){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)k(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(v){k(q[v],t[v],{key:v});});else throw Error("Types: unexpected type in type array");});return l.apply(this,p);};}h=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < h.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}g=Object.keys(d).concat(h);return f(["array","function"],f);};},67841:function(r){var b;b={rb:function(a){return "number" === typeof a;},kt:function(a){return "object" === typeof a;},yg:function(a){return "string" === typeof a;},mi:function(a){return "undefined" === typeof a;},tdc:function(a){return "boolean" === typeof a;},Ep:function(a){return "function" === typeof a;},Wb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},yTb:function(a){var c,k;k=[];if(!b.kt(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.Ms=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,h=a.length;f < h;f++){c.call(k,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(k,a[f],f,a);}return a;};r.exports=b;},18987:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;k=Object.prototype.toString;f=a(21414);b=Object.prototype.propertyIsEnumerable;h=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var u;u=q.constructor;return u && u.prototype === q;};l={g6b:!0,h6b:!0,i6b:!0,j6b:!0,k6b:!0,l6b:!0,m6b:!0,n6b:!0,o6b:!0,p6b:!0,q6b:!0,r6b:!0,s6b:!0,t6b:!0,u6b:!0,v6b:!0,w6b:!0,x6b:!0,y6b:!0,z6b:!0,A6b:!0,B6b:!0,C6b:!0};n=(function(){if("undefined" === typeof pb)return !1;for(var q in pb){try{if(!l["$" + q] && c.call(pb,q) && null !== pb[q] && "object" === typeof pb[q])try{m(pb[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,v,w,y,A;u=null !== q && "object" === typeof q;t="[object Function]" === k.call(q);v=f(q);w=u && "[object String]" === k.call(q);y=[];if(!u && !t && !v)throw new TypeError("Object.keys called on a non-object");u=d && t;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w){y.push(String(w));}if(v && 0 < q.length)for(v=0;v < q.length;++v){y.push(String(v));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(h){if("undefined" !== typeof pb && n)try{A=m(q);}catch(z){A=!1;}else A=m(q);for(v=0;v < g.length;++v){A && "constructor" === g[v] || !c.call(q,g[v]) || y.push(g[v]);}}return y;};}r.exports=p;},82215:function(r,b,a){var c,k,f,h,d;c=Array.prototype.slice;k=a(21414);f=Object.keys;h=f?function(g){return f(g);}:a(18987);d=Object.keys;h.Cfc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return k(g)?d(c.call(g)):d(g);}):Object.keys=h;return Object.keys || h;};r.exports=h;},21414:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,k;c=b.call(a);k="[object Arguments]" === c;k || (k="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return k;};},33530:function(r,b,a){var k,f,h;function c(d,g,m){var l;if(!m)return !1;m=m[g];return "boolean" === typeof m?!0 === m:(null === m || void 0 === m?void 0:m.length) === (null === (l=d[g].Ze) || void 0 === l?void 0:l.length);}Object.defineProperty(b,"__esModule",{value:!0});b.FTa=b.xn=void 0;k=a(70655);f=a(85392);b.xn=-1;b.FTa=function(d,g,m,l,n){function p(v){var w,y,x,A,z,B;w=g.de[v];y=c(g.de,v,m);x=!!w.Ze;A=!!l && !y && x;z=0 === w.qk;w.qk > u && q.Df(d + "-" + v,{J:d,va:u,ta:w.qk,type:"content"});x || q.Qqb();!A || z && !n || q.Df("padstart-" + v,{J:b.xn,va:0,ta:l,type:"padding"});u=w.qk;if(w.Ze && !y){B=null === m || void 0 === m?void 0:m[v];w.Ze.forEach(function(C,D){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(D));F || q.Df("ad-" + v + "-" + D,{J:C.id,va:C.va,ta:C.ta,type:"ad"});});A && q.Df("padend-" + v,{J:b.xn,va:0,ta:l,type:"padding"});}}void 0 === l && (l=0);void 0 === n && (n=!1);for(var q=new h(),u=0,t=0;t < g.de.length;++t){p(t);}q.Df(d + "-" + g.de.length,{J:d,va:u,ta:null,type:"content"});return q.Lh();};h=(function(){function d(){this.cb=new f.tu();}d.prototype.Df=function(g,m){var l,n,p;this.yF || (this.yF=g);if(this.xC){n=k.__read(this.xC,2);p=n[0];n=n[1];n.Jb=g;n.next=(l={},l[g]={},l);"content" === n.type && -1 < ["ad","padding"].indexOf(m.type) && (n.Tn=!0);"content" === m.type && (-1 < ["ad","padding"].indexOf(n.type) || n.Tn) && (m.Ns=!0);this.cb.Df(p,n);}this.xC=[g,m];};d.prototype.Qqb=function(){var g,m;if(this.xC){g=k.__read(this.xC,2);m=g[0];g=g[1];"content" === g.type && (g.Tn=!0);this.cb.Df(m,g);this.xC=[m,g];}};d.prototype.Lh=function(){var g;if(this.xC){g=k.__read(this.xC,2);this.cb.Df(g[0],g[1]);}this.xC=void 0;this.yF && this.cb.AH(this.yF);return this.cb.Lh();};return d;})();},80539:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QQa=b.CR=b.qc=void 0;b.qc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};b.CR=function(a){return a.filter(function(c,k){return a.indexOf(c) === k;});};b.QQa=function(a,c){return a.filter(function(k,f){return a.indexOf(k) === f && -1 !== c.indexOf(k);});};},55169:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(70655);k=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.AssertionError=k;b.assert=function(f,h){if(!f)throw new k(h || "Assertion failed");};},78917:function(r,b,a){var g;function c(m){return Object.keys(m.segments).some(function(l){return void 0 !== d(m.segments[l]);});}function k(m){return "delayedSeamless" === m?"lazy":m;}function f(m){return Object.keys(m).reduce(function(l,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=l[n]={};void 0 !== q && (n.weight=q);p && (n.Yd=k(p));return l;},{});}function h(m){var l,n;l=Object.keys(m);n=l.length;return n?l.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var l;if(m.ui){l=m.ui.interactionZones;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.B2=void 0;g=a(85392);b.B2=function(m,l){var n,p,q,u,t,v;n=void 0 === l?{}:l;l=n.fg;p=n.we;q=n.L;n=n.config;u=!(!n || -1 === n.Lla.indexOf(m.viewableId));t=c(m)?0:(null === n || void 0 === n?void 0:n.Kla) || 0;n=new g.tu();v=q || m.segments;n.AH(null !== p && void 0 !== p?p:m.initialSegment).l$a(null !== l && void 0 !== l?l:m.mediaTypes).sva(u?"immediate":k(m.transitionType)).lva(Object.keys(v).reduce(function(w,y){var x,A,z,B,C,D;x=v[y];if(null === (A=x.weight) || void 0 === A){A=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?h(x.next):void 0;}B=A;if(A=x.exitZones)C=void 0;else a:{if(u && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=u?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:m.viewableId,va:x.startTimeMs,ta:null !== (z=x.endTimeMs) && void 0 !== z?z:Infinity,Yd:k(D),Mq:A || C,weight:B};x.defaultNext && (B.Jb=x.defaultNext);x.next && (B.next=f(x.next));w[y]=B;return w;},{}));return n.Lh();};},41427:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(3491),b);r.__exportStar(a(85392),b);r.__exportStar(a(238),b);r.__exportStar(a(78917),b);r.__exportStar(a(47164),b);r.__exportStar(a(65463),b);r.__exportStar(a(51079),b);r.__exportStar(a(25561),b);r.__exportStar(a(33530),b);},65463:function(r,b,a){var g,m,l,n;function c(p){for(var q=p.we,u=[];q;){u.push(q);q=p.L[q].next;if(!q)break;q=Object.keys(q);if(q.length)(l.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return u;}function k(p){return n.CR(Object.keys(p.L).map(function(q){return p.L[q].J;}));}function f(p,q){return Object.keys(q.L).some(function(u){u=q.L[u];return p.J === u.J && p.va > u.va && (!u.ta || !!p.ta && (Infinity === p.ta || p.ta < u.ta));});}function h(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === h(q.ta):p >= q.va && p <= h(q.ta);}Object.defineProperty(b,"__esModule",{value:!0});b.sqa=void 0;g=a(70655);m=a(85392);l=a(55169);n=a(80539);b.sqa=function(p,q){var u,t,v,w,y;u=c(q);t=k(p);v=k(q);t=n.QQa(t,v);l.assert(1 === t.length,"Source and content playgraphs should share one viewable");w=t[0];v=Object.keys(p.L).filter(function(x){return p.L[x].J === w;}).map(function(x){var E,J,K,N,I,O;for(var A,z=p.L[x],B=z.va,C=h(z.ta),D=0 === B,F=[],G=0;G < u.length;++G){E=u[G];J=q.L[E];K=f(p.L[x],q);if(J.J !== w)D && F.push({id:x + ":" + E,u:g.__assign(g.__assign({},J),{Tb:x})});else if(D){I=Math.max(z.va,J.va);N=(O=!Number.isFinite(C) && G == u.length - 1)?C:Math.min(C,h(J.ta));N > I && (K=Infinity !== C || !K && !O?Infinity === N?null:N:z.ta,F.push({id:x + ":" + E,u:g.__assign(g.__assign({},J),{va:I,ta:K,Tb:x})}));if(d(C,J)){if(C === h(J.ta))for(G+=1;G < u.length;++G){B=u[G];C=q.L[B];if(C.J === w)break;F.push({id:x + ":" + B,u:g.__assign(g.__assign({},C),{Tb:x})});}break;}}else if(d(B,J))if((D=!0,C <= h(J.ta)))F.push({id:x,u:z});else {I=z.va;O=!Number.isFinite(C) && G == u.length - 1;K=O && K?z.ta:Math.min(C,h(J.ta));F.push({id:x + ":" + E,u:g.__assign(g.__assign({},J),{va:I,ta:K,Tb:x})});}}F.length || F.push({id:x,u:g.__assign(g.__assign({},z),{Tb:x})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].u=g.__assign(g.__assign({},F[G].u),{Jb:B,next:(A={},A[B]={},A)});}A=F[F.length - 1];A.u=g.__assign(g.__assign({},A.u),{Jb:z.Jb,next:z.next});return {id:x,u:z,Lab:F};});y=v.reduce(function(x,A){return (x[A.id]=A.Lab[0].id,x);},{});t=new m.tu();v=v.reduce(function(x,A){A.Lab.forEach(function(z){return x[z.id]=z.u;});return x;},{});return t.lva(v,function(){return !0;},y).eQa(p.L,function(x,A){return !y[A];},y,function(x,A){return g.__assign(g.__assign({},x),{Tb:A});}).AH(y[p.we] || p.we).Lh();};},51079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.e4=b.nEb=b.qla=void 0;c=a(80539);b.qla=function(k,f){var h;h=void 0;return Object.keys(k.L).some(function(d){var g;return null === (g=(h=k.L[d]).next) || void 0 === g?void 0:g[f];})?h:void 0;};b.nEb=function(k,f){return c.qc(Object.keys(k.L),function(h){var d;return null === (d=k.L[h].next) || void 0 === d?void 0:d[f];});};b.e4=function(k,f){return Object.keys(k.L).filter(function(h){var d;return null === (d=k.L[h].next) || void 0 === d?void 0:d[f];});};},3491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},85392:function(r,b){function a(k){return k && "object" === typeof k?Array.isArray(k)?k.map(a):Object.keys(k).reduce(function(f,h){f[h]=a(k[h]);return f;},{}):k;}function c(k,f){return Object.keys(k).reduce(function(h,d){return (h[f[d] || d]=k[d],h);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.tu=void 0;r=(function(){function k(f){f && (this.AH(f.we),this.sva(f.Yd),this.lva(f.L));}k.prototype.AH=function(f){this.we=f;return this;};k.prototype.sva=function(f){this.Yd=f;return this;};k.prototype.l$a=function(f){this.fg=f;return this;};k.prototype.Df=function(f,h,d){this.L || (this.L={});this.L[f]=a(h);if(d){f=this.L[f];if(h=f.next)f.next=c(h,d);f.Jb && d[f.Jb] && (f.Jb=d[f.Jb]);}return this;};k.prototype.lva=function(f,h,d){void 0 === h && (h=function(){return !0;});this.L={};return this.eQa(f,h,d);};k.prototype.eQa=function(f,h,d,g){var m;m=this;void 0 === h && (h=function(){return !0;});Object.keys(f).filter(function(l){return h(f[l],l);}).forEach(function(l){var n;n=f[l];g && (n=g(n,l));m.Df(l,n,d);});return this;};k.prototype.s_a=function(f){var h;return !(null === (h=this.L) || void 0 === h || !h[f]);};k.prototype.Lh=function(){var f;if(!this.L)throw Error("Invalid playgraph - `segments` is not defined");if(!this.we)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.L[this.we])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={we:this.we,L:this.L};this.Yd && (f.Yd=this.Yd);this.fg && (f.fg=this.fg);return f;};return k;})();b.tu=r;},238:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gda=void 0;b.Gda=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.we,segments:a.Szb(c.L)},void 0 !== c.Yd?{transitionType:c.Yd}:{});};a.encode=function(c){return Object.assign({we:c.initialSegment,L:a.HCb(c.segments)},void 0 !== c.transitionType?{Yd:c.transitionType}:{});};a.HCb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.GCb(c[f]);return k;},{});};a.GCb=function(c){return Object.assign({J:c.viewableId,va:c.startTimeMs},c.endTimeMs?{ta:c.endTimeMs}:{},c.defaultNext?{Jb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{},c.next?{next:a.ECb(c.next)}:{},c.exitZones?{Mq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Tb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Ns:c.fadeIn}:{},void 0 !== c.fadeOut?{Tn:c.fadeOut}:{});};a.ECb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.FCb(c[f]);return k;},{});};a.FCb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{});};a.Szb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.Rzb(c[f]);return k;},{});};a.Rzb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.va},c.ta?{endTimeMs:c.ta}:{},c.Jb?{defaultNext:c.Jb}:{},c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{},c.next?{next:a.Pzb(c.next)}:{},c.Mq?{exitZones:c.Mq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Tb?{uxSegment:c.Tb}:{},c.type?{type:c.type}:{},void 0 !== c.Ns?{fadeIn:c.Ns}:{},void 0 !== c.Tn?{fadeOut:c.Tn}:{});};a.Pzb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.Qzb(c[f]);return k;},{});};a.Qzb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{});};return a;})();},25561:function(r,b,a){var q,u,t,v,w;function c(y,x,A,z,B){var C,D,F;C=y.L[x];D=A.L[C.Tb];z=z.Tb;F=g(C.ta) - C.va;F=void 0 === B?B=0:B + F;return C.J === (null === D || void 0 === D?void 0:D.J)?{MX:g(C.ta),$R:B}:C.Tb === z && (x=q.__read(k(y,x),1)[0]) && y.L[x].Tb === C.Tb?c(y,x,A,C,F):{MX:D.va,$R:F};}function k(y,x){return Object.keys(y.L).filter(function(A){return y.L[A].Jb === x;});}function f(y,x,A,z,B){var C,D,F;void 0 === B && (B=0);x=y.L[x];C=A.L[x.Tb];z=z.Tb;D=A.L[z];F=g(x.ta) - x.va;return x.J === (null === C || void 0 === C?void 0:C.J)?{MX:x.va,$R:B}:x.Tb === z && x.Jb?f(y,x.Jb,A,x,B + F):{MX:g(D.ta),$R:B};}function h(y,x,A){var z,B,C,D,F,G,E,J,K,N,I,O,L;z=n(y,x,A);if(z)return z;z=y.L[A.u];B=A.offset;C=Object.keys(x.L).filter(function(H){return x.L[H].Tb === A.u;});D=[];C.forEach(function(H){var R,Y,ea;function M(ca){ca=u.e4(x,ca);null === ca || void 0 === ca?void 0:ca.forEach(function(oa){var Ga,Fa;if(x.L[oa].Tb !== A.u){Ga=x.L[oa];Fa=Ga.ta;ea={u:oa,offset:Fa - Ga.va};(Ga=Fa?p(y,x,ea):void 0) && D.push({Mx:ea,cq:Ga});Ga || (ea={u:oa,offset:0},(Ga=p(y,x,{u:oa,offset:0})) && D.push({Mx:ea,cq:Ga}));M(oa);}});}R=x.L[H];Y=R.ta;ea={u:H,offset:Y - R.va};(R=Y?p(y,x,ea):void 0) && D.push({Mx:ea,cq:R});ea={u:H,offset:0};(Y=p(y,x,ea)) && D.push({Mx:ea,cq:Y});Y || R || M(H);});v.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=z.va + B;E=Infinity;D.forEach(function(H){var M;M=H.cq;M=F - (y.L[M.u].va + M.offset);0 <= M && M < E && (E=M,G=H);});J=[];C.forEach(function(H){var R,Y,ea,ca;function M(oa){Object.keys(x.L[oa].next || ({})).forEach(function(Ga){var Fa,Ja,Xa;if(x.L[Ga].Tb !== A.u){Fa=x.L[Ga];Ja=Fa.va;Fa=Fa.ta;ca={u:Ga,offset:0};Xa=p(y,x,ca);Xa && J.push({Mx:ca,cq:Xa});Xa || (ca={u:Ga,offset:Fa - Ja},(Ja=Fa?p(y,x,ca):void 0) && J.push({Mx:ca,cq:Ja}));}M(Ga);});}R=x.L[H];Y=R.va;ea=R.ta;ca={u:H,offset:0};(R=p(y,x,ca)) && J.push({Mx:ca,cq:R});ca={u:H,offset:ea - Y};(Y=ea?p(y,x,ca):void 0) && J.push({Mx:ca,cq:Y});R || Y || M(H);});v.assert(0 < J.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");N=Infinity;J.forEach(function(H){var M;M=H.cq;M=y.L[M.u].va + M.offset - F;if(0 <= M && M < N || M > N && 0 > N || Infinity === N)(N=M,K=H);});v.assert(G);v.assert(K);B=G.Mx;v.assert(B,"Segment not found in the combined playgraph");z=K.Mx;v.assert(z,"Segment not found in the combined playgraph");I=x.L[B.u];C=x.L[z.u];B.offset === g(I.ta) - I.va && x.L[I.Jb].Tb === I.Tb && (B.u === z.u && B.offset === z.offset && (z={u:C.Jb,offset:0},C=x.L[z.u]),B={u:I.Jb,offset:0},I=x.L[B.u]);O=y.L[G.cq.u].va + G.cq.offset;L=y.L[K.cq.u].va + K.cq.offset - O;O=0 === L?0:(F - O) / L;if(B.u === z.u)return (I=I.va + B.offset,B=B.u,{u:B,offset:I + O * (C.va + z.offset - I) - x.L[B].va});L=d(x,B,z);I=L.path;L=L.kF;C=0 === z.offset?0:g(C.ta) - C.va;return l(x,I,B.offset + O * (L - B.offset - (C - z.offset)));}function d(y,x,A){var z,B;if(x.u !== A.u){for(x=[x.u];x[x.length - 1] !== A.u;){z=y.L[x[x.length - 1]];v.assert(z.next,"Cannot find path between points in combined playgraph");if(z.next[A.u])break;B=Object.keys(z.next);1 === B.length?x.push(B[0]):(v.assert(z.Jb,"Multiple paths but no default finding paths between points in combined playgrahp"),x.push(z.Jb));}0 !== A.offset && x.push(A.u);return {path:x,kF:m(y,x)};}return {path:[],kF:A.offset - x.offset};}function g(y){return null === y || void 0 === y?Infinity:y;}function m(y,x){return x.reduce(function(A,z){var B;z=y.L[z];B=z.va;return A + g(z.ta) - B;},0);}function l(y,x,A){var B,C,D;for(var z=0;z < x.length;++z){B=x[z];C=y.L[B];D=C.va;C=g(C.ta) - D;if(C > A)return {u:B,offset:A};A-=C;}v.assert(!1,"Invalid offset given for path");}function n(y,x,A){var z,B,C,D,F,G,E,J,K,N,I;B=y.L[A.u];v.assert(B,"Graph position " + A.u + " does not exist in UX playgraph");C=A.offset;v.assert(0 <= C,"Graph position offset " + C + " cannot be negative");v.assert(!B.ta || C <= B.ta - B.va,"Graph position " + C + " offset outside segment");if(x.L[A.u])return A;D=Object.keys(x.L).filter(function(O){return x.L[O].Tb === A.u;});v.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");F={};G=0;D.forEach(function(O){if(void 0 === F[O]){for(var L=0;O;){F[O]=[G,L++];O=x.L[O].Jb;}++G;}});D.sort(function(O,L){return F[O][0] !== F[L][0]?1:F[O][1] - F[L][1];});E=B.va + C;J=D.filter(function(O){return x.L[O].J === B.J;});K=q.__read(D,1)[0];J=J.map(function(O){return [O,x.L[O]];}).filter(function(O){var L;O=q.__read(O,2);L=O[0];return E >= O[1].va || L === K;});if(J=t.qc(J,function(O){var L;O=q.__read(O,2)[1];L=O.Jb?x.L[O.Jb]:void 0;return !O.ta || !!O.ta && E < O.ta || (null === L || void 0 === L?void 0:L.Tb) !== A.u && E >= O.va;})){N=q.__read(J,2);J=N[0];N=N[1];I=(isFinite(E)?E:null !== (z=N.ta) && void 0 !== z?z:Infinity) - N.va;v.assert(0 <= I,"Content playgrah graph position offset cannot be negative");z=!0;0 === I && (z=w.qla(x,J),z=!z || z.Tb !== N.Tb);if(z)return {u:J,offset:I};}D=D.filter(function(O){return x.L[O].J !== B.J;});if(0 === C && (C=w.qla(y,A.u),!C || C.Tb !== A.u) && (C=t.qc(D,function(O){return 0 === u.e4(x,O).length;}),void 0 !== C))return {u:C,offset:0};if(B.ta && Infinity !== B.ta && !(B.ta - B.va !== A.offset || B.Jb && y.L[B.Jb]) && (C=t.qc(D,function(O){return !x.L[O].next || 0 === Object.keys(x.L[O].next).length;}),void 0 !== C))return (D=x.L[C],y=D.va,D=D.ta,v.assert(D,"Content playgraph segments from other viewables must have end time"),{u:C,offset:D - y});}function p(y,x,A){var z,B;z=x.L[A.u];v.assert(z,"Graph position does not exist in combined playgraph");B=A.offset;v.assert(0 <= B,"Graph position offset cannot be negative");v.assert(!z.ta || B <= z.ta - z.va,"Graph position offset outside segment");if(void 0 === z.Tb)return A;y=y.L[z.Tb];v.assert(y,"Referenced ux playgraph segment must exist");if(z.J === y.J)return (B=z.va + B - y.va,y=g(y.ta) - y.va,B=Math.max(Math.min(B,y),0),{u:z.Tb,offset:B});if(0 === B && (A=u.e4(x,A.u).filter(function(C){return x.L[C].Tb === z.Tb;}),0 === B && 0 === A.length))return {u:z.Tb,offset:0};B=z.Jb?x.L[z.Jb]:void 0;if((null === B || void 0 === B?void 0:B.Tb) !== z.Tb)return {u:z.Tb,offset:y.ta?y.ta - y.va:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.cYa=b.gdb=b.aTa=void 0;q=a(70655);u=a(41427);t=a(80539);v=a(55169);w=a(51079);b.aTa=function(y,x,A){var z,B,C,D;z=x.L[A.u];B=p(y,x,A);if(B)return B;v.assert(z.Tb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=y.L[z.Tb];v.assert(C,"Referenced ux playgraph segment must exist");v.assert(z.ta,"Content playgraph segments from other viewables must have end time");if(!z.Jb || !x.L[z.Jb])return (v.assert(C.ta,"Must have definite end time to add terminal content playgraph segment"),{u:z.Tb,offset:C.ta - C.va});D=c(x,A.u,y,z);B=D.MX;D=D.$R;if(null === B || void 0 === B)return (v.assert(C.ta,"Experience playgraph segment must have end time"),{u:z.Tb,offset:C.ta - C.va});x=f(x,A.u,y,z);y=x.MX;x=x.$R;null !== y && void 0 !== y && isFinite(y) || v.assert(y,"Experience playgraph segment must have end time");return {u:z.Tb,offset:B + (D + A.offset) / (D + x) * (y - B)};};b.gdb=h;b.cYa=function(y,x,A){var z,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(z=h(y,x,A),B=x.L[z.u],C=z.u,D.label=1);case 1:return [4,C];case 2:(D.Ra(),C=B.Jb,B=x.L[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.Tb) === A.u && C !== z.u)return [3,1];D.label=4;case 4:return [2];}});};},47164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.X9=void 0;c=a(85392);b.X9=function(k,f,h){var d;d=new c.tu();d.AH(f).sva("lazy").l$a(h).Df(f,{J:k,va:0,ta:Infinity});return d.Lh();};},88385:function(r,b,a){var d,g,m,l;function c(n){var p,q,u;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=g(this,l);q=n;u=n;d(n) && (q=f(p,n),u=k(p,n));return this.then(q,u);}function k(n,p){return function(q){var u;u=p();return h(n,u).then(function(){throw q;});};}function f(n,p){return function(q){var u;u=p();return h(n,u).then(function(){return q;});};}function h(n,p){return new n(function(q){q(p);});}a(77971)();d=a(61787);g=a(39655);m=a(53633);l=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},18076:function(r,b,a){var c,k;c=a(77971);k=a(88385);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:k;};},77971:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},13547:function(r,b,a){var c,k,f;c=a(77971);k=a(18076);f=a(4289);r.exports=function(){var h;c();h=k();f(Promise.prototype,{"finally":h},{"finally":function(){return Promise.prototype["finally"] !== h;}});return h;};},63195:function(r,b,a){var c;c=a(7455);b=a(79002)(function(k,f){return c(k.length,function(){return k.apply(f,arguments);});});r.exports=b;},38907:function(r,b,a){var c,k,f,h,d;b=a(79002);c=a(36692);k=a(2220);f=a(21186);h=a(84585);d=a(20793);a=b(function(g,m){return k(d(f,0,h("length",m)),function(){var l,n;l=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,l);},m));});});r.exports=a;},2220:function(r,b,a){var c,k,f;c=a(7455);k=a(76224);b=a(79002);f=a(32738);a=b(function(h,d){return 1 === h?k(d):c(h,f(h,[],d));});r.exports=a;},22013:function(r,b,a){var c;c=a(28247);b=a(16370)(function(k,f,h){for(var d=[],g=0,m=f.length;g < m;){c(k,f[g],h) || c(k,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},51383:function(r,b,a){var c,k,f,h,d,g;b=a(79002);c=a(34793);k=a(34877);f=a(8291);h=a(39488);d=a(11383);g=a(90368);a=b(c(["filter"],d,function(m,l){return f(l)?h(function(n,p){m(l[p]) && (n[p]=l[p]);return n;},{},g(l)):k(m,l);}));r.exports=a;},17233:function(r,b,a){b=a(79002)(function(c,k){for(var f=[],h=0,d=k.length;h < d;){for(var g=h + 1;g < d && c(k[g - 1],k[g]);){g+=1;}f.push(k.slice(h,g));h=g;}return f;});r.exports=b;},7455:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,k){return a.apply(this,arguments);};case 3:return function(c,k,f){return a.apply(this,arguments);};case 4:return function(c,k,f,h){return a.apply(this,arguments);};case 5:return function(c,k,f,h,d){return a.apply(this,arguments);};case 6:return function(c,k,f,h,d,g){return a.apply(this,arguments);};case 7:return function(c,k,f,h,d,g,m){return a.apply(this,arguments);};case 8:return function(c,k,f,h,d,g,m,l){return a.apply(this,arguments);};case 9:return function(c,k,f,h,d,g,m,l,n){return a.apply(this,arguments);};case 10:return function(c,k,f,h,d,g,m,l,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48770:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},14011:function(r){r.exports=function(b,a){var c,k,f,h;b=b || [];a=a || [];k=b.length;f=a.length;h=[];for(c=0;c < k;){h[h.length]=b[c];c+=1;}for(c=0;c < f;){h[h.length]=a[c];c+=1;}return h;};},28247:function(r){r.exports=function(b,a,c){for(var k=0,f=c.length;k < f;){if(b(a,c[k]))return !0;k+=1;}return !1;};},76224:function(r,b,a){var c;c=a(36464);r.exports=function(k){return function d(h){return 0 === arguments.length || c(h)?d:k.apply(this,arguments);};};},79002:function(r,b,a){var c,k;c=a(76224);k=a(36464);r.exports=function(f){return function m(d,g){switch(arguments.length){case 0:return m;case 1:return k(d)?m:c(function(l){return f(d,l);});default:return k(d) && k(g)?m:k(d)?c(function(l){return f(l,g);}):k(g)?c(function(l){return f(d,l);}):f(d,g);}};};},16370:function(r,b,a){var c,k,f;c=a(76224);k=a(79002);f=a(36464);r.exports=function(h){return function n(g,m,l){switch(arguments.length){case 0:return n;case 1:return f(g)?n:k(function(p,q){return h(g,p,q);});case 2:return f(g) && f(m)?n:f(g)?k(function(p,q){return h(p,m,q);}):f(m)?k(function(p,q){return h(g,p,q);}):c(function(p){return h(g,m,p);});default:return f(g) && f(m) && f(l)?n:f(g) && f(m)?k(function(p,q){return h(p,q,l);}):f(g) && f(l)?k(function(p,q){return h(p,m,q);}):f(m) && f(l)?k(function(p,q){return h(g,p,q);}):f(g)?c(function(p){return h(p,m,l);}):f(m)?c(function(p){return h(g,p,l);}):f(l)?c(function(p){return h(g,m,p);}):h(g,m,l);}};};},32738:function(r,b,a){var k,f;function c(h,d,g){return function(){var q;for(var m=[],l=0,n=h,p=0;p < d.length || l < arguments.length;){if(p < d.length && (!f(d[p]) || l >= arguments.length))q=d[p];else (q=arguments[l],l+=1);m[p]=q;f(q) || --n;p+=1;}return 0 >= n?g.apply(this,m):k(n,c(h,m,g));};}k=a(7455);f=a(36464);r.exports=c;},34793:function(r,b,a){var c,k;c=a(20219);k=a(69082);r.exports=function(f,h,d){return function(){var g,m;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!c(m)){for(var l=0;l < f.length;){if("function" === typeof m[f[l]])return m[f[l]].apply(m,g);l+=1;}if(k(m))return h.apply(null,g)(m);}return d.apply(this,arguments);};};},34877:function(r){r.exports=function(b,a){for(var c=0,k=a.length,f=[];c < k;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},87684:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},97587:function(r,b,a){var c,k;c=a(87684);k=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === k.call(arguments)?function(f){return "[object Arguments]" === k.call(f);}:function(f){return c("callee",f);};};},20219:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},3219:function(r,b,a){var c,k;b=a(76224);c=a(20219);k=a(20190);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || k(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},8291:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},36464:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},20190:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},69082:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},36692:function(r){r.exports=function(b,a){for(var c=0,k=a.length,f=Array(k);c < k;){f[c]=b(a[c]);c+=1;}return f;};},39488:function(r,b,a){var f,h,d,g;function c(m,l,n){for(var p=n.next();!p.done;){if((l=m["@@transducer/step"](l,p.value)) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](l);}function k(m,l,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),l));}f=a(3219);h=a(39874);d=a(63195);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,l,n){"function" === typeof m && (m=h(m));if(f(n)){for(var p=0,q=n.length;p < q;){if((l=m["@@transducer/step"](l,n[p])) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](l);}if("function" === typeof n["fantasy-land/reduce"])return k(m,l,n,"fantasy-land/reduce");if(null != n[g])return c(m,l,n[g]());if("function" === typeof n.next)return c(m,l,n);if("function" === typeof n.reduce)return k(m,l,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},93714:function(r){r.exports={qa:function(){return this.cY["@@transducer/init"]();},result:function(b){return this.cY["@@transducer/result"](b);}};},11383:function(r,b,a){var c,k;b=a(79002);c=a(93714);k=(function(){function f(h,d){this.cY=d;this.f=h;}f.prototype["@@transducer/init"]=c.qa;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(h,d){return this.f(d)?this.cY["@@transducer/step"](h,d):h;};return f;})();a=b(function(f,h){return new k(f,h);});r.exports=a;},72894:function(r,b,a){var c,k;b=a(79002);c=a(93714);k=(function(){function f(h,d){this.cY=d;this.f=h;}f.prototype["@@transducer/init"]=c.qa;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(h,d){return this.cY["@@transducer/step"](h,this.f(d));};return f;})();a=b(function(f,h){return new k(f,h);});r.exports=a;},39874:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,k){return this.f(c,k);};return a;})();r.exports=function(a){return new b(a);};},55389:function(r,b,a){var c;b=a(76224);c=a(38907);a=b(function(k){return c(function(){return Array.prototype.slice.call(arguments,0);},k);});r.exports=a;},90368:function(r,b,a){var c,k,f,h,d;b=a(76224);c=a(87684);k=a(97587);f=!({toString:null}).propertyIsEnumerable("toString");h=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var m,l,n,p;if(Object(g) !== g)return [];m=[];l=d && k(g);for(n in g){!c(n,g) || l && "length" === n || (m[m.length]=n);}if(f)for(l=h.length - 1;0 <= l;){n=h[l];if(p=c(n,g)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--l;}return m;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},61894:function(r,b,a){var c,k,f,h,d,g;b=a(79002);c=a(34793);k=a(36692);f=a(39488);h=a(72894);d=a(2220);g=a(90368);a=b(c(["fantasy-land/map","map"],h,function(m,l){switch(Object.prototype.toString.call(l)){case "[object Function]":return d(l.length,function(){return m.call(this,l.apply(this,arguments));});case "[object Object]":return f(function(n,p){n[p]=m(l[p]);return n;},{},g(l));default:return k(m,l);}}));r.exports=a;},21186:function(r,b,a){b=a(79002)(function(c,k){return k > c?k:c;});r.exports=b;},71334:function(r,b,a){var c;b=a(16370);c=a(39036);a=b(function(k,f,h){return c(function(d,g,m){return k(g,m);},f,h);});r.exports=a;},39036:function(r,b,a){var c,k;b=a(16370);c=a(8291);k=a(56027);a=b(function m(h,d,g){return k(function(l,n,p){return c(n) && c(p)?m(h,n,p):h(l,n,p);},d,g);});r.exports=a;},56027:function(r,b,a){var c;b=a(16370);c=a(87684);a=b(function(k,f,h){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,h)?k(g,f[g],h[g]):f[g]);}for(g in h){c(g,h) && !c(g,d) && (d[g]=h[g]);}return d;});r.exports=a;},38135:function(r,b,a){var c;b=a(51383);c=a(55389);a=a(63266);a=c([b,a]);r.exports=a;},87430:function(r,b,a){b=a(79002)(function(c,k){for(var f=0;f < c.length;){if(null == k)return;k=k[c[f]];f+=1;}return k;});r.exports=b;},84585:function(r,b,a){var c,k;b=a(79002);c=a(61894);k=a(52478);a=b(function(f,h){return c(k(f),h);});r.exports=a;},52478:function(r,b,a){var c;b=a(79002);c=a(87430);a=b(function(k,f){return c([k],f);});r.exports=a;},20793:function(r,b,a){b=a(16370);a=a(39488);a=b(a);r.exports=a;},63266:function(r,b,a){var c,k;c=a(48770);b=a(79002);k=a(51383);a=b(function(f,h){return k(c(f),h);});r.exports=a;},90014:function(r,b,a){var c,k;c=a(14011);b=a(16370);k=a(77263);a=b(function(f,h,d){return k(f,c(h,d));});r.exports=a;},77263:function(r,b,a){var c;c=a(28247);b=a(79002)(function(k,f){for(var h=0,d=f.length,g=[],m;h < d;){m=f[h];c(k,m,g) || (g[g.length]=m);h+=1;}return g;});r.exports=b;},28660:function(r,b,a){var c;(function(k){var F,G,E,J,K,N,I,O,L;function f(H,M,R){var Y;Y=L.get(H);if(!Y){if(!R)return;Y=new I();L.set(H,Y);}H=Y.get(M);if(!H){if(!R)return;H=new I();Y.set(M,H);}return H;}function h(H,M,R){if(d(H,M,R))return !0;M=v(M);return null !== M?h(H,M,R):!1;}function d(H,M,R){M=f(M,R,!1);return void 0 !== M && !!M.has(H);}function g(H,M,R){if(d(H,M,R))return m(H,M,R);M=v(M);return null !== M?g(H,M,R):void 0;}function m(H,M,R){M=f(M,R,!1);return void 0 === M?void 0:M.get(H);}function l(H,M){var R,ea;R=n(H,M);H=v(H);if(null === H)return R;M=l(H,M);if(0 >= M.length)return R;if(0 >= R.length)return M;H=new O();for(var Y=0;Y < R.length;Y++){ea=R[Y];H.add(ea);}for(R=0;R < M.length;R++){ea=M[R];H.add(ea);}return x(H);}function n(H,M){var R;H=f(H,M,!1);R=[];H && y(H,function(Y,ea){return R.push(ea);});return R;}function p(H){return void 0 === H;}function q(H){return Array.isArray?Array.isArray(H):H instanceof Array || "[object Array]" === Object.prototype.toString.call(H);}function u(H){return "object" === typeof H?null !== H:"function" === typeof H;}function t(H){return "symbol" === typeof H?H:String(H);}function v(H){var M,R;M=Object.getPrototypeOf(H);if("function" !== typeof H || H === N || M !== N)return M;R=H.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return M;R=R.constructor;return "function" !== typeof R || R === H?M:R;}function w(H){H=H.next();return H.done?void 0:H;}function y(H,M,R){var Y,ea,ca;Y=H.entries;if("function" === typeof Y){Y=Y.call(H);try{for(;ea=w(Y);){ca=ea.value;M.call(R,ca[1],ca[0],H);}}finally{ea && (H=Y["return"]) && H.call(Y);}}else (Y=H.forEach,"function" === typeof Y && Y.call(H,M,R));}function x(H){var M;M=[];y(H,function(R,Y){M.push(Y);});return M;}function A(H,M,R){var Y;Y=0;return {next:function(){var ea;if((H || M) && Y < (H || M).length){ea=Y++;switch(R){case "key":return {value:H[ea],done:!1};case "value":return {value:M[ea],done:!1};case "key+value":return {value:[H[ea],M[ea]],done:!1};}}M=H=void 0;return {value:void 0,done:!0};},"throw":function(ea){if(H || M)M=H=void 0;throw ea;},"return":function(ea){if(H || M)M=H=void 0;return {value:ea,done:!0};}};}function z(){var H;H={};return (function(){function M(){this.Te=[];this.Cf=[];this.Fu=H;this.gs=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});M.prototype.has=function(R){return 0 <= this.gx(R,!1);};M.prototype.get=function(R){R=this.gx(R,!1);return 0 <= R?this.Cf[R]:void 0;};M.prototype.set=function(R,Y){R=this.gx(R,!0);this.Cf[R]=Y;return this;};M.prototype.delete=function(R){var Y;Y=this.gx(R,!1);if(0 <= Y){R=this.Te.length;for(Y+=1;Y < R;Y++){this.Te[Y - 1]=this.Te[Y];this.Cf[Y - 1]=this.Cf[Y];}this.Te.length--;this.Cf.length--;this.Fu=H;this.gs=-2;return !0;}return !1;};M.prototype.clear=function(){this.Te.length=0;this.Cf.length=0;this.Fu=H;this.gs=-2;};M.prototype.keys=function(){return A(this.Te,void 0,"key");};M.prototype.values=function(){return A(void 0,this.Cf,"value");};M.prototype.entries=function(){return A(this.Te,this.Cf,"key+value");};M.prototype.gx=function(R,Y){var ea;if(this.Fu === R)return this.gs;ea=this.Te.indexOf(R);0 > ea && Y && (ea=this.Te.length,this.Te.push(R),this.Cf.push(void 0));return (this.Fu=R,this.gs=ea);};return M;})();}function B(){return (function(){function H(){this.Nf=new I();}Object.defineProperty(H.prototype,"size",{get:function(){return this.Nf.size;},enumerable:!0,configurable:!0});H.prototype.has=function(M){return this.Nf.has(M);};H.prototype.add=function(M){return (this.Nf.set(M,M),this);};H.prototype.delete=function(M){return this.Nf.delete(M);};H.prototype.clear=function(){this.Nf.clear();};H.prototype.keys=function(){return this.Nf.keys();};H.prototype.values=function(){return this.Nf.values();};H.prototype.entries=function(){return this.Nf.entries();};return H;})();}function C(){var Y,ea;function H(ca,oa){for(var Ga=0;Ga < oa;++Ga){ca[Ga]=255 * Math.random() | 0;}return ca;}function M(){var ca,Fa;do {ca="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):H(new Uint8Array(16),16):H(Array(16),16);ca[6]=ca[6] & 79 | 64;ca[8]=ca[8] & 191 | 128;for(var oa="",Ga=0;16 > Ga;++Ga){Fa=ca[Ga];if(4 === Ga || 6 === Ga || 8 === Ga)oa+="-";16 > Fa && (oa+="0");oa+=Fa.toString(16).toLowerCase();}ca="@@WeakMap@@" + oa;}while(K.has(Y,ca));Y[ca]=!0;return ca;}function R(ca,oa){if(!F.call(ca,ea)){if(!oa)return;Object.defineProperty(ca,ea,{value:J()});}return ca[ea];}Y=J();ea=M();return (function(){function ca(){this.rs=M();}ca.prototype.has=function(oa){oa=R(oa,!1);return void 0 !== oa?K.has(oa,this.rs):!1;};ca.prototype.get=function(oa){oa=R(oa,!1);return void 0 !== oa?K.get(oa,this.rs):void 0;};ca.prototype.set=function(oa,Ga){R(oa,!0)[this.rs]=Ga;return this;};ca.prototype.delete=function(oa){oa=R(oa,!1);return void 0 !== oa?delete oa[this.rs]:!1;};ca.prototype.clear=function(){this.rs=M();};return ca;})();}function D(H){H.rac=1;delete H.sac;return H;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var M;function H(){}M={};H.prototype=M;return new H().__proto__ === M;})();J=G?function(){return D(Object.create(null));}:E?function(){return D({__proto__:null});}:function(){return D({});};(function(H){var M;M=!G && !E;H.has=M?function(R,Y){return F.call(R,Y);}:function(R,Y){return (Y in R);};H.get=M?function(R,Y){return F.call(R,Y)?R[Y]:void 0;}:function(R,Y){return R[Y];};})(K || (K={}));N=Object.getPrototypeOf(Function);I="function" === typeof Map?Map:z();O="function" === typeof Set?Set:B();L=new ("function" === typeof WeakMap?WeakMap:C())();k.WA=function(H,M,R,Y){var ca;if(p(Y)){if(p(R)){if(!q(H))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(R=H.length - 1;0 <= R;--R){if((Y=(0,H[R])(M),!p(Y))){if("function" !== typeof Y)throw new TypeError();M=Y;}}return M;}if(!q(H))throw new TypeError();if(!u(M))throw new TypeError();R=t(R);for(Y=H.length - 1;0 <= Y;--Y){(0,H[Y])(M,R);}}else {if(!q(H))throw new TypeError();if(!u(M))throw new TypeError();if(p(R))throw new TypeError();if(!u(Y))throw new TypeError();R=t(R);for(var ea=H.length - 1;0 <= ea;--ea){ca=(0,H[ea])(M,R,Y);if(!p(ca)){if(!u(ca))throw new TypeError();Y=ca;}}return Y;}};k.Ad=function(H,M){return function(R,Y){if(p(Y)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(H,M);}else {if(!u(R))throw new TypeError();Y=t(Y);f(R,Y,!0).set(H,M);}};};k.p3=function(H,M,R,Y){if(!u(R))throw new TypeError();p(Y) || (Y=t(Y));f(R,Y,!0).set(H,M);};k.cKb=function(H,M){var R;if(!u(M))throw new TypeError();p(R) || (R=t(R));return h(H,M,R);};k.Dna=function(H,M){var R;if(!u(M))throw new TypeError();p(R) || (R=t(R));return d(H,M,R);};k.getMetadata=function(H,M,R){if(!u(M))throw new TypeError();p(R) || (R=t(R));return g(H,M,R);};k.iZa=function(H,M,R){if(!u(M))throw new TypeError();p(R) || (R=t(R));return m(H,M,R);};k.Rcc=function(H,M){if(!u(H))throw new TypeError();p(M) || (M=t(M));return l(H,M);};k.Tcc=function(H,M){if(!u(H))throw new TypeError();p(M) || (M=t(M));return n(H,M);};k.Wbc=function(H,M,R){var Y;if(!u(M))throw new TypeError();p(R) || (R=t(R));Y=f(M,R,!1);if(p(Y) || !Y.delete(H))return !1;if(0 < Y.size)return !0;H=L.get(M);H.delete(R);if(0 < H.size)return !0;L.delete(M);return !0;};(function(H){if("undefined" !== typeof H.Reflect){if(H.Reflect !== k)for(var M in k){F.call(k,M) && (H.Reflect[M]=k[M]);}}else H.Reflect=k;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.t4?a.t4:Function("return this;")());})(c || (c={}));},79246:function(r,b,a){var c,k,f,h;b=a(21924);c=a(40210);k=a(98420);f=b("RegExp.prototype.exec");h=c("%TypeError%");r.exports=function(d){if(!k(d))throw new h("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},14378:function(r,b,a){var d;function c(g,m,l){this.EK=!1 === g;this.Pn=g || .01;this.gca=void 0 === m?25:m;this.Vza=void 0 === l?1.1:l;this.xj=new d(k);this.reset();}function k(g,m){return g.Tf > m.Tf?1:g.Tf < m.Tf?-1:0;}function f(g,m){return g.Hv - m.Hv;}function h(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Pn:!1);this.RAb=this.config.ratio || .9;this.SAb=this.config.Wfc || 1E3;this.w7=0;}d=a(77424).Qkb;c.prototype.reset=function(){this.xj.clear();this.mpa=this.n=0;};c.prototype.size=function(){return this.xj.size;};c.prototype.Hr=function(g){var m;m=[];g?(this.t0(!0),this.xj.Ms(function(l){m.push(l);})):this.xj.Ms(function(l){m.push({Tf:l.Tf,n:l.n});});return m;};c.prototype.summary=function(){return [(this.EK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.yi(0),"Q1  = " + this.yi(.25),"Q2  = " + this.yi(.5),"Q3  = " + this.yi(.75),"max = " + this.yi(1)].join("\n");};c.prototype.push=function(g,m){m=m || 1;g=Array.isArray(g)?g:[g];for(var l=0;l < g.length;l++){this.pNa(g[l],m);}};c.prototype.kta=function(g){g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.pNa(g[m].Tf,g[m].n);}};c.prototype.t0=function(g){var m;if(!(this.n === this.mpa || !g && this.Vza && this.Vza > this.n / this.mpa)){m=0;this.xj.Ms(function(l){l.Hv=m + l.n / 2;m=l.wK=m + l.n;});this.n=this.mpa=m;}};c.prototype.tEb=function(g){var m,l;if(0 === this.size())return null;m=this.xj.lowerBound({Tf:g});l=null === m.data()?m.dH():m.data();return l.Tf === g || this.EK?l:(m=m.dH()) && Math.abs(m.Tf - g) < Math.abs(l.Tf - g)?m:l;};c.prototype.DJ=function(g,m,l){this.xj.et({Tf:g,n:m,wK:l});this.n+=m;};c.prototype.i0=function(g,m,l){m !== g.Tf && (g.Tf+=l * (m - g.Tf) / (g.n + l));g.wK+=l;g.Hv+=l / 2;g.n+=l;this.n+=l;};c.prototype.pNa=function(g,m){var l,n,p;l=this.xj.min();n=this.xj.max();p=this.tEb(g);p && p.Tf === g?this.i0(p,g,m):p === l?this.DJ(g,m,0):p === n?this.DJ(g,m,this.n):this.EK?this.DJ(g,m,p.wK):(l=p.Hv / this.n,Math.floor(4 * this.n * this.Pn * l * (1 - l)) - p.n >= m?this.i0(p,g,m):this.DJ(g,m,p.wK));this.t0(!1);!this.EK && this.gca && this.size() > this.gca / this.Pn && this.Ox();};c.prototype.etb=function(g){var m,l;this.xj.js=f;m=this.xj.upperBound({Hv:g});this.xj.js=k;l=m.dH();g=l && l.Hv === g?l:m.next();return [l,g];};c.prototype.yi=function(g){var m;m=(Array.isArray(g)?g:[g]).map(this.Bob,this);return Array.isArray(g)?m:m[0];};c.prototype.Bob=function(g){var m,l;if(0 !== this.size()){this.t0(!0);this.xj.min();this.xj.max();g*=this.n;m=this.etb(g);l=m[0];m=m[1];return m === l || null === l || null === m?(l || m).Tf:this.EK?g <= l.wK?l.Tf:m.Tf:l.Tf + (g - l.Hv) * (m.Tf - l.Tf) / (m.Hv - l.Hv);}};c.prototype.Ox=function(){var g;if(!this.kTa){g=this.Hr();this.reset();for(this.kTa=!0;0 < g.length;){this.kta(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.t0(!0);this.kTa=!1;}};h.prototype=Object.create(c.prototype);h.prototype.constructor=h;h.prototype.push=function(g){c.prototype.push.call(this,g);this.evb();};h.prototype.DJ=function(g,m,l){this.w7+=1;c.prototype.DJ.call(this,g,m,l);};h.prototype.i0=function(g,m,l){1 === g.n && --this.w7;c.prototype.i0.call(this,g,m,l);};h.prototype.evb=function(){!("auto" !== this.mode || this.size() < this.SAb) && this.w7 / this.size() > this.RAb && (this.mode="cont",this.EK=!1,this.Pn=this.config.Pn || .01,this.Ox());};r.exports={TDigest:c,Digest:h};},70655:function(r,b,a){var J,K;function c(){c=Object.assign || (function(N){for(var I,O=1,L=arguments.length;O < L;O++){I=arguments[O];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (N[H]=I[H]);}}return N;});return c.apply(this,arguments);}function k(N,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(O,L){O.__proto__=L;}) || (function(O,L){for(var H in L){Object.prototype.hasOwnProperty.call(L,H) && (O[H]=L[H]);}});return k(N,I);}function f(N,I){function O(){this.constructor=N;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");k(N,I);N.prototype=null === I?Object.create(I):(O.prototype=I.prototype,new O());}function h(N,I){var O,L,H;O={};for(L in N){Object.prototype.hasOwnProperty.call(N,L) && 0 > I.indexOf(L) && (O[L]=N[L]);}if(null != N && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(N);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(N,L[H]) && (O[L[H]]=N[L[H]]);}}return O;}function d(N,I,O,L){var H,M,R;H=arguments.length;M=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,O):L;if("object" === typeof Reflect && "function" === typeof Reflect.WA)M=Reflect.WA(N,I,O,L);else for(var Y=N.length - 1;0 <= Y;Y--){if(R=N[Y])M=(3 > H?R(M):3 < H?R(I,O,M):R(I,O)) || M;}return (3 < H && M && Object.defineProperty(I,O,M),M);}function g(N,I){return function(O,L){I(O,L,N);};}function m(N,I){if("object" === typeof Reflect && "function" === typeof Reflect.Ad)return Reflect.Ad(N,I);}function l(N,I,O,L){function H(M){return M instanceof O?M:new O(function(R){R(M);});}return new (O || (O=Promise))(function(M,R){function Y(oa){try{ca(L.next(oa));}catch(Ga){R(Ga);}}function ea(oa){try{ca(L["throw"](oa));}catch(Ga){R(Ga);}}function ca(oa){oa.done?M(oa.value):H(oa.value).then(Y,ea);}ca((L=L.apply(N,I || [])).next());});}function n(N,I){var H,M,R,Y,ea;function O(ca){return function(oa){return L([ca,oa]);};}function L(ca){if(M)throw new TypeError("Generator is already executing.");for(;(ea && (ea=0,ca[0] && (H=0)),H);){try{if((M=1,R && (Y=ca[0] & 2?R["return"]:ca[0]?R["throw"] || ((Y=R["return"]) && Y.call(R),0):R.next) && !(Y=Y.call(R,ca[1])).done))return Y;if((R=0,Y))ca=[ca[0] & 2,Y.value];switch(ca[0]){case 0:case 1:Y=ca;break;case 4:return (H.label++,{value:ca[1],done:!1});case 5:H.label++;R=ca[1];ca=[0];continue;case 7:ca=H.OG.pop();H.Vj.pop();continue;default:if(!(Y=H.Vj,Y=0 < Y.length && Y[Y.length - 1]) && (6 === ca[0] || 2 === ca[0])){H=0;continue;}if(3 === ca[0] && (!Y || ca[1] > Y[0] && ca[1] < Y[3]))H.label=ca[1];else if(6 === ca[0] && H.label < Y[1])(H.label=Y[1],Y=ca);else if(Y && H.label < Y[2])(H.label=Y[2],H.OG.push(ca));else {Y[2] && H.OG.pop();H.Vj.pop();continue;}}ca=I.call(N,H);}catch(oa){ca=[6,oa];R=0;}finally{M=Y=0;}}if(ca[0] & 5)throw ca[1];return {value:ca[0]?ca[1]:void 0,done:!0};}H={label:0,Ra:function(){if(Y[0] & 1)throw Y[1];return Y[1];},Vj:[],OG:[]};return (ea={next:O(0),"throw":O(1),"return":O(2)},"function" === typeof Symbol && (ea[Symbol.iterator]=function(){return this;}),ea);}function p(N,I){for(var O in N){"default" === O || Object.prototype.hasOwnProperty.call(I,O) || J(I,N,O);}}function q(N){var I,O,L;I="function" === typeof Symbol && Symbol.iterator;O=I && N[I];L=0;if(O)return O.call(N);if(N && "number" === typeof N.length)return {next:function(){N && L >= N.length && (N=void 0);return {value:N && N[L++],done:!N};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(N,I){var O,L,H;O="function" === typeof Symbol && N[Symbol.iterator];if(!O)return N;N=O.call(N);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=N.next()).done;){H.push(L.value);}}catch(R){var M;M={error:R};}finally{try{L && !L.done && (O=N["return"]) && O.call(N);}finally{if(M)throw M.error;}}return H;}function t(){for(var N=[],I=0;I < arguments.length;I++){N=N.concat(u(arguments[I]));}return N;}function v(){var L;for(var N=0,I=0,O=arguments.length;I < O;I++){N+=arguments[I].length;}N=Array(N);L=0;for(I=0;I < O;I++){for(var H=arguments[I],M=0,R=H.length;M < R;(M++,L++)){N[L]=H[M];}}return N;}function w(N,I,O){if(O || 2 === arguments.length)for(var L=0,H=I.length,M;L < H;L++){!M && (L in I) || (M || (M=Array.prototype.slice.call(I,0,L)),M[L]=I[L]);}return N.concat(M || Array.prototype.slice.call(I));}function y(N){return this instanceof y?(this.O$=N,this):new y(N);}function x(N,I,O){var ea,ca,oa;function L(Ga){ea[Ga] && (ca[Ga]=function(Fa){return new Promise(function(Ja,Xa){1 < oa.push([Ga,Fa,Ja,Xa]) || H(Ga,Fa);});});}function H(Ga,Fa){var Ja;try{Ja=ea[Ga](Fa);Ja.value instanceof y?Promise.resolve(Ja.value.O$).then(M,R):Y(oa[0][2],Ja);}catch(Xa){Y(oa[0][3],Xa);}}function M(Ga){H("next",Ga);}function R(Ga){H("throw",Ga);}function Y(Ga,Fa){(Ga(Fa),oa.shift(),oa.length) && H(oa[0][0],oa[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ea=O.apply(N,I || []);oa=[];return (ca={},L("next"),L("throw"),L("return"),ca[Symbol.asyncIterator]=function(){return this;},ca);}function A(N){var O,L;function I(H,M){O[H]=N[H]?function(R){return (L=!L)?{value:y(N[H](R)),done:"return" === H}:M?M(R):R;}:M;}return (O={},I("next"),I("throw",function(H){throw H;}),I("return"),O[Symbol.iterator]=function(){return this;},O);}function z(N){var L,H;function I(M){H[M]=N[M] && (function(R){return new Promise(function(Y,ea){R=N[M](R);O(Y,ea,R.done,R.value);});});}function O(M,R,Y,ea){Promise.resolve(ea).then(function(ca){M({value:ca,done:Y});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=N[Symbol.asyncIterator];return L?L.call(N):(N="function" === typeof q?q(N):N[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(N,I){Object.defineProperty?Object.defineProperty(N,"raw",{value:I}):N.raw=I;return N;}function C(N){var I;if(N && N.__esModule)return N;I={};if(null != N)for(var O in N){"default" !== O && Object.prototype.hasOwnProperty.call(N,O) && J(I,N,O);}K(I,N);return I;}function D(N){return N && N.__esModule?N:{default:N};}function F(N,I,O,L){if("a" === O && !L)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?N !== I || !L:!I.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === O?L:"a" === O?L.call(N):L?L.value:I.get(N);}function G(N,I,O,L,H){if("m" === L)throw new TypeError("Private method is not writable");if("a" === L && !H)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?N !== I || !H:!I.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === L?H.call(N,O):H?H.value=O:I.set(N,O),O);}function E(N,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof N?I === N:N.has(I);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return A;},__asyncGenerator:function(){return x;},__asyncValues:function(){return z;},__await:function(){return y;},__awaiter:function(){return l;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return J;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return n;},__importDefault:function(){return D;},__importStar:function(){return C;},__makeTemplateObject:function(){return B;},__metadata:function(){return m;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return h;},__spread:function(){return t;},__spreadArray:function(){return w;},__spreadArrays:function(){return v;},__values:function(){return q;}});J=Object.create?function(N,I,O,L){var H;void 0 === L && (L=O);H=Object.getOwnPropertyDescriptor(I,O);if(!H || (("get" in H)?!I.__esModule:H.writable || H.configurable))H={enumerable:!0,get:function(){return I[O];}};Object.defineProperty(N,L,H);}:function(N,I,O,L){void 0 === L && (L=O);N[L]=I[O];};K=Object.create?function(N,I){Object.defineProperty(N,"default",{enumerable:!0,value:I});}:function(N,I){N["default"]=I;};},43950:function(r,b,a){var c,k,f,h,d,g,m,l,n,p;c=a(40210)("%TypeError%");k=a(2435);f=a(63682);h=a(18334);d=a(52435);g=a(13746);m=a(14305);l=a(40484);n=a(69916);p=a(53633);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=k({nMa:p,tEa:g,sEa:d},t)?t:n(t);if(!k({nMa:p,tEa:g,sEa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,l,h,q,u,t);};},18334:function(r,b,a){var c,k,f;c=a(62188);k=a(17141);f=a(53633);r.exports=function(h){"undefined" !== typeof h && c(f,"Property Descriptor","Desc",h);return k(h);};},52435:function(r,b,a){var c,k,f;c=a(17642);k=a(62188);f=a(53633);r.exports=function(h){if("undefined" === typeof h)return !1;k(f,"Property Descriptor","Desc",h);return c(h,"[[Get]]") || c(h,"[[Set]]")?!0:!1;};},61787:function(r,b,a){r.exports=a(95320);},41974:function(r,b,a){var c,k,f;c=a(14445)("%Reflect.construct%",!0);b=a(43950);try{b({},"",{"[[Get]]":function(){}});}catch(h){b=null;}if(b && c){k={};f={};b(f,"length",{"[[Get]]":function(){throw k;},"[[Enumerable]]":!0});r.exports=function(h){try{c(h,f);}catch(d){return d === k;}};}else r.exports=function(h){return "function" === typeof h && !!h.prototype;};},13746:function(r,b,a){var c,k,f;c=a(17642);k=a(62188);f=a(53633);r.exports=function(h){if("undefined" === typeof h)return !1;k(f,"Property Descriptor","Desc",h);return c(h,"[[Value]]") || c(h,"[[Writable]]")?!0:!1;};},14305:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},39619:function(r,b,a){r.exports=a(4559);},40484:function(r,b,a){var c;c=a(29086);r.exports=function(k,f){return k === f?0 === k?1 / k === 1 / f:!0:c(k) && c(f);};},95912:function(r,b,a){var c;c=a(29086);r.exports=function(k,f){return k === f || c(k) && c(f);};},39655:function(r,b,a){var c,k,f,h;b=a(40210);c=b("%Symbol.species%",!0);k=b("%TypeError%");f=a(41974);h=a(53633);r.exports=function(d,g){if("Object" !== h(d))throw new k("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== h(d))throw new k("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new k("no constructor found");};},39731:function(r){r.exports=function(b){return !!b;};},751:function(r,b,a){var c,k,f,h,d,g;c=a(54908);k=a(375);f=a(55631);h=a(29086);d=a(22633);g=a(38111);r.exports=function(m){var l;m=f(m);if(h(m) || 0 === m)return 0;if(!d(m))return m;l=k(c(m));return 0 === l?0:g(m) * l;};},88305:function(r,b,a){var c,k;c=a(11645);k=a(751);r.exports=function(f){f=k(f);return 0 >= f?0:f > c?c:f;};},55631:function(r,b,a){var c,k,f,h,d,g,m,l,n,p,q,u,t,v;c=a(40210);k=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");h=c("%parseInt%");c=a(21924);d=a(79246);g=a(64790);m=c("String.prototype.slice");l=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");v=a(54607);r.exports=function x(y){var A;y=g(y)?y:v(y,f);if("symbol" === typeof y)throw new k("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new k("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(l(y))return x(h(m(y,2),2));if(n(y))return x(h(m(y,2),8));if(q(y) || p(y))return NaN;A=t(y,u,"");if(A !== y)return x(A);}return f(y);};},30821:function(r,b,a){var c,k;c=a(40210)("%Object%");k=a(39619);r.exports=function(f){k(f);return c(f);};},54607:function(r,b,a){var c;c=a(41503);r.exports=function(k){return 1 < arguments.length?c(k,arguments[1]):c(k);};},69916:function(r,b,a){var c,k,f,h,d;c=a(17642);k=a(40210)("%TypeError%");f=a(53633);h=a(39731);d=a(61787);r.exports=function(g){var m,l;if("Object" !== f(g))throw new k("ToPropertyDescriptor requires an object");m={};c(g,"enumerable") && (m["[[Enumerable]]"]=h(g.enumerable));c(g,"configurable") && (m["[[Configurable]]"]=h(g.configurable));c(g,"value") && (m["[[Value]]"]=g.value);c(g,"writable") && (m["[[Writable]]"]=h(g.writable));if(c(g,"get")){l=g.get;if("undefined" !== typeof l && !d(l))throw new k("getter must be a function");m["[[Get]]"]=l;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new k("setter must be a function");m["[[Set]]"]=g;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new k("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},53633:function(r,b,a){var c;c=a(23951);r.exports=function(k){return "symbol" === typeof k?"Symbol":"bigint" === typeof k?"BigInt":c(k);};},54908:function(r,b,a){var c;c=a(40210)("%Math.abs%");r.exports=function(k){return c(k);};},375:function(r,b,a){var c,k;c=a(53633);k=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:k(f);};},4559:function(r,b,a){var c;c=a(40210)("%TypeError%");r.exports=function(k,f){if(null == k)throw new c(f || "Cannot call method on " + k);return k;};},23951:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},14445:function(r,b,a){r.exports=a(40210);},63682:function(r,b,a){var c,k,f,h,d;b=a(31044);c=a(40210);k=b() && c("%Object.defineProperty%",!0);f=b.VJb();h=f && a(675);d=a(21924)("Object.prototype.propertyIsEnumerable");r.exports=function(g,m,l,n,p,q){if(!k){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];n[p]=g;return m(n[p],g);}if(f && "length" === p && ("[[Value]]" in q) && h(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);k(n,p,l(q));return !0;};},675:function(r,b,a){var c;b=a(40210)("%Array%");c=!b.isArray && a(21924)("Object.prototype.toString");r.exports=b.isArray || (function(k){return "[object Array]" === c(k);});},62188:function(r,b,a){var c,k,f,h;b=a(40210);c=b("%TypeError%");k=b("%SyntaxError%");f=a(17642);h={"Property Descriptor":function(d){var g,m;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(f(d,m) && !g[m])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(64377),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && h["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,m,l){var n;n=h[g];if("function" !== typeof n)throw new k("unknown record type: " + g);if("Object" !== d(l) || !n(l))throw new c(m + " must be a " + g);};},17141:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},22633:function(r,b,a){var c;c=a(29086);r.exports=function(k){return ("number" === typeof k || "bigint" === typeof k) && !c(k) && Infinity !== k && -Infinity !== k;};},64377:function(r,b,a){var c;c=a(17642);r.exports=function(k){return c(k,"[[StartIndex]]") && c(k,"[[EndIndex]]") && 0 <= k["[[StartIndex]]"] && k["[[EndIndex]]"] >= k["[[StartIndex]]"] && String(parseInt(k["[[StartIndex]]"],10)) === String(k["[[StartIndex]]"]) && String(parseInt(k["[[EndIndex]]"],10)) === String(k["[[EndIndex]]"]);};},29086:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},64790:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},2435:function(r,b,a){var c,k;b=a(40210);c=a(17642);k=b("%TypeError%");r.exports=function(f,h){var d,g;if("Object" !== f.nMa(h))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in h){if(c(h,g) && !d[g])return !1;}if(f.tEa(h) && f.sEa(h))throw new k("Property Descriptors may not be both accessor and data descriptors");return !0;};},11645:function(r,b,a){a=a(40210);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},38111:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Na={};(function(){ra.d=function(r,b){for(var a in b){ra.n5a(b,a) && !ra.n5a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){ra.t4=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof pb)return pb;}})();})();(function(){ra.n5a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){ra.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();ra(28660);ra(26860)();ra(13547)();pb._cad_global={};pb.DEBUG=!1;ra(7942);ra(50876);ra(95919);ra(30818);ra(24133);ra(19591);ra(32660);ra(5845);ra(66052);ra(61831);ra(70633);ra(59883);ra(25892);ra(47545);ra(25420);ra(20916);ra(54615);ra(50995);ra(76813);ra(2108);ra(43038);ra(15789);ra(797);ra(54779);ra(83637);ra(66652);ra(84853);ra(88625);ra(43382);ra(37986);ra(83795);ra(16232);ra(89034);ra(89927);ra(93230);ra(30732);ra(38624);ra(24504);ra(50791);ra(17200);ra(13472);ra(43662);ra(9911);ra(49976);ra(49007);ra(61087);ra(15883);ra(61581);ra(53073);ra(31978);ra(37021);ra(49090);ra(31119);ra(82134);ra(54415);ra(5917);ra(19911);ra(91145);ra(22507);ra(22);ra(16512);ra(58680);ra(22528);ra(94181);ra(45108);ra(89136);ra(75412);ra(90399);ra(40142);ra(38686);ra(86977);ra(37853);ra(89525);ra(6538);ra(25097);})();}).call(pb);})(window);}).call(window);